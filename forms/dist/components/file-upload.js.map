{
  "version": 3,
  "sources": ["../../../../node_modules/filepond/dist/filepond.esm.js", "../../../../node_modules/filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.esm.js", "../../../../node_modules/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.esm.js", "../../../../node_modules/filepond-plugin-image-crop/dist/filepond-plugin-image-crop.esm.js", "../../../../node_modules/filepond-plugin-image-exif-orientation/dist/filepond-plugin-image-exif-orientation.esm.js", "../../../../node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.esm.js", "../../../../node_modules/filepond-plugin-image-resize/dist/filepond-plugin-image-resize.esm.js", "../../../../node_modules/filepond-plugin-image-transform/dist/filepond-plugin-image-transform.esm.js", "../../../../node_modules/filepond-plugin-media-preview/dist/filepond-plugin-media-preview.esm.js", "../../../../node_modules/filepond/locale/ar-ar.js", "../../../../node_modules/filepond/locale/cs-cz.js", "../../../../node_modules/filepond/locale/da-dk.js", "../../../../node_modules/filepond/locale/de-de.js", "../../../../node_modules/filepond/locale/en-en.js", "../../../../node_modules/filepond/locale/es-es.js", "../../../../node_modules/filepond/locale/fa_ir.js", "../../../../node_modules/filepond/locale/fi-fi.js", "../../../../node_modules/filepond/locale/fr-fr.js", "../../../../node_modules/filepond/locale/hu-hu.js", "../../../../node_modules/filepond/locale/id-id.js", "../../../../node_modules/filepond/locale/it-it.js", "../../../../node_modules/filepond/locale/nl-nl.js", "../../../../node_modules/filepond/locale/pl-pl.js", "../../../../node_modules/filepond/locale/pt-br.js", "../../../../node_modules/filepond/locale/ro-ro.js", "../../../../node_modules/filepond/locale/ru-ru.js", "../../../../node_modules/filepond/locale/sv_se.js", "../../../../node_modules/filepond/locale/tr-tr.js", "../../../../node_modules/filepond/locale/uk-ua.js", "../../../../node_modules/filepond/locale/vi-vi.js", "../../../../node_modules/filepond/locale/zh-cn.js", "../../../../node_modules/filepond/locale/zh-tw.js", "../../resources/js/components/file-upload.js"],
  "sourcesContent": ["/*!\n * FilePond 4.30.4\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\nconst isNode = value => value instanceof HTMLElement;\n\nconst createStore = (initialState, queries = [], actions = []) => {\n    // internal state\n    const state = {\n        ...initialState,\n    };\n\n    // contains all actions for next frame, is clear when actions are requested\n    const actionQueue = [];\n    const dispatchQueue = [];\n\n    // returns a duplicate of the current state\n    const getState = () => ({ ...state });\n\n    // returns a duplicate of the actions array and clears the actions array\n    const processActionQueue = () => {\n        // create copy of actions queue\n        const queue = [...actionQueue];\n\n        // clear actions queue (we don't want no double actions)\n        actionQueue.length = 0;\n\n        return queue;\n    };\n\n    // processes actions that might block the main UI thread\n    const processDispatchQueue = () => {\n        // create copy of actions queue\n        const queue = [...dispatchQueue];\n\n        // clear actions queue (we don't want no double actions)\n        dispatchQueue.length = 0;\n\n        // now dispatch these actions\n        queue.forEach(({ type, data }) => {\n            dispatch(type, data);\n        });\n    };\n\n    // adds a new action, calls its handler and\n    const dispatch = (type, data, isBlocking) => {\n        // is blocking action (should never block if document is hidden)\n        if (isBlocking && !document.hidden) {\n            dispatchQueue.push({ type, data });\n            return;\n        }\n\n        // if this action has a handler, handle the action\n        if (actionHandlers[type]) {\n            actionHandlers[type](data);\n        }\n\n        // now add action\n        actionQueue.push({\n            type,\n            data,\n        });\n    };\n\n    const query = (str, ...args) => (queryHandles[str] ? queryHandles[str](...args) : null);\n\n    const api = {\n        getState,\n        processActionQueue,\n        processDispatchQueue,\n        dispatch,\n        query,\n    };\n\n    let queryHandles = {};\n    queries.forEach(query => {\n        queryHandles = {\n            ...query(state),\n            ...queryHandles,\n        };\n    });\n\n    let actionHandlers = {};\n    actions.forEach(action => {\n        actionHandlers = {\n            ...action(dispatch, query, state),\n            ...actionHandlers,\n        };\n    });\n\n    return api;\n};\n\nconst defineProperty = (obj, property, definition) => {\n    if (typeof definition === 'function') {\n        obj[property] = definition;\n        return;\n    }\n    Object.defineProperty(obj, property, { ...definition });\n};\n\nconst forin = (obj, cb) => {\n    for (const key in obj) {\n        if (!obj.hasOwnProperty(key)) {\n            continue;\n        }\n\n        cb(key, obj[key]);\n    }\n};\n\nconst createObject = definition => {\n    const obj = {};\n    forin(definition, property => {\n        defineProperty(obj, property, definition[property]);\n    });\n    return obj;\n};\n\nconst attr = (node, name, value = null) => {\n    if (value === null) {\n        return node.getAttribute(name) || node.hasAttribute(name);\n    }\n    node.setAttribute(name, value);\n};\n\nconst ns = 'http://www.w3.org/2000/svg';\nconst svgElements = ['svg', 'path']; // only svg elements used\n\nconst isSVGElement = tag => svgElements.includes(tag);\n\nconst createElement = (tag, className, attributes = {}) => {\n    if (typeof className === 'object') {\n        attributes = className;\n        className = null;\n    }\n    const element = isSVGElement(tag)\n        ? document.createElementNS(ns, tag)\n        : document.createElement(tag);\n    if (className) {\n        if (isSVGElement(tag)) {\n            attr(element, 'class', className);\n        } else {\n            element.className = className;\n        }\n    }\n    forin(attributes, (name, value) => {\n        attr(element, name, value);\n    });\n    return element;\n};\n\nconst appendChild = parent => (child, index) => {\n    if (typeof index !== 'undefined' && parent.children[index]) {\n        parent.insertBefore(child, parent.children[index]);\n    } else {\n        parent.appendChild(child);\n    }\n};\n\nconst appendChildView = (parent, childViews) => (view, index) => {\n    if (typeof index !== 'undefined') {\n        childViews.splice(index, 0, view);\n    } else {\n        childViews.push(view);\n    }\n\n    return view;\n};\n\nconst removeChildView = (parent, childViews) => view => {\n    // remove from child views\n    childViews.splice(childViews.indexOf(view), 1);\n\n    // remove the element\n    if (view.element.parentNode) {\n        parent.removeChild(view.element);\n    }\n\n    return view;\n};\n\nconst IS_BROWSER = (() =>\n    typeof window !== 'undefined' && typeof window.document !== 'undefined')();\nconst isBrowser = () => IS_BROWSER;\n\nconst testElement = isBrowser() ? createElement('svg') : {};\nconst getChildCount =\n    'children' in testElement ? el => el.children.length : el => el.childNodes.length;\n\nconst getViewRect = (elementRect, childViews, offset, scale) => {\n    const left = offset[0] || elementRect.left;\n    const top = offset[1] || elementRect.top;\n    const right = left + elementRect.width;\n    const bottom = top + elementRect.height * (scale[1] || 1);\n\n    const rect = {\n        // the rectangle of the element itself\n        element: {\n            ...elementRect,\n        },\n\n        // the rectangle of the element expanded to contain its children, does not include any margins\n        inner: {\n            left: elementRect.left,\n            top: elementRect.top,\n            right: elementRect.right,\n            bottom: elementRect.bottom,\n        },\n\n        // the rectangle of the element expanded to contain its children including own margin and child margins\n        // margins will be added after we've recalculated the size\n        outer: {\n            left,\n            top,\n            right,\n            bottom,\n        },\n    };\n\n    // expand rect to fit all child rectangles\n    childViews\n        .filter(childView => !childView.isRectIgnored())\n        .map(childView => childView.rect)\n        .forEach(childViewRect => {\n            expandRect(rect.inner, { ...childViewRect.inner });\n            expandRect(rect.outer, { ...childViewRect.outer });\n        });\n\n    // calculate inner width and height\n    calculateRectSize(rect.inner);\n\n    // append additional margin (top and left margins are included in top and left automatically)\n    rect.outer.bottom += rect.element.marginBottom;\n    rect.outer.right += rect.element.marginRight;\n\n    // calculate outer width and height\n    calculateRectSize(rect.outer);\n\n    return rect;\n};\n\nconst expandRect = (parent, child) => {\n    // adjust for parent offset\n    child.top += parent.top;\n    child.right += parent.left;\n    child.bottom += parent.top;\n    child.left += parent.left;\n\n    if (child.bottom > parent.bottom) {\n        parent.bottom = child.bottom;\n    }\n\n    if (child.right > parent.right) {\n        parent.right = child.right;\n    }\n};\n\nconst calculateRectSize = rect => {\n    rect.width = rect.right - rect.left;\n    rect.height = rect.bottom - rect.top;\n};\n\nconst isNumber = value => typeof value === 'number';\n\n/**\n * Determines if position is at destination\n * @param position\n * @param destination\n * @param velocity\n * @param errorMargin\n * @returns {boolean}\n */\nconst thereYet = (position, destination, velocity, errorMargin = 0.001) => {\n    return Math.abs(position - destination) < errorMargin && Math.abs(velocity) < errorMargin;\n};\n\n/**\n * Spring animation\n */\nconst spring =\n    // default options\n    ({ stiffness = 0.5, damping = 0.75, mass = 10 } = {}) =>\n        // method definition\n        {\n            let target = null;\n            let position = null;\n            let velocity = 0;\n            let resting = false;\n\n            // updates spring state\n            const interpolate = (ts, skipToEndState) => {\n                // in rest, don't animate\n                if (resting) return;\n\n                // need at least a target or position to do springy things\n                if (!(isNumber(target) && isNumber(position))) {\n                    resting = true;\n                    velocity = 0;\n                    return;\n                }\n\n                // calculate spring force\n                const f = -(position - target) * stiffness;\n\n                // update velocity by adding force based on mass\n                velocity += f / mass;\n\n                // update position by adding velocity\n                position += velocity;\n\n                // slow down based on amount of damping\n                velocity *= damping;\n\n                // we've arrived if we're near target and our velocity is near zero\n                if (thereYet(position, target, velocity) || skipToEndState) {\n                    position = target;\n                    velocity = 0;\n                    resting = true;\n\n                    // we done\n                    api.onupdate(position);\n                    api.oncomplete(position);\n                } else {\n                    // progress update\n                    api.onupdate(position);\n                }\n            };\n\n            /**\n             * Set new target value\n             * @param value\n             */\n            const setTarget = value => {\n                // if currently has no position, set target and position to this value\n                if (isNumber(value) && !isNumber(position)) {\n                    position = value;\n                }\n\n                // next target value will not be animated to\n                if (target === null) {\n                    target = value;\n                    position = value;\n                }\n\n                // let start moving to target\n                target = value;\n\n                // already at target\n                if (position === target || typeof target === 'undefined') {\n                    // now resting as target is current position, stop moving\n                    resting = true;\n                    velocity = 0;\n\n                    // done!\n                    api.onupdate(position);\n                    api.oncomplete(position);\n\n                    return;\n                }\n\n                resting = false;\n            };\n\n            // need 'api' to call onupdate callback\n            const api = createObject({\n                interpolate,\n                target: {\n                    set: setTarget,\n                    get: () => target,\n                },\n                resting: {\n                    get: () => resting,\n                },\n                onupdate: value => {},\n                oncomplete: value => {},\n            });\n\n            return api;\n        };\n\nconst easeLinear = t => t;\nconst easeInOutQuad = t => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t);\n\nconst tween =\n    // default values\n    ({ duration = 500, easing = easeInOutQuad, delay = 0 } = {}) =>\n        // method definition\n        {\n            let start = null;\n            let t;\n            let p;\n            let resting = true;\n            let reverse = false;\n            let target = null;\n\n            const interpolate = (ts, skipToEndState) => {\n                if (resting || target === null) return;\n\n                if (start === null) {\n                    start = ts;\n                }\n\n                if (ts - start < delay) return;\n\n                t = ts - start - delay;\n\n                if (t >= duration || skipToEndState) {\n                    t = 1;\n                    p = reverse ? 0 : 1;\n                    api.onupdate(p * target);\n                    api.oncomplete(p * target);\n                    resting = true;\n                } else {\n                    p = t / duration;\n                    api.onupdate((t >= 0 ? easing(reverse ? 1 - p : p) : 0) * target);\n                }\n            };\n\n            // need 'api' to call onupdate callback\n            const api = createObject({\n                interpolate,\n                target: {\n                    get: () => (reverse ? 0 : target),\n                    set: value => {\n                        // is initial value\n                        if (target === null) {\n                            target = value;\n                            api.onupdate(value);\n                            api.oncomplete(value);\n                            return;\n                        }\n\n                        // want to tween to a smaller value and have a current value\n                        if (value < target) {\n                            target = 1;\n                            reverse = true;\n                        } else {\n                            // not tweening to a smaller value\n                            reverse = false;\n                            target = value;\n                        }\n\n                        // let's go!\n                        resting = false;\n                        start = null;\n                    },\n                },\n                resting: {\n                    get: () => resting,\n                },\n                onupdate: value => {},\n                oncomplete: value => {},\n            });\n\n            return api;\n        };\n\nconst animator = {\n    spring,\n    tween,\n};\n\n/*\n { type: 'spring', stiffness: .5, damping: .75, mass: 10 };\n { translation: { type: 'spring', ... }, ... }\n { translation: { x: { type: 'spring', ... } } }\n*/\nconst createAnimator = (definition, category, property) => {\n    // default is single definition\n    // we check if transform is set, if so, we check if property is set\n    const def =\n        definition[category] && typeof definition[category][property] === 'object'\n            ? definition[category][property]\n            : definition[category] || definition;\n\n    const type = typeof def === 'string' ? def : def.type;\n    const props = typeof def === 'object' ? { ...def } : {};\n\n    return animator[type] ? animator[type](props) : null;\n};\n\nconst addGetSet = (keys, obj, props, overwrite = false) => {\n    obj = Array.isArray(obj) ? obj : [obj];\n    obj.forEach(o => {\n        keys.forEach(key => {\n            let name = key;\n            let getter = () => props[key];\n            let setter = value => (props[key] = value);\n\n            if (typeof key === 'object') {\n                name = key.key;\n                getter = key.getter || getter;\n                setter = key.setter || setter;\n            }\n\n            if (o[name] && !overwrite) {\n                return;\n            }\n\n            o[name] = {\n                get: getter,\n                set: setter,\n            };\n        });\n    });\n};\n\n// add to state,\n// add getters and setters to internal and external api (if not set)\n// setup animators\n\nconst animations = ({ mixinConfig, viewProps, viewInternalAPI, viewExternalAPI }) => {\n    // initial properties\n    const initialProps = { ...viewProps };\n\n    // list of all active animations\n    const animations = [];\n\n    // setup animators\n    forin(mixinConfig, (property, animation) => {\n        const animator = createAnimator(animation);\n        if (!animator) {\n            return;\n        }\n\n        // when the animator updates, update the view state value\n        animator.onupdate = value => {\n            viewProps[property] = value;\n        };\n\n        // set animator target\n        animator.target = initialProps[property];\n\n        // when value is set, set the animator target value\n        const prop = {\n            key: property,\n            setter: value => {\n                // if already at target, we done!\n                if (animator.target === value) {\n                    return;\n                }\n\n                animator.target = value;\n            },\n            getter: () => viewProps[property],\n        };\n\n        // add getters and setters\n        addGetSet([prop], [viewInternalAPI, viewExternalAPI], viewProps, true);\n\n        // add it to the list for easy updating from the _write method\n        animations.push(animator);\n    });\n\n    // expose internal write api\n    return {\n        write: ts => {\n            let skipToEndState = document.hidden;\n            let resting = true;\n            animations.forEach(animation => {\n                if (!animation.resting) resting = false;\n                animation.interpolate(ts, skipToEndState);\n            });\n            return resting;\n        },\n        destroy: () => {},\n    };\n};\n\nconst addEvent = element => (type, fn) => {\n    element.addEventListener(type, fn);\n};\n\nconst removeEvent = element => (type, fn) => {\n    element.removeEventListener(type, fn);\n};\n\n// mixin\nconst listeners = ({\n    mixinConfig,\n    viewProps,\n    viewInternalAPI,\n    viewExternalAPI,\n    viewState,\n    view,\n}) => {\n    const events = [];\n\n    const add = addEvent(view.element);\n    const remove = removeEvent(view.element);\n\n    viewExternalAPI.on = (type, fn) => {\n        events.push({\n            type,\n            fn,\n        });\n        add(type, fn);\n    };\n\n    viewExternalAPI.off = (type, fn) => {\n        events.splice(events.findIndex(event => event.type === type && event.fn === fn), 1);\n        remove(type, fn);\n    };\n\n    return {\n        write: () => {\n            // not busy\n            return true;\n        },\n        destroy: () => {\n            events.forEach(event => {\n                remove(event.type, event.fn);\n            });\n        },\n    };\n};\n\n// add to external api and link to props\n\nconst apis = ({ mixinConfig, viewProps, viewExternalAPI }) => {\n    addGetSet(mixinConfig, viewExternalAPI, viewProps);\n};\n\nconst isDefined = value => value != null;\n\n// add to state,\n// add getters and setters to internal and external api (if not set)\n// set initial state based on props in viewProps\n// apply as transforms each frame\n\nconst defaults = {\n    opacity: 1,\n    scaleX: 1,\n    scaleY: 1,\n    translateX: 0,\n    translateY: 0,\n    rotateX: 0,\n    rotateY: 0,\n    rotateZ: 0,\n    originX: 0,\n    originY: 0,\n};\n\nconst styles = ({ mixinConfig, viewProps, viewInternalAPI, viewExternalAPI, view }) => {\n    // initial props\n    const initialProps = { ...viewProps };\n\n    // current props\n    const currentProps = {};\n\n    // we will add those properties to the external API and link them to the viewState\n    addGetSet(mixinConfig, [viewInternalAPI, viewExternalAPI], viewProps);\n\n    // override rect on internal and external rect getter so it takes in account transforms\n    const getOffset = () => [viewProps['translateX'] || 0, viewProps['translateY'] || 0];\n    const getScale = () => [viewProps['scaleX'] || 0, viewProps['scaleY'] || 0];\n    const getRect = () =>\n        view.rect ? getViewRect(view.rect, view.childViews, getOffset(), getScale()) : null;\n    viewInternalAPI.rect = { get: getRect };\n    viewExternalAPI.rect = { get: getRect };\n\n    // apply view props\n    mixinConfig.forEach(key => {\n        viewProps[key] =\n            typeof initialProps[key] === 'undefined' ? defaults[key] : initialProps[key];\n    });\n\n    // expose api\n    return {\n        write: () => {\n            // see if props have changed\n            if (!propsHaveChanged(currentProps, viewProps)) {\n                return;\n            }\n\n            // moves element to correct position on screen\n            applyStyles(view.element, viewProps);\n\n            // store new transforms\n            Object.assign(currentProps, { ...viewProps });\n\n            // no longer busy\n            return true;\n        },\n        destroy: () => {},\n    };\n};\n\nconst propsHaveChanged = (currentProps, newProps) => {\n    // different amount of keys\n    if (Object.keys(currentProps).length !== Object.keys(newProps).length) {\n        return true;\n    }\n\n    // lets analyze the individual props\n    for (const prop in newProps) {\n        if (newProps[prop] !== currentProps[prop]) {\n            return true;\n        }\n    }\n\n    return false;\n};\n\nconst applyStyles = (\n    element,\n    {\n        opacity,\n        perspective,\n        translateX,\n        translateY,\n        scaleX,\n        scaleY,\n        rotateX,\n        rotateY,\n        rotateZ,\n        originX,\n        originY,\n        width,\n        height,\n    }\n) => {\n    let transforms = '';\n    let styles = '';\n\n    // handle transform origin\n    if (isDefined(originX) || isDefined(originY)) {\n        styles += `transform-origin: ${originX || 0}px ${originY || 0}px;`;\n    }\n\n    // transform order is relevant\n    // 0. perspective\n    if (isDefined(perspective)) {\n        transforms += `perspective(${perspective}px) `;\n    }\n\n    // 1. translate\n    if (isDefined(translateX) || isDefined(translateY)) {\n        transforms += `translate3d(${translateX || 0}px, ${translateY || 0}px, 0) `;\n    }\n\n    // 2. scale\n    if (isDefined(scaleX) || isDefined(scaleY)) {\n        transforms += `scale3d(${isDefined(scaleX) ? scaleX : 1}, ${\n            isDefined(scaleY) ? scaleY : 1\n        }, 1) `;\n    }\n\n    // 3. rotate\n    if (isDefined(rotateZ)) {\n        transforms += `rotateZ(${rotateZ}rad) `;\n    }\n\n    if (isDefined(rotateX)) {\n        transforms += `rotateX(${rotateX}rad) `;\n    }\n\n    if (isDefined(rotateY)) {\n        transforms += `rotateY(${rotateY}rad) `;\n    }\n\n    // add transforms\n    if (transforms.length) {\n        styles += `transform:${transforms};`;\n    }\n\n    // add opacity\n    if (isDefined(opacity)) {\n        styles += `opacity:${opacity};`;\n\n        // if we reach zero, we make the element inaccessible\n        if (opacity === 0) {\n            styles += `visibility:hidden;`;\n        }\n\n        // if we're below 100% opacity this element can't be clicked\n        if (opacity < 1) {\n            styles += `pointer-events:none;`;\n        }\n    }\n\n    // add height\n    if (isDefined(height)) {\n        styles += `height:${height}px;`;\n    }\n\n    // add width\n    if (isDefined(width)) {\n        styles += `width:${width}px;`;\n    }\n\n    // apply styles\n    const elementCurrentStyle = element.elementCurrentStyle || '';\n\n    // if new styles does not match current styles, lets update!\n    if (styles.length !== elementCurrentStyle.length || styles !== elementCurrentStyle) {\n        element.style.cssText = styles;\n        // store current styles so we can compare them to new styles later on\n        // _not_ getting the style value is faster\n        element.elementCurrentStyle = styles;\n    }\n};\n\nconst Mixins = {\n    styles,\n    listeners,\n    animations,\n    apis,\n};\n\nconst updateRect = (rect = {}, element = {}, style = {}) => {\n    if (!element.layoutCalculated) {\n        rect.paddingTop = parseInt(style.paddingTop, 10) || 0;\n        rect.marginTop = parseInt(style.marginTop, 10) || 0;\n        rect.marginRight = parseInt(style.marginRight, 10) || 0;\n        rect.marginBottom = parseInt(style.marginBottom, 10) || 0;\n        rect.marginLeft = parseInt(style.marginLeft, 10) || 0;\n        element.layoutCalculated = true;\n    }\n\n    rect.left = element.offsetLeft || 0;\n    rect.top = element.offsetTop || 0;\n    rect.width = element.offsetWidth || 0;\n    rect.height = element.offsetHeight || 0;\n\n    rect.right = rect.left + rect.width;\n    rect.bottom = rect.top + rect.height;\n\n    rect.scrollTop = element.scrollTop;\n\n    rect.hidden = element.offsetParent === null;\n\n    return rect;\n};\n\nconst createView =\n    // default view definition\n    ({\n        // element definition\n        tag = 'div',\n        name = null,\n        attributes = {},\n\n        // view interaction\n        read = () => {},\n        write = () => {},\n        create = () => {},\n        destroy = () => {},\n\n        // hooks\n        filterFrameActionsForChild = (child, actions) => actions,\n        didCreateView = () => {},\n        didWriteView = () => {},\n\n        // rect related\n        ignoreRect = false,\n        ignoreRectUpdate = false,\n\n        // mixins\n        mixins = [],\n    } = {}) => (\n        // each view requires reference to store\n        store,\n        // specific properties for this view\n        props = {}\n    ) => {\n        // root element should not be changed\n        const element = createElement(tag, `filepond--${name}`, attributes);\n\n        // style reference should also not be changed\n        const style = window.getComputedStyle(element, null);\n\n        // element rectangle\n        const rect = updateRect();\n        let frameRect = null;\n\n        // rest state\n        let isResting = false;\n\n        // pretty self explanatory\n        const childViews = [];\n\n        // loaded mixins\n        const activeMixins = [];\n\n        // references to created children\n        const ref = {};\n\n        // state used for each instance\n        const state = {};\n\n        // list of writers that will be called to update this view\n        const writers = [\n            write, // default writer\n        ];\n\n        const readers = [\n            read, // default reader\n        ];\n\n        const destroyers = [\n            destroy, // default destroy\n        ];\n\n        // core view methods\n        const getElement = () => element;\n        const getChildViews = () => childViews.concat();\n        const getReference = () => ref;\n        const createChildView = store => (view, props) => view(store, props);\n        const getRect = () => {\n            if (frameRect) {\n                return frameRect;\n            }\n            frameRect = getViewRect(rect, childViews, [0, 0], [1, 1]);\n            return frameRect;\n        };\n        const getStyle = () => style;\n\n        /**\n         * Read data from DOM\n         * @private\n         */\n        const _read = () => {\n            frameRect = null;\n\n            // read child views\n            childViews.forEach(child => child._read());\n\n            const shouldUpdate = !(ignoreRectUpdate && rect.width && rect.height);\n            if (shouldUpdate) {\n                updateRect(rect, element, style);\n            }\n\n            // readers\n            const api = { root: internalAPI, props, rect };\n            readers.forEach(reader => reader(api));\n        };\n\n        /**\n         * Write data to DOM\n         * @private\n         */\n        const _write = (ts, frameActions, shouldOptimize) => {\n            // if no actions, we assume that the view is resting\n            let resting = frameActions.length === 0;\n\n            // writers\n            writers.forEach(writer => {\n                const writerResting = writer({\n                    props,\n                    root: internalAPI,\n                    actions: frameActions,\n                    timestamp: ts,\n                    shouldOptimize,\n                });\n                if (writerResting === false) {\n                    resting = false;\n                }\n            });\n\n            // run mixins\n            activeMixins.forEach(mixin => {\n                // if one of the mixins is still busy after write operation, we are not resting\n                const mixinResting = mixin.write(ts);\n                if (mixinResting === false) {\n                    resting = false;\n                }\n            });\n\n            // updates child views that are currently attached to the DOM\n            childViews\n                .filter(child => !!child.element.parentNode)\n                .forEach(child => {\n                    // if a child view is not resting, we are not resting\n                    const childResting = child._write(\n                        ts,\n                        filterFrameActionsForChild(child, frameActions),\n                        shouldOptimize\n                    );\n                    if (!childResting) {\n                        resting = false;\n                    }\n                });\n\n            // append new elements to DOM and update those\n            childViews\n                //.filter(child => !child.element.parentNode)\n                .forEach((child, index) => {\n                    // skip\n                    if (child.element.parentNode) {\n                        return;\n                    }\n\n                    // append to DOM\n                    internalAPI.appendChild(child.element, index);\n\n                    // call read (need to know the size of these elements)\n                    child._read();\n\n                    // re-call write\n                    child._write(\n                        ts,\n                        filterFrameActionsForChild(child, frameActions),\n                        shouldOptimize\n                    );\n\n                    // we just added somthing to the dom, no rest\n                    resting = false;\n                });\n\n            // update resting state\n            isResting = resting;\n\n            didWriteView({\n                props,\n                root: internalAPI,\n                actions: frameActions,\n                timestamp: ts,\n            });\n\n            // let parent know if we are resting\n            return resting;\n        };\n\n        const _destroy = () => {\n            activeMixins.forEach(mixin => mixin.destroy());\n            destroyers.forEach(destroyer => {\n                destroyer({ root: internalAPI, props });\n            });\n            childViews.forEach(child => child._destroy());\n        };\n\n        // sharedAPI\n        const sharedAPIDefinition = {\n            element: {\n                get: getElement,\n            },\n            style: {\n                get: getStyle,\n            },\n            childViews: {\n                get: getChildViews,\n            },\n        };\n\n        // private API definition\n        const internalAPIDefinition = {\n            ...sharedAPIDefinition,\n            rect: {\n                get: getRect,\n            },\n\n            // access to custom children references\n            ref: {\n                get: getReference,\n            },\n\n            // dom modifiers\n            is: needle => name === needle,\n            appendChild: appendChild(element),\n            createChildView: createChildView(store),\n            linkView: view => {\n                childViews.push(view);\n                return view;\n            },\n            unlinkView: view => {\n                childViews.splice(childViews.indexOf(view), 1);\n            },\n            appendChildView: appendChildView(element, childViews),\n            removeChildView: removeChildView(element, childViews),\n            registerWriter: writer => writers.push(writer),\n            registerReader: reader => readers.push(reader),\n            registerDestroyer: destroyer => destroyers.push(destroyer),\n            invalidateLayout: () => (element.layoutCalculated = false),\n\n            // access to data store\n            dispatch: store.dispatch,\n            query: store.query,\n        };\n\n        // public view API methods\n        const externalAPIDefinition = {\n            element: {\n                get: getElement,\n            },\n            childViews: {\n                get: getChildViews,\n            },\n            rect: {\n                get: getRect,\n            },\n            resting: {\n                get: () => isResting,\n            },\n            isRectIgnored: () => ignoreRect,\n            _read,\n            _write,\n            _destroy,\n        };\n\n        // mixin API methods\n        const mixinAPIDefinition = {\n            ...sharedAPIDefinition,\n            rect: {\n                get: () => rect,\n            },\n        };\n\n        // add mixin functionality\n        Object.keys(mixins)\n            .sort((a, b) => {\n                // move styles to the back of the mixin list (so adjustments of other mixins are applied to the props correctly)\n                if (a === 'styles') {\n                    return 1;\n                } else if (b === 'styles') {\n                    return -1;\n                }\n                return 0;\n            })\n            .forEach(key => {\n                const mixinAPI = Mixins[key]({\n                    mixinConfig: mixins[key],\n                    viewProps: props,\n                    viewState: state,\n                    viewInternalAPI: internalAPIDefinition,\n                    viewExternalAPI: externalAPIDefinition,\n                    view: createObject(mixinAPIDefinition),\n                });\n\n                if (mixinAPI) {\n                    activeMixins.push(mixinAPI);\n                }\n            });\n\n        // construct private api\n        const internalAPI = createObject(internalAPIDefinition);\n\n        // create the view\n        create({\n            root: internalAPI,\n            props,\n        });\n\n        // append created child views to root node\n        const childCount = getChildCount(element); // need to know the current child count so appending happens in correct order\n        childViews.forEach((child, index) => {\n            internalAPI.appendChild(child.element, childCount + index);\n        });\n\n        // call did create\n        didCreateView(internalAPI);\n\n        // expose public api\n        return createObject(externalAPIDefinition);\n    };\n\nconst createPainter = (read, write, fps = 60) => {\n    const name = '__framePainter';\n\n    // set global painter\n    if (window[name]) {\n        window[name].readers.push(read);\n        window[name].writers.push(write);\n        return;\n    }\n\n    window[name] = {\n        readers: [read],\n        writers: [write],\n    };\n\n    const painter = window[name];\n\n    const interval = 1000 / fps;\n    let last = null;\n    let id = null;\n    let requestTick = null;\n    let cancelTick = null;\n\n    const setTimerType = () => {\n        if (document.hidden) {\n            requestTick = () => window.setTimeout(() => tick(performance.now()), interval);\n            cancelTick = () => window.clearTimeout(id);\n        } else {\n            requestTick = () => window.requestAnimationFrame(tick);\n            cancelTick = () => window.cancelAnimationFrame(id);\n        }\n    };\n\n    document.addEventListener('visibilitychange', () => {\n        if (cancelTick) cancelTick();\n        setTimerType();\n        tick(performance.now());\n    });\n\n    const tick = ts => {\n        // queue next tick\n        id = requestTick(tick);\n\n        // limit fps\n        if (!last) {\n            last = ts;\n        }\n\n        const delta = ts - last;\n\n        if (delta <= interval) {\n            // skip frame\n            return;\n        }\n\n        // align next frame\n        last = ts - (delta % interval);\n\n        // update view\n        painter.readers.forEach(read => read());\n        painter.writers.forEach(write => write(ts));\n    };\n\n    setTimerType();\n    tick(performance.now());\n\n    return {\n        pause: () => {\n            cancelTick(id);\n        },\n    };\n};\n\nconst createRoute = (routes, fn) => ({ root, props, actions = [], timestamp, shouldOptimize }) => {\n    actions\n        .filter(action => routes[action.type])\n        .forEach(action =>\n            routes[action.type]({ root, props, action: action.data, timestamp, shouldOptimize })\n        );\n    if (fn) {\n        fn({ root, props, actions, timestamp, shouldOptimize });\n    }\n};\n\nconst insertBefore = (newNode, referenceNode) =>\n    referenceNode.parentNode.insertBefore(newNode, referenceNode);\n\nconst insertAfter = (newNode, referenceNode) => {\n    return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n};\n\nconst isArray = value => Array.isArray(value);\n\nconst isEmpty = value => value == null;\n\nconst trim = str => str.trim();\n\nconst toString = value => '' + value;\n\nconst toArray = (value, splitter = ',') => {\n    if (isEmpty(value)) {\n        return [];\n    }\n    if (isArray(value)) {\n        return value;\n    }\n    return toString(value)\n        .split(splitter)\n        .map(trim)\n        .filter(str => str.length);\n};\n\nconst isBoolean = value => typeof value === 'boolean';\n\nconst toBoolean = value => (isBoolean(value) ? value : value === 'true');\n\nconst isString = value => typeof value === 'string';\n\nconst toNumber = value =>\n    isNumber(value) ? value : isString(value) ? toString(value).replace(/[a-z]+/gi, '') : 0;\n\nconst toInt = value => parseInt(toNumber(value), 10);\n\nconst toFloat = value => parseFloat(toNumber(value));\n\nconst isInt = value => isNumber(value) && isFinite(value) && Math.floor(value) === value;\n\nconst toBytes = (value, base = 1000) => {\n    // is in bytes\n    if (isInt(value)) {\n        return value;\n    }\n\n    // is natural file size\n    let naturalFileSize = toString(value).trim();\n\n    // if is value in megabytes\n    if (/MB$/i.test(naturalFileSize)) {\n        naturalFileSize = naturalFileSize.replace(/MB$i/, '').trim();\n        return toInt(naturalFileSize) * base * base;\n    }\n\n    // if is value in kilobytes\n    if (/KB/i.test(naturalFileSize)) {\n        naturalFileSize = naturalFileSize.replace(/KB$i/, '').trim();\n        return toInt(naturalFileSize) * base;\n    }\n\n    return toInt(naturalFileSize);\n};\n\nconst isFunction = value => typeof value === 'function';\n\nconst toFunctionReference = string => {\n    let ref = self;\n    let levels = string.split('.');\n    let level = null;\n    while ((level = levels.shift())) {\n        ref = ref[level];\n        if (!ref) {\n            return null;\n        }\n    }\n    return ref;\n};\n\nconst methods = {\n    process: 'POST',\n    patch: 'PATCH',\n    revert: 'DELETE',\n    fetch: 'GET',\n    restore: 'GET',\n    load: 'GET',\n};\n\nconst createServerAPI = outline => {\n    const api = {};\n\n    api.url = isString(outline) ? outline : outline.url || '';\n    api.timeout = outline.timeout ? parseInt(outline.timeout, 10) : 0;\n    api.headers = outline.headers ? outline.headers : {};\n\n    forin(methods, key => {\n        api[key] = createAction(key, outline[key], methods[key], api.timeout, api.headers);\n    });\n\n    // remove process if no url or process on outline\n    api.process = outline.process || isString(outline) || outline.url ? api.process : null;\n\n    // special treatment for remove\n    api.remove = outline.remove || null;\n\n    // remove generic headers from api object\n    delete api.headers;\n\n    return api;\n};\n\nconst createAction = (name, outline, method, timeout, headers) => {\n    // is explicitely set to null so disable\n    if (outline === null) {\n        return null;\n    }\n\n    // if is custom function, done! Dev handles everything.\n    if (typeof outline === 'function') {\n        return outline;\n    }\n\n    // build action object\n    const action = {\n        url: method === 'GET' || method === 'PATCH' ? `?${name}=` : '',\n        method,\n        headers,\n        withCredentials: false,\n        timeout,\n        onload: null,\n        ondata: null,\n        onerror: null,\n    };\n\n    // is a single url\n    if (isString(outline)) {\n        action.url = outline;\n        return action;\n    }\n\n    // overwrite\n    Object.assign(action, outline);\n\n    // see if should reformat headers;\n    if (isString(action.headers)) {\n        const parts = action.headers.split(/:(.+)/);\n        action.headers = {\n            header: parts[0],\n            value: parts[1],\n        };\n    }\n\n    // if is bool withCredentials\n    action.withCredentials = toBoolean(action.withCredentials);\n\n    return action;\n};\n\nconst toServerAPI = value => createServerAPI(value);\n\nconst isNull = value => value === null;\n\nconst isObject = value => typeof value === 'object' && value !== null;\n\nconst isAPI = value => {\n    return (\n        isObject(value) &&\n        isString(value.url) &&\n        isObject(value.process) &&\n        isObject(value.revert) &&\n        isObject(value.restore) &&\n        isObject(value.fetch)\n    );\n};\n\nconst getType = value => {\n    if (isArray(value)) {\n        return 'array';\n    }\n\n    if (isNull(value)) {\n        return 'null';\n    }\n\n    if (isInt(value)) {\n        return 'int';\n    }\n\n    if (/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(value)) {\n        return 'bytes';\n    }\n\n    if (isAPI(value)) {\n        return 'api';\n    }\n\n    return typeof value;\n};\n\nconst replaceSingleQuotes = str =>\n    str\n        .replace(/{\\s*'/g, '{\"')\n        .replace(/'\\s*}/g, '\"}')\n        .replace(/'\\s*:/g, '\":')\n        .replace(/:\\s*'/g, ':\"')\n        .replace(/,\\s*'/g, ',\"')\n        .replace(/'\\s*,/g, '\",');\n\nconst conversionTable = {\n    array: toArray,\n    boolean: toBoolean,\n    int: value => (getType(value) === 'bytes' ? toBytes(value) : toInt(value)),\n    number: toFloat,\n    float: toFloat,\n    bytes: toBytes,\n    string: value => (isFunction(value) ? value : toString(value)),\n    function: value => toFunctionReference(value),\n    serverapi: toServerAPI,\n    object: value => {\n        try {\n            return JSON.parse(replaceSingleQuotes(value));\n        } catch (e) {\n            return null;\n        }\n    },\n};\n\nconst convertTo = (value, type) => conversionTable[type](value);\n\nconst getValueByType = (newValue, defaultValue, valueType) => {\n    // can always assign default value\n    if (newValue === defaultValue) {\n        return newValue;\n    }\n\n    // get the type of the new value\n    let newValueType = getType(newValue);\n\n    // is valid type?\n    if (newValueType !== valueType) {\n        // is string input, let's attempt to convert\n        const convertedValue = convertTo(newValue, valueType);\n\n        // what is the type now\n        newValueType = getType(convertedValue);\n\n        // no valid conversions found\n        if (convertedValue === null) {\n            throw `Trying to assign value with incorrect type to \"${option}\", allowed type: \"${valueType}\"`;\n        } else {\n            newValue = convertedValue;\n        }\n    }\n\n    // assign new value\n    return newValue;\n};\n\nconst createOption = (defaultValue, valueType) => {\n    let currentValue = defaultValue;\n    return {\n        enumerable: true,\n        get: () => currentValue,\n        set: newValue => {\n            currentValue = getValueByType(newValue, defaultValue, valueType);\n        },\n    };\n};\n\nconst createOptions = options => {\n    const obj = {};\n    forin(options, prop => {\n        const optionDefinition = options[prop];\n        obj[prop] = createOption(optionDefinition[0], optionDefinition[1]);\n    });\n    return createObject(obj);\n};\n\nconst createInitialState = options => ({\n    // model\n    items: [],\n\n    // timeout used for calling update items\n    listUpdateTimeout: null,\n\n    // timeout used for stacking metadata updates\n    itemUpdateTimeout: null,\n\n    // queue of items waiting to be processed\n    processingQueue: [],\n\n    // options\n    options: createOptions(options),\n});\n\nconst fromCamels = (string, separator = '-') =>\n    string\n        .split(/(?=[A-Z])/)\n        .map(part => part.toLowerCase())\n        .join(separator);\n\nconst createOptionAPI = (store, options) => {\n    const obj = {};\n    forin(options, key => {\n        obj[key] = {\n            get: () => store.getState().options[key],\n            set: value => {\n                store.dispatch(`SET_${fromCamels(key, '_').toUpperCase()}`, {\n                    value,\n                });\n            },\n        };\n    });\n    return obj;\n};\n\nconst createOptionActions = options => (dispatch, query, state) => {\n    const obj = {};\n    forin(options, key => {\n        const name = fromCamels(key, '_').toUpperCase();\n\n        obj[`SET_${name}`] = action => {\n            try {\n                state.options[key] = action.value;\n            } catch (e) {\n                // nope, failed\n            }\n\n            // we successfully set the value of this option\n            dispatch(`DID_SET_${name}`, { value: state.options[key] });\n        };\n    });\n    return obj;\n};\n\nconst createOptionQueries = options => state => {\n    const obj = {};\n    forin(options, key => {\n        obj[`GET_${fromCamels(key, '_').toUpperCase()}`] = action => state.options[key];\n    });\n    return obj;\n};\n\nconst InteractionMethod = {\n    API: 1,\n    DROP: 2,\n    BROWSE: 3,\n    PASTE: 4,\n    NONE: 5,\n};\n\nconst getUniqueId = () =>\n    Math.random()\n        .toString(36)\n        .substring(2, 11);\n\nconst arrayRemove = (arr, index) => arr.splice(index, 1);\n\nconst run = (cb, sync) => {\n    if (sync) {\n        cb();\n    } else if (document.hidden) {\n        Promise.resolve(1).then(cb);\n    } else {\n        setTimeout(cb, 0);\n    }\n};\n\nconst on = () => {\n    const listeners = [];\n    const off = (event, cb) => {\n        arrayRemove(\n            listeners,\n            listeners.findIndex(listener => listener.event === event && (listener.cb === cb || !cb))\n        );\n    };\n    const fire = (event, args, sync) => {\n        listeners\n            .filter(listener => listener.event === event)\n            .map(listener => listener.cb)\n            .forEach(cb => run(() => cb(...args), sync));\n    };\n    return {\n        fireSync: (event, ...args) => {\n            fire(event, args, true);\n        },\n        fire: (event, ...args) => {\n            fire(event, args, false);\n        },\n        on: (event, cb) => {\n            listeners.push({ event, cb });\n        },\n        onOnce: (event, cb) => {\n            listeners.push({\n                event,\n                cb: (...args) => {\n                    off(event, cb);\n                    cb(...args);\n                },\n            });\n        },\n        off,\n    };\n};\n\nconst copyObjectPropertiesToObject = (src, target, excluded) => {\n    Object.getOwnPropertyNames(src)\n        .filter(property => !excluded.includes(property))\n        .forEach(key =>\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(src, key))\n        );\n};\n\nconst PRIVATE = [\n    'fire',\n    'process',\n    'revert',\n    'load',\n    'on',\n    'off',\n    'onOnce',\n    'retryLoad',\n    'extend',\n    'archive',\n    'archived',\n    'release',\n    'released',\n    'requestProcessing',\n    'freeze',\n];\n\nconst createItemAPI = item => {\n    const api = {};\n    copyObjectPropertiesToObject(item, api, PRIVATE);\n    return api;\n};\n\nconst removeReleasedItems = items => {\n    items.forEach((item, index) => {\n        if (item.released) {\n            arrayRemove(items, index);\n        }\n    });\n};\n\nconst ItemStatus = {\n    INIT: 1,\n    IDLE: 2,\n    PROCESSING_QUEUED: 9,\n    PROCESSING: 3,\n    PROCESSING_COMPLETE: 5,\n    PROCESSING_ERROR: 6,\n    PROCESSING_REVERT_ERROR: 10,\n    LOADING: 7,\n    LOAD_ERROR: 8,\n};\n\nconst FileOrigin = {\n    INPUT: 1,\n    LIMBO: 2,\n    LOCAL: 3,\n};\n\nconst getNonNumeric = str => /[^0-9]+/.exec(str);\n\nconst getDecimalSeparator = () => getNonNumeric((1.1).toLocaleString())[0];\n\nconst getThousandsSeparator = () => {\n    // Added for browsers that do not return the thousands separator (happend on native browser Android 4.4.4)\n    // We check against the normal toString output and if they're the same return a comma when decimal separator is a dot\n    const decimalSeparator = getDecimalSeparator();\n    const thousandsStringWithSeparator = (1000.0).toLocaleString();\n    const thousandsStringWithoutSeparator = (1000.0).toString();\n    if (thousandsStringWithSeparator !== thousandsStringWithoutSeparator) {\n        return getNonNumeric(thousandsStringWithSeparator)[0];\n    }\n    return decimalSeparator === '.' ? ',' : '.';\n};\n\nconst Type = {\n    BOOLEAN: 'boolean',\n    INT: 'int',\n    NUMBER: 'number',\n    STRING: 'string',\n    ARRAY: 'array',\n    OBJECT: 'object',\n    FUNCTION: 'function',\n    ACTION: 'action',\n    SERVER_API: 'serverapi',\n    REGEX: 'regex',\n};\n\n// all registered filters\nconst filters = [];\n\n// loops over matching filters and passes options to each filter, returning the mapped results\nconst applyFilterChain = (key, value, utils) =>\n    new Promise((resolve, reject) => {\n        // find matching filters for this key\n        const matchingFilters = filters.filter(f => f.key === key).map(f => f.cb);\n\n        // resolve now\n        if (matchingFilters.length === 0) {\n            resolve(value);\n            return;\n        }\n\n        // first filter to kick things of\n        const initialFilter = matchingFilters.shift();\n\n        // chain filters\n        matchingFilters\n            .reduce(\n                // loop over promises passing value to next promise\n                (current, next) => current.then(value => next(value, utils)),\n\n                // call initial filter, will return a promise\n                initialFilter(value, utils)\n\n                // all executed\n            )\n            .then(value => resolve(value))\n            .catch(error => reject(error));\n    });\n\nconst applyFilters = (key, value, utils) =>\n    filters.filter(f => f.key === key).map(f => f.cb(value, utils));\n\n// adds a new filter to the list\nconst addFilter = (key, cb) => filters.push({ key, cb });\n\nconst extendDefaultOptions = additionalOptions => Object.assign(defaultOptions, additionalOptions);\n\nconst getOptions = () => ({ ...defaultOptions });\n\nconst setOptions = opts => {\n    forin(opts, (key, value) => {\n        // key does not exist, so this option cannot be set\n        if (!defaultOptions[key]) {\n            return;\n        }\n        defaultOptions[key][0] = getValueByType(\n            value,\n            defaultOptions[key][0],\n            defaultOptions[key][1]\n        );\n    });\n};\n\n// default options on app\nconst defaultOptions = {\n    // the id to add to the root element\n    id: [null, Type.STRING],\n\n    // input field name to use\n    name: ['filepond', Type.STRING],\n\n    // disable the field\n    disabled: [false, Type.BOOLEAN],\n\n    // classname to put on wrapper\n    className: [null, Type.STRING],\n\n    // is the field required\n    required: [false, Type.BOOLEAN],\n\n    // Allow media capture when value is set\n    captureMethod: [null, Type.STRING],\n    // - \"camera\", \"microphone\" or \"camcorder\",\n    // - Does not work with multiple on apple devices\n    // - If set, acceptedFileTypes must be made to match with media wildcard \"image/*\", \"audio/*\" or \"video/*\"\n\n    // sync `acceptedFileTypes` property with `accept` attribute\n    allowSyncAcceptAttribute: [true, Type.BOOLEAN],\n\n    // Feature toggles\n    allowDrop: [true, Type.BOOLEAN], // Allow dropping of files\n    allowBrowse: [true, Type.BOOLEAN], // Allow browsing the file system\n    allowPaste: [true, Type.BOOLEAN], // Allow pasting files\n    allowMultiple: [false, Type.BOOLEAN], // Allow multiple files (disabled by default, as multiple attribute is also required on input to allow multiple)\n    allowReplace: [true, Type.BOOLEAN], // Allow dropping a file on other file to replace it (only works when multiple is set to false)\n    allowRevert: [true, Type.BOOLEAN], // Allows user to revert file upload\n    allowRemove: [true, Type.BOOLEAN], // Allow user to remove a file\n    allowProcess: [true, Type.BOOLEAN], // Allows user to process a file, when set to false, this removes the file upload button\n    allowReorder: [false, Type.BOOLEAN], // Allow reordering of files\n    allowDirectoriesOnly: [false, Type.BOOLEAN], // Allow only selecting directories with browse (no support for filtering dnd at this point)\n\n    // Try store file if `server` not set\n    storeAsFile: [false, Type.BOOLEAN],\n\n    // Revert mode\n    forceRevert: [false, Type.BOOLEAN], // Set to 'force' to require the file to be reverted before removal\n\n    // Input requirements\n    maxFiles: [null, Type.INT], // Max number of files\n    checkValidity: [false, Type.BOOLEAN], // Enables custom validity messages\n\n    // Where to put file\n    itemInsertLocationFreedom: [true, Type.BOOLEAN], // Set to false to always add items to begin or end of list\n    itemInsertLocation: ['before', Type.STRING], // Default index in list to add items that have been dropped at the top of the list\n    itemInsertInterval: [75, Type.INT],\n\n    // Drag 'n Drop related\n    dropOnPage: [false, Type.BOOLEAN], // Allow dropping of files anywhere on page (prevents browser from opening file if dropped outside of Up)\n    dropOnElement: [true, Type.BOOLEAN], // Drop needs to happen on element (set to false to also load drops outside of Up)\n    dropValidation: [false, Type.BOOLEAN], // Enable or disable validating files on drop\n    ignoredFiles: [['.ds_store', 'thumbs.db', 'desktop.ini'], Type.ARRAY],\n\n    // Upload related\n    instantUpload: [true, Type.BOOLEAN], // Should upload files immediately on drop\n    maxParallelUploads: [2, Type.INT], // Maximum files to upload in parallel\n    allowMinimumUploadDuration: [true, Type.BOOLEAN], // if true uploads take at least 750 ms, this ensures the user sees the upload progress giving trust the upload actually happened\n\n    // Chunks\n    chunkUploads: [false, Type.BOOLEAN], // Enable chunked uploads\n    chunkForce: [false, Type.BOOLEAN], // Force use of chunk uploads even for files smaller than chunk size\n    chunkSize: [5000000, Type.INT], // Size of chunks (5MB default)\n    chunkRetryDelays: [[500, 1000, 3000], Type.ARRAY], // Amount of times to retry upload of a chunk when it fails\n\n    // The server api end points to use for uploading (see docs)\n    server: [null, Type.SERVER_API],\n\n    // File size calculations, can set to 1024, this is only used for display, properties use file size base 1000\n    fileSizeBase: [1000, Type.INT],\n\n    // Labels and status messages\n    labelFileSizeBytes: ['bytes', Type.STRING],\n    labelFileSizeKilobytes: ['KB', Type.STRING],\n    labelFileSizeMegabytes: ['MB', Type.STRING],\n    labelFileSizeGigabytes: ['GB', Type.STRING],\n\n    labelDecimalSeparator: [getDecimalSeparator(), Type.STRING], // Default is locale separator\n    labelThousandsSeparator: [getThousandsSeparator(), Type.STRING], // Default is locale separator\n\n    labelIdle: [\n        'Drag & Drop your files or <span class=\"filepond--label-action\">Browse</span>',\n        Type.STRING,\n    ],\n    labelInvalidField: ['Field contains invalid files', Type.STRING],\n    labelFileWaitingForSize: ['Waiting for size', Type.STRING],\n    labelFileSizeNotAvailable: ['Size not available', Type.STRING],\n    labelFileCountSingular: ['file in list', Type.STRING],\n    labelFileCountPlural: ['files in list', Type.STRING],\n    labelFileLoading: ['Loading', Type.STRING],\n    labelFileAdded: ['Added', Type.STRING], // assistive only\n    labelFileLoadError: ['Error during load', Type.STRING],\n    labelFileRemoved: ['Removed', Type.STRING], // assistive only\n    labelFileRemoveError: ['Error during remove', Type.STRING],\n    labelFileProcessing: ['Uploading', Type.STRING],\n    labelFileProcessingComplete: ['Upload complete', Type.STRING],\n    labelFileProcessingAborted: ['Upload cancelled', Type.STRING],\n    labelFileProcessingError: ['Error during upload', Type.STRING],\n    labelFileProcessingRevertError: ['Error during revert', Type.STRING],\n\n    labelTapToCancel: ['tap to cancel', Type.STRING],\n    labelTapToRetry: ['tap to retry', Type.STRING],\n    labelTapToUndo: ['tap to undo', Type.STRING],\n\n    labelButtonRemoveItem: ['Remove', Type.STRING],\n    labelButtonAbortItemLoad: ['Abort', Type.STRING],\n    labelButtonRetryItemLoad: ['Retry', Type.STRING],\n    labelButtonAbortItemProcessing: ['Cancel', Type.STRING],\n    labelButtonUndoItemProcessing: ['Undo', Type.STRING],\n    labelButtonRetryItemProcessing: ['Retry', Type.STRING],\n    labelButtonProcessItem: ['Upload', Type.STRING],\n\n    // make sure width and height plus viewpox are even numbers so icons are nicely centered\n    iconRemove: [\n        '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n        Type.STRING,\n    ],\n    iconProcess: [\n        '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z\" fill=\"currentColor\" fill-rule=\"evenodd\"/></svg>',\n        Type.STRING,\n    ],\n    iconRetry: [\n        '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n        Type.STRING,\n    ],\n    iconUndo: [\n        '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n        Type.STRING,\n    ],\n    iconDone: [\n        '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n        Type.STRING,\n    ],\n\n    // event handlers\n    oninit: [null, Type.FUNCTION],\n    onwarning: [null, Type.FUNCTION],\n    onerror: [null, Type.FUNCTION],\n    onactivatefile: [null, Type.FUNCTION],\n    oninitfile: [null, Type.FUNCTION],\n    onaddfilestart: [null, Type.FUNCTION],\n    onaddfileprogress: [null, Type.FUNCTION],\n    onaddfile: [null, Type.FUNCTION],\n    onprocessfilestart: [null, Type.FUNCTION],\n    onprocessfileprogress: [null, Type.FUNCTION],\n    onprocessfileabort: [null, Type.FUNCTION],\n    onprocessfilerevert: [null, Type.FUNCTION],\n    onprocessfile: [null, Type.FUNCTION],\n    onprocessfiles: [null, Type.FUNCTION],\n    onremovefile: [null, Type.FUNCTION],\n    onpreparefile: [null, Type.FUNCTION],\n    onupdatefiles: [null, Type.FUNCTION],\n    onreorderfiles: [null, Type.FUNCTION],\n\n    // hooks\n    beforeDropFile: [null, Type.FUNCTION],\n    beforeAddFile: [null, Type.FUNCTION],\n    beforeRemoveFile: [null, Type.FUNCTION],\n    beforePrepareFile: [null, Type.FUNCTION],\n\n    // styles\n    stylePanelLayout: [null, Type.STRING], // null 'integrated', 'compact', 'circle'\n    stylePanelAspectRatio: [null, Type.STRING], // null or '3:2' or 1\n    styleItemPanelAspectRatio: [null, Type.STRING],\n    styleButtonRemoveItemPosition: ['left', Type.STRING],\n    styleButtonProcessItemPosition: ['right', Type.STRING],\n    styleLoadIndicatorPosition: ['right', Type.STRING],\n    styleProgressIndicatorPosition: ['right', Type.STRING],\n    styleButtonRemoveItemAlign: [false, Type.BOOLEAN],\n\n    // custom initial files array\n    files: [[], Type.ARRAY],\n\n    // show support by displaying credits\n    credits: [['https://pqina.nl/', 'Powered by PQINA'], Type.ARRAY],\n};\n\nconst getItemByQuery = (items, query) => {\n    // just return first index\n    if (isEmpty(query)) {\n        return items[0] || null;\n    }\n\n    // query is index\n    if (isInt(query)) {\n        return items[query] || null;\n    }\n\n    // if query is item, get the id\n    if (typeof query === 'object') {\n        query = query.id;\n    }\n\n    // assume query is a string and return item by id\n    return items.find(item => item.id === query) || null;\n};\n\nconst getNumericAspectRatioFromString = aspectRatio => {\n    if (isEmpty(aspectRatio)) {\n        return aspectRatio;\n    }\n    if (/:/.test(aspectRatio)) {\n        const parts = aspectRatio.split(':');\n        return parts[1] / parts[0];\n    }\n    return parseFloat(aspectRatio);\n};\n\nconst getActiveItems = items => items.filter(item => !item.archived);\n\nconst Status = {\n    EMPTY: 0,\n    IDLE: 1, // waiting\n    ERROR: 2, // a file is in error state\n    BUSY: 3, // busy processing or loading\n    READY: 4, // all files uploaded\n};\n\nlet res = null;\nconst canUpdateFileInput = () => {\n    if (res === null) {\n        try {\n            const dataTransfer = new DataTransfer();\n            dataTransfer.items.add(new File(['hello world'], 'This_Works.txt'));\n            const el = document.createElement('input');\n            el.setAttribute('type', 'file');\n            el.files = dataTransfer.files;\n            res = el.files.length === 1;\n        } catch (err) {\n            res = false;\n        }\n    }\n    return res;\n};\n\nconst ITEM_ERROR = [\n    ItemStatus.LOAD_ERROR,\n    ItemStatus.PROCESSING_ERROR,\n    ItemStatus.PROCESSING_REVERT_ERROR,\n];\nconst ITEM_BUSY = [\n    ItemStatus.LOADING,\n    ItemStatus.PROCESSING,\n    ItemStatus.PROCESSING_QUEUED,\n    ItemStatus.INIT,\n];\nconst ITEM_READY = [ItemStatus.PROCESSING_COMPLETE];\n\nconst isItemInErrorState = item => ITEM_ERROR.includes(item.status);\nconst isItemInBusyState = item => ITEM_BUSY.includes(item.status);\nconst isItemInReadyState = item => ITEM_READY.includes(item.status);\n\nconst isAsync = state =>\n    isObject(state.options.server) &&\n    (isObject(state.options.server.process) || isFunction(state.options.server.process));\n\nconst queries = state => ({\n    GET_STATUS: () => {\n        const items = getActiveItems(state.items);\n\n        const { EMPTY, ERROR, BUSY, IDLE, READY } = Status;\n\n        if (items.length === 0) return EMPTY;\n\n        if (items.some(isItemInErrorState)) return ERROR;\n\n        if (items.some(isItemInBusyState)) return BUSY;\n\n        if (items.some(isItemInReadyState)) return READY;\n\n        return IDLE;\n    },\n\n    GET_ITEM: query => getItemByQuery(state.items, query),\n\n    GET_ACTIVE_ITEM: query => getItemByQuery(getActiveItems(state.items), query),\n\n    GET_ACTIVE_ITEMS: () => getActiveItems(state.items),\n\n    GET_ITEMS: () => state.items,\n\n    GET_ITEM_NAME: query => {\n        const item = getItemByQuery(state.items, query);\n        return item ? item.filename : null;\n    },\n\n    GET_ITEM_SIZE: query => {\n        const item = getItemByQuery(state.items, query);\n        return item ? item.fileSize : null;\n    },\n\n    GET_STYLES: () =>\n        Object.keys(state.options)\n            .filter(key => /^style/.test(key))\n            .map(option => ({\n                name: option,\n                value: state.options[option],\n            })),\n\n    GET_PANEL_ASPECT_RATIO: () => {\n        const isShapeCircle = /circle/.test(state.options.stylePanelLayout);\n        const aspectRatio = isShapeCircle\n            ? 1\n            : getNumericAspectRatioFromString(state.options.stylePanelAspectRatio);\n        return aspectRatio;\n    },\n\n    GET_ITEM_PANEL_ASPECT_RATIO: () => state.options.styleItemPanelAspectRatio,\n\n    GET_ITEMS_BY_STATUS: status =>\n        getActiveItems(state.items).filter(item => item.status === status),\n\n    GET_TOTAL_ITEMS: () => getActiveItems(state.items).length,\n\n    SHOULD_UPDATE_FILE_INPUT: () =>\n        state.options.storeAsFile && canUpdateFileInput() && !isAsync(state),\n\n    IS_ASYNC: () => isAsync(state),\n\n    GET_FILE_SIZE_LABELS: query => ({\n        labelBytes: query('GET_LABEL_FILE_SIZE_BYTES') || undefined,\n        labelKilobytes: query('GET_LABEL_FILE_SIZE_KILOBYTES') || undefined,\n        labelMegabytes: query('GET_LABEL_FILE_SIZE_MEGABYTES') || undefined,\n        labelGigabytes: query('GET_LABEL_FILE_SIZE_GIGABYTES') || undefined,\n    }),\n});\n\nconst hasRoomForItem = state => {\n    const count = getActiveItems(state.items).length;\n\n    // if cannot have multiple items, to add one item it should currently not contain items\n    if (!state.options.allowMultiple) {\n        return count === 0;\n    }\n\n    // if allows multiple items, we check if a max item count has been set, if not, there's no limit\n    const maxFileCount = state.options.maxFiles;\n    if (maxFileCount === null) {\n        return true;\n    }\n\n    // we check if the current count is smaller than the max count, if so, another file can still be added\n    if (count < maxFileCount) {\n        return true;\n    }\n\n    // no more room for another file\n    return false;\n};\n\nconst limit = (value, min, max) => Math.max(Math.min(max, value), min);\n\nconst arrayInsert = (arr, index, item) => arr.splice(index, 0, item);\n\nconst insertItem = (items, item, index) => {\n    if (isEmpty(item)) {\n        return null;\n    }\n\n    // if index is undefined, append\n    if (typeof index === 'undefined') {\n        items.push(item);\n        return item;\n    }\n\n    // limit the index to the size of the items array\n    index = limit(index, 0, items.length);\n\n    // add item to array\n    arrayInsert(items, index, item);\n\n    // expose\n    return item;\n};\n\nconst isBase64DataURI = str =>\n    /^\\s*data:([a-z]+\\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*)\\s*$/i.test(\n        str\n    );\n\nconst getFilenameFromURL = url =>\n    url\n        .split('/')\n        .pop()\n        .split('?')\n        .shift();\n\nconst getExtensionFromFilename = name => name.split('.').pop();\n\nconst guesstimateExtension = type => {\n    // if no extension supplied, exit here\n    if (typeof type !== 'string') {\n        return '';\n    }\n\n    // get subtype\n    const subtype = type.split('/').pop();\n\n    // is svg subtype\n    if (/svg/.test(subtype)) {\n        return 'svg';\n    }\n\n    if (/zip|compressed/.test(subtype)) {\n        return 'zip';\n    }\n\n    if (/plain/.test(subtype)) {\n        return 'txt';\n    }\n\n    if (/msword/.test(subtype)) {\n        return 'doc';\n    }\n\n    // if is valid subtype\n    if (/[a-z]+/.test(subtype)) {\n        // always use jpg extension\n        if (subtype === 'jpeg') {\n            return 'jpg';\n        }\n\n        // return subtype\n        return subtype;\n    }\n\n    return '';\n};\n\nconst leftPad = (value, padding = '') => (padding + value).slice(-padding.length);\n\nconst getDateString = (date = new Date()) =>\n    `${date.getFullYear()}-${leftPad(date.getMonth() + 1, '00')}-${leftPad(\n        date.getDate(),\n        '00'\n    )}_${leftPad(date.getHours(), '00')}-${leftPad(date.getMinutes(), '00')}-${leftPad(\n        date.getSeconds(),\n        '00'\n    )}`;\n\nconst getFileFromBlob = (blob, filename, type = null, extension = null) => {\n    const file =\n        typeof type === 'string'\n            ? blob.slice(0, blob.size, type)\n            : blob.slice(0, blob.size, blob.type);\n    file.lastModifiedDate = new Date();\n\n    // copy relative path\n    if (blob._relativePath) file._relativePath = blob._relativePath;\n\n    // if blob has name property, use as filename if no filename supplied\n    if (!isString(filename)) {\n        filename = getDateString();\n    }\n\n    // if filename supplied but no extension and filename has extension\n    if (filename && extension === null && getExtensionFromFilename(filename)) {\n        file.name = filename;\n    } else {\n        extension = extension || guesstimateExtension(file.type);\n        file.name = filename + (extension ? '.' + extension : '');\n    }\n\n    return file;\n};\n\nconst getBlobBuilder = () => {\n    return (window.BlobBuilder =\n        window.BlobBuilder ||\n        window.WebKitBlobBuilder ||\n        window.MozBlobBuilder ||\n        window.MSBlobBuilder);\n};\n\nconst createBlob = (arrayBuffer, mimeType) => {\n    const BB = getBlobBuilder();\n\n    if (BB) {\n        const bb = new BB();\n        bb.append(arrayBuffer);\n        return bb.getBlob(mimeType);\n    }\n\n    return new Blob([arrayBuffer], {\n        type: mimeType,\n    });\n};\n\nconst getBlobFromByteStringWithMimeType = (byteString, mimeType) => {\n    const ab = new ArrayBuffer(byteString.length);\n    const ia = new Uint8Array(ab);\n\n    for (let i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n\n    return createBlob(ab, mimeType);\n};\n\nconst getMimeTypeFromBase64DataURI = dataURI => {\n    return (/^data:(.+);/.exec(dataURI) || [])[1] || null;\n};\n\nconst getBase64DataFromBase64DataURI = dataURI => {\n    // get data part of string (remove data:image/jpeg...,)\n    const data = dataURI.split(',')[1];\n\n    // remove any whitespace as that causes InvalidCharacterError in IE\n    return data.replace(/\\s/g, '');\n};\n\nconst getByteStringFromBase64DataURI = dataURI => {\n    return atob(getBase64DataFromBase64DataURI(dataURI));\n};\n\nconst getBlobFromBase64DataURI = dataURI => {\n    const mimeType = getMimeTypeFromBase64DataURI(dataURI);\n    const byteString = getByteStringFromBase64DataURI(dataURI);\n\n    return getBlobFromByteStringWithMimeType(byteString, mimeType);\n};\n\nconst getFileFromBase64DataURI = (dataURI, filename, extension) => {\n    return getFileFromBlob(getBlobFromBase64DataURI(dataURI), filename, null, extension);\n};\n\nconst getFileNameFromHeader = header => {\n    // test if is content disposition header, if not exit\n    if (!/^content-disposition:/i.test(header)) return null;\n\n    // get filename parts\n    const matches = header\n        .split(/filename=|filename\\*=.+''/)\n        .splice(1)\n        .map(name => name.trim().replace(/^[\"']|[;\"']{0,2}$/g, ''))\n        .filter(name => name.length);\n\n    return matches.length ? decodeURI(matches[matches.length - 1]) : null;\n};\n\nconst getFileSizeFromHeader = header => {\n    if (/content-length:/i.test(header)) {\n        const size = header.match(/[0-9]+/)[0];\n        return size ? parseInt(size, 10) : null;\n    }\n    return null;\n};\n\nconst getTranfserIdFromHeader = header => {\n    if (/x-content-transfer-id:/i.test(header)) {\n        const id = (header.split(':')[1] || '').trim();\n        return id || null;\n    }\n    return null;\n};\n\nconst getFileInfoFromHeaders = headers => {\n    const info = {\n        source: null,\n        name: null,\n        size: null,\n    };\n\n    const rows = headers.split('\\n');\n    for (let header of rows) {\n        const name = getFileNameFromHeader(header);\n        if (name) {\n            info.name = name;\n            continue;\n        }\n\n        const size = getFileSizeFromHeader(header);\n        if (size) {\n            info.size = size;\n            continue;\n        }\n\n        const source = getTranfserIdFromHeader(header);\n        if (source) {\n            info.source = source;\n            continue;\n        }\n    }\n\n    return info;\n};\n\nconst createFileLoader = fetchFn => {\n    const state = {\n        source: null,\n        complete: false,\n        progress: 0,\n        size: null,\n        timestamp: null,\n        duration: 0,\n        request: null,\n    };\n\n    const getProgress = () => state.progress;\n    const abort = () => {\n        if (state.request && state.request.abort) {\n            state.request.abort();\n        }\n    };\n\n    // load source\n    const load = () => {\n        // get quick reference\n        const source = state.source;\n\n        api.fire('init', source);\n\n        // Load Files\n        if (source instanceof File) {\n            api.fire('load', source);\n        } else if (source instanceof Blob) {\n            // Load blobs, set default name to current date\n            api.fire('load', getFileFromBlob(source, source.name));\n        } else if (isBase64DataURI(source)) {\n            // Load base 64, set default name to current date\n            api.fire('load', getFileFromBase64DataURI(source));\n        } else {\n            // Deal as if is external URL, let's load it!\n            loadURL(source);\n        }\n    };\n\n    // loads a url\n    const loadURL = url => {\n        // is remote url and no fetch method supplied\n        if (!fetchFn) {\n            api.fire('error', {\n                type: 'error',\n                body: \"Can't load URL\",\n                code: 400,\n            });\n            return;\n        }\n\n        // set request start\n        state.timestamp = Date.now();\n\n        // load file\n        state.request = fetchFn(\n            url,\n            response => {\n                // update duration\n                state.duration = Date.now() - state.timestamp;\n\n                // done!\n                state.complete = true;\n\n                // turn blob response into a file\n                if (response instanceof Blob) {\n                    response = getFileFromBlob(response, response.name || getFilenameFromURL(url));\n                }\n\n                api.fire(\n                    'load',\n                    // if has received blob, we go with blob, if no response, we return null\n                    response instanceof Blob ? response : response ? response.body : null\n                );\n            },\n            error => {\n                api.fire(\n                    'error',\n                    typeof error === 'string'\n                        ? {\n                              type: 'error',\n                              code: 0,\n                              body: error,\n                          }\n                        : error\n                );\n            },\n            (computable, current, total) => {\n                // collected some meta data already\n                if (total) {\n                    state.size = total;\n                }\n\n                // update duration\n                state.duration = Date.now() - state.timestamp;\n\n                // if we can't compute progress, we're not going to fire progress events\n                if (!computable) {\n                    state.progress = null;\n                    return;\n                }\n\n                // update progress percentage\n                state.progress = current / total;\n\n                // expose\n                api.fire('progress', state.progress);\n            },\n            () => {\n                api.fire('abort');\n            },\n            response => {\n                const fileinfo = getFileInfoFromHeaders(\n                    typeof response === 'string' ? response : response.headers\n                );\n                api.fire('meta', {\n                    size: state.size || fileinfo.size,\n                    filename: fileinfo.name,\n                    source: fileinfo.source,\n                });\n            }\n        );\n    };\n\n    const api = {\n        ...on(),\n        setSource: source => (state.source = source),\n        getProgress, // file load progress\n        abort, // abort file load\n        load, // start load\n    };\n\n    return api;\n};\n\nconst isGet = method => /GET|HEAD/.test(method);\n\nconst sendRequest = (data, url, options) => {\n    const api = {\n        onheaders: () => {},\n        onprogress: () => {},\n        onload: () => {},\n        ontimeout: () => {},\n        onerror: () => {},\n        onabort: () => {},\n        abort: () => {\n            aborted = true;\n            xhr.abort();\n        },\n    };\n\n    // timeout identifier, only used when timeout is defined\n    let aborted = false;\n    let headersReceived = false;\n\n    // set default options\n    options = {\n        method: 'POST',\n        headers: {},\n        withCredentials: false,\n        ...options,\n    };\n\n    // encode url\n    url = encodeURI(url);\n\n    // if method is GET, add any received data to url\n\n    if (isGet(options.method) && data) {\n        url = `${url}${encodeURIComponent(typeof data === 'string' ? data : JSON.stringify(data))}`;\n    }\n\n    // create request\n    const xhr = new XMLHttpRequest();\n\n    // progress of load\n    const process = isGet(options.method) ? xhr : xhr.upload;\n    process.onprogress = e => {\n        // no progress event when aborted ( onprogress is called once after abort() )\n        if (aborted) {\n            return;\n        }\n\n        api.onprogress(e.lengthComputable, e.loaded, e.total);\n    };\n\n    // tries to get header info to the app as fast as possible\n    xhr.onreadystatechange = () => {\n        // not interesting in these states ('unsent' and 'openend' as they don't give us any additional info)\n        if (xhr.readyState < 2) {\n            return;\n        }\n\n        // no server response\n        if (xhr.readyState === 4 && xhr.status === 0) {\n            return;\n        }\n\n        if (headersReceived) {\n            return;\n        }\n\n        headersReceived = true;\n\n        // we've probably received some useful data in response headers\n        api.onheaders(xhr);\n    };\n\n    // load successful\n    xhr.onload = () => {\n        // is classified as valid response\n        if (xhr.status >= 200 && xhr.status < 300) {\n            api.onload(xhr);\n        } else {\n            api.onerror(xhr);\n        }\n    };\n\n    // error during load\n    xhr.onerror = () => api.onerror(xhr);\n\n    // request aborted\n    xhr.onabort = () => {\n        aborted = true;\n        api.onabort();\n    };\n\n    // request timeout\n    xhr.ontimeout = () => api.ontimeout(xhr);\n\n    // open up open up!\n    xhr.open(options.method, url, true);\n\n    // set timeout if defined (do it after open so IE11 plays ball)\n    if (isInt(options.timeout)) {\n        xhr.timeout = options.timeout;\n    }\n\n    // add headers\n    Object.keys(options.headers).forEach(key => {\n        const value = unescape(encodeURIComponent(options.headers[key]));\n        xhr.setRequestHeader(key, value);\n    });\n\n    // set type of response\n    if (options.responseType) {\n        xhr.responseType = options.responseType;\n    }\n\n    // set credentials\n    if (options.withCredentials) {\n        xhr.withCredentials = true;\n    }\n\n    // let's send our data\n    xhr.send(data);\n\n    return api;\n};\n\nconst createResponse = (type, code, body, headers) => ({\n    type,\n    code,\n    body,\n    headers,\n});\n\nconst createTimeoutResponse = cb => xhr => {\n    cb(createResponse('error', 0, 'Timeout', xhr.getAllResponseHeaders()));\n};\n\nconst hasQS = str => /\\?/.test(str);\nconst buildURL = (...parts) => {\n    let url = '';\n    parts.forEach(part => {\n        url += hasQS(url) && hasQS(part) ? part.replace(/\\?/, '&') : part;\n    });\n    return url;\n};\n\nconst createFetchFunction = (apiUrl = '', action) => {\n    // custom handler (should also handle file, load, error, progress and abort)\n    if (typeof action === 'function') {\n        return action;\n    }\n\n    // no action supplied\n    if (!action || !isString(action.url)) {\n        return null;\n    }\n\n    // set onload hanlder\n    const onload = action.onload || (res => res);\n    const onerror = action.onerror || (res => null);\n\n    // internal handler\n    return (url, load, error, progress, abort, headers) => {\n        // do local or remote request based on if the url is external\n        const request = sendRequest(url, buildURL(apiUrl, action.url), {\n            ...action,\n            responseType: 'blob',\n        });\n\n        request.onload = xhr => {\n            // get headers\n            const headers = xhr.getAllResponseHeaders();\n\n            // get filename\n            const filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n            // create response\n            load(\n                createResponse(\n                    'load',\n                    xhr.status,\n                    action.method === 'HEAD'\n                        ? null\n                        : getFileFromBlob(onload(xhr.response), filename),\n                    headers\n                )\n            );\n        };\n\n        request.onerror = xhr => {\n            error(\n                createResponse(\n                    'error',\n                    xhr.status,\n                    onerror(xhr.response) || xhr.statusText,\n                    xhr.getAllResponseHeaders()\n                )\n            );\n        };\n\n        request.onheaders = xhr => {\n            headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n        };\n\n        request.ontimeout = createTimeoutResponse(error);\n        request.onprogress = progress;\n        request.onabort = abort;\n\n        // should return request\n        return request;\n    };\n};\n\nconst ChunkStatus = {\n    QUEUED: 0,\n    COMPLETE: 1,\n    PROCESSING: 2,\n    ERROR: 3,\n    WAITING: 4,\n};\n\n/*\nfunction signature:\n  (file, metadata, load, error, progress, abort, transfer, options) => {\n    return {\n    abort:() => {}\n  }\n}\n*/\n\n// apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options\nconst processFileChunked = (\n    apiUrl,\n    action,\n    name,\n    file,\n    metadata,\n    load,\n    error,\n    progress,\n    abort,\n    transfer,\n    options\n) => {\n    // all chunks\n    const chunks = [];\n    const { chunkTransferId, chunkServer, chunkSize, chunkRetryDelays } = options;\n\n    // default state\n    const state = {\n        serverId: chunkTransferId,\n        aborted: false,\n    };\n\n    // set onload handlers\n    const ondata = action.ondata || (fd => fd);\n    const onload =\n        action.onload ||\n        ((xhr, method) =>\n            method === 'HEAD' ? xhr.getResponseHeader('Upload-Offset') : xhr.response);\n    const onerror = action.onerror || (res => null);\n\n    // create server hook\n    const requestTransferId = cb => {\n        const formData = new FormData();\n\n        // add metadata under same name\n        if (isObject(metadata)) formData.append(name, JSON.stringify(metadata));\n\n        const headers =\n            typeof action.headers === 'function'\n                ? action.headers(file, metadata)\n                : {\n                      ...action.headers,\n                      'Upload-Length': file.size,\n                  };\n\n        const requestParams = {\n            ...action,\n            headers,\n        };\n\n        // send request object\n        const request = sendRequest(ondata(formData), buildURL(apiUrl, action.url), requestParams);\n\n        request.onload = xhr => cb(onload(xhr, requestParams.method));\n\n        request.onerror = xhr =>\n            error(\n                createResponse(\n                    'error',\n                    xhr.status,\n                    onerror(xhr.response) || xhr.statusText,\n                    xhr.getAllResponseHeaders()\n                )\n            );\n\n        request.ontimeout = createTimeoutResponse(error);\n    };\n\n    const requestTransferOffset = cb => {\n        const requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n        const headers =\n            typeof action.headers === 'function'\n                ? action.headers(state.serverId)\n                : {\n                      ...action.headers,\n                  };\n\n        const requestParams = {\n            headers,\n            method: 'HEAD',\n        };\n\n        const request = sendRequest(null, requestUrl, requestParams);\n\n        request.onload = xhr => cb(onload(xhr, requestParams.method));\n\n        request.onerror = xhr =>\n            error(\n                createResponse(\n                    'error',\n                    xhr.status,\n                    onerror(xhr.response) || xhr.statusText,\n                    xhr.getAllResponseHeaders()\n                )\n            );\n\n        request.ontimeout = createTimeoutResponse(error);\n    };\n\n    // create chunks\n    const lastChunkIndex = Math.floor(file.size / chunkSize);\n    for (let i = 0; i <= lastChunkIndex; i++) {\n        const offset = i * chunkSize;\n        const data = file.slice(offset, offset + chunkSize, 'application/offset+octet-stream');\n        chunks[i] = {\n            index: i,\n            size: data.size,\n            offset,\n            data,\n            file,\n            progress: 0,\n            retries: [...chunkRetryDelays],\n            status: ChunkStatus.QUEUED,\n            error: null,\n            request: null,\n            timeout: null,\n        };\n    }\n\n    const completeProcessingChunks = () => load(state.serverId);\n\n    const canProcessChunk = chunk =>\n        chunk.status === ChunkStatus.QUEUED || chunk.status === ChunkStatus.ERROR;\n\n    const processChunk = chunk => {\n        // processing is paused, wait here\n        if (state.aborted) return;\n\n        // get next chunk to process\n        chunk = chunk || chunks.find(canProcessChunk);\n\n        // no more chunks to process\n        if (!chunk) {\n            // all done?\n            if (chunks.every(chunk => chunk.status === ChunkStatus.COMPLETE)) {\n                completeProcessingChunks();\n            }\n\n            // no chunk to handle\n            return;\n        }\n\n        // now processing this chunk\n        chunk.status = ChunkStatus.PROCESSING;\n        chunk.progress = null;\n\n        // allow parsing of formdata\n        const ondata = chunkServer.ondata || (fd => fd);\n        const onerror = chunkServer.onerror || (res => null);\n\n        // send request object\n        const requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n        const headers =\n            typeof chunkServer.headers === 'function'\n                ? chunkServer.headers(chunk)\n                : {\n                      ...chunkServer.headers,\n                      'Content-Type': 'application/offset+octet-stream',\n                      'Upload-Offset': chunk.offset,\n                      'Upload-Length': file.size,\n                      'Upload-Name': file.name,\n                  };\n\n        const request = (chunk.request = sendRequest(ondata(chunk.data), requestUrl, {\n            ...chunkServer,\n            headers,\n        }));\n\n        request.onload = () => {\n            // done!\n            chunk.status = ChunkStatus.COMPLETE;\n\n            // remove request reference\n            chunk.request = null;\n\n            // start processing more chunks\n            processChunks();\n        };\n\n        request.onprogress = (lengthComputable, loaded, total) => {\n            chunk.progress = lengthComputable ? loaded : null;\n            updateTotalProgress();\n        };\n\n        request.onerror = xhr => {\n            chunk.status = ChunkStatus.ERROR;\n            chunk.request = null;\n            chunk.error = onerror(xhr.response) || xhr.statusText;\n            if (!retryProcessChunk(chunk)) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            }\n        };\n\n        request.ontimeout = xhr => {\n            chunk.status = ChunkStatus.ERROR;\n            chunk.request = null;\n            if (!retryProcessChunk(chunk)) {\n                createTimeoutResponse(error)(xhr);\n            }\n        };\n\n        request.onabort = () => {\n            chunk.status = ChunkStatus.QUEUED;\n            chunk.request = null;\n            abort();\n        };\n    };\n\n    const retryProcessChunk = chunk => {\n        // no more retries left\n        if (chunk.retries.length === 0) return false;\n\n        // new retry\n        chunk.status = ChunkStatus.WAITING;\n        clearTimeout(chunk.timeout);\n        chunk.timeout = setTimeout(() => {\n            processChunk(chunk);\n        }, chunk.retries.shift());\n\n        // we're going to retry\n        return true;\n    };\n\n    const updateTotalProgress = () => {\n        // calculate total progress fraction\n        const totalBytesTransfered = chunks.reduce((p, chunk) => {\n            if (p === null || chunk.progress === null) return null;\n            return p + chunk.progress;\n        }, 0);\n\n        // can't compute progress\n        if (totalBytesTransfered === null) return progress(false, 0, 0);\n\n        // calculate progress values\n        const totalSize = chunks.reduce((total, chunk) => total + chunk.size, 0);\n\n        // can update progress indicator\n        progress(true, totalBytesTransfered, totalSize);\n    };\n\n    // process new chunks\n    const processChunks = () => {\n        const totalProcessing = chunks.filter(chunk => chunk.status === ChunkStatus.PROCESSING)\n            .length;\n        if (totalProcessing >= 1) return;\n        processChunk();\n    };\n\n    const abortChunks = () => {\n        chunks.forEach(chunk => {\n            clearTimeout(chunk.timeout);\n            if (chunk.request) {\n                chunk.request.abort();\n            }\n        });\n    };\n\n    // let's go!\n    if (!state.serverId) {\n        requestTransferId(serverId => {\n            // stop here if aborted, might have happened in between request and callback\n            if (state.aborted) return;\n\n            // pass back to item so we can use it if something goes wrong\n            transfer(serverId);\n\n            // store internally\n            state.serverId = serverId;\n            processChunks();\n        });\n    } else {\n        requestTransferOffset(offset => {\n            // stop here if aborted, might have happened in between request and callback\n            if (state.aborted) return;\n\n            // mark chunks with lower offset as complete\n            chunks\n                .filter(chunk => chunk.offset < offset)\n                .forEach(chunk => {\n                    chunk.status = ChunkStatus.COMPLETE;\n                    chunk.progress = chunk.size;\n                });\n\n            // continue processing\n            processChunks();\n        });\n    }\n\n    return {\n        abort: () => {\n            state.aborted = true;\n            abortChunks();\n        },\n    };\n};\n\n/*\nfunction signature:\n  (file, metadata, load, error, progress, abort) => {\n    return {\n    abort:() => {}\n  }\n}\n*/\nconst createFileProcessorFunction = (apiUrl, action, name, options) => (\n    file,\n    metadata,\n    load,\n    error,\n    progress,\n    abort,\n    transfer\n) => {\n    // no file received\n    if (!file) return;\n\n    // if was passed a file, and we can chunk it, exit here\n    const canChunkUpload = options.chunkUploads;\n    const shouldChunkUpload = canChunkUpload && file.size > options.chunkSize;\n    const willChunkUpload = canChunkUpload && (shouldChunkUpload || options.chunkForce);\n    if (file instanceof Blob && willChunkUpload)\n        return processFileChunked(\n            apiUrl,\n            action,\n            name,\n            file,\n            metadata,\n            load,\n            error,\n            progress,\n            abort,\n            transfer,\n            options\n        );\n\n    // set handlers\n    const ondata = action.ondata || (fd => fd);\n    const onload = action.onload || (res => res);\n    const onerror = action.onerror || (res => null);\n\n    const headers =\n        typeof action.headers === 'function'\n            ? action.headers(file, metadata) || {}\n            : {\n                  ...action.headers,\n              };\n\n    const requestParams = {\n        ...action,\n        headers,\n    };\n\n    // create formdata object\n    var formData = new FormData();\n\n    // add metadata under same name\n    if (isObject(metadata)) {\n        formData.append(name, JSON.stringify(metadata));\n    }\n\n    // Turn into an array of objects so no matter what the input, we can handle it the same way\n    (file instanceof Blob ? [{ name: null, file }] : file).forEach(item => {\n        formData.append(\n            name,\n            item.file,\n            item.name === null ? item.file.name : `${item.name}${item.file.name}`\n        );\n    });\n\n    // send request object\n    const request = sendRequest(ondata(formData), buildURL(apiUrl, action.url), requestParams);\n    request.onload = xhr => {\n        load(createResponse('load', xhr.status, onload(xhr.response), xhr.getAllResponseHeaders()));\n    };\n\n    request.onerror = xhr => {\n        error(\n            createResponse(\n                'error',\n                xhr.status,\n                onerror(xhr.response) || xhr.statusText,\n                xhr.getAllResponseHeaders()\n            )\n        );\n    };\n\n    request.ontimeout = createTimeoutResponse(error);\n    request.onprogress = progress;\n    request.onabort = abort;\n\n    // should return request\n    return request;\n};\n\nconst createProcessorFunction = (apiUrl = '', action, name, options) => {\n    // custom handler (should also handle file, load, error, progress and abort)\n    if (typeof action === 'function') return (...params) => action(name, ...params, options);\n\n    // no action supplied\n    if (!action || !isString(action.url)) return null;\n\n    // internal handler\n    return createFileProcessorFunction(apiUrl, action, name, options);\n};\n\n/*\n function signature:\n (uniqueFileId, load, error) => { }\n */\nconst createRevertFunction = (apiUrl = '', action) => {\n    // is custom implementation\n    if (typeof action === 'function') {\n        return action;\n    }\n\n    // no action supplied, return stub function, interface will work, but file won't be removed\n    if (!action || !isString(action.url)) {\n        return (uniqueFileId, load) => load();\n    }\n\n    // set onload hanlder\n    const onload = action.onload || (res => res);\n    const onerror = action.onerror || (res => null);\n\n    // internal implementation\n    return (uniqueFileId, load, error) => {\n        const request = sendRequest(\n            uniqueFileId,\n            apiUrl + action.url,\n            action // contains method, headers and withCredentials properties\n        );\n        request.onload = xhr => {\n            load(\n                createResponse(\n                    'load',\n                    xhr.status,\n                    onload(xhr.response),\n                    xhr.getAllResponseHeaders()\n                )\n            );\n        };\n\n        request.onerror = xhr => {\n            error(\n                createResponse(\n                    'error',\n                    xhr.status,\n                    onerror(xhr.response) || xhr.statusText,\n                    xhr.getAllResponseHeaders()\n                )\n            );\n        };\n\n        request.ontimeout = createTimeoutResponse(error);\n\n        return request;\n    };\n};\n\nconst getRandomNumber = (min = 0, max = 1) => min + Math.random() * (max - min);\n\nconst createPerceivedPerformanceUpdater = (\n    cb,\n    duration = 1000,\n    offset = 0,\n    tickMin = 25,\n    tickMax = 250\n) => {\n    let timeout = null;\n    const start = Date.now();\n\n    const tick = () => {\n        let runtime = Date.now() - start;\n        let delay = getRandomNumber(tickMin, tickMax);\n\n        if (runtime + delay > duration) {\n            delay = runtime + delay - duration;\n        }\n\n        let progress = runtime / duration;\n        if (progress >= 1 || document.hidden) {\n            cb(1);\n            return;\n        }\n\n        cb(progress);\n\n        timeout = setTimeout(tick, delay);\n    };\n\n    if (duration > 0) tick();\n\n    return {\n        clear: () => {\n            clearTimeout(timeout);\n        },\n    };\n};\n\nconst createFileProcessor = (processFn, options) => {\n    const state = {\n        complete: false,\n        perceivedProgress: 0,\n        perceivedPerformanceUpdater: null,\n        progress: null,\n        timestamp: null,\n        perceivedDuration: 0,\n        duration: 0,\n        request: null,\n        response: null,\n    };\n\n    const { allowMinimumUploadDuration } = options;\n\n    const process = (file, metadata) => {\n        const progressFn = () => {\n            // we've not yet started the real download, stop here\n            // the request might not go through, for instance, there might be some server trouble\n            // if state.progress is null, the server does not allow computing progress and we show the spinner instead\n            if (state.duration === 0 || state.progress === null) return;\n\n            // as we're now processing, fire the progress event\n            api.fire('progress', api.getProgress());\n        };\n\n        const completeFn = () => {\n            state.complete = true;\n            api.fire('load-perceived', state.response.body);\n        };\n\n        // let's start processing\n        api.fire('start');\n\n        // set request start\n        state.timestamp = Date.now();\n\n        // create perceived performance progress indicator\n        state.perceivedPerformanceUpdater = createPerceivedPerformanceUpdater(\n            progress => {\n                state.perceivedProgress = progress;\n                state.perceivedDuration = Date.now() - state.timestamp;\n\n                progressFn();\n\n                // if fake progress is done, and a response has been received,\n                // and we've not yet called the complete method\n                if (state.response && state.perceivedProgress === 1 && !state.complete) {\n                    // we done!\n                    completeFn();\n                }\n            },\n            // random delay as in a list of files you start noticing\n            // files uploading at the exact same speed\n            allowMinimumUploadDuration ? getRandomNumber(750, 1500) : 0\n        );\n\n        // remember request so we can abort it later\n        state.request = processFn(\n            // the file to process\n            file,\n\n            // the metadata to send along\n            metadata,\n\n            // callbacks (load, error, progress, abort, transfer)\n            // load expects the body to be a server id if\n            // you want to make use of revert\n            response => {\n                // we put the response in state so we can access\n                // it outside of this method\n                state.response = isObject(response)\n                    ? response\n                    : {\n                          type: 'load',\n                          code: 200,\n                          body: `${response}`,\n                          headers: {},\n                      };\n\n                // update duration\n                state.duration = Date.now() - state.timestamp;\n\n                // force progress to 1 as we're now done\n                state.progress = 1;\n\n                // actual load is done let's share results\n                api.fire('load', state.response.body);\n\n                // we are really done\n                // if perceived progress is 1 ( wait for perceived progress to complete )\n                // or if server does not support progress ( null )\n                if (\n                    !allowMinimumUploadDuration ||\n                    (allowMinimumUploadDuration && state.perceivedProgress === 1)\n                ) {\n                    completeFn();\n                }\n            },\n\n            // error is expected to be an object with type, code, body\n            error => {\n                // cancel updater\n                state.perceivedPerformanceUpdater.clear();\n\n                // update others about this error\n                api.fire(\n                    'error',\n                    isObject(error)\n                        ? error\n                        : {\n                              type: 'error',\n                              code: 0,\n                              body: `${error}`,\n                          }\n                );\n            },\n\n            // actual processing progress\n            (computable, current, total) => {\n                // update actual duration\n                state.duration = Date.now() - state.timestamp;\n\n                // update actual progress\n                state.progress = computable ? current / total : null;\n\n                progressFn();\n            },\n\n            // abort does not expect a value\n            () => {\n                // stop updater\n                state.perceivedPerformanceUpdater.clear();\n\n                // fire the abort event so we can switch visuals\n                api.fire('abort', state.response ? state.response.body : null);\n            },\n\n            // register the id for this transfer\n            transferId => {\n                api.fire('transfer', transferId);\n            }\n        );\n    };\n\n    const abort = () => {\n        // no request running, can't abort\n        if (!state.request) return;\n\n        // stop updater\n        state.perceivedPerformanceUpdater.clear();\n\n        // abort actual request\n        if (state.request.abort) state.request.abort();\n\n        // if has response object, we've completed the request\n        state.complete = true;\n    };\n\n    const reset = () => {\n        abort();\n        state.complete = false;\n        state.perceivedProgress = 0;\n        state.progress = 0;\n        state.timestamp = null;\n        state.perceivedDuration = 0;\n        state.duration = 0;\n        state.request = null;\n        state.response = null;\n    };\n\n    const getProgress = allowMinimumUploadDuration\n        ? () => (state.progress ? Math.min(state.progress, state.perceivedProgress) : null)\n        : () => state.progress || null;\n\n    const getDuration = allowMinimumUploadDuration\n        ? () => Math.min(state.duration, state.perceivedDuration)\n        : () => state.duration;\n\n    const api = {\n        ...on(),\n        process, // start processing file\n        abort, // abort active process request\n        getProgress,\n        getDuration,\n        reset,\n    };\n\n    return api;\n};\n\nconst getFilenameWithoutExtension = name => name.substring(0, name.lastIndexOf('.')) || name;\n\nconst createFileStub = source => {\n    let data = [source.name, source.size, source.type];\n\n    // is blob or base64, then we need to set the name\n    if (source instanceof Blob || isBase64DataURI(source)) {\n        data[0] = source.name || getDateString();\n    } else if (isBase64DataURI(source)) {\n        // if is base64 data uri we need to determine the average size and type\n        data[1] = source.length;\n        data[2] = getMimeTypeFromBase64DataURI(source);\n    } else if (isString(source)) {\n        // url\n        data[0] = getFilenameFromURL(source);\n        data[1] = 0;\n        data[2] = 'application/octet-stream';\n    }\n\n    return {\n        name: data[0],\n        size: data[1],\n        type: data[2],\n    };\n};\n\nconst isFile = value => !!(value instanceof File || (value instanceof Blob && value.name));\n\nconst deepCloneObject = src => {\n    if (!isObject(src)) return src;\n    const target = isArray(src) ? [] : {};\n    for (const key in src) {\n        if (!src.hasOwnProperty(key)) continue;\n        const v = src[key];\n        target[key] = v && isObject(v) ? deepCloneObject(v) : v;\n    }\n    return target;\n};\n\nconst createItem = (origin = null, serverFileReference = null, file = null) => {\n    // unique id for this item, is used to identify the item across views\n    const id = getUniqueId();\n\n    /**\n     * Internal item state\n     */\n    const state = {\n        // is archived\n        archived: false,\n\n        // if is frozen, no longer fires events\n        frozen: false,\n\n        // removed from view\n        released: false,\n\n        // original source\n        source: null,\n\n        // file model reference\n        file,\n\n        // id of file on server\n        serverFileReference,\n\n        // id of file transfer on server\n        transferId: null,\n\n        // is aborted\n        processingAborted: false,\n\n        // current item status\n        status: serverFileReference ? ItemStatus.PROCESSING_COMPLETE : ItemStatus.INIT,\n\n        // active processes\n        activeLoader: null,\n        activeProcessor: null,\n    };\n\n    // callback used when abort processing is called to link back to the resolve method\n    let abortProcessingRequestComplete = null;\n\n    /**\n     * Externally added item metadata\n     */\n    const metadata = {};\n\n    // item data\n    const setStatus = status => (state.status = status);\n\n    // fire event unless the item has been archived\n    const fire = (event, ...params) => {\n        if (state.released || state.frozen) return;\n        api.fire(event, ...params);\n    };\n\n    // file data\n    const getFileExtension = () => getExtensionFromFilename(state.file.name);\n    const getFileType = () => state.file.type;\n    const getFileSize = () => state.file.size;\n    const getFile = () => state.file;\n\n    //\n    // logic to load a file\n    //\n    const load = (source, loader, onload) => {\n        // remember the original item source\n        state.source = source;\n\n        // source is known\n        api.fireSync('init');\n\n        // file stub is already there\n        if (state.file) {\n            api.fireSync('load-skip');\n            return;\n        }\n\n        // set a stub file object while loading the actual data\n        state.file = createFileStub(source);\n\n        // starts loading\n        loader.on('init', () => {\n            fire('load-init');\n        });\n\n        // we'eve received a size indication, let's update the stub\n        loader.on('meta', meta => {\n            // set size of file stub\n            state.file.size = meta.size;\n\n            // set name of file stub\n            state.file.filename = meta.filename;\n\n            // if has received source, we done\n            if (meta.source) {\n                origin = FileOrigin.LIMBO;\n                state.serverFileReference = meta.source;\n                state.status = ItemStatus.PROCESSING_COMPLETE;\n            }\n\n            // size has been updated\n            fire('load-meta');\n        });\n\n        // the file is now loading we need to update the progress indicators\n        loader.on('progress', progress => {\n            setStatus(ItemStatus.LOADING);\n\n            fire('load-progress', progress);\n        });\n\n        // an error was thrown while loading the file, we need to switch to error state\n        loader.on('error', error => {\n            setStatus(ItemStatus.LOAD_ERROR);\n\n            fire('load-request-error', error);\n        });\n\n        // user or another process aborted the file load (cannot retry)\n        loader.on('abort', () => {\n            setStatus(ItemStatus.INIT);\n            fire('load-abort');\n        });\n\n        // done loading\n        loader.on('load', file => {\n            // as we've now loaded the file the loader is no longer required\n            state.activeLoader = null;\n\n            // called when file has loaded succesfully\n            const success = result => {\n                // set (possibly) transformed file\n                state.file = isFile(result) ? result : state.file;\n\n                // file received\n                if (origin === FileOrigin.LIMBO && state.serverFileReference) {\n                    setStatus(ItemStatus.PROCESSING_COMPLETE);\n                } else {\n                    setStatus(ItemStatus.IDLE);\n                }\n\n                fire('load');\n            };\n\n            const error = result => {\n                // set original file\n                state.file = file;\n                fire('load-meta');\n\n                setStatus(ItemStatus.LOAD_ERROR);\n                fire('load-file-error', result);\n            };\n\n            // if we already have a server file reference, we don't need to call the onload method\n            if (state.serverFileReference) {\n                success(file);\n                return;\n            }\n\n            // no server id, let's give this file the full treatment\n            onload(file, success, error);\n        });\n\n        // set loader source data\n        loader.setSource(source);\n\n        // set as active loader\n        state.activeLoader = loader;\n\n        // load the source data\n        loader.load();\n    };\n\n    const retryLoad = () => {\n        if (!state.activeLoader) {\n            return;\n        }\n        state.activeLoader.load();\n    };\n\n    const abortLoad = () => {\n        if (state.activeLoader) {\n            state.activeLoader.abort();\n            return;\n        }\n        setStatus(ItemStatus.INIT);\n        fire('load-abort');\n    };\n\n    //\n    // logic to process a file\n    //\n    const process = (processor, onprocess) => {\n        // processing was aborted\n        if (state.processingAborted) {\n            state.processingAborted = false;\n            return;\n        }\n\n        // now processing\n        setStatus(ItemStatus.PROCESSING);\n\n        // reset abort callback\n        abortProcessingRequestComplete = null;\n\n        // if no file loaded we'll wait for the load event\n        if (!(state.file instanceof Blob)) {\n            api.on('load', () => {\n                process(processor, onprocess);\n            });\n            return;\n        }\n\n        // setup processor\n        processor.on('load', serverFileReference => {\n            // need this id to be able to revert the upload\n            state.transferId = null;\n            state.serverFileReference = serverFileReference;\n        });\n\n        // register transfer id\n        processor.on('transfer', transferId => {\n            // need this id to be able to revert the upload\n            state.transferId = transferId;\n        });\n\n        processor.on('load-perceived', serverFileReference => {\n            // no longer required\n            state.activeProcessor = null;\n\n            // need this id to be able to rever the upload\n            state.transferId = null;\n            state.serverFileReference = serverFileReference;\n\n            setStatus(ItemStatus.PROCESSING_COMPLETE);\n            fire('process-complete', serverFileReference);\n        });\n\n        processor.on('start', () => {\n            fire('process-start');\n        });\n\n        processor.on('error', error => {\n            state.activeProcessor = null;\n            setStatus(ItemStatus.PROCESSING_ERROR);\n            fire('process-error', error);\n        });\n\n        processor.on('abort', serverFileReference => {\n            state.activeProcessor = null;\n\n            // if file was uploaded but processing was cancelled during perceived processor time store file reference\n            state.serverFileReference = serverFileReference;\n\n            setStatus(ItemStatus.IDLE);\n            fire('process-abort');\n\n            // has timeout so doesn't interfere with remove action\n            if (abortProcessingRequestComplete) {\n                abortProcessingRequestComplete();\n            }\n        });\n\n        processor.on('progress', progress => {\n            fire('process-progress', progress);\n        });\n\n        // when successfully transformed\n        const success = file => {\n            // if was archived in the mean time, don't process\n            if (state.archived) return;\n\n            // process file!\n            processor.process(file, { ...metadata });\n        };\n\n        // something went wrong during transform phase\n        const error = console.error;\n\n        // start processing the file\n        onprocess(state.file, success, error);\n\n        // set as active processor\n        state.activeProcessor = processor;\n    };\n\n    const requestProcessing = () => {\n        state.processingAborted = false;\n        setStatus(ItemStatus.PROCESSING_QUEUED);\n    };\n\n    const abortProcessing = () =>\n        new Promise(resolve => {\n            if (!state.activeProcessor) {\n                state.processingAborted = true;\n\n                setStatus(ItemStatus.IDLE);\n                fire('process-abort');\n\n                resolve();\n                return;\n            }\n\n            abortProcessingRequestComplete = () => {\n                resolve();\n            };\n\n            state.activeProcessor.abort();\n        });\n\n    //\n    // logic to revert a processed file\n    //\n    const revert = (revertFileUpload, forceRevert) =>\n        new Promise((resolve, reject) => {\n            // a completed upload will have a serverFileReference, a failed chunked upload where\n            // getting a serverId succeeded but >=0 chunks have been uploaded will have transferId set\n            const serverTransferId =\n                state.serverFileReference !== null ? state.serverFileReference : state.transferId;\n\n            // cannot revert without a server id for this process\n            if (serverTransferId === null) {\n                resolve();\n                return;\n            }\n\n            // revert the upload (fire and forget)\n            revertFileUpload(\n                serverTransferId,\n                () => {\n                    // reset file server id and transfer id as now it's not available on the server\n                    state.serverFileReference = null;\n                    state.transferId = null;\n                    resolve();\n                },\n                error => {\n                    // don't set error state when reverting is optional, it will always resolve\n                    if (!forceRevert) {\n                        resolve();\n                        return;\n                    }\n\n                    // oh no errors\n                    setStatus(ItemStatus.PROCESSING_REVERT_ERROR);\n                    fire('process-revert-error');\n                    reject(error);\n                }\n            );\n\n            // fire event\n            setStatus(ItemStatus.IDLE);\n            fire('process-revert');\n        });\n\n    // exposed methods\n    const setMetadata = (key, value, silent) => {\n        const keys = key.split('.');\n        const root = keys[0];\n        const last = keys.pop();\n        let data = metadata;\n        keys.forEach(key => (data = data[key]));\n\n        // compare old value against new value, if they're the same, we're not updating\n        if (JSON.stringify(data[last]) === JSON.stringify(value)) return;\n\n        // update value\n        data[last] = value;\n\n        // fire update\n        fire('metadata-update', {\n            key: root,\n            value: metadata[root],\n            silent,\n        });\n    };\n\n    const getMetadata = key => deepCloneObject(key ? metadata[key] : metadata);\n\n    const api = {\n        id: { get: () => id },\n        origin: { get: () => origin, set: value => (origin = value) },\n        serverId: { get: () => state.serverFileReference },\n        transferId: { get: () => state.transferId },\n        status: { get: () => state.status },\n        filename: { get: () => state.file.name },\n        filenameWithoutExtension: { get: () => getFilenameWithoutExtension(state.file.name) },\n        fileExtension: { get: getFileExtension },\n        fileType: { get: getFileType },\n        fileSize: { get: getFileSize },\n        file: { get: getFile },\n        relativePath: { get: () => state.file._relativePath },\n\n        source: { get: () => state.source },\n\n        getMetadata,\n        setMetadata: (key, value, silent) => {\n            if (isObject(key)) {\n                const data = key;\n                Object.keys(data).forEach(key => {\n                    setMetadata(key, data[key], value);\n                });\n                return key;\n            }\n            setMetadata(key, value, silent);\n            return value;\n        },\n\n        extend: (name, handler) => (itemAPI[name] = handler),\n\n        abortLoad,\n        retryLoad,\n        requestProcessing,\n        abortProcessing,\n\n        load,\n        process,\n        revert,\n\n        ...on(),\n\n        freeze: () => (state.frozen = true),\n\n        release: () => (state.released = true),\n        released: { get: () => state.released },\n\n        archive: () => (state.archived = true),\n        archived: { get: () => state.archived },\n    };\n\n    // create it here instead of returning it instantly so we can extend it later\n    const itemAPI = createObject(api);\n\n    return itemAPI;\n};\n\nconst getItemIndexByQuery = (items, query) => {\n    // just return first index\n    if (isEmpty(query)) {\n        return 0;\n    }\n\n    // invalid queries\n    if (!isString(query)) {\n        return -1;\n    }\n\n    // return item by id (or -1 if not found)\n    return items.findIndex(item => item.id === query);\n};\n\nconst getItemById = (items, itemId) => {\n    const index = getItemIndexByQuery(items, itemId);\n    if (index < 0) {\n        return;\n    }\n    return items[index] || null;\n};\n\nconst fetchBlob = (url, load, error, progress, abort, headers) => {\n    const request = sendRequest(null, url, {\n        method: 'GET',\n        responseType: 'blob',\n    });\n\n    request.onload = xhr => {\n        // get headers\n        const headers = xhr.getAllResponseHeaders();\n\n        // get filename\n        const filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n        // create response\n        load(createResponse('load', xhr.status, getFileFromBlob(xhr.response, filename), headers));\n    };\n\n    request.onerror = xhr => {\n        error(createResponse('error', xhr.status, xhr.statusText, xhr.getAllResponseHeaders()));\n    };\n\n    request.onheaders = xhr => {\n        headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n    };\n\n    request.ontimeout = createTimeoutResponse(error);\n    request.onprogress = progress;\n    request.onabort = abort;\n\n    // should return request\n    return request;\n};\n\nconst getDomainFromURL = url => {\n    if (url.indexOf('//') === 0) {\n        url = location.protocol + url;\n    }\n    return url\n        .toLowerCase()\n        .replace('blob:', '')\n        .replace(/([a-z])?:\\/\\//, '$1')\n        .split('/')[0];\n};\n\nconst isExternalURL = url =>\n    (url.indexOf(':') > -1 || url.indexOf('//') > -1) &&\n    getDomainFromURL(location.href) !== getDomainFromURL(url);\n\nconst dynamicLabel = label => (...params) => (isFunction(label) ? label(...params) : label);\n\nconst isMockItem = item => !isFile(item.file);\n\nconst listUpdated = (dispatch, state) => {\n    clearTimeout(state.listUpdateTimeout);\n    state.listUpdateTimeout = setTimeout(() => {\n        dispatch('DID_UPDATE_ITEMS', { items: getActiveItems(state.items) });\n    }, 0);\n};\n\nconst optionalPromise = (fn, ...params) =>\n    new Promise(resolve => {\n        if (!fn) {\n            return resolve(true);\n        }\n\n        const result = fn(...params);\n\n        if (result == null) {\n            return resolve(true);\n        }\n\n        if (typeof result === 'boolean') {\n            return resolve(result);\n        }\n\n        if (typeof result.then === 'function') {\n            result.then(resolve);\n        }\n    });\n\nconst sortItems = (state, compare) => {\n    state.items.sort((a, b) => compare(createItemAPI(a), createItemAPI(b)));\n};\n\n// returns item based on state\nconst getItemByQueryFromState = (state, itemHandler) => ({\n    query,\n    success = () => {},\n    failure = () => {},\n    ...options\n} = {}) => {\n    const item = getItemByQuery(state.items, query);\n    if (!item) {\n        failure({\n            error: createResponse('error', 0, 'Item not found'),\n            file: null,\n        });\n        return;\n    }\n    itemHandler(item, success, failure, options || {});\n};\n\nconst actions = (dispatch, query, state) => ({\n    /**\n     * Aborts all ongoing processes\n     */\n    ABORT_ALL: () => {\n        getActiveItems(state.items).forEach(item => {\n            item.freeze();\n            item.abortLoad();\n            item.abortProcessing();\n        });\n    },\n\n    /**\n     * Sets initial files\n     */\n    DID_SET_FILES: ({ value = [] }) => {\n        // map values to file objects\n        const files = value.map(file => ({\n            source: file.source ? file.source : file,\n            options: file.options,\n        }));\n\n        // loop over files, if file is in list, leave it be, if not, remove\n        // test if items should be moved\n        let activeItems = getActiveItems(state.items);\n\n        activeItems.forEach(item => {\n            // if item not is in new value, remove\n            if (!files.find(file => file.source === item.source || file.source === item.file)) {\n                dispatch('REMOVE_ITEM', { query: item, remove: false });\n            }\n        });\n\n        // add new files\n        activeItems = getActiveItems(state.items);\n        files.forEach((file, index) => {\n            // if file is already in list\n            if (activeItems.find(item => item.source === file.source || item.file === file.source))\n                return;\n\n            // not in list, add\n            dispatch('ADD_ITEM', {\n                ...file,\n                interactionMethod: InteractionMethod.NONE,\n                index,\n            });\n        });\n    },\n\n    DID_UPDATE_ITEM_METADATA: ({ id, action, change }) => {\n        // don't do anything\n        if (change.silent) return;\n\n        // if is called multiple times in close succession we combined all calls together to save resources\n        clearTimeout(state.itemUpdateTimeout);\n        state.itemUpdateTimeout = setTimeout(() => {\n            const item = getItemById(state.items, id);\n\n            // only revert and attempt to upload when we're uploading to a server\n            if (!query('IS_ASYNC')) {\n                // should we update the output data\n                applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                    item,\n                    query,\n                    action,\n                    change,\n                }).then(shouldPrepareOutput => {\n                    // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                    const beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                    if (beforePrepareFile)\n                        shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                    if (!shouldPrepareOutput) return;\n\n                    dispatch(\n                        'REQUEST_PREPARE_OUTPUT',\n                        {\n                            query: id,\n                            item,\n                            success: file => {\n                                dispatch('DID_PREPARE_OUTPUT', { id, file });\n                            },\n                        },\n                        true\n                    );\n                });\n\n                return;\n            }\n\n            // if is local item we need to enable upload button so change can be propagated to server\n            if (item.origin === FileOrigin.LOCAL) {\n                dispatch('DID_LOAD_ITEM', {\n                    id: item.id,\n                    error: null,\n                    serverFileReference: item.source,\n                });\n            }\n\n            // for async scenarios\n            const upload = () => {\n                // we push this forward a bit so the interface is updated correctly\n                setTimeout(() => {\n                    dispatch('REQUEST_ITEM_PROCESSING', { query: id });\n                }, 32);\n            };\n\n            const revert = doUpload => {\n                item.revert(\n                    createRevertFunction(state.options.server.url, state.options.server.revert),\n                    query('GET_FORCE_REVERT')\n                )\n                    .then(doUpload ? upload : () => {})\n                    .catch(() => {});\n            };\n\n            const abort = doUpload => {\n                item.abortProcessing().then(doUpload ? upload : () => {});\n            };\n\n            // if we should re-upload the file immediately\n            if (item.status === ItemStatus.PROCESSING_COMPLETE) {\n                return revert(state.options.instantUpload);\n            }\n\n            // if currently uploading, cancel upload\n            if (item.status === ItemStatus.PROCESSING) {\n                return abort(state.options.instantUpload);\n            }\n\n            if (state.options.instantUpload) {\n                upload();\n            }\n        }, 0);\n    },\n\n    MOVE_ITEM: ({ query, index }) => {\n        const item = getItemByQuery(state.items, query);\n        if (!item) return;\n        const currentIndex = state.items.indexOf(item);\n        index = limit(index, 0, state.items.length - 1);\n        if (currentIndex === index) return;\n        state.items.splice(index, 0, state.items.splice(currentIndex, 1)[0]);\n    },\n\n    SORT: ({ compare }) => {\n        sortItems(state, compare);\n        dispatch('DID_SORT_ITEMS', {\n            items: query('GET_ACTIVE_ITEMS'),\n        });\n    },\n\n    ADD_ITEMS: ({ items, index, interactionMethod, success = () => {}, failure = () => {} }) => {\n        let currentIndex = index;\n\n        if (index === -1 || typeof index === 'undefined') {\n            const insertLocation = query('GET_ITEM_INSERT_LOCATION');\n            const totalItems = query('GET_TOTAL_ITEMS');\n            currentIndex = insertLocation === 'before' ? 0 : totalItems;\n        }\n\n        const ignoredFiles = query('GET_IGNORED_FILES');\n        const isValidFile = source =>\n            isFile(source) ? !ignoredFiles.includes(source.name.toLowerCase()) : !isEmpty(source);\n        const validItems = items.filter(isValidFile);\n\n        const promises = validItems.map(\n            source =>\n                new Promise((resolve, reject) => {\n                    dispatch('ADD_ITEM', {\n                        interactionMethod,\n                        source: source.source || source,\n                        success: resolve,\n                        failure: reject,\n                        index: currentIndex++,\n                        options: source.options || {},\n                    });\n                })\n        );\n\n        Promise.all(promises)\n            .then(success)\n            .catch(failure);\n    },\n\n    /**\n     * @param source\n     * @param index\n     * @param interactionMethod\n     */\n    ADD_ITEM: ({\n        source,\n        index = -1,\n        interactionMethod,\n        success = () => {},\n        failure = () => {},\n        options = {},\n    }) => {\n        // if no source supplied\n        if (isEmpty(source)) {\n            failure({\n                error: createResponse('error', 0, 'No source'),\n                file: null,\n            });\n            return;\n        }\n\n        // filter out invalid file items, used to filter dropped directory contents\n        if (isFile(source) && state.options.ignoredFiles.includes(source.name.toLowerCase())) {\n            // fail silently\n            return;\n        }\n\n        // test if there's still room in the list of files\n        if (!hasRoomForItem(state)) {\n            // if multiple allowed, we can't replace\n            // or if only a single item is allowed but we're not allowed to replace it we exit\n            if (\n                state.options.allowMultiple ||\n                (!state.options.allowMultiple && !state.options.allowReplace)\n            ) {\n                const error = createResponse('warning', 0, 'Max files');\n\n                dispatch('DID_THROW_MAX_FILES', {\n                    source,\n                    error,\n                });\n\n                failure({ error, file: null });\n\n                return;\n            }\n\n            // let's replace the item\n            // id of first item we're about to remove\n            const item = getActiveItems(state.items)[0];\n\n            // if has been processed remove it from the server as well\n            if (\n                item.status === ItemStatus.PROCESSING_COMPLETE ||\n                item.status === ItemStatus.PROCESSING_REVERT_ERROR\n            ) {\n                const forceRevert = query('GET_FORCE_REVERT');\n                item.revert(\n                    createRevertFunction(state.options.server.url, state.options.server.revert),\n                    forceRevert\n                )\n                    .then(() => {\n                        if (!forceRevert) return;\n\n                        // try to add now\n                        dispatch('ADD_ITEM', {\n                            source,\n                            index,\n                            interactionMethod,\n                            success,\n                            failure,\n                            options,\n                        });\n                    })\n                    .catch(() => {}); // no need to handle this catch state for now\n\n                if (forceRevert) return;\n            }\n\n            // remove first item as it will be replaced by this item\n            dispatch('REMOVE_ITEM', { query: item.id });\n        }\n\n        // where did the file originate\n        const origin =\n            options.type === 'local'\n                ? FileOrigin.LOCAL\n                : options.type === 'limbo'\n                ? FileOrigin.LIMBO\n                : FileOrigin.INPUT;\n\n        // create a new blank item\n        const item = createItem(\n            // where did this file come from\n            origin,\n\n            // an input file never has a server file reference\n            origin === FileOrigin.INPUT ? null : source,\n\n            // file mock data, if defined\n            options.file\n        );\n\n        // set initial meta data\n        Object.keys(options.metadata || {}).forEach(key => {\n            item.setMetadata(key, options.metadata[key]);\n        });\n\n        // created the item, let plugins add methods\n        applyFilters('DID_CREATE_ITEM', item, { query, dispatch });\n\n        // where to insert new items\n        const itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n\n        // adjust index if is not allowed to pick location\n        if (!state.options.itemInsertLocationFreedom) {\n            index = itemInsertLocation === 'before' ? -1 : state.items.length;\n        }\n\n        // add item to list\n        insertItem(state.items, item, index);\n\n        // sort items in list\n        if (isFunction(itemInsertLocation) && source) {\n            sortItems(state, itemInsertLocation);\n        }\n\n        // get a quick reference to the item id\n        const id = item.id;\n\n        // observe item events\n        item.on('init', () => {\n            dispatch('DID_INIT_ITEM', { id });\n        });\n\n        item.on('load-init', () => {\n            dispatch('DID_START_ITEM_LOAD', { id });\n        });\n\n        item.on('load-meta', () => {\n            dispatch('DID_UPDATE_ITEM_META', { id });\n        });\n\n        item.on('load-progress', progress => {\n            dispatch('DID_UPDATE_ITEM_LOAD_PROGRESS', { id, progress });\n        });\n\n        item.on('load-request-error', error => {\n            const mainStatus = dynamicLabel(state.options.labelFileLoadError)(error);\n\n            // is client error, no way to recover\n            if (error.code >= 400 && error.code < 500) {\n                dispatch('DID_THROW_ITEM_INVALID', {\n                    id,\n                    error,\n                    status: {\n                        main: mainStatus,\n                        sub: `${error.code} (${error.body})`,\n                    },\n                });\n\n                // reject the file so can be dealt with through API\n                failure({ error, file: createItemAPI(item) });\n                return;\n            }\n\n            // is possible server error, so might be possible to retry\n            dispatch('DID_THROW_ITEM_LOAD_ERROR', {\n                id,\n                error,\n                status: {\n                    main: mainStatus,\n                    sub: state.options.labelTapToRetry,\n                },\n            });\n        });\n\n        item.on('load-file-error', error => {\n            dispatch('DID_THROW_ITEM_INVALID', {\n                id,\n                error: error.status,\n                status: error.status,\n            });\n            failure({ error: error.status, file: createItemAPI(item) });\n        });\n\n        item.on('load-abort', () => {\n            dispatch('REMOVE_ITEM', { query: id });\n        });\n\n        item.on('load-skip', () => {\n            dispatch('COMPLETE_LOAD_ITEM', {\n                query: id,\n                item,\n                data: {\n                    source,\n                    success,\n                },\n            });\n        });\n\n        item.on('load', () => {\n            const handleAdd = shouldAdd => {\n                // no should not add this file\n                if (!shouldAdd) {\n                    dispatch('REMOVE_ITEM', {\n                        query: id,\n                    });\n                    return;\n                }\n\n                // now interested in metadata updates\n                item.on('metadata-update', change => {\n                    dispatch('DID_UPDATE_ITEM_METADATA', { id, change });\n                });\n\n                // let plugins decide if the output data should be prepared at this point\n                // means we'll do this and wait for idle state\n                applyFilterChain('SHOULD_PREPARE_OUTPUT', false, { item, query }).then(\n                    shouldPrepareOutput => {\n                        // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                        const beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                        if (beforePrepareFile)\n                            shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                        const loadComplete = () => {\n                            dispatch('COMPLETE_LOAD_ITEM', {\n                                query: id,\n                                item,\n                                data: {\n                                    source,\n                                    success,\n                                },\n                            });\n\n                            listUpdated(dispatch, state);\n                        };\n\n                        // exit\n                        if (shouldPrepareOutput) {\n                            // wait for idle state and then run PREPARE_OUTPUT\n                            dispatch(\n                                'REQUEST_PREPARE_OUTPUT',\n                                {\n                                    query: id,\n                                    item,\n                                    success: file => {\n                                        dispatch('DID_PREPARE_OUTPUT', { id, file });\n                                        loadComplete();\n                                    },\n                                },\n                                true\n                            );\n\n                            return;\n                        }\n\n                        loadComplete();\n                    }\n                );\n            };\n\n            // item loaded, allow plugins to\n            // - read data (quickly)\n            // - add metadata\n            applyFilterChain('DID_LOAD_ITEM', item, { query, dispatch })\n                .then(() => {\n                    optionalPromise(query('GET_BEFORE_ADD_FILE'), createItemAPI(item)).then(\n                        handleAdd\n                    );\n                })\n                .catch(e => {\n                    if (!e || !e.error || !e.status) return handleAdd(false);\n                    dispatch('DID_THROW_ITEM_INVALID', {\n                        id,\n                        error: e.error,\n                        status: e.status,\n                    });\n                });\n        });\n\n        item.on('process-start', () => {\n            dispatch('DID_START_ITEM_PROCESSING', { id });\n        });\n\n        item.on('process-progress', progress => {\n            dispatch('DID_UPDATE_ITEM_PROCESS_PROGRESS', { id, progress });\n        });\n\n        item.on('process-error', error => {\n            dispatch('DID_THROW_ITEM_PROCESSING_ERROR', {\n                id,\n                error,\n                status: {\n                    main: dynamicLabel(state.options.labelFileProcessingError)(error),\n                    sub: state.options.labelTapToRetry,\n                },\n            });\n        });\n\n        item.on('process-revert-error', error => {\n            dispatch('DID_THROW_ITEM_PROCESSING_REVERT_ERROR', {\n                id,\n                error,\n                status: {\n                    main: dynamicLabel(state.options.labelFileProcessingRevertError)(error),\n                    sub: state.options.labelTapToRetry,\n                },\n            });\n        });\n\n        item.on('process-complete', serverFileReference => {\n            dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                id,\n                error: null,\n                serverFileReference,\n            });\n            dispatch('DID_DEFINE_VALUE', { id, value: serverFileReference });\n        });\n\n        item.on('process-abort', () => {\n            dispatch('DID_ABORT_ITEM_PROCESSING', { id });\n        });\n\n        item.on('process-revert', () => {\n            dispatch('DID_REVERT_ITEM_PROCESSING', { id });\n            dispatch('DID_DEFINE_VALUE', { id, value: null });\n        });\n\n        // let view know the item has been inserted\n        dispatch('DID_ADD_ITEM', { id, index, interactionMethod });\n\n        listUpdated(dispatch, state);\n\n        // start loading the source\n        const { url, load, restore, fetch } = state.options.server || {};\n\n        item.load(\n            source,\n\n            // this creates a function that loads the file based on the type of file (string, base64, blob, file) and location of file (local, remote, limbo)\n            createFileLoader(\n                origin === FileOrigin.INPUT\n                    ? // input, if is remote, see if should use custom fetch, else use default fetchBlob\n                      isString(source) && isExternalURL(source)\n                        ? fetch\n                            ? createFetchFunction(url, fetch)\n                            : fetchBlob // remote url\n                        : fetchBlob // try to fetch url\n                    : // limbo or local\n                    origin === FileOrigin.LIMBO\n                    ? createFetchFunction(url, restore) // limbo\n                    : createFetchFunction(url, load) // local\n            ),\n\n            // called when the file is loaded so it can be piped through the filters\n            (file, success, error) => {\n                // let's process the file\n                applyFilterChain('LOAD_FILE', file, { query })\n                    .then(success)\n                    .catch(error);\n            }\n        );\n    },\n\n    REQUEST_PREPARE_OUTPUT: ({ item, success, failure = () => {} }) => {\n        // error response if item archived\n        const err = {\n            error: createResponse('error', 0, 'Item not found'),\n            file: null,\n        };\n\n        // don't handle archived items, an item could have been archived (load aborted) while waiting to be prepared\n        if (item.archived) return failure(err);\n\n        // allow plugins to alter the file data\n        applyFilterChain('PREPARE_OUTPUT', item.file, { query, item }).then(result => {\n            applyFilterChain('COMPLETE_PREPARE_OUTPUT', result, { query, item }).then(result => {\n                // don't handle archived items, an item could have been archived (load aborted) while being prepared\n                if (item.archived) return failure(err);\n\n                // we done!\n                success(result);\n            });\n        });\n    },\n\n    COMPLETE_LOAD_ITEM: ({ item, data }) => {\n        const { success, source } = data;\n\n        // sort items in list\n        const itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n        if (isFunction(itemInsertLocation) && source) {\n            sortItems(state, itemInsertLocation);\n        }\n\n        // let interface know the item has loaded\n        dispatch('DID_LOAD_ITEM', {\n            id: item.id,\n            error: null,\n            serverFileReference: item.origin === FileOrigin.INPUT ? null : source,\n        });\n\n        // item has been successfully loaded and added to the\n        // list of items so can now be safely returned for use\n        success(createItemAPI(item));\n\n        // if this is a local server file we need to show a different state\n        if (item.origin === FileOrigin.LOCAL) {\n            dispatch('DID_LOAD_LOCAL_ITEM', { id: item.id });\n            return;\n        }\n\n        // if is a temp server file we prevent async upload call here (as the file is already on the server)\n        if (item.origin === FileOrigin.LIMBO) {\n            dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                id: item.id,\n                error: null,\n                serverFileReference: source,\n            });\n\n            dispatch('DID_DEFINE_VALUE', {\n                id: item.id,\n                value: item.serverId || source,\n            });\n            return;\n        }\n\n        // id we are allowed to upload the file immediately, lets do it\n        if (query('IS_ASYNC') && state.options.instantUpload) {\n            dispatch('REQUEST_ITEM_PROCESSING', { query: item.id });\n        }\n    },\n\n    RETRY_ITEM_LOAD: getItemByQueryFromState(state, item => {\n        // try loading the source one more time\n        item.retryLoad();\n    }),\n\n    REQUEST_ITEM_PREPARE: getItemByQueryFromState(state, (item, success, failure) => {\n        dispatch(\n            'REQUEST_PREPARE_OUTPUT',\n            {\n                query: item.id,\n                item,\n                success: file => {\n                    dispatch('DID_PREPARE_OUTPUT', { id: item.id, file });\n                    success({\n                        file: item,\n                        output: file,\n                    });\n                },\n                failure,\n            },\n            true\n        );\n    }),\n\n    REQUEST_ITEM_PROCESSING: getItemByQueryFromState(state, (item, success, failure) => {\n        // cannot be queued (or is already queued)\n        const itemCanBeQueuedForProcessing =\n            // waiting for something\n            item.status === ItemStatus.IDLE ||\n            // processing went wrong earlier\n            item.status === ItemStatus.PROCESSING_ERROR;\n\n        // not ready to be processed\n        if (!itemCanBeQueuedForProcessing) {\n            const processNow = () =>\n                dispatch('REQUEST_ITEM_PROCESSING', { query: item, success, failure });\n\n            const process = () => (document.hidden ? processNow() : setTimeout(processNow, 32));\n\n            // if already done processing or tried to revert but didn't work, try again\n            if (\n                item.status === ItemStatus.PROCESSING_COMPLETE ||\n                item.status === ItemStatus.PROCESSING_REVERT_ERROR\n            ) {\n                item.revert(\n                    createRevertFunction(state.options.server.url, state.options.server.revert),\n                    query('GET_FORCE_REVERT')\n                )\n                    .then(process)\n                    .catch(() => {}); // don't continue with processing if something went wrong\n            } else if (item.status === ItemStatus.PROCESSING) {\n                item.abortProcessing().then(process);\n            }\n\n            return;\n        }\n\n        // already queued for processing\n        if (item.status === ItemStatus.PROCESSING_QUEUED) return;\n\n        item.requestProcessing();\n\n        dispatch('DID_REQUEST_ITEM_PROCESSING', { id: item.id });\n\n        dispatch('PROCESS_ITEM', { query: item, success, failure }, true);\n    }),\n\n    PROCESS_ITEM: getItemByQueryFromState(state, (item, success, failure) => {\n        const maxParallelUploads = query('GET_MAX_PARALLEL_UPLOADS');\n        const totalCurrentUploads = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING).length;\n\n        // queue and wait till queue is freed up\n        if (totalCurrentUploads === maxParallelUploads) {\n            // queue for later processing\n            state.processingQueue.push({\n                id: item.id,\n                success,\n                failure,\n            });\n\n            // stop it!\n            return;\n        }\n\n        // if was not queued or is already processing exit here\n        if (item.status === ItemStatus.PROCESSING) return;\n\n        const processNext = () => {\n            // process queueud items\n            const queueEntry = state.processingQueue.shift();\n\n            // no items left\n            if (!queueEntry) return;\n\n            // get item reference\n            const { id, success, failure } = queueEntry;\n            const itemReference = getItemByQuery(state.items, id);\n\n            // if item was archived while in queue, jump to next\n            if (!itemReference || itemReference.archived) {\n                processNext();\n                return;\n            }\n\n            // process queued item\n            dispatch('PROCESS_ITEM', { query: id, success, failure }, true);\n        };\n\n        // we done function\n        item.onOnce('process-complete', () => {\n            success(createItemAPI(item));\n            processNext();\n\n            // if origin is local, and we're instant uploading, trigger remove of original\n            // as revert will remove file from list\n            const server = state.options.server;\n            const instantUpload = state.options.instantUpload;\n            if (instantUpload && item.origin === FileOrigin.LOCAL && isFunction(server.remove)) {\n                const noop = () => {};\n                item.origin = FileOrigin.LIMBO;\n                state.options.server.remove(item.source, noop, noop);\n            }\n\n            // All items processed? No errors?\n            const allItemsProcessed =\n                query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING_COMPLETE).length ===\n                state.items.length;\n            if (allItemsProcessed) {\n                dispatch('DID_COMPLETE_ITEM_PROCESSING_ALL');\n            }\n        });\n\n        // we error function\n        item.onOnce('process-error', error => {\n            failure({ error, file: createItemAPI(item) });\n            processNext();\n        });\n\n        // start file processing\n        const options = state.options;\n        item.process(\n            createFileProcessor(\n                createProcessorFunction(options.server.url, options.server.process, options.name, {\n                    chunkTransferId: item.transferId,\n                    chunkServer: options.server.patch,\n                    chunkUploads: options.chunkUploads,\n                    chunkForce: options.chunkForce,\n                    chunkSize: options.chunkSize,\n                    chunkRetryDelays: options.chunkRetryDelays,\n                }),\n                {\n                    allowMinimumUploadDuration: query('GET_ALLOW_MINIMUM_UPLOAD_DURATION'),\n                }\n            ),\n            // called when the file is about to be processed so it can be piped through the transform filters\n            (file, success, error) => {\n                // allow plugins to alter the file data\n                applyFilterChain('PREPARE_OUTPUT', file, { query, item })\n                    .then(file => {\n                        dispatch('DID_PREPARE_OUTPUT', { id: item.id, file });\n\n                        success(file);\n                    })\n                    .catch(error);\n            }\n        );\n    }),\n\n    RETRY_ITEM_PROCESSING: getItemByQueryFromState(state, item => {\n        dispatch('REQUEST_ITEM_PROCESSING', { query: item });\n    }),\n\n    REQUEST_REMOVE_ITEM: getItemByQueryFromState(state, item => {\n        optionalPromise(query('GET_BEFORE_REMOVE_FILE'), createItemAPI(item)).then(shouldRemove => {\n            if (!shouldRemove) {\n                return;\n            }\n            dispatch('REMOVE_ITEM', { query: item });\n        });\n    }),\n\n    RELEASE_ITEM: getItemByQueryFromState(state, item => {\n        item.release();\n    }),\n\n    REMOVE_ITEM: getItemByQueryFromState(state, (item, success, failure, options) => {\n        const removeFromView = () => {\n            // get id reference\n            const id = item.id;\n\n            // archive the item, this does not remove it from the list\n            getItemById(state.items, id).archive();\n\n            // tell the view the item has been removed\n            dispatch('DID_REMOVE_ITEM', { error: null, id, item });\n\n            // now the list has been modified\n            listUpdated(dispatch, state);\n\n            // correctly removed\n            success(createItemAPI(item));\n        };\n\n        // if this is a local file and the `server.remove` function has been configured,\n        // send source there so dev can remove file from server\n        const server = state.options.server;\n        if (\n            item.origin === FileOrigin.LOCAL &&\n            server &&\n            isFunction(server.remove) &&\n            options.remove !== false\n        ) {\n            dispatch('DID_START_ITEM_REMOVE', { id: item.id });\n\n            server.remove(\n                item.source,\n                () => removeFromView(),\n                status => {\n                    dispatch('DID_THROW_ITEM_REMOVE_ERROR', {\n                        id: item.id,\n                        error: createResponse('error', 0, status, null),\n                        status: {\n                            main: dynamicLabel(state.options.labelFileRemoveError)(status),\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                }\n            );\n        } else {\n            // if is requesting revert and can revert need to call revert handler (not calling request_ because that would also trigger beforeRemoveHook)\n            if (\n                (options.revert && item.origin !== FileOrigin.LOCAL && item.serverId !== null) ||\n                // if chunked uploads are enabled and we're uploading in chunks for this specific file\n                // or if the file isn't big enough for chunked uploads but chunkForce is set then call\n                // revert before removing from the view...\n                (state.options.chunkUploads && item.file.size > state.options.chunkSize) ||\n                (state.options.chunkUploads && state.options.chunkForce)\n            ) {\n                item.revert(\n                    createRevertFunction(state.options.server.url, state.options.server.revert),\n                    query('GET_FORCE_REVERT')\n                );\n            }\n\n            // can now safely remove from view\n            removeFromView();\n        }\n    }),\n\n    ABORT_ITEM_LOAD: getItemByQueryFromState(state, item => {\n        item.abortLoad();\n    }),\n\n    ABORT_ITEM_PROCESSING: getItemByQueryFromState(state, item => {\n        // test if is already processed\n        if (item.serverId) {\n            dispatch('REVERT_ITEM_PROCESSING', { id: item.id });\n            return;\n        }\n\n        // abort\n        item.abortProcessing().then(() => {\n            const shouldRemove = state.options.instantUpload;\n            if (shouldRemove) {\n                dispatch('REMOVE_ITEM', { query: item.id });\n            }\n        });\n    }),\n\n    REQUEST_REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, item => {\n        // not instant uploading, revert immediately\n        if (!state.options.instantUpload) {\n            dispatch('REVERT_ITEM_PROCESSING', { query: item });\n            return;\n        }\n\n        // if we're instant uploading the file will also be removed if we revert,\n        // so if a before remove file hook is defined we need to run it now\n        const handleRevert = shouldRevert => {\n            if (!shouldRevert) return;\n            dispatch('REVERT_ITEM_PROCESSING', { query: item });\n        };\n\n        const fn = query('GET_BEFORE_REMOVE_FILE');\n        if (!fn) {\n            return handleRevert(true);\n        }\n\n        const requestRemoveResult = fn(createItemAPI(item));\n        if (requestRemoveResult == null) {\n            // undefined or null\n            return handleRevert(true);\n        }\n\n        if (typeof requestRemoveResult === 'boolean') {\n            return handleRevert(requestRemoveResult);\n        }\n\n        if (typeof requestRemoveResult.then === 'function') {\n            requestRemoveResult.then(handleRevert);\n        }\n    }),\n\n    REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, item => {\n        item.revert(\n            createRevertFunction(state.options.server.url, state.options.server.revert),\n            query('GET_FORCE_REVERT')\n        )\n            .then(() => {\n                const shouldRemove = state.options.instantUpload || isMockItem(item);\n                if (shouldRemove) {\n                    dispatch('REMOVE_ITEM', { query: item.id });\n                }\n            })\n            .catch(() => {});\n    }),\n\n    SET_OPTIONS: ({ options }) => {\n        // get all keys passed\n        const optionKeys = Object.keys(options);\n\n        // get prioritized keyed to include (remove once not in options object)\n        const prioritizedOptionKeys = PrioritizedOptions.filter(key => optionKeys.includes(key));\n\n        // order the keys, prioritized first, then rest\n        const orderedOptionKeys = [\n            // add prioritized first if passed to options, else remove\n            ...prioritizedOptionKeys,\n\n            // prevent duplicate keys\n            ...Object.keys(options).filter(key => !prioritizedOptionKeys.includes(key)),\n        ];\n\n        // dispatch set event for each option\n        orderedOptionKeys.forEach(key => {\n            dispatch(`SET_${fromCamels(key, '_').toUpperCase()}`, {\n                value: options[key],\n            });\n        });\n    },\n});\n\nconst PrioritizedOptions = [\n    'server', // must be processed before \"files\"\n];\n\nconst formatFilename = name => name;\n\nconst createElement$1 = tagName => {\n    return document.createElement(tagName);\n};\n\nconst text = (node, value) => {\n    let textNode = node.childNodes[0];\n    if (!textNode) {\n        textNode = document.createTextNode(value);\n        node.appendChild(textNode);\n    } else if (value !== textNode.nodeValue) {\n        textNode.nodeValue = value;\n    }\n};\n\nconst polarToCartesian = (centerX, centerY, radius, angleInDegrees) => {\n    const angleInRadians = (((angleInDegrees % 360) - 90) * Math.PI) / 180.0;\n    return {\n        x: centerX + radius * Math.cos(angleInRadians),\n        y: centerY + radius * Math.sin(angleInRadians),\n    };\n};\n\nconst describeArc = (x, y, radius, startAngle, endAngle, arcSweep) => {\n    const start = polarToCartesian(x, y, radius, endAngle);\n    const end = polarToCartesian(x, y, radius, startAngle);\n    return ['M', start.x, start.y, 'A', radius, radius, 0, arcSweep, 0, end.x, end.y].join(' ');\n};\n\nconst percentageArc = (x, y, radius, from, to) => {\n    let arcSweep = 1;\n    if (to > from && to - from <= 0.5) {\n        arcSweep = 0;\n    }\n    if (from > to && from - to >= 0.5) {\n        arcSweep = 0;\n    }\n    return describeArc(\n        x,\n        y,\n        radius,\n        Math.min(0.9999, from) * 360,\n        Math.min(0.9999, to) * 360,\n        arcSweep\n    );\n};\n\nconst create = ({ root, props }) => {\n    // start at 0\n    props.spin = false;\n    props.progress = 0;\n    props.opacity = 0;\n\n    // svg\n    const svg = createElement('svg');\n    root.ref.path = createElement('path', {\n        'stroke-width': 2,\n        'stroke-linecap': 'round',\n    });\n    svg.appendChild(root.ref.path);\n\n    root.ref.svg = svg;\n\n    root.appendChild(svg);\n};\n\nconst write = ({ root, props }) => {\n    if (props.opacity === 0) {\n        return;\n    }\n\n    if (props.align) {\n        root.element.dataset.align = props.align;\n    }\n\n    // get width of stroke\n    const ringStrokeWidth = parseInt(attr(root.ref.path, 'stroke-width'), 10);\n\n    // calculate size of ring\n    const size = root.rect.element.width * 0.5;\n\n    // ring state\n    let ringFrom = 0;\n    let ringTo = 0;\n\n    // now in busy mode\n    if (props.spin) {\n        ringFrom = 0;\n        ringTo = 0.5;\n    } else {\n        ringFrom = 0;\n        ringTo = props.progress;\n    }\n\n    // get arc path\n    const coordinates = percentageArc(size, size, size - ringStrokeWidth, ringFrom, ringTo);\n\n    // update progress bar\n    attr(root.ref.path, 'd', coordinates);\n\n    // hide while contains 0 value\n    attr(root.ref.path, 'stroke-opacity', props.spin || props.progress > 0 ? 1 : 0);\n};\n\nconst progressIndicator = createView({\n    tag: 'div',\n    name: 'progress-indicator',\n    ignoreRectUpdate: true,\n    ignoreRect: true,\n    create,\n    write,\n    mixins: {\n        apis: ['progress', 'spin', 'align'],\n        styles: ['opacity'],\n        animations: {\n            opacity: { type: 'tween', duration: 500 },\n            progress: {\n                type: 'spring',\n                stiffness: 0.95,\n                damping: 0.65,\n                mass: 10,\n            },\n        },\n    },\n});\n\nconst create$1 = ({ root, props }) => {\n    root.element.innerHTML = (props.icon || '') + `<span>${props.label}</span>`;\n\n    props.isDisabled = false;\n};\n\nconst write$1 = ({ root, props }) => {\n    const { isDisabled } = props;\n    const shouldDisable = root.query('GET_DISABLED') || props.opacity === 0;\n\n    if (shouldDisable && !isDisabled) {\n        props.isDisabled = true;\n        attr(root.element, 'disabled', 'disabled');\n    } else if (!shouldDisable && isDisabled) {\n        props.isDisabled = false;\n        root.element.removeAttribute('disabled');\n    }\n};\n\nconst fileActionButton = createView({\n    tag: 'button',\n    attributes: {\n        type: 'button',\n    },\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    name: 'file-action-button',\n    mixins: {\n        apis: ['label'],\n        styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n        animations: {\n            scaleX: 'spring',\n            scaleY: 'spring',\n            translateX: 'spring',\n            translateY: 'spring',\n            opacity: { type: 'tween', duration: 250 },\n        },\n        listeners: true,\n    },\n    create: create$1,\n    write: write$1,\n});\n\nconst toNaturalFileSize = (bytes, decimalSeparator = '.', base = 1000, options = {}) => {\n    const {\n        labelBytes = 'bytes',\n        labelKilobytes = 'KB',\n        labelMegabytes = 'MB',\n        labelGigabytes = 'GB',\n    } = options;\n\n    // no negative byte sizes\n    bytes = Math.round(Math.abs(bytes));\n\n    const KB = base;\n    const MB = base * base;\n    const GB = base * base * base;\n\n    // just bytes\n    if (bytes < KB) {\n        return `${bytes} ${labelBytes}`;\n    }\n\n    // kilobytes\n    if (bytes < MB) {\n        return `${Math.floor(bytes / KB)} ${labelKilobytes}`;\n    }\n\n    // megabytes\n    if (bytes < GB) {\n        return `${removeDecimalsWhenZero(bytes / MB, 1, decimalSeparator)} ${labelMegabytes}`;\n    }\n\n    // gigabytes\n    return `${removeDecimalsWhenZero(bytes / GB, 2, decimalSeparator)} ${labelGigabytes}`;\n};\n\nconst removeDecimalsWhenZero = (value, decimalCount, separator) => {\n    return value\n        .toFixed(decimalCount)\n        .split('.')\n        .filter(part => part !== '0')\n        .join(separator);\n};\n\nconst create$2 = ({ root, props }) => {\n    // filename\n    const fileName = createElement$1('span');\n    fileName.className = 'filepond--file-info-main';\n    // hide for screenreaders\n    // the file is contained in a fieldset with legend that contains the filename\n    // no need to read it twice\n    attr(fileName, 'aria-hidden', 'true');\n    root.appendChild(fileName);\n    root.ref.fileName = fileName;\n\n    // filesize\n    const fileSize = createElement$1('span');\n    fileSize.className = 'filepond--file-info-sub';\n    root.appendChild(fileSize);\n    root.ref.fileSize = fileSize;\n\n    // set initial values\n    text(fileSize, root.query('GET_LABEL_FILE_WAITING_FOR_SIZE'));\n    text(fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n};\n\nconst updateFile = ({ root, props }) => {\n    text(\n        root.ref.fileSize,\n        toNaturalFileSize(\n            root.query('GET_ITEM_SIZE', props.id),\n            '.',\n            root.query('GET_FILE_SIZE_BASE'),\n            root.query('GET_FILE_SIZE_LABELS', root.query)\n        )\n    );\n    text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n};\n\nconst updateFileSizeOnError = ({ root, props }) => {\n    // if size is available don't fallback to unknown size message\n    if (isInt(root.query('GET_ITEM_SIZE', props.id))) {\n        updateFile({ root, props });\n        return;\n    }\n\n    text(root.ref.fileSize, root.query('GET_LABEL_FILE_SIZE_NOT_AVAILABLE'));\n};\n\nconst fileInfo = createView({\n    name: 'file-info',\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    write: createRoute({\n        DID_LOAD_ITEM: updateFile,\n        DID_UPDATE_ITEM_META: updateFile,\n        DID_THROW_ITEM_LOAD_ERROR: updateFileSizeOnError,\n        DID_THROW_ITEM_INVALID: updateFileSizeOnError,\n    }),\n    didCreateView: root => {\n        applyFilters('CREATE_VIEW', { ...root, view: root });\n    },\n    create: create$2,\n    mixins: {\n        styles: ['translateX', 'translateY'],\n        animations: {\n            translateX: 'spring',\n            translateY: 'spring',\n        },\n    },\n});\n\nconst toPercentage = value => Math.round(value * 100);\n\nconst create$3 = ({ root }) => {\n    // main status\n    const main = createElement$1('span');\n    main.className = 'filepond--file-status-main';\n    root.appendChild(main);\n    root.ref.main = main;\n\n    // sub status\n    const sub = createElement$1('span');\n    sub.className = 'filepond--file-status-sub';\n    root.appendChild(sub);\n    root.ref.sub = sub;\n\n    didSetItemLoadProgress({ root, action: { progress: null } });\n};\n\nconst didSetItemLoadProgress = ({ root, action }) => {\n    const title =\n        action.progress === null\n            ? root.query('GET_LABEL_FILE_LOADING')\n            : `${root.query('GET_LABEL_FILE_LOADING')} ${toPercentage(action.progress)}%`;\n    text(root.ref.main, title);\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n};\n\nconst didSetItemProcessProgress = ({ root, action }) => {\n    const title =\n        action.progress === null\n            ? root.query('GET_LABEL_FILE_PROCESSING')\n            : `${root.query('GET_LABEL_FILE_PROCESSING')} ${toPercentage(action.progress)}%`;\n    text(root.ref.main, title);\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n};\n\nconst didRequestItemProcessing = ({ root }) => {\n    text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING'));\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n};\n\nconst didAbortItemProcessing = ({ root }) => {\n    text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_ABORTED'));\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_RETRY'));\n};\n\nconst didCompleteItemProcessing = ({ root }) => {\n    text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_COMPLETE'));\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_UNDO'));\n};\n\nconst clear = ({ root }) => {\n    text(root.ref.main, '');\n    text(root.ref.sub, '');\n};\n\nconst error = ({ root, action }) => {\n    text(root.ref.main, action.status.main);\n    text(root.ref.sub, action.status.sub);\n};\n\nconst fileStatus = createView({\n    name: 'file-status',\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    write: createRoute({\n        DID_LOAD_ITEM: clear,\n        DID_REVERT_ITEM_PROCESSING: clear,\n        DID_REQUEST_ITEM_PROCESSING: didRequestItemProcessing,\n        DID_ABORT_ITEM_PROCESSING: didAbortItemProcessing,\n        DID_COMPLETE_ITEM_PROCESSING: didCompleteItemProcessing,\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: didSetItemProcessProgress,\n        DID_UPDATE_ITEM_LOAD_PROGRESS: didSetItemLoadProgress,\n        DID_THROW_ITEM_LOAD_ERROR: error,\n        DID_THROW_ITEM_INVALID: error,\n        DID_THROW_ITEM_PROCESSING_ERROR: error,\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: error,\n        DID_THROW_ITEM_REMOVE_ERROR: error,\n    }),\n    didCreateView: root => {\n        applyFilters('CREATE_VIEW', { ...root, view: root });\n    },\n    create: create$3,\n    mixins: {\n        styles: ['translateX', 'translateY', 'opacity'],\n        animations: {\n            opacity: { type: 'tween', duration: 250 },\n            translateX: 'spring',\n            translateY: 'spring',\n        },\n    },\n});\n\n/**\n * Button definitions for the file view\n */\n\nconst Buttons = {\n    AbortItemLoad: {\n        label: 'GET_LABEL_BUTTON_ABORT_ITEM_LOAD',\n        action: 'ABORT_ITEM_LOAD',\n        className: 'filepond--action-abort-item-load',\n        align: 'LOAD_INDICATOR_POSITION', // right\n    },\n    RetryItemLoad: {\n        label: 'GET_LABEL_BUTTON_RETRY_ITEM_LOAD',\n        action: 'RETRY_ITEM_LOAD',\n        icon: 'GET_ICON_RETRY',\n        className: 'filepond--action-retry-item-load',\n        align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n    },\n    RemoveItem: {\n        label: 'GET_LABEL_BUTTON_REMOVE_ITEM',\n        action: 'REQUEST_REMOVE_ITEM',\n        icon: 'GET_ICON_REMOVE',\n        className: 'filepond--action-remove-item',\n        align: 'BUTTON_REMOVE_ITEM_POSITION', // left\n    },\n    ProcessItem: {\n        label: 'GET_LABEL_BUTTON_PROCESS_ITEM',\n        action: 'REQUEST_ITEM_PROCESSING',\n        icon: 'GET_ICON_PROCESS',\n        className: 'filepond--action-process-item',\n        align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n    },\n    AbortItemProcessing: {\n        label: 'GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING',\n        action: 'ABORT_ITEM_PROCESSING',\n        className: 'filepond--action-abort-item-processing',\n        align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n    },\n    RetryItemProcessing: {\n        label: 'GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING',\n        action: 'RETRY_ITEM_PROCESSING',\n        icon: 'GET_ICON_RETRY',\n        className: 'filepond--action-retry-item-processing',\n        align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n    },\n    RevertItemProcessing: {\n        label: 'GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING',\n        action: 'REQUEST_REVERT_ITEM_PROCESSING',\n        icon: 'GET_ICON_UNDO',\n        className: 'filepond--action-revert-item-processing',\n        align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n    },\n};\n\n// make a list of buttons, we can then remove buttons from this list if they're disabled\nconst ButtonKeys = [];\nforin(Buttons, key => {\n    ButtonKeys.push(key);\n});\n\nconst calculateFileInfoOffset = root => {\n    if (getRemoveIndicatorAligment(root) === 'right') return 0;\n    const buttonRect = root.ref.buttonRemoveItem.rect.element;\n    return buttonRect.hidden ? null : buttonRect.width + buttonRect.left;\n};\n\nconst calculateButtonWidth = root => {\n    const buttonRect = root.ref.buttonAbortItemLoad.rect.element;\n    return buttonRect.width;\n};\n\n// Force on full pixels so text stays crips\nconst calculateFileVerticalCenterOffset = root =>\n    Math.floor(root.ref.buttonRemoveItem.rect.element.height / 4);\nconst calculateFileHorizontalCenterOffset = root =>\n    Math.floor(root.ref.buttonRemoveItem.rect.element.left / 2);\n\nconst getLoadIndicatorAlignment = root => root.query('GET_STYLE_LOAD_INDICATOR_POSITION');\nconst getProcessIndicatorAlignment = root => root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION');\nconst getRemoveIndicatorAligment = root => root.query('GET_STYLE_BUTTON_REMOVE_ITEM_POSITION');\n\nconst DefaultStyle = {\n    buttonAbortItemLoad: { opacity: 0 },\n    buttonRetryItemLoad: { opacity: 0 },\n    buttonRemoveItem: { opacity: 0 },\n    buttonProcessItem: { opacity: 0 },\n    buttonAbortItemProcessing: { opacity: 0 },\n    buttonRetryItemProcessing: { opacity: 0 },\n    buttonRevertItemProcessing: { opacity: 0 },\n    loadProgressIndicator: { opacity: 0, align: getLoadIndicatorAlignment },\n    processProgressIndicator: { opacity: 0, align: getProcessIndicatorAlignment },\n    processingCompleteIndicator: { opacity: 0, scaleX: 0.75, scaleY: 0.75 },\n    info: { translateX: 0, translateY: 0, opacity: 0 },\n    status: { translateX: 0, translateY: 0, opacity: 0 },\n};\n\nconst IdleStyle = {\n    buttonRemoveItem: { opacity: 1 },\n    buttonProcessItem: { opacity: 1 },\n    info: { translateX: calculateFileInfoOffset },\n    status: { translateX: calculateFileInfoOffset },\n};\n\nconst ProcessingStyle = {\n    buttonAbortItemProcessing: { opacity: 1 },\n    processProgressIndicator: { opacity: 1 },\n    status: { opacity: 1 },\n};\n\nconst StyleMap = {\n    DID_THROW_ITEM_INVALID: {\n        buttonRemoveItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { translateX: calculateFileInfoOffset, opacity: 1 },\n    },\n    DID_START_ITEM_LOAD: {\n        buttonAbortItemLoad: { opacity: 1 },\n        loadProgressIndicator: { opacity: 1 },\n        status: { opacity: 1 },\n    },\n    DID_THROW_ITEM_LOAD_ERROR: {\n        buttonRetryItemLoad: { opacity: 1 },\n        buttonRemoveItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { opacity: 1 },\n    },\n    DID_START_ITEM_REMOVE: {\n        processProgressIndicator: { opacity: 1, align: getRemoveIndicatorAligment },\n        info: { translateX: calculateFileInfoOffset },\n        status: { opacity: 0 },\n    },\n    DID_THROW_ITEM_REMOVE_ERROR: {\n        processProgressIndicator: { opacity: 0, align: getRemoveIndicatorAligment },\n        buttonRemoveItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { opacity: 1, translateX: calculateFileInfoOffset },\n    },\n    DID_LOAD_ITEM: IdleStyle,\n    DID_LOAD_LOCAL_ITEM: {\n        buttonRemoveItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { translateX: calculateFileInfoOffset },\n    },\n    DID_START_ITEM_PROCESSING: ProcessingStyle,\n    DID_REQUEST_ITEM_PROCESSING: ProcessingStyle,\n    DID_UPDATE_ITEM_PROCESS_PROGRESS: ProcessingStyle,\n    DID_COMPLETE_ITEM_PROCESSING: {\n        buttonRevertItemProcessing: { opacity: 1 },\n        info: { opacity: 1 },\n        status: { opacity: 1 },\n    },\n    DID_THROW_ITEM_PROCESSING_ERROR: {\n        buttonRemoveItem: { opacity: 1 },\n        buttonRetryItemProcessing: { opacity: 1 },\n        status: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n    },\n    DID_THROW_ITEM_PROCESSING_REVERT_ERROR: {\n        buttonRevertItemProcessing: { opacity: 1 },\n        status: { opacity: 1 },\n        info: { opacity: 1 },\n    },\n    DID_ABORT_ITEM_PROCESSING: {\n        buttonRemoveItem: { opacity: 1 },\n        buttonProcessItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { opacity: 1 },\n    },\n    DID_REVERT_ITEM_PROCESSING: IdleStyle,\n};\n\n// complete indicator view\nconst processingCompleteIndicatorView = createView({\n    create: ({ root }) => {\n        root.element.innerHTML = root.query('GET_ICON_DONE');\n    },\n    name: 'processing-complete-indicator',\n    ignoreRect: true,\n    mixins: {\n        styles: ['scaleX', 'scaleY', 'opacity'],\n        animations: {\n            scaleX: 'spring',\n            scaleY: 'spring',\n            opacity: { type: 'tween', duration: 250 },\n        },\n    },\n});\n\n/**\n * Creates the file view\n */\nconst create$4 = ({ root, props }) => {\n    // copy Buttons object\n    const LocalButtons = Object.keys(Buttons).reduce((prev, curr) => {\n        prev[curr] = { ...Buttons[curr] };\n        return prev;\n    }, {});\n\n    const { id } = props;\n\n    // allow reverting upload\n    const allowRevert = root.query('GET_ALLOW_REVERT');\n\n    // allow remove file\n    const allowRemove = root.query('GET_ALLOW_REMOVE');\n\n    // allow processing upload\n    const allowProcess = root.query('GET_ALLOW_PROCESS');\n\n    // is instant uploading, need this to determine the icon of the undo button\n    const instantUpload = root.query('GET_INSTANT_UPLOAD');\n\n    // is async set up\n    const isAsync = root.query('IS_ASYNC');\n\n    // should align remove item buttons\n    const alignRemoveItemButton = root.query('GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN');\n\n    // enabled buttons array\n    let buttonFilter;\n    if (isAsync) {\n        if (allowProcess && !allowRevert) {\n            // only remove revert button\n            buttonFilter = key => !/RevertItemProcessing/.test(key);\n        } else if (!allowProcess && allowRevert) {\n            // only remove process button\n            buttonFilter = key => !/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(key);\n        } else if (!allowProcess && !allowRevert) {\n            // remove all process buttons\n            buttonFilter = key => !/Process/.test(key);\n        }\n    } else {\n        // no process controls available\n        buttonFilter = key => !/Process/.test(key);\n    }\n\n    const enabledButtons = buttonFilter ? ButtonKeys.filter(buttonFilter) : ButtonKeys.concat();\n\n    // update icon and label for revert button when instant uploading\n    if (instantUpload && allowRevert) {\n        LocalButtons['RevertItemProcessing'].label = 'GET_LABEL_BUTTON_REMOVE_ITEM';\n        LocalButtons['RevertItemProcessing'].icon = 'GET_ICON_REMOVE';\n    }\n\n    // remove last button (revert) if not allowed\n    if (isAsync && !allowRevert) {\n        const map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n        map.info.translateX = calculateFileHorizontalCenterOffset;\n        map.info.translateY = calculateFileVerticalCenterOffset;\n        map.status.translateY = calculateFileVerticalCenterOffset;\n        map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n    }\n\n    // should align center\n    if (isAsync && !allowProcess) {\n        [\n            'DID_START_ITEM_PROCESSING',\n            'DID_REQUEST_ITEM_PROCESSING',\n            'DID_UPDATE_ITEM_PROCESS_PROGRESS',\n            'DID_THROW_ITEM_PROCESSING_ERROR',\n        ].forEach(key => {\n            StyleMap[key].status.translateY = calculateFileVerticalCenterOffset;\n        });\n        StyleMap['DID_THROW_ITEM_PROCESSING_ERROR'].status.translateX = calculateButtonWidth;\n    }\n\n    // move remove button to right\n    if (alignRemoveItemButton && allowRevert) {\n        LocalButtons['RevertItemProcessing'].align = 'BUTTON_REMOVE_ITEM_POSITION';\n        const map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n        map.info.translateX = calculateFileInfoOffset;\n        map.status.translateY = calculateFileVerticalCenterOffset;\n        map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n    }\n\n    // show/hide RemoveItem button\n    if (!allowRemove) {\n        LocalButtons['RemoveItem'].disabled = true;\n    }\n\n    // create the button views\n    forin(LocalButtons, (key, definition) => {\n        // create button\n        const buttonView = root.createChildView(fileActionButton, {\n            label: root.query(definition.label),\n            icon: root.query(definition.icon),\n            opacity: 0,\n        });\n\n        // should be appended?\n        if (enabledButtons.includes(key)) {\n            root.appendChildView(buttonView);\n        }\n\n        // toggle\n        if (definition.disabled) {\n            buttonView.element.setAttribute('disabled', 'disabled');\n            buttonView.element.setAttribute('hidden', 'hidden');\n        }\n\n        // add position attribute\n        buttonView.element.dataset.align = root.query(`GET_STYLE_${definition.align}`);\n\n        // add class\n        buttonView.element.classList.add(definition.className);\n\n        // handle interactions\n        buttonView.on('click', e => {\n            e.stopPropagation();\n            if (definition.disabled) return;\n            root.dispatch(definition.action, { query: id });\n        });\n\n        // set reference\n        root.ref[`button${key}`] = buttonView;\n    });\n\n    // checkmark\n    root.ref.processingCompleteIndicator = root.appendChildView(\n        root.createChildView(processingCompleteIndicatorView)\n    );\n    root.ref.processingCompleteIndicator.element.dataset.align = root.query(\n        `GET_STYLE_BUTTON_PROCESS_ITEM_POSITION`\n    );\n\n    // create file info view\n    root.ref.info = root.appendChildView(root.createChildView(fileInfo, { id }));\n\n    // create file status view\n    root.ref.status = root.appendChildView(root.createChildView(fileStatus, { id }));\n\n    // add progress indicators\n    const loadIndicatorView = root.appendChildView(\n        root.createChildView(progressIndicator, {\n            opacity: 0,\n            align: root.query(`GET_STYLE_LOAD_INDICATOR_POSITION`),\n        })\n    );\n    loadIndicatorView.element.classList.add('filepond--load-indicator');\n    root.ref.loadProgressIndicator = loadIndicatorView;\n\n    const progressIndicatorView = root.appendChildView(\n        root.createChildView(progressIndicator, {\n            opacity: 0,\n            align: root.query(`GET_STYLE_PROGRESS_INDICATOR_POSITION`),\n        })\n    );\n    progressIndicatorView.element.classList.add('filepond--process-indicator');\n    root.ref.processProgressIndicator = progressIndicatorView;\n\n    // current active styles\n    root.ref.activeStyles = [];\n};\n\nconst write$2 = ({ root, actions, props }) => {\n    // route actions\n    route({ root, actions, props });\n\n    // select last state change action\n    let action = actions\n        .concat()\n        .filter(action => /^DID_/.test(action.type))\n        .reverse()\n        .find(action => StyleMap[action.type]);\n\n    // a new action happened, let's get the matching styles\n    if (action) {\n        // define new active styles\n        root.ref.activeStyles = [];\n\n        const stylesToApply = StyleMap[action.type];\n        forin(DefaultStyle, (name, defaultStyles) => {\n            // get reference to control\n            const control = root.ref[name];\n\n            // loop over all styles for this control\n            forin(defaultStyles, (key, defaultValue) => {\n                const value =\n                    stylesToApply[name] && typeof stylesToApply[name][key] !== 'undefined'\n                        ? stylesToApply[name][key]\n                        : defaultValue;\n                root.ref.activeStyles.push({ control, key, value });\n            });\n        });\n    }\n\n    // apply active styles to element\n    root.ref.activeStyles.forEach(({ control, key, value }) => {\n        control[key] = typeof value === 'function' ? value(root) : value;\n    });\n};\n\nconst route = createRoute({\n    DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING: ({ root, action }) => {\n        root.ref.buttonAbortItemProcessing.label = action.value;\n    },\n    DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD: ({ root, action }) => {\n        root.ref.buttonAbortItemLoad.label = action.value;\n    },\n    DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL: ({ root, action }) => {\n        root.ref.buttonAbortItemRemoval.label = action.value;\n    },\n    DID_REQUEST_ITEM_PROCESSING: ({ root }) => {\n        root.ref.processProgressIndicator.spin = true;\n        root.ref.processProgressIndicator.progress = 0;\n    },\n    DID_START_ITEM_LOAD: ({ root }) => {\n        root.ref.loadProgressIndicator.spin = true;\n        root.ref.loadProgressIndicator.progress = 0;\n    },\n    DID_START_ITEM_REMOVE: ({ root }) => {\n        root.ref.processProgressIndicator.spin = true;\n        root.ref.processProgressIndicator.progress = 0;\n    },\n    DID_UPDATE_ITEM_LOAD_PROGRESS: ({ root, action }) => {\n        root.ref.loadProgressIndicator.spin = false;\n        root.ref.loadProgressIndicator.progress = action.progress;\n    },\n    DID_UPDATE_ITEM_PROCESS_PROGRESS: ({ root, action }) => {\n        root.ref.processProgressIndicator.spin = false;\n        root.ref.processProgressIndicator.progress = action.progress;\n    },\n});\n\nconst file = createView({\n    create: create$4,\n    write: write$2,\n    didCreateView: root => {\n        applyFilters('CREATE_VIEW', { ...root, view: root });\n    },\n    name: 'file',\n});\n\n/**\n * Creates the file view\n */\nconst create$5 = ({ root, props }) => {\n    // filename\n    root.ref.fileName = createElement$1('legend');\n    root.appendChild(root.ref.fileName);\n\n    // file appended\n    root.ref.file = root.appendChildView(root.createChildView(file, { id: props.id }));\n\n    // data has moved to data.js\n    root.ref.data = false;\n};\n\n/**\n * Data storage\n */\nconst didLoadItem = ({ root, props }) => {\n    // updates the legend of the fieldset so screenreaders can better group buttons\n    text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n};\n\nconst fileWrapper = createView({\n    create: create$5,\n    ignoreRect: true,\n    write: createRoute({\n        DID_LOAD_ITEM: didLoadItem,\n    }),\n    didCreateView: root => {\n        applyFilters('CREATE_VIEW', { ...root, view: root });\n    },\n    tag: 'fieldset',\n    name: 'file-wrapper',\n});\n\nconst PANEL_SPRING_PROPS = { type: 'spring', damping: 0.6, mass: 7 };\n\nconst create$6 = ({ root, props }) => {\n    [\n        {\n            name: 'top',\n        },\n        {\n            name: 'center',\n            props: {\n                translateY: null,\n                scaleY: null,\n            },\n            mixins: {\n                animations: {\n                    scaleY: PANEL_SPRING_PROPS,\n                },\n                styles: ['translateY', 'scaleY'],\n            },\n        },\n        {\n            name: 'bottom',\n            props: {\n                translateY: null,\n            },\n            mixins: {\n                animations: {\n                    translateY: PANEL_SPRING_PROPS,\n                },\n                styles: ['translateY'],\n            },\n        },\n    ].forEach(section => {\n        createSection(root, section, props.name);\n    });\n\n    root.element.classList.add(`filepond--${props.name}`);\n\n    root.ref.scalable = null;\n};\n\nconst createSection = (root, section, className) => {\n    const viewConstructor = createView({\n        name: `panel-${section.name} filepond--${className}`,\n        mixins: section.mixins,\n        ignoreRectUpdate: true,\n    });\n\n    const view = root.createChildView(viewConstructor, section.props);\n\n    root.ref[section.name] = root.appendChildView(view);\n};\n\nconst write$3 = ({ root, props }) => {\n    // update scalable state\n    if (root.ref.scalable === null || props.scalable !== root.ref.scalable) {\n        root.ref.scalable = isBoolean(props.scalable) ? props.scalable : true;\n        root.element.dataset.scalable = root.ref.scalable;\n    }\n\n    // no height, can't set\n    if (!props.height) return;\n\n    // get child rects\n    const topRect = root.ref.top.rect.element;\n    const bottomRect = root.ref.bottom.rect.element;\n\n    // make sure height never is smaller than bottom and top seciton heights combined (will probably never happen, but who knows)\n    const height = Math.max(topRect.height + bottomRect.height, props.height);\n\n    // offset center part\n    root.ref.center.translateY = topRect.height;\n\n    // scale center part\n    // use math ceil to prevent transparent lines because of rounding errors\n    root.ref.center.scaleY = (height - topRect.height - bottomRect.height) / 100;\n\n    // offset bottom part\n    root.ref.bottom.translateY = height - bottomRect.height;\n};\n\nconst panel = createView({\n    name: 'panel',\n    read: ({ root, props }) => (props.heightCurrent = root.ref.bottom.translateY),\n    write: write$3,\n    create: create$6,\n    ignoreRect: true,\n    mixins: {\n        apis: ['height', 'heightCurrent', 'scalable'],\n    },\n});\n\nconst createDragHelper = items => {\n    const itemIds = items.map(item => item.id);\n    let prevIndex = undefined;\n    return {\n        setIndex: index => {\n            prevIndex = index;\n        },\n        getIndex: () => prevIndex,\n        getItemIndex: item => itemIds.indexOf(item.id),\n    };\n};\n\nconst ITEM_TRANSLATE_SPRING = {\n    type: 'spring',\n    stiffness: 0.75,\n    damping: 0.45,\n    mass: 10,\n};\n\nconst ITEM_SCALE_SPRING = 'spring';\n\nconst StateMap = {\n    DID_START_ITEM_LOAD: 'busy',\n    DID_UPDATE_ITEM_LOAD_PROGRESS: 'loading',\n    DID_THROW_ITEM_INVALID: 'load-invalid',\n    DID_THROW_ITEM_LOAD_ERROR: 'load-error',\n    DID_LOAD_ITEM: 'idle',\n    DID_THROW_ITEM_REMOVE_ERROR: 'remove-error',\n    DID_START_ITEM_REMOVE: 'busy',\n    DID_START_ITEM_PROCESSING: 'busy processing',\n    DID_REQUEST_ITEM_PROCESSING: 'busy processing',\n    DID_UPDATE_ITEM_PROCESS_PROGRESS: 'processing',\n    DID_COMPLETE_ITEM_PROCESSING: 'processing-complete',\n    DID_THROW_ITEM_PROCESSING_ERROR: 'processing-error',\n    DID_THROW_ITEM_PROCESSING_REVERT_ERROR: 'processing-revert-error',\n    DID_ABORT_ITEM_PROCESSING: 'cancelled',\n    DID_REVERT_ITEM_PROCESSING: 'idle',\n};\n\n/**\n * Creates the file view\n */\nconst create$7 = ({ root, props }) => {\n    // select\n    root.ref.handleClick = e => root.dispatch('DID_ACTIVATE_ITEM', { id: props.id });\n\n    // set id\n    root.element.id = `filepond--item-${props.id}`;\n    root.element.addEventListener('click', root.ref.handleClick);\n\n    // file view\n    root.ref.container = root.appendChildView(root.createChildView(fileWrapper, { id: props.id }));\n\n    // file panel\n    root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'item-panel' }));\n\n    // default start height\n    root.ref.panel.height = null;\n\n    // by default not marked for removal\n    props.markedForRemoval = false;\n\n    // if not allowed to reorder file items, exit here\n    if (!root.query('GET_ALLOW_REORDER')) return;\n\n    // set to idle so shows grab cursor\n    root.element.dataset.dragState = 'idle';\n\n    const grab = e => {\n        if (!e.isPrimary) return;\n\n        let removedActivateListener = false;\n\n        const origin = {\n            x: e.pageX,\n            y: e.pageY,\n        };\n\n        props.dragOrigin = {\n            x: root.translateX,\n            y: root.translateY,\n        };\n\n        props.dragCenter = {\n            x: e.offsetX,\n            y: e.offsetY,\n        };\n\n        const dragState = createDragHelper(root.query('GET_ACTIVE_ITEMS'));\n\n        root.dispatch('DID_GRAB_ITEM', { id: props.id, dragState });\n\n        const drag = e => {\n            if (!e.isPrimary) return;\n\n            e.stopPropagation();\n            e.preventDefault();\n\n            props.dragOffset = {\n                x: e.pageX - origin.x,\n                y: e.pageY - origin.y,\n            };\n\n            // if dragged stop listening to clicks, will re-add when done dragging\n            const dist =\n                props.dragOffset.x * props.dragOffset.x + props.dragOffset.y * props.dragOffset.y;\n            if (dist > 16 && !removedActivateListener) {\n                removedActivateListener = true;\n                root.element.removeEventListener('click', root.ref.handleClick);\n            }\n\n            root.dispatch('DID_DRAG_ITEM', { id: props.id, dragState });\n        };\n\n        const drop = e => {\n            if (!e.isPrimary) return;\n\n            document.removeEventListener('pointermove', drag);\n            document.removeEventListener('pointerup', drop);\n\n            props.dragOffset = {\n                x: e.pageX - origin.x,\n                y: e.pageY - origin.y,\n            };\n\n            root.dispatch('DID_DROP_ITEM', { id: props.id, dragState });\n\n            // start listening to clicks again\n            if (removedActivateListener) {\n                setTimeout(() => root.element.addEventListener('click', root.ref.handleClick), 0);\n            }\n        };\n\n        document.addEventListener('pointermove', drag);\n        document.addEventListener('pointerup', drop);\n    };\n\n    root.element.addEventListener('pointerdown', grab);\n};\n\nconst route$1 = createRoute({\n    DID_UPDATE_PANEL_HEIGHT: ({ root, action }) => {\n        root.height = action.height;\n    },\n});\n\nconst write$4 = createRoute(\n    {\n        DID_GRAB_ITEM: ({ root, props }) => {\n            props.dragOrigin = {\n                x: root.translateX,\n                y: root.translateY,\n            };\n        },\n        DID_DRAG_ITEM: ({ root }) => {\n            root.element.dataset.dragState = 'drag';\n        },\n        DID_DROP_ITEM: ({ root, props }) => {\n            props.dragOffset = null;\n            props.dragOrigin = null;\n            root.element.dataset.dragState = 'drop';\n        },\n    },\n    ({ root, actions, props, shouldOptimize }) => {\n        if (root.element.dataset.dragState === 'drop') {\n            if (root.scaleX <= 1) {\n                root.element.dataset.dragState = 'idle';\n            }\n        }\n\n        // select last state change action\n        let action = actions\n            .concat()\n            .filter(action => /^DID_/.test(action.type))\n            .reverse()\n            .find(action => StateMap[action.type]);\n\n        // no need to set same state twice\n        if (action && action.type !== props.currentState) {\n            // set current state\n            props.currentState = action.type;\n\n            // set state\n            root.element.dataset.filepondItemState = StateMap[props.currentState] || '';\n        }\n\n        // route actions\n        const aspectRatio =\n            root.query('GET_ITEM_PANEL_ASPECT_RATIO') || root.query('GET_PANEL_ASPECT_RATIO');\n        if (!aspectRatio) {\n            route$1({ root, actions, props });\n            if (!root.height && root.ref.container.rect.element.height > 0) {\n                root.height = root.ref.container.rect.element.height;\n            }\n        } else if (!shouldOptimize) {\n            root.height = root.rect.element.width * aspectRatio;\n        }\n\n        // sync panel height with item height\n        if (shouldOptimize) {\n            root.ref.panel.height = null;\n        }\n\n        root.ref.panel.height = root.height;\n    }\n);\n\nconst item = createView({\n    create: create$7,\n    write: write$4,\n    destroy: ({ root, props }) => {\n        root.element.removeEventListener('click', root.ref.handleClick);\n        root.dispatch('RELEASE_ITEM', { query: props.id });\n    },\n    tag: 'li',\n    name: 'item',\n    mixins: {\n        apis: [\n            'id',\n            'interactionMethod',\n            'markedForRemoval',\n            'spawnDate',\n            'dragCenter',\n            'dragOrigin',\n            'dragOffset',\n        ],\n        styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity', 'height'],\n        animations: {\n            scaleX: ITEM_SCALE_SPRING,\n            scaleY: ITEM_SCALE_SPRING,\n            translateX: ITEM_TRANSLATE_SPRING,\n            translateY: ITEM_TRANSLATE_SPRING,\n            opacity: { type: 'tween', duration: 150 },\n        },\n    },\n});\n\nvar getItemsPerRow = (horizontalSpace, itemWidth) => {\n    // add one pixel leeway, when using percentages for item width total items can be 1.99 per row\n\n    return Math.max(1, Math.floor((horizontalSpace + 1) / itemWidth));\n};\n\nconst getItemIndexByPosition = (view, children, positionInView) => {\n    if (!positionInView) return;\n\n    const horizontalSpace = view.rect.element.width;\n    // const children = view.childViews;\n    const l = children.length;\n    let last = null;\n\n    // -1, don't move items to accomodate (either add to top or bottom)\n    if (l === 0 || positionInView.top < children[0].rect.element.top) return -1;\n\n    // let's get the item width\n    const item = children[0];\n    const itemRect = item.rect.element;\n    const itemHorizontalMargin = itemRect.marginLeft + itemRect.marginRight;\n    const itemWidth = itemRect.width + itemHorizontalMargin;\n    const itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n    // stack\n    if (itemsPerRow === 1) {\n        for (let index = 0; index < l; index++) {\n            const child = children[index];\n            const childMid = child.rect.outer.top + child.rect.element.height * 0.5;\n            if (positionInView.top < childMid) {\n                return index;\n            }\n        }\n        return l;\n    }\n\n    // grid\n    const itemVerticalMargin = itemRect.marginTop + itemRect.marginBottom;\n    const itemHeight = itemRect.height + itemVerticalMargin;\n    for (let index = 0; index < l; index++) {\n        const indexX = index % itemsPerRow;\n        const indexY = Math.floor(index / itemsPerRow);\n\n        const offsetX = indexX * itemWidth;\n        const offsetY = indexY * itemHeight;\n\n        const itemTop = offsetY - itemRect.marginTop;\n        const itemRight = offsetX + itemWidth;\n        const itemBottom = offsetY + itemHeight + itemRect.marginBottom;\n\n        if (positionInView.top < itemBottom && positionInView.top > itemTop) {\n            if (positionInView.left < itemRight) {\n                return index;\n            } else if (index !== l - 1) {\n                last = index;\n            } else {\n                last = null;\n            }\n        }\n    }\n\n    if (last !== null) {\n        return last;\n    }\n\n    return l;\n};\n\nconst dropAreaDimensions = {\n    height: 0,\n    width: 0,\n    get getHeight() {\n        return this.height;\n    },\n    set setHeight(val) {\n        if (this.height === 0 || val === 0) this.height = val;\n    },\n    get getWidth() {\n        return this.width;\n    },\n    set setWidth(val) {\n        if (this.width === 0 || val === 0) this.width = val;\n    },\n    setDimensions: function(height, width) {\n        if (this.height === 0 || height === 0) this.height = height;\n        if (this.width === 0 || width === 0) this.width = width;\n    },\n};\n\nconst create$8 = ({ root }) => {\n    // need to set role to list as otherwise it won't be read as a list by VoiceOver\n    attr(root.element, 'role', 'list');\n\n    root.ref.lastItemSpanwDate = Date.now();\n};\n\n/**\n * Inserts a new item\n * @param root\n * @param action\n */\nconst addItemView = ({ root, action }) => {\n    const { id, index, interactionMethod } = action;\n\n    root.ref.addIndex = index;\n\n    const now = Date.now();\n    let spawnDate = now;\n    let opacity = 1;\n\n    if (interactionMethod !== InteractionMethod.NONE) {\n        opacity = 0;\n        const cooldown = root.query('GET_ITEM_INSERT_INTERVAL');\n        const dist = now - root.ref.lastItemSpanwDate;\n        spawnDate = dist < cooldown ? now + (cooldown - dist) : now;\n    }\n\n    root.ref.lastItemSpanwDate = spawnDate;\n\n    root.appendChildView(\n        root.createChildView(\n            // view type\n            item,\n\n            // props\n            {\n                spawnDate,\n                id,\n                opacity,\n                interactionMethod,\n            }\n        ),\n        index\n    );\n};\n\nconst moveItem = (item, x, y, vx = 0, vy = 1) => {\n    // set to null to remove animation while dragging\n    if (item.dragOffset) {\n        item.translateX = null;\n        item.translateY = null;\n        item.translateX = item.dragOrigin.x + item.dragOffset.x;\n        item.translateY = item.dragOrigin.y + item.dragOffset.y;\n        item.scaleX = 1.025;\n        item.scaleY = 1.025;\n    } else {\n        item.translateX = x;\n        item.translateY = y;\n\n        if (Date.now() > item.spawnDate) {\n            // reveal element\n            if (item.opacity === 0) {\n                introItemView(item, x, y, vx, vy);\n            }\n\n            // make sure is default scale every frame\n            item.scaleX = 1;\n            item.scaleY = 1;\n            item.opacity = 1;\n        }\n    }\n};\n\nconst introItemView = (item, x, y, vx, vy) => {\n    if (item.interactionMethod === InteractionMethod.NONE) {\n        item.translateX = null;\n        item.translateX = x;\n        item.translateY = null;\n        item.translateY = y;\n    } else if (item.interactionMethod === InteractionMethod.DROP) {\n        item.translateX = null;\n        item.translateX = x - vx * 20;\n\n        item.translateY = null;\n        item.translateY = y - vy * 10;\n\n        item.scaleX = 0.8;\n        item.scaleY = 0.8;\n    } else if (item.interactionMethod === InteractionMethod.BROWSE) {\n        item.translateY = null;\n        item.translateY = y - 30;\n    } else if (item.interactionMethod === InteractionMethod.API) {\n        item.translateX = null;\n        item.translateX = x - 30;\n        item.translateY = null;\n    }\n};\n\n/**\n * Removes an existing item\n * @param root\n * @param action\n */\nconst removeItemView = ({ root, action }) => {\n    const { id } = action;\n\n    // get the view matching the given id\n    const view = root.childViews.find(child => child.id === id);\n\n    // if no view found, exit\n    if (!view) {\n        return;\n    }\n\n    // animate view out of view\n    view.scaleX = 0.9;\n    view.scaleY = 0.9;\n    view.opacity = 0;\n\n    // mark for removal\n    view.markedForRemoval = true;\n};\n\nconst getItemHeight = child =>\n    child.rect.element.height +\n    child.rect.element.marginBottom * 0.5 +\n    child.rect.element.marginTop * 0.5;\nconst getItemWidth = child =>\n    child.rect.element.width +\n    child.rect.element.marginLeft * 0.5 +\n    child.rect.element.marginRight * 0.5;\n\nconst dragItem = ({ root, action }) => {\n    const { id, dragState } = action;\n\n    // reference to item\n    const item = root.query('GET_ITEM', { id });\n\n    // get the view matching the given id\n    const view = root.childViews.find(child => child.id === id);\n\n    const numItems = root.childViews.length;\n    const oldIndex = dragState.getItemIndex(item);\n\n    // if no view found, exit\n    if (!view) return;\n\n    const dragPosition = {\n        x: view.dragOrigin.x + view.dragOffset.x + view.dragCenter.x,\n        y: view.dragOrigin.y + view.dragOffset.y + view.dragCenter.y,\n    };\n\n    // get drag area dimensions\n    const dragHeight = getItemHeight(view);\n    const dragWidth = getItemWidth(view);\n\n    // get rows and columns (There will always be at least one row and one column if a file is present)\n    let cols = Math.floor(root.rect.outer.width / dragWidth);\n    if (cols > numItems) cols = numItems;\n\n    // rows are used to find when we have left the preview area bounding box\n    const rows = Math.floor(numItems / cols + 1);\n\n    dropAreaDimensions.setHeight = dragHeight * rows;\n    dropAreaDimensions.setWidth = dragWidth * cols;\n\n    // get new index of dragged item\n    var location = {\n        y: Math.floor(dragPosition.y / dragHeight),\n        x: Math.floor(dragPosition.x / dragWidth),\n        getGridIndex: function getGridIndex() {\n            if (\n                dragPosition.y > dropAreaDimensions.getHeight ||\n                dragPosition.y < 0 ||\n                dragPosition.x > dropAreaDimensions.getWidth ||\n                dragPosition.x < 0\n            )\n                return oldIndex;\n            return this.y * cols + this.x;\n        },\n        getColIndex: function getColIndex() {\n            const items = root.query('GET_ACTIVE_ITEMS');\n            const visibleChildren = root.childViews.filter(child => child.rect.element.height);\n            const children = items.map(item =>\n                visibleChildren.find(childView => childView.id === item.id)\n            );\n            const currentIndex = children.findIndex(child => child === view);\n            const dragHeight = getItemHeight(view);\n            const l = children.length;\n            let idx = l;\n            let childHeight = 0;\n            let childBottom = 0;\n            let childTop = 0;\n            for (let i = 0; i < l; i++) {\n                childHeight = getItemHeight(children[i]);\n                childTop = childBottom;\n                childBottom = childTop + childHeight;\n                if (dragPosition.y < childBottom) {\n                    if (currentIndex > i) {\n                        if (dragPosition.y < childTop + dragHeight) {\n                            idx = i;\n                            break;\n                        }\n                        continue;\n                    }\n                    idx = i;\n                    break;\n                }\n            }\n            return idx;\n        },\n    };\n\n    // get new index\n    const index = cols > 1 ? location.getGridIndex() : location.getColIndex();\n    root.dispatch('MOVE_ITEM', { query: view, index });\n\n    // if the index of the item changed, dispatch reorder action\n    const currentIndex = dragState.getIndex();\n\n    if (currentIndex === undefined || currentIndex !== index) {\n        dragState.setIndex(index);\n\n        if (currentIndex === undefined) return;\n\n        root.dispatch('DID_REORDER_ITEMS', {\n            items: root.query('GET_ACTIVE_ITEMS'),\n            origin: oldIndex,\n            target: index,\n        });\n    }\n};\n\n/**\n * Setup action routes\n */\nconst route$2 = createRoute({\n    DID_ADD_ITEM: addItemView,\n    DID_REMOVE_ITEM: removeItemView,\n    DID_DRAG_ITEM: dragItem,\n});\n\n/**\n * Write to view\n * @param root\n * @param actions\n * @param props\n */\nconst write$5 = ({ root, props, actions, shouldOptimize }) => {\n    // route actions\n    route$2({ root, props, actions });\n\n    const { dragCoordinates } = props;\n\n    // available space on horizontal axis\n    const horizontalSpace = root.rect.element.width;\n\n    // only draw children that have dimensions\n    const visibleChildren = root.childViews.filter(child => child.rect.element.height);\n\n    // sort based on current active items\n    const children = root\n        .query('GET_ACTIVE_ITEMS')\n        .map(item => visibleChildren.find(child => child.id === item.id))\n        .filter(item => item);\n\n    // get index\n    const dragIndex = dragCoordinates\n        ? getItemIndexByPosition(root, children, dragCoordinates)\n        : null;\n\n    // add index is used to reserve the dropped/added item index till the actual item is rendered\n    const addIndex = root.ref.addIndex || null;\n\n    // add index no longer needed till possibly next draw\n    root.ref.addIndex = null;\n\n    let dragIndexOffset = 0;\n    let removeIndexOffset = 0;\n    let addIndexOffset = 0;\n\n    if (children.length === 0) return;\n\n    const childRect = children[0].rect.element;\n    const itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n    const itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n    const itemWidth = childRect.width + itemHorizontalMargin;\n    const itemHeight = childRect.height + itemVerticalMargin;\n    const itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n    // stack\n    if (itemsPerRow === 1) {\n        let offsetY = 0;\n        let dragOffset = 0;\n\n        children.forEach((child, index) => {\n            if (dragIndex) {\n                let dist = index - dragIndex;\n                if (dist === -2) {\n                    dragOffset = -itemVerticalMargin * 0.25;\n                } else if (dist === -1) {\n                    dragOffset = -itemVerticalMargin * 0.75;\n                } else if (dist === 0) {\n                    dragOffset = itemVerticalMargin * 0.75;\n                } else if (dist === 1) {\n                    dragOffset = itemVerticalMargin * 0.25;\n                } else {\n                    dragOffset = 0;\n                }\n            }\n\n            if (shouldOptimize) {\n                child.translateX = null;\n                child.translateY = null;\n            }\n\n            if (!child.markedForRemoval) {\n                moveItem(child, 0, offsetY + dragOffset);\n            }\n\n            let itemHeight = child.rect.element.height + itemVerticalMargin;\n\n            let visualHeight = itemHeight * (child.markedForRemoval ? child.opacity : 1);\n\n            offsetY += visualHeight;\n        });\n    }\n    // grid\n    else {\n        let prevX = 0;\n        let prevY = 0;\n\n        children.forEach((child, index) => {\n            if (index === dragIndex) {\n                dragIndexOffset = 1;\n            }\n\n            if (index === addIndex) {\n                addIndexOffset += 1;\n            }\n\n            if (child.markedForRemoval && child.opacity < 0.5) {\n                removeIndexOffset -= 1;\n            }\n\n            const visualIndex = index + addIndexOffset + dragIndexOffset + removeIndexOffset;\n\n            const indexX = visualIndex % itemsPerRow;\n            const indexY = Math.floor(visualIndex / itemsPerRow);\n\n            const offsetX = indexX * itemWidth;\n            const offsetY = indexY * itemHeight;\n\n            const vectorX = Math.sign(offsetX - prevX);\n            const vectorY = Math.sign(offsetY - prevY);\n\n            prevX = offsetX;\n            prevY = offsetY;\n\n            if (child.markedForRemoval) return;\n\n            if (shouldOptimize) {\n                child.translateX = null;\n                child.translateY = null;\n            }\n\n            moveItem(child, offsetX, offsetY, vectorX, vectorY);\n        });\n    }\n};\n\n/**\n * Filters actions that are meant specifically for a certain child of the list\n * @param child\n * @param actions\n */\nconst filterSetItemActions = (child, actions) =>\n    actions.filter(action => {\n        // if action has an id, filter out actions that don't have this child id\n        if (action.data && action.data.id) {\n            return child.id === action.data.id;\n        }\n\n        // allow all other actions\n        return true;\n    });\n\nconst list = createView({\n    create: create$8,\n    write: write$5,\n    tag: 'ul',\n    name: 'list',\n    didWriteView: ({ root }) => {\n        root.childViews\n            .filter(view => view.markedForRemoval && view.opacity === 0 && view.resting)\n            .forEach(view => {\n                view._destroy();\n                root.removeChildView(view);\n            });\n    },\n    filterFrameActionsForChild: filterSetItemActions,\n    mixins: {\n        apis: ['dragCoordinates'],\n    },\n});\n\nconst create$9 = ({ root, props }) => {\n    root.ref.list = root.appendChildView(root.createChildView(list));\n    props.dragCoordinates = null;\n    props.overflowing = false;\n};\n\nconst storeDragCoordinates = ({ root, props, action }) => {\n    if (!root.query('GET_ITEM_INSERT_LOCATION_FREEDOM')) return;\n    props.dragCoordinates = {\n        left: action.position.scopeLeft - root.ref.list.rect.element.left,\n        top:\n            action.position.scopeTop -\n            (root.rect.outer.top + root.rect.element.marginTop + root.rect.element.scrollTop),\n    };\n};\n\nconst clearDragCoordinates = ({ props }) => {\n    props.dragCoordinates = null;\n};\n\nconst route$3 = createRoute({\n    DID_DRAG: storeDragCoordinates,\n    DID_END_DRAG: clearDragCoordinates,\n});\n\nconst write$6 = ({ root, props, actions }) => {\n    // route actions\n    route$3({ root, props, actions });\n\n    // current drag position\n    root.ref.list.dragCoordinates = props.dragCoordinates;\n\n    // if currently overflowing but no longer received overflow\n    if (props.overflowing && !props.overflow) {\n        props.overflowing = false;\n\n        // reset overflow state\n        root.element.dataset.state = '';\n        root.height = null;\n    }\n\n    // if is not overflowing currently but does receive overflow value\n    if (props.overflow) {\n        const newHeight = Math.round(props.overflow);\n        if (newHeight !== root.height) {\n            props.overflowing = true;\n            root.element.dataset.state = 'overflow';\n            root.height = newHeight;\n        }\n    }\n};\n\nconst listScroller = createView({\n    create: create$9,\n    write: write$6,\n    name: 'list-scroller',\n    mixins: {\n        apis: ['overflow', 'dragCoordinates'],\n        styles: ['height', 'translateY'],\n        animations: {\n            translateY: 'spring',\n        },\n    },\n});\n\nconst attrToggle = (element, name, state, enabledValue = '') => {\n    if (state) {\n        attr(element, name, enabledValue);\n    } else {\n        element.removeAttribute(name);\n    }\n};\n\nconst resetFileInput = input => {\n    // no value, no need to reset\n    if (!input || input.value === '') {\n        return;\n    }\n\n    try {\n        // for modern browsers\n        input.value = '';\n    } catch (err) {}\n\n    // for IE10\n    if (input.value) {\n        // quickly append input to temp form and reset form\n        const form = createElement$1('form');\n        const parentNode = input.parentNode;\n        const ref = input.nextSibling;\n        form.appendChild(input);\n        form.reset();\n\n        // re-inject input where it originally was\n        if (ref) {\n            parentNode.insertBefore(input, ref);\n        } else {\n            parentNode.appendChild(input);\n        }\n    }\n};\n\nconst create$a = ({ root, props }) => {\n    // set id so can be referenced from outside labels\n    root.element.id = `filepond--browser-${props.id}`;\n\n    // set name of element (is removed when a value is set)\n    attr(root.element, 'name', root.query('GET_NAME'));\n\n    // we have to link this element to the status element\n    attr(root.element, 'aria-controls', `filepond--assistant-${props.id}`);\n\n    // set label, we use labelled by as otherwise the screenreader does not read the \"browse\" text in the label (as it has tabindex: 0)\n    attr(root.element, 'aria-labelledby', `filepond--drop-label-${props.id}`);\n\n    // set configurable props\n    setAcceptedFileTypes({ root, action: { value: root.query('GET_ACCEPTED_FILE_TYPES') } });\n    toggleAllowMultiple({ root, action: { value: root.query('GET_ALLOW_MULTIPLE') } });\n    toggleDirectoryFilter({ root, action: { value: root.query('GET_ALLOW_DIRECTORIES_ONLY') } });\n    toggleDisabled({ root });\n    toggleRequired({ root, action: { value: root.query('GET_REQUIRED') } });\n    setCaptureMethod({ root, action: { value: root.query('GET_CAPTURE_METHOD') } });\n\n    // handle changes to the input field\n    root.ref.handleChange = e => {\n        if (!root.element.value) {\n            return;\n        }\n\n        // extract files and move value of webkitRelativePath path to _relativePath\n        const files = Array.from(root.element.files).map(file => {\n            file._relativePath = file.webkitRelativePath;\n            return file;\n        });\n\n        // we add a little delay so the OS file select window can move out of the way before we add our file\n        setTimeout(() => {\n            // load files\n            props.onload(files);\n\n            // reset input, it's just for exposing a method to drop files, should not retain any state\n            resetFileInput(root.element);\n        }, 250);\n    };\n\n    root.element.addEventListener('change', root.ref.handleChange);\n};\n\nconst setAcceptedFileTypes = ({ root, action }) => {\n    if (!root.query('GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE')) return;\n    attrToggle(root.element, 'accept', !!action.value, action.value ? action.value.join(',') : '');\n};\n\nconst toggleAllowMultiple = ({ root, action }) => {\n    attrToggle(root.element, 'multiple', action.value);\n};\n\nconst toggleDirectoryFilter = ({ root, action }) => {\n    attrToggle(root.element, 'webkitdirectory', action.value);\n};\n\nconst toggleDisabled = ({ root }) => {\n    const isDisabled = root.query('GET_DISABLED');\n    const doesAllowBrowse = root.query('GET_ALLOW_BROWSE');\n    const disableField = isDisabled || !doesAllowBrowse;\n    attrToggle(root.element, 'disabled', disableField);\n};\n\nconst toggleRequired = ({ root, action }) => {\n    // want to remove required, always possible\n    if (!action.value) {\n        attrToggle(root.element, 'required', false);\n    }\n    // if want to make required, only possible when zero items\n    else if (root.query('GET_TOTAL_ITEMS') === 0) {\n        attrToggle(root.element, 'required', true);\n    }\n};\n\nconst setCaptureMethod = ({ root, action }) => {\n    attrToggle(root.element, 'capture', !!action.value, action.value === true ? '' : action.value);\n};\n\nconst updateRequiredStatus = ({ root }) => {\n    const { element } = root;\n    // always remove the required attribute when more than zero items\n    if (root.query('GET_TOTAL_ITEMS') > 0) {\n        attrToggle(element, 'required', false);\n        attrToggle(element, 'name', false);\n    } else {\n        // add name attribute\n        attrToggle(element, 'name', true, root.query('GET_NAME'));\n\n        // remove any validation messages\n        const shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n        if (shouldCheckValidity) {\n            element.setCustomValidity('');\n        }\n\n        // we only add required if the field has been deemed required\n        if (root.query('GET_REQUIRED')) {\n            attrToggle(element, 'required', true);\n        }\n    }\n};\n\nconst updateFieldValidityStatus = ({ root }) => {\n    const shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n    if (!shouldCheckValidity) return;\n    root.element.setCustomValidity(root.query('GET_LABEL_INVALID_FIELD'));\n};\n\nconst browser = createView({\n    tag: 'input',\n    name: 'browser',\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    attributes: {\n        type: 'file',\n    },\n    create: create$a,\n    destroy: ({ root }) => {\n        root.element.removeEventListener('change', root.ref.handleChange);\n    },\n    write: createRoute({\n        DID_LOAD_ITEM: updateRequiredStatus,\n        DID_REMOVE_ITEM: updateRequiredStatus,\n        DID_THROW_ITEM_INVALID: updateFieldValidityStatus,\n\n        DID_SET_DISABLED: toggleDisabled,\n        DID_SET_ALLOW_BROWSE: toggleDisabled,\n        DID_SET_ALLOW_DIRECTORIES_ONLY: toggleDirectoryFilter,\n        DID_SET_ALLOW_MULTIPLE: toggleAllowMultiple,\n        DID_SET_ACCEPTED_FILE_TYPES: setAcceptedFileTypes,\n        DID_SET_CAPTURE_METHOD: setCaptureMethod,\n        DID_SET_REQUIRED: toggleRequired,\n    }),\n});\n\nconst Key = {\n    ENTER: 13,\n    SPACE: 32,\n};\n\nconst create$b = ({ root, props }) => {\n    // create the label and link it to the file browser\n    const label = createElement$1('label');\n    attr(label, 'for', `filepond--browser-${props.id}`);\n\n    // use for labeling file input (aria-labelledby on file input)\n    attr(label, 'id', `filepond--drop-label-${props.id}`);\n\n    // hide the label for screenreaders, the input element will read the contents of the label when it's focussed. If we don't set aria-hidden the screenreader will also navigate the contents of the label separately from the input.\n    attr(label, 'aria-hidden', 'true');\n\n    // handle keys\n    root.ref.handleKeyDown = e => {\n        const isActivationKey = e.keyCode === Key.ENTER || e.keyCode === Key.SPACE;\n        if (!isActivationKey) return;\n        // stops from triggering the element a second time\n        e.preventDefault();\n\n        // click link (will then in turn activate file input)\n        root.ref.label.click();\n    };\n\n    root.ref.handleClick = e => {\n        const isLabelClick = e.target === label || label.contains(e.target);\n\n        // don't want to click twice\n        if (isLabelClick) return;\n\n        // click link (will then in turn activate file input)\n        root.ref.label.click();\n    };\n\n    // attach events\n    label.addEventListener('keydown', root.ref.handleKeyDown);\n    root.element.addEventListener('click', root.ref.handleClick);\n\n    // update\n    updateLabelValue(label, props.caption);\n\n    // add!\n    root.appendChild(label);\n    root.ref.label = label;\n};\n\nconst updateLabelValue = (label, value) => {\n    label.innerHTML = value;\n    const clickable = label.querySelector('.filepond--label-action');\n    if (clickable) {\n        attr(clickable, 'tabindex', '0');\n    }\n    return value;\n};\n\nconst dropLabel = createView({\n    name: 'drop-label',\n    ignoreRect: true,\n    create: create$b,\n    destroy: ({ root }) => {\n        root.ref.label.addEventListener('keydown', root.ref.handleKeyDown);\n        root.element.removeEventListener('click', root.ref.handleClick);\n    },\n    write: createRoute({\n        DID_SET_LABEL_IDLE: ({ root, action }) => {\n            updateLabelValue(root.ref.label, action.value);\n        },\n    }),\n    mixins: {\n        styles: ['opacity', 'translateX', 'translateY'],\n        animations: {\n            opacity: { type: 'tween', duration: 150 },\n            translateX: 'spring',\n            translateY: 'spring',\n        },\n    },\n});\n\nconst blob = createView({\n    name: 'drip-blob',\n    ignoreRect: true,\n    mixins: {\n        styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n        animations: {\n            scaleX: 'spring',\n            scaleY: 'spring',\n            translateX: 'spring',\n            translateY: 'spring',\n            opacity: { type: 'tween', duration: 250 },\n        },\n    },\n});\n\nconst addBlob = ({ root }) => {\n    const centerX = root.rect.element.width * 0.5;\n    const centerY = root.rect.element.height * 0.5;\n\n    root.ref.blob = root.appendChildView(\n        root.createChildView(blob, {\n            opacity: 0,\n            scaleX: 2.5,\n            scaleY: 2.5,\n            translateX: centerX,\n            translateY: centerY,\n        })\n    );\n};\n\nconst moveBlob = ({ root, action }) => {\n    if (!root.ref.blob) {\n        addBlob({ root });\n        return;\n    }\n\n    root.ref.blob.translateX = action.position.scopeLeft;\n    root.ref.blob.translateY = action.position.scopeTop;\n    root.ref.blob.scaleX = 1;\n    root.ref.blob.scaleY = 1;\n    root.ref.blob.opacity = 1;\n};\n\nconst hideBlob = ({ root }) => {\n    if (!root.ref.blob) {\n        return;\n    }\n    root.ref.blob.opacity = 0;\n};\n\nconst explodeBlob = ({ root }) => {\n    if (!root.ref.blob) {\n        return;\n    }\n    root.ref.blob.scaleX = 2.5;\n    root.ref.blob.scaleY = 2.5;\n    root.ref.blob.opacity = 0;\n};\n\nconst write$7 = ({ root, props, actions }) => {\n    route$4({ root, props, actions });\n\n    const { blob } = root.ref;\n\n    if (actions.length === 0 && blob && blob.opacity === 0) {\n        root.removeChildView(blob);\n        root.ref.blob = null;\n    }\n};\n\nconst route$4 = createRoute({\n    DID_DRAG: moveBlob,\n    DID_DROP: explodeBlob,\n    DID_END_DRAG: hideBlob,\n});\n\nconst drip = createView({\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    name: 'drip',\n    write: write$7,\n});\n\nconst setInputFiles = (element, files) => {\n    try {\n        // Create a DataTransfer instance and add a newly created file\n        const dataTransfer = new DataTransfer();\n        files.forEach(file => {\n            if (file instanceof File) {\n                dataTransfer.items.add(file);\n            } else {\n                dataTransfer.items.add(\n                    new File([file], file.name, {\n                        type: file.type,\n                    })\n                );\n            }\n        });\n\n        // Assign the DataTransfer files list to the file input\n        element.files = dataTransfer.files;\n    } catch (err) {\n        return false;\n    }\n    return true;\n};\n\nconst create$c = ({ root }) => (root.ref.fields = {});\n\nconst getField = (root, id) => root.ref.fields[id];\n\nconst syncFieldPositionsWithItems = root => {\n    root.query('GET_ACTIVE_ITEMS').forEach(item => {\n        if (!root.ref.fields[item.id]) return;\n        root.element.appendChild(root.ref.fields[item.id]);\n    });\n};\n\nconst didReorderItems = ({ root }) => syncFieldPositionsWithItems(root);\n\nconst didAddItem = ({ root, action }) => {\n    const fileItem = root.query('GET_ITEM', action.id);\n    const isLocalFile = fileItem.origin === FileOrigin.LOCAL;\n    const shouldUseFileInput = !isLocalFile && root.query('SHOULD_UPDATE_FILE_INPUT');\n    const dataContainer = createElement$1('input');\n    dataContainer.type = shouldUseFileInput ? 'file' : 'hidden';\n    dataContainer.name = root.query('GET_NAME');\n    dataContainer.disabled = root.query('GET_DISABLED');\n    root.ref.fields[action.id] = dataContainer;\n    syncFieldPositionsWithItems(root);\n};\n\nconst didLoadItem$1 = ({ root, action }) => {\n    const field = getField(root, action.id);\n    if (!field) return;\n\n    // store server ref in hidden input\n    if (action.serverFileReference !== null) field.value = action.serverFileReference;\n\n    // store file item in file input\n    if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n\n    const fileItem = root.query('GET_ITEM', action.id);\n    setInputFiles(field, [fileItem.file]);\n};\n\nconst didPrepareOutput = ({ root, action }) => {\n    // this timeout pushes the handler after 'load'\n    if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n    setTimeout(() => {\n        const field = getField(root, action.id);\n        if (!field) return;\n        setInputFiles(field, [action.file]);\n    }, 0);\n};\n\nconst didSetDisabled = ({ root }) => {\n    root.element.disabled = root.query('GET_DISABLED');\n};\n\nconst didRemoveItem = ({ root, action }) => {\n    const field = getField(root, action.id);\n    if (!field) return;\n    if (field.parentNode) field.parentNode.removeChild(field);\n    delete root.ref.fields[action.id];\n};\n\n// only runs for server files (so doesn't deal with file input)\nconst didDefineValue = ({ root, action }) => {\n    const field = getField(root, action.id);\n    if (!field) return;\n    if (action.value === null) {\n        // clear field value\n        field.removeAttribute('value');\n    } else {\n        // set field value\n        field.value = action.value;\n    }\n    syncFieldPositionsWithItems(root);\n};\n\nconst write$8 = createRoute({\n    DID_SET_DISABLED: didSetDisabled,\n    DID_ADD_ITEM: didAddItem,\n    DID_LOAD_ITEM: didLoadItem$1,\n    DID_REMOVE_ITEM: didRemoveItem,\n    DID_DEFINE_VALUE: didDefineValue,\n    DID_PREPARE_OUTPUT: didPrepareOutput,\n    DID_REORDER_ITEMS: didReorderItems,\n    DID_SORT_ITEMS: didReorderItems,\n});\n\nconst data = createView({\n    tag: 'fieldset',\n    name: 'data',\n    create: create$c,\n    write: write$8,\n    ignoreRect: true,\n});\n\nconst getRootNode = element => ('getRootNode' in element ? element.getRootNode() : document);\n\nconst images = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'tiff'];\nconst text$1 = ['css', 'csv', 'html', 'txt'];\nconst map = {\n    zip: 'zip|compressed',\n    epub: 'application/epub+zip',\n};\n\nconst guesstimateMimeType = (extension = '') => {\n    extension = extension.toLowerCase();\n    if (images.includes(extension)) {\n        return (\n            'image/' + (extension === 'jpg' ? 'jpeg' : extension === 'svg' ? 'svg+xml' : extension)\n        );\n    }\n    if (text$1.includes(extension)) {\n        return 'text/' + extension;\n    }\n\n    return map[extension] || '';\n};\n\nconst requestDataTransferItems = dataTransfer =>\n    new Promise((resolve, reject) => {\n        // try to get links from transfer, if found we'll exit immediately (unless a file is in the dataTransfer as well, this is because Firefox could represent the file as a URL and a file object at the same time)\n        const links = getLinks(dataTransfer);\n        if (links.length && !hasFiles(dataTransfer)) {\n            return resolve(links);\n        }\n        // try to get files from the transfer\n        getFiles(dataTransfer).then(resolve);\n    });\n\n/**\n * Test if datatransfer has files\n */\nconst hasFiles = dataTransfer => {\n    if (dataTransfer.files) return dataTransfer.files.length > 0;\n    return false;\n};\n\n/**\n * Extracts files from a DataTransfer object\n */\nconst getFiles = dataTransfer =>\n    new Promise((resolve, reject) => {\n        // get the transfer items as promises\n        const promisedFiles = (dataTransfer.items ? Array.from(dataTransfer.items) : [])\n\n            // only keep file system items (files and directories)\n            .filter(item => isFileSystemItem(item))\n\n            // map each item to promise\n            .map(item => getFilesFromItem(item));\n\n        // if is empty, see if we can extract some info from the files property as a fallback\n        if (!promisedFiles.length) {\n            // TODO: test for directories (should not be allowed)\n            // Use FileReader, problem is that the files property gets lost in the process\n            resolve(dataTransfer.files ? Array.from(dataTransfer.files) : []);\n            return;\n        }\n\n        // done!\n        Promise.all(promisedFiles)\n            .then(returnedFileGroups => {\n                // flatten groups\n                const files = [];\n                returnedFileGroups.forEach(group => {\n                    files.push.apply(files, group);\n                });\n\n                // done (filter out empty files)!\n                resolve(\n                    files\n                        .filter(file => file)\n                        .map(file => {\n                            if (!file._relativePath) file._relativePath = file.webkitRelativePath;\n                            return file;\n                        })\n                );\n            })\n            .catch(console.error);\n    });\n\nconst isFileSystemItem = item => {\n    if (isEntry(item)) {\n        const entry = getAsEntry(item);\n        if (entry) {\n            return entry.isFile || entry.isDirectory;\n        }\n    }\n    return item.kind === 'file';\n};\n\nconst getFilesFromItem = item =>\n    new Promise((resolve, reject) => {\n        if (isDirectoryEntry(item)) {\n            getFilesInDirectory(getAsEntry(item))\n                .then(resolve)\n                .catch(reject);\n            return;\n        }\n\n        resolve([item.getAsFile()]);\n    });\n\nconst getFilesInDirectory = entry =>\n    new Promise((resolve, reject) => {\n        const files = [];\n\n        // the total entries to read\n        let dirCounter = 0;\n        let fileCounter = 0;\n\n        const resolveIfDone = () => {\n            if (fileCounter === 0 && dirCounter === 0) {\n                resolve(files);\n            }\n        };\n\n        // the recursive function\n        const readEntries = dirEntry => {\n            dirCounter++;\n\n            const directoryReader = dirEntry.createReader();\n\n            // directories are returned in batches, we need to process all batches before we're done\n            const readBatch = () => {\n                directoryReader.readEntries(entries => {\n                    if (entries.length === 0) {\n                        dirCounter--;\n                        resolveIfDone();\n                        return;\n                    }\n\n                    entries.forEach(entry => {\n                        // recursively read more directories\n                        if (entry.isDirectory) {\n                            readEntries(entry);\n                        } else {\n                            // read as file\n                            fileCounter++;\n\n                            entry.file(file => {\n                                const correctedFile = correctMissingFileType(file);\n                                if (entry.fullPath) correctedFile._relativePath = entry.fullPath;\n                                files.push(correctedFile);\n                                fileCounter--;\n                                resolveIfDone();\n                            });\n                        }\n                    });\n\n                    // try to get next batch of files\n                    readBatch();\n                }, reject);\n            };\n\n            // read first batch of files\n            readBatch();\n        };\n\n        // go!\n        readEntries(entry);\n    });\n\nconst correctMissingFileType = file => {\n    if (file.type.length) return file;\n    const date = file.lastModifiedDate;\n    const name = file.name;\n    const type = guesstimateMimeType(getExtensionFromFilename(file.name));\n    if (!type.length) return file;\n    file = file.slice(0, file.size, type);\n    file.name = name;\n    file.lastModifiedDate = date;\n    return file;\n};\n\nconst isDirectoryEntry = item => isEntry(item) && (getAsEntry(item) || {}).isDirectory;\n\nconst isEntry = item => 'webkitGetAsEntry' in item;\n\nconst getAsEntry = item => item.webkitGetAsEntry();\n\n/**\n * Extracts links from a DataTransfer object\n */\nconst getLinks = dataTransfer => {\n    let links = [];\n    try {\n        // look in meta data property\n        links = getLinksFromTransferMetaData(dataTransfer);\n        if (links.length) {\n            return links;\n        }\n        links = getLinksFromTransferURLData(dataTransfer);\n    } catch (e) {\n        // nope nope nope (probably IE trouble)\n    }\n    return links;\n};\n\nconst getLinksFromTransferURLData = dataTransfer => {\n    let data = dataTransfer.getData('url');\n    if (typeof data === 'string' && data.length) {\n        return [data];\n    }\n    return [];\n};\n\nconst getLinksFromTransferMetaData = dataTransfer => {\n    let data = dataTransfer.getData('text/html');\n    if (typeof data === 'string' && data.length) {\n        const matches = data.match(/src\\s*=\\s*\"(.+?)\"/);\n        if (matches) {\n            return [matches[1]];\n        }\n    }\n    return [];\n};\n\nconst dragNDropObservers = [];\n\nconst eventPosition = e => ({\n    pageLeft: e.pageX,\n    pageTop: e.pageY,\n    scopeLeft: e.offsetX || e.layerX,\n    scopeTop: e.offsetY || e.layerY,\n});\n\nconst createDragNDropClient = (element, scopeToObserve, filterElement) => {\n    const observer = getDragNDropObserver(scopeToObserve);\n\n    const client = {\n        element,\n        filterElement,\n        state: null,\n        ondrop: () => {},\n        onenter: () => {},\n        ondrag: () => {},\n        onexit: () => {},\n        onload: () => {},\n        allowdrop: () => {},\n    };\n\n    client.destroy = observer.addListener(client);\n\n    return client;\n};\n\nconst getDragNDropObserver = element => {\n    // see if already exists, if so, return\n    const observer = dragNDropObservers.find(item => item.element === element);\n    if (observer) {\n        return observer;\n    }\n\n    // create new observer, does not yet exist for this element\n    const newObserver = createDragNDropObserver(element);\n    dragNDropObservers.push(newObserver);\n    return newObserver;\n};\n\nconst createDragNDropObserver = element => {\n    const clients = [];\n\n    const routes = {\n        dragenter,\n        dragover,\n        dragleave,\n        drop,\n    };\n\n    const handlers = {};\n\n    forin(routes, (event, createHandler) => {\n        handlers[event] = createHandler(element, clients);\n        element.addEventListener(event, handlers[event], false);\n    });\n\n    const observer = {\n        element,\n        addListener: client => {\n            // add as client\n            clients.push(client);\n\n            // return removeListener function\n            return () => {\n                // remove client\n                clients.splice(clients.indexOf(client), 1);\n\n                // if no more clients, clean up observer\n                if (clients.length === 0) {\n                    dragNDropObservers.splice(dragNDropObservers.indexOf(observer), 1);\n\n                    forin(routes, event => {\n                        element.removeEventListener(event, handlers[event], false);\n                    });\n                }\n            };\n        },\n    };\n\n    return observer;\n};\n\nconst elementFromPoint = (root, point) => {\n    if (!('elementFromPoint' in root)) {\n        root = document;\n    }\n    return root.elementFromPoint(point.x, point.y);\n};\n\nconst isEventTarget = (e, target) => {\n    // get root\n    const root = getRootNode(target);\n\n    // get element at position\n    // if root is not actual shadow DOM and does not have elementFromPoint method, use the one on document\n    const elementAtPosition = elementFromPoint(root, {\n        x: e.pageX - window.pageXOffset,\n        y: e.pageY - window.pageYOffset,\n    });\n\n    // test if target is the element or if one of its children is\n    return elementAtPosition === target || target.contains(elementAtPosition);\n};\n\nlet initialTarget = null;\n\nconst setDropEffect = (dataTransfer, effect) => {\n    // is in try catch as IE11 will throw error if not\n    try {\n        dataTransfer.dropEffect = effect;\n    } catch (e) {}\n};\n\nconst dragenter = (root, clients) => e => {\n    e.preventDefault();\n\n    initialTarget = e.target;\n\n    clients.forEach(client => {\n        const { element, onenter } = client;\n\n        if (isEventTarget(e, element)) {\n            client.state = 'enter';\n\n            // fire enter event\n            onenter(eventPosition(e));\n        }\n    });\n};\n\nconst dragover = (root, clients) => e => {\n    e.preventDefault();\n\n    const dataTransfer = e.dataTransfer;\n\n    requestDataTransferItems(dataTransfer).then(items => {\n        let overDropTarget = false;\n\n        clients.some(client => {\n            const { filterElement, element, onenter, onexit, ondrag, allowdrop } = client;\n\n            // by default we can drop\n            setDropEffect(dataTransfer, 'copy');\n\n            // allow transfer of these items\n            const allowsTransfer = allowdrop(items);\n\n            // only used when can be dropped on page\n            if (!allowsTransfer) {\n                setDropEffect(dataTransfer, 'none');\n                return;\n            }\n\n            // targetting this client\n            if (isEventTarget(e, element)) {\n                overDropTarget = true;\n\n                // had no previous state, means we are entering this client\n                if (client.state === null) {\n                    client.state = 'enter';\n                    onenter(eventPosition(e));\n                    return;\n                }\n\n                // now over element (no matter if it allows the drop or not)\n                client.state = 'over';\n\n                // needs to allow transfer\n                if (filterElement && !allowsTransfer) {\n                    setDropEffect(dataTransfer, 'none');\n                    return;\n                }\n\n                // dragging\n                ondrag(eventPosition(e));\n            } else {\n                // should be over an element to drop\n                if (filterElement && !overDropTarget) {\n                    setDropEffect(dataTransfer, 'none');\n                }\n\n                // might have just left this client?\n                if (client.state) {\n                    client.state = null;\n                    onexit(eventPosition(e));\n                }\n            }\n        });\n    });\n};\n\nconst drop = (root, clients) => e => {\n    e.preventDefault();\n\n    const dataTransfer = e.dataTransfer;\n\n    requestDataTransferItems(dataTransfer).then(items => {\n        clients.forEach(client => {\n            const { filterElement, element, ondrop, onexit, allowdrop } = client;\n\n            client.state = null;\n\n            // if we're filtering on element we need to be over the element to drop\n            if (filterElement && !isEventTarget(e, element)) return;\n\n            // no transfer for this client\n            if (!allowdrop(items)) return onexit(eventPosition(e));\n\n            // we can drop these items on this client\n            ondrop(eventPosition(e), items);\n        });\n    });\n};\n\nconst dragleave = (root, clients) => e => {\n    if (initialTarget !== e.target) {\n        return;\n    }\n\n    clients.forEach(client => {\n        const { onexit } = client;\n\n        client.state = null;\n\n        onexit(eventPosition(e));\n    });\n};\n\nconst createHopper = (scope, validateItems, options) => {\n    // is now hopper scope\n    scope.classList.add('filepond--hopper');\n\n    // shortcuts\n    const { catchesDropsOnPage, requiresDropOnElement, filterItems = items => items } = options;\n\n    // create a dnd client\n    const client = createDragNDropClient(\n        scope,\n        catchesDropsOnPage ? document.documentElement : scope,\n        requiresDropOnElement\n    );\n\n    // current client state\n    let lastState = '';\n    let currentState = '';\n\n    // determines if a file may be dropped\n    client.allowdrop = items => {\n        // TODO: if we can, throw error to indicate the items cannot by dropped\n\n        return validateItems(filterItems(items));\n    };\n\n    client.ondrop = (position, items) => {\n        const filteredItems = filterItems(items);\n\n        if (!validateItems(filteredItems)) {\n            api.ondragend(position);\n            return;\n        }\n\n        currentState = 'drag-drop';\n\n        api.onload(filteredItems, position);\n    };\n\n    client.ondrag = position => {\n        api.ondrag(position);\n    };\n\n    client.onenter = position => {\n        currentState = 'drag-over';\n\n        api.ondragstart(position);\n    };\n\n    client.onexit = position => {\n        currentState = 'drag-exit';\n\n        api.ondragend(position);\n    };\n\n    const api = {\n        updateHopperState: () => {\n            if (lastState !== currentState) {\n                scope.dataset.hopperState = currentState;\n                lastState = currentState;\n            }\n        },\n        onload: () => {},\n        ondragstart: () => {},\n        ondrag: () => {},\n        ondragend: () => {},\n        destroy: () => {\n            // destroy client\n            client.destroy();\n        },\n    };\n\n    return api;\n};\n\nlet listening = false;\nconst listeners$1 = [];\n\nconst handlePaste = e => {\n    // if is pasting in input or textarea and the target is outside of a filepond scope, ignore\n    const activeEl = document.activeElement;\n    if (activeEl && /textarea|input/i.test(activeEl.nodeName)) {\n        // test textarea or input is contained in filepond root\n        let inScope = false;\n        let element = activeEl;\n        while (element !== document.body) {\n            if (element.classList.contains('filepond--root')) {\n                inScope = true;\n                break;\n            }\n            element = element.parentNode;\n        }\n\n        if (!inScope) return;\n    }\n\n    requestDataTransferItems(e.clipboardData).then(files => {\n        // no files received\n        if (!files.length) {\n            return;\n        }\n\n        // notify listeners of received files\n        listeners$1.forEach(listener => listener(files));\n    });\n};\n\nconst listen = cb => {\n    // can't add twice\n    if (listeners$1.includes(cb)) {\n        return;\n    }\n\n    // add initial listener\n    listeners$1.push(cb);\n\n    // setup paste listener for entire page\n    if (listening) {\n        return;\n    }\n\n    listening = true;\n    document.addEventListener('paste', handlePaste);\n};\n\nconst unlisten = listener => {\n    arrayRemove(listeners$1, listeners$1.indexOf(listener));\n\n    // clean up\n    if (listeners$1.length === 0) {\n        document.removeEventListener('paste', handlePaste);\n        listening = false;\n    }\n};\n\nconst createPaster = () => {\n    const cb = files => {\n        api.onload(files);\n    };\n\n    const api = {\n        destroy: () => {\n            unlisten(cb);\n        },\n        onload: () => {},\n    };\n\n    listen(cb);\n\n    return api;\n};\n\n/**\n * Creates the file view\n */\nconst create$d = ({ root, props }) => {\n    root.element.id = `filepond--assistant-${props.id}`;\n    attr(root.element, 'role', 'status');\n    attr(root.element, 'aria-live', 'polite');\n    attr(root.element, 'aria-relevant', 'additions');\n};\n\nlet addFilesNotificationTimeout = null;\nlet notificationClearTimeout = null;\n\nconst filenames = [];\n\nconst assist = (root, message) => {\n    root.element.textContent = message;\n};\n\nconst clear$1 = root => {\n    root.element.textContent = '';\n};\n\nconst listModified = (root, filename, label) => {\n    const total = root.query('GET_TOTAL_ITEMS');\n    assist(\n        root,\n        `${label} ${filename}, ${total} ${\n            total === 1\n                ? root.query('GET_LABEL_FILE_COUNT_SINGULAR')\n                : root.query('GET_LABEL_FILE_COUNT_PLURAL')\n        }`\n    );\n\n    // clear group after set amount of time so the status is not read twice\n    clearTimeout(notificationClearTimeout);\n    notificationClearTimeout = setTimeout(() => {\n        clear$1(root);\n    }, 1500);\n};\n\nconst isUsingFilePond = root => root.element.parentNode.contains(document.activeElement);\n\nconst itemAdded = ({ root, action }) => {\n    if (!isUsingFilePond(root)) {\n        return;\n    }\n\n    root.element.textContent = '';\n    const item = root.query('GET_ITEM', action.id);\n    filenames.push(item.filename);\n\n    clearTimeout(addFilesNotificationTimeout);\n    addFilesNotificationTimeout = setTimeout(() => {\n        listModified(root, filenames.join(', '), root.query('GET_LABEL_FILE_ADDED'));\n        filenames.length = 0;\n    }, 750);\n};\n\nconst itemRemoved = ({ root, action }) => {\n    if (!isUsingFilePond(root)) {\n        return;\n    }\n\n    const item = action.item;\n    listModified(root, item.filename, root.query('GET_LABEL_FILE_REMOVED'));\n};\n\nconst itemProcessed = ({ root, action }) => {\n    // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n    const item = root.query('GET_ITEM', action.id);\n    const filename = item.filename;\n    const label = root.query('GET_LABEL_FILE_PROCESSING_COMPLETE');\n\n    assist(root, `${filename} ${label}`);\n};\n\nconst itemProcessedUndo = ({ root, action }) => {\n    const item = root.query('GET_ITEM', action.id);\n    const filename = item.filename;\n    const label = root.query('GET_LABEL_FILE_PROCESSING_ABORTED');\n\n    assist(root, `${filename} ${label}`);\n};\n\nconst itemError = ({ root, action }) => {\n    const item = root.query('GET_ITEM', action.id);\n    const filename = item.filename;\n\n    // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n    assist(root, `${action.status.main} ${filename} ${action.status.sub}`);\n};\n\nconst assistant = createView({\n    create: create$d,\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    write: createRoute({\n        DID_LOAD_ITEM: itemAdded,\n        DID_REMOVE_ITEM: itemRemoved,\n        DID_COMPLETE_ITEM_PROCESSING: itemProcessed,\n\n        DID_ABORT_ITEM_PROCESSING: itemProcessedUndo,\n        DID_REVERT_ITEM_PROCESSING: itemProcessedUndo,\n\n        DID_THROW_ITEM_REMOVE_ERROR: itemError,\n        DID_THROW_ITEM_LOAD_ERROR: itemError,\n        DID_THROW_ITEM_INVALID: itemError,\n        DID_THROW_ITEM_PROCESSING_ERROR: itemError,\n    }),\n    tag: 'span',\n    name: 'assistant',\n});\n\nconst toCamels = (string, separator = '-') =>\n    string.replace(new RegExp(`${separator}.`, 'g'), sub => sub.charAt(1).toUpperCase());\n\nconst debounce = (func, interval = 16, immidiateOnly = true) => {\n    let last = Date.now();\n    let timeout = null;\n\n    return (...args) => {\n        clearTimeout(timeout);\n\n        const dist = Date.now() - last;\n\n        const fn = () => {\n            last = Date.now();\n            func(...args);\n        };\n\n        if (dist < interval) {\n            // we need to delay by the difference between interval and dist\n            // for example: if distance is 10 ms and interval is 16 ms,\n            // we need to wait an additional 6ms before calling the function)\n            if (!immidiateOnly) {\n                timeout = setTimeout(fn, interval - dist);\n            }\n        } else {\n            // go!\n            fn();\n        }\n    };\n};\n\nconst MAX_FILES_LIMIT = 1000000;\n\nconst prevent = e => e.preventDefault();\n\nconst create$e = ({ root, props }) => {\n    // Add id\n    const id = root.query('GET_ID');\n    if (id) {\n        root.element.id = id;\n    }\n\n    // Add className\n    const className = root.query('GET_CLASS_NAME');\n    if (className) {\n        className\n            .split(' ')\n            .filter(name => name.length)\n            .forEach(name => {\n                root.element.classList.add(name);\n            });\n    }\n\n    // Field label\n    root.ref.label = root.appendChildView(\n        root.createChildView(dropLabel, {\n            ...props,\n            translateY: null,\n            caption: root.query('GET_LABEL_IDLE'),\n        })\n    );\n\n    // List of items\n    root.ref.list = root.appendChildView(root.createChildView(listScroller, { translateY: null }));\n\n    // Background panel\n    root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'panel-root' }));\n\n    // Assistant notifies assistive tech when content changes\n    root.ref.assistant = root.appendChildView(root.createChildView(assistant, { ...props }));\n\n    // Data\n    root.ref.data = root.appendChildView(root.createChildView(data, { ...props }));\n\n    // Measure (tests if fixed height was set)\n    // DOCTYPE needs to be set for this to work\n    root.ref.measure = createElement$1('div');\n    root.ref.measure.style.height = '100%';\n    root.element.appendChild(root.ref.measure);\n\n    // information on the root height or fixed height status\n    root.ref.bounds = null;\n\n    // apply initial style properties\n    root.query('GET_STYLES')\n        .filter(style => !isEmpty(style.value))\n        .map(({ name, value }) => {\n            root.element.dataset[name] = value;\n        });\n\n    // determine if width changed\n    root.ref.widthPrevious = null;\n    root.ref.widthUpdated = debounce(() => {\n        root.ref.updateHistory = [];\n        root.dispatch('DID_RESIZE_ROOT');\n    }, 250);\n\n    // history of updates\n    root.ref.previousAspectRatio = null;\n    root.ref.updateHistory = [];\n\n    // prevent scrolling and zooming on iOS (only if supports pointer events, for then we can enable reorder)\n    const canHover = window.matchMedia('(pointer: fine) and (hover: hover)').matches;\n    const hasPointerEvents = 'PointerEvent' in window;\n    if (root.query('GET_ALLOW_REORDER') && hasPointerEvents && !canHover) {\n        root.element.addEventListener('touchmove', prevent, { passive: false });\n        root.element.addEventListener('gesturestart', prevent);\n    }\n\n    // add credits\n    const credits = root.query('GET_CREDITS');\n    const hasCredits = credits.length === 2;\n    if (hasCredits) {\n        const frag = document.createElement('a');\n        frag.className = 'filepond--credits';\n        frag.setAttribute('aria-hidden', 'true');\n        frag.href = credits[0];\n        frag.tabindex = -1;\n        frag.target = '_blank';\n        frag.rel = 'noopener noreferrer';\n        frag.textContent = credits[1];\n        root.element.appendChild(frag);\n        root.ref.credits = frag;\n    }\n};\n\nconst write$9 = ({ root, props, actions }) => {\n    // route actions\n    route$5({ root, props, actions });\n\n    // apply style properties\n    actions\n        .filter(action => /^DID_SET_STYLE_/.test(action.type))\n        .filter(action => !isEmpty(action.data.value))\n        .map(({ type, data }) => {\n            const name = toCamels(type.substring(8).toLowerCase(), '_');\n            root.element.dataset[name] = data.value;\n            root.invalidateLayout();\n        });\n\n    if (root.rect.element.hidden) return;\n\n    if (root.rect.element.width !== root.ref.widthPrevious) {\n        root.ref.widthPrevious = root.rect.element.width;\n        root.ref.widthUpdated();\n    }\n\n    // get box bounds, we do this only once\n    let bounds = root.ref.bounds;\n    if (!bounds) {\n        bounds = root.ref.bounds = calculateRootBoundingBoxHeight(root);\n\n        // destroy measure element\n        root.element.removeChild(root.ref.measure);\n        root.ref.measure = null;\n    }\n\n    // get quick references to various high level parts of the upload tool\n    const { hopper, label, list, panel } = root.ref;\n\n    // sets correct state to hopper scope\n    if (hopper) {\n        hopper.updateHopperState();\n    }\n\n    // bool to indicate if we're full or not\n    const aspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n    const isMultiItem = root.query('GET_ALLOW_MULTIPLE');\n    const totalItems = root.query('GET_TOTAL_ITEMS');\n    const maxItems = isMultiItem ? root.query('GET_MAX_FILES') || MAX_FILES_LIMIT : 1;\n    const atMaxCapacity = totalItems === maxItems;\n\n    // action used to add item\n    const addAction = actions.find(action => action.type === 'DID_ADD_ITEM');\n\n    // if reached max capacity and we've just reached it\n    if (atMaxCapacity && addAction) {\n        // get interaction type\n        const interactionMethod = addAction.data.interactionMethod;\n\n        // hide label\n        label.opacity = 0;\n\n        if (isMultiItem) {\n            label.translateY = -40;\n        } else {\n            if (interactionMethod === InteractionMethod.API) {\n                label.translateX = 40;\n            } else if (interactionMethod === InteractionMethod.BROWSE) {\n                label.translateY = 40;\n            } else {\n                label.translateY = 30;\n            }\n        }\n    } else if (!atMaxCapacity) {\n        label.opacity = 1;\n        label.translateX = 0;\n        label.translateY = 0;\n    }\n\n    const listItemMargin = calculateListItemMargin(root);\n\n    const listHeight = calculateListHeight(root);\n\n    const labelHeight = label.rect.element.height;\n    const currentLabelHeight = !isMultiItem || atMaxCapacity ? 0 : labelHeight;\n\n    const listMarginTop = atMaxCapacity ? list.rect.element.marginTop : 0;\n    const listMarginBottom = totalItems === 0 ? 0 : list.rect.element.marginBottom;\n\n    const visualHeight = currentLabelHeight + listMarginTop + listHeight.visual + listMarginBottom;\n    const boundsHeight = currentLabelHeight + listMarginTop + listHeight.bounds + listMarginBottom;\n\n    // link list to label bottom position\n    list.translateY =\n        Math.max(0, currentLabelHeight - list.rect.element.marginTop) - listItemMargin.top;\n\n    if (aspectRatio) {\n        // fixed aspect ratio\n\n        // calculate height based on width\n        const width = root.rect.element.width;\n        const height = width * aspectRatio;\n\n        // clear history if aspect ratio has changed\n        if (aspectRatio !== root.ref.previousAspectRatio) {\n            root.ref.previousAspectRatio = aspectRatio;\n            root.ref.updateHistory = [];\n        }\n\n        // remember this width\n        const history = root.ref.updateHistory;\n        history.push(width);\n\n        const MAX_BOUNCES = 2;\n        if (history.length > MAX_BOUNCES * 2) {\n            const l = history.length;\n            const bottom = l - 10;\n            let bounces = 0;\n            for (let i = l; i >= bottom; i--) {\n                if (history[i] === history[i - 2]) {\n                    bounces++;\n                }\n\n                if (bounces >= MAX_BOUNCES) {\n                    // dont adjust height\n                    return;\n                }\n            }\n        }\n\n        // fix height of panel so it adheres to aspect ratio\n        panel.scalable = false;\n        panel.height = height;\n\n        // available height for list\n        const listAvailableHeight =\n            // the height of the panel minus the label height\n            height -\n            currentLabelHeight -\n            // the room we leave open between the end of the list and the panel bottom\n            (listMarginBottom - listItemMargin.bottom) -\n            // if we're full we need to leave some room between the top of the panel and the list\n            (atMaxCapacity ? listMarginTop : 0);\n\n        if (listHeight.visual > listAvailableHeight) {\n            list.overflow = listAvailableHeight;\n        } else {\n            list.overflow = null;\n        }\n\n        // set container bounds (so pushes siblings downwards)\n        root.height = height;\n    } else if (bounds.fixedHeight) {\n        // fixed height\n\n        // fix height of panel\n        panel.scalable = false;\n\n        // available height for list\n        const listAvailableHeight =\n            // the height of the panel minus the label height\n            bounds.fixedHeight -\n            currentLabelHeight -\n            // the room we leave open between the end of the list and the panel bottom\n            (listMarginBottom - listItemMargin.bottom) -\n            // if we're full we need to leave some room between the top of the panel and the list\n            (atMaxCapacity ? listMarginTop : 0);\n\n        // set list height\n        if (listHeight.visual > listAvailableHeight) {\n            list.overflow = listAvailableHeight;\n        } else {\n            list.overflow = null;\n        }\n\n        // no need to set container bounds as these are handles by CSS fixed height\n    } else if (bounds.cappedHeight) {\n        // max-height\n\n        // not a fixed height panel\n        const isCappedHeight = visualHeight >= bounds.cappedHeight;\n        const panelHeight = Math.min(bounds.cappedHeight, visualHeight);\n        panel.scalable = true;\n        panel.height = isCappedHeight\n            ? panelHeight\n            : panelHeight - listItemMargin.top - listItemMargin.bottom;\n\n        // available height for list\n        const listAvailableHeight =\n            // the height of the panel minus the label height\n            panelHeight -\n            currentLabelHeight -\n            // the room we leave open between the end of the list and the panel bottom\n            (listMarginBottom - listItemMargin.bottom) -\n            // if we're full we need to leave some room between the top of the panel and the list\n            (atMaxCapacity ? listMarginTop : 0);\n\n        // set list height (if is overflowing)\n        if (visualHeight > bounds.cappedHeight && listHeight.visual > listAvailableHeight) {\n            list.overflow = listAvailableHeight;\n        } else {\n            list.overflow = null;\n        }\n\n        // set container bounds (so pushes siblings downwards)\n        root.height = Math.min(\n            bounds.cappedHeight,\n            boundsHeight - listItemMargin.top - listItemMargin.bottom\n        );\n    } else {\n        // flexible height\n\n        // not a fixed height panel\n        const itemMargin = totalItems > 0 ? listItemMargin.top + listItemMargin.bottom : 0;\n        panel.scalable = true;\n        panel.height = Math.max(labelHeight, visualHeight - itemMargin);\n\n        // set container bounds (so pushes siblings downwards)\n        root.height = Math.max(labelHeight, boundsHeight - itemMargin);\n    }\n\n    // move credits to bottom\n    if (root.ref.credits && panel.heightCurrent)\n        root.ref.credits.style.transform = `translateY(${panel.heightCurrent}px)`;\n};\n\nconst calculateListItemMargin = root => {\n    const item = root.ref.list.childViews[0].childViews[0];\n    return item\n        ? {\n              top: item.rect.element.marginTop,\n              bottom: item.rect.element.marginBottom,\n          }\n        : {\n              top: 0,\n              bottom: 0,\n          };\n};\n\nconst calculateListHeight = root => {\n    let visual = 0;\n    let bounds = 0;\n\n    // get file list reference\n    const scrollList = root.ref.list;\n    const itemList = scrollList.childViews[0];\n    const visibleChildren = itemList.childViews.filter(child => child.rect.element.height);\n    const children = root\n        .query('GET_ACTIVE_ITEMS')\n        .map(item => visibleChildren.find(child => child.id === item.id))\n        .filter(item => item);\n\n    // no children, done!\n    if (children.length === 0) return { visual, bounds };\n\n    const horizontalSpace = itemList.rect.element.width;\n    const dragIndex = getItemIndexByPosition(itemList, children, scrollList.dragCoordinates);\n\n    const childRect = children[0].rect.element;\n\n    const itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n    const itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n\n    const itemWidth = childRect.width + itemHorizontalMargin;\n    const itemHeight = childRect.height + itemVerticalMargin;\n\n    const newItem = typeof dragIndex !== 'undefined' && dragIndex >= 0 ? 1 : 0;\n    const removedItem = children.find(child => child.markedForRemoval && child.opacity < 0.45)\n        ? -1\n        : 0;\n    const verticalItemCount = children.length + newItem + removedItem;\n    const itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n    // stack\n    if (itemsPerRow === 1) {\n        children.forEach(item => {\n            const height = item.rect.element.height + itemVerticalMargin;\n            bounds += height;\n            visual += height * item.opacity;\n        });\n    }\n    // grid\n    else {\n        bounds = Math.ceil(verticalItemCount / itemsPerRow) * itemHeight;\n        visual = bounds;\n    }\n\n    return { visual, bounds };\n};\n\nconst calculateRootBoundingBoxHeight = root => {\n    const height = root.ref.measureHeight || null;\n    const cappedHeight = parseInt(root.style.maxHeight, 10) || null;\n    const fixedHeight = height === 0 ? null : height;\n\n    return {\n        cappedHeight,\n        fixedHeight,\n    };\n};\n\nconst exceedsMaxFiles = (root, items) => {\n    const allowReplace = root.query('GET_ALLOW_REPLACE');\n    const allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n    const totalItems = root.query('GET_TOTAL_ITEMS');\n    let maxItems = root.query('GET_MAX_FILES');\n\n    // total amount of items being dragged\n    const totalBrowseItems = items.length;\n\n    // if does not allow multiple items and dragging more than one item\n    if (!allowMultiple && totalBrowseItems > 1) {\n        root.dispatch('DID_THROW_MAX_FILES', {\n            source: items,\n            error: createResponse('warning', 0, 'Max files'),\n        });\n        return true;\n    }\n\n    // limit max items to one if not allowed to drop multiple items\n    maxItems = allowMultiple ? maxItems : 1;\n\n    if (!allowMultiple && allowReplace) {\n        // There is only one item, so there is room to replace or add an item\n        return false;\n    }\n\n    // no more room?\n    const hasMaxItems = isInt(maxItems);\n    if (hasMaxItems && totalItems + totalBrowseItems > maxItems) {\n        root.dispatch('DID_THROW_MAX_FILES', {\n            source: items,\n            error: createResponse('warning', 0, 'Max files'),\n        });\n        return true;\n    }\n\n    return false;\n};\n\nconst getDragIndex = (list, children, position) => {\n    const itemList = list.childViews[0];\n    return getItemIndexByPosition(itemList, children, {\n        left: position.scopeLeft - itemList.rect.element.left,\n        top:\n            position.scopeTop -\n            (list.rect.outer.top + list.rect.element.marginTop + list.rect.element.scrollTop),\n    });\n};\n\n/**\n * Enable or disable file drop functionality\n */\nconst toggleDrop = root => {\n    const isAllowed = root.query('GET_ALLOW_DROP');\n    const isDisabled = root.query('GET_DISABLED');\n    const enabled = isAllowed && !isDisabled;\n    if (enabled && !root.ref.hopper) {\n        const hopper = createHopper(\n            root.element,\n            items => {\n                // allow quick validation of dropped items\n                const beforeDropFile = root.query('GET_BEFORE_DROP_FILE') || (() => true);\n\n                // all items should be validated by all filters as valid\n                const dropValidation = root.query('GET_DROP_VALIDATION');\n                return dropValidation\n                    ? items.every(\n                          item =>\n                              applyFilters('ALLOW_HOPPER_ITEM', item, {\n                                  query: root.query,\n                              }).every(result => result === true) && beforeDropFile(item)\n                      )\n                    : true;\n            },\n            {\n                filterItems: items => {\n                    const ignoredFiles = root.query('GET_IGNORED_FILES');\n                    return items.filter(item => {\n                        if (isFile(item)) {\n                            return !ignoredFiles.includes(item.name.toLowerCase());\n                        }\n                        return true;\n                    });\n                },\n                catchesDropsOnPage: root.query('GET_DROP_ON_PAGE'),\n                requiresDropOnElement: root.query('GET_DROP_ON_ELEMENT'),\n            }\n        );\n\n        hopper.onload = (items, position) => {\n            // get item children elements and sort based on list sort\n            const list = root.ref.list.childViews[0];\n            const visibleChildren = list.childViews.filter(child => child.rect.element.height);\n            const children = root\n                .query('GET_ACTIVE_ITEMS')\n                .map(item => visibleChildren.find(child => child.id === item.id))\n                .filter(item => item);\n\n            applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(queue => {\n                // these files don't fit so stop here\n                if (exceedsMaxFiles(root, queue)) return false;\n\n                // go\n                root.dispatch('ADD_ITEMS', {\n                    items: queue,\n                    index: getDragIndex(root.ref.list, children, position),\n                    interactionMethod: InteractionMethod.DROP,\n                });\n            });\n\n            root.dispatch('DID_DROP', { position });\n\n            root.dispatch('DID_END_DRAG', { position });\n        };\n\n        hopper.ondragstart = position => {\n            root.dispatch('DID_START_DRAG', { position });\n        };\n\n        hopper.ondrag = debounce(position => {\n            root.dispatch('DID_DRAG', { position });\n        });\n\n        hopper.ondragend = position => {\n            root.dispatch('DID_END_DRAG', { position });\n        };\n\n        root.ref.hopper = hopper;\n\n        root.ref.drip = root.appendChildView(root.createChildView(drip));\n    } else if (!enabled && root.ref.hopper) {\n        root.ref.hopper.destroy();\n        root.ref.hopper = null;\n        root.removeChildView(root.ref.drip);\n    }\n};\n\n/**\n * Enable or disable browse functionality\n */\nconst toggleBrowse = (root, props) => {\n    const isAllowed = root.query('GET_ALLOW_BROWSE');\n    const isDisabled = root.query('GET_DISABLED');\n    const enabled = isAllowed && !isDisabled;\n    if (enabled && !root.ref.browser) {\n        root.ref.browser = root.appendChildView(\n            root.createChildView(browser, {\n                ...props,\n                onload: items => {\n                    applyFilterChain('ADD_ITEMS', items, {\n                        dispatch: root.dispatch,\n                    }).then(queue => {\n                        // these files don't fit so stop here\n                        if (exceedsMaxFiles(root, queue)) return false;\n\n                        // add items!\n                        root.dispatch('ADD_ITEMS', {\n                            items: queue,\n                            index: -1,\n                            interactionMethod: InteractionMethod.BROWSE,\n                        });\n                    });\n                },\n            }),\n            0\n        );\n    } else if (!enabled && root.ref.browser) {\n        root.removeChildView(root.ref.browser);\n        root.ref.browser = null;\n    }\n};\n\n/**\n * Enable or disable paste functionality\n */\nconst togglePaste = root => {\n    const isAllowed = root.query('GET_ALLOW_PASTE');\n    const isDisabled = root.query('GET_DISABLED');\n    const enabled = isAllowed && !isDisabled;\n    if (enabled && !root.ref.paster) {\n        root.ref.paster = createPaster();\n        root.ref.paster.onload = items => {\n            applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(queue => {\n                // these files don't fit so stop here\n                if (exceedsMaxFiles(root, queue)) return false;\n\n                // add items!\n                root.dispatch('ADD_ITEMS', {\n                    items: queue,\n                    index: -1,\n                    interactionMethod: InteractionMethod.PASTE,\n                });\n            });\n        };\n    } else if (!enabled && root.ref.paster) {\n        root.ref.paster.destroy();\n        root.ref.paster = null;\n    }\n};\n\n/**\n * Route actions\n */\nconst route$5 = createRoute({\n    DID_SET_ALLOW_BROWSE: ({ root, props }) => {\n        toggleBrowse(root, props);\n    },\n    DID_SET_ALLOW_DROP: ({ root }) => {\n        toggleDrop(root);\n    },\n    DID_SET_ALLOW_PASTE: ({ root }) => {\n        togglePaste(root);\n    },\n    DID_SET_DISABLED: ({ root, props }) => {\n        toggleDrop(root);\n        togglePaste(root);\n        toggleBrowse(root, props);\n        const isDisabled = root.query('GET_DISABLED');\n        if (isDisabled) {\n            root.element.dataset.disabled = 'disabled';\n        } else {\n            // delete root.element.dataset.disabled; <= this does not work on iOS 10\n            root.element.removeAttribute('data-disabled');\n        }\n    },\n});\n\nconst root = createView({\n    name: 'root',\n    read: ({ root }) => {\n        if (root.ref.measure) {\n            root.ref.measureHeight = root.ref.measure.offsetHeight;\n        }\n    },\n    create: create$e,\n    write: write$9,\n    destroy: ({ root }) => {\n        if (root.ref.paster) {\n            root.ref.paster.destroy();\n        }\n        if (root.ref.hopper) {\n            root.ref.hopper.destroy();\n        }\n        root.element.removeEventListener('touchmove', prevent);\n        root.element.removeEventListener('gesturestart', prevent);\n    },\n    mixins: {\n        styles: ['height'],\n    },\n});\n\n// creates the app\nconst createApp = (initialOptions = {}) => {\n    // let element\n    let originalElement = null;\n\n    // get default options\n    const defaultOptions = getOptions();\n\n    // create the data store, this will contain all our app info\n    const store = createStore(\n        // initial state (should be serializable)\n        createInitialState(defaultOptions),\n\n        // queries\n        [queries, createOptionQueries(defaultOptions)],\n\n        // action handlers\n        [actions, createOptionActions(defaultOptions)]\n    );\n\n    // set initial options\n    store.dispatch('SET_OPTIONS', { options: initialOptions });\n\n    // kick thread if visibility changes\n    const visibilityHandler = () => {\n        if (document.hidden) return;\n        store.dispatch('KICK');\n    };\n    document.addEventListener('visibilitychange', visibilityHandler);\n\n    // re-render on window resize start and finish\n    let resizeDoneTimer = null;\n    let isResizing = false;\n    let isResizingHorizontally = false;\n    let initialWindowWidth = null;\n    let currentWindowWidth = null;\n    const resizeHandler = () => {\n        if (!isResizing) {\n            isResizing = true;\n        }\n        clearTimeout(resizeDoneTimer);\n        resizeDoneTimer = setTimeout(() => {\n            isResizing = false;\n            initialWindowWidth = null;\n            currentWindowWidth = null;\n            if (isResizingHorizontally) {\n                isResizingHorizontally = false;\n                store.dispatch('DID_STOP_RESIZE');\n            }\n        }, 500);\n    };\n    window.addEventListener('resize', resizeHandler);\n\n    // render initial view\n    const view = root(store, { id: getUniqueId() });\n\n    //\n    // PRIVATE API -------------------------------------------------------------------------------------\n    //\n    let isResting = false;\n    let isHidden = false;\n\n    const readWriteApi = {\n        // necessary for update loop\n\n        /**\n         * Reads from dom (never call manually)\n         * @private\n         */\n        _read: () => {\n            // test if we're resizing horizontally\n            // TODO: see if we can optimize this by measuring root rect\n            if (isResizing) {\n                currentWindowWidth = window.innerWidth;\n                if (!initialWindowWidth) {\n                    initialWindowWidth = currentWindowWidth;\n                }\n\n                if (!isResizingHorizontally && currentWindowWidth !== initialWindowWidth) {\n                    store.dispatch('DID_START_RESIZE');\n                    isResizingHorizontally = true;\n                }\n            }\n\n            if (isHidden && isResting) {\n                // test if is no longer hidden\n                isResting = view.element.offsetParent === null;\n            }\n\n            // if resting, no need to read as numbers will still all be correct\n            if (isResting) return;\n\n            // read view data\n            view._read();\n\n            // if is hidden we need to know so we exit rest mode when revealed\n            isHidden = view.rect.element.hidden;\n        },\n\n        /**\n         * Writes to dom (never call manually)\n         * @private\n         */\n        _write: ts => {\n            // get all actions from store\n            const actions = store\n                .processActionQueue()\n\n                // filter out set actions (these will automatically trigger DID_SET)\n                .filter(action => !/^SET_/.test(action.type));\n\n            // if was idling and no actions stop here\n            if (isResting && !actions.length) return;\n\n            // some actions might trigger events\n            routeActionsToEvents(actions);\n\n            // update the view\n            isResting = view._write(ts, actions, isResizingHorizontally);\n\n            // will clean up all archived items\n            removeReleasedItems(store.query('GET_ITEMS'));\n\n            // now idling\n            if (isResting) {\n                store.processDispatchQueue();\n            }\n        },\n    };\n\n    //\n    // EXPOSE EVENTS -------------------------------------------------------------------------------------\n    //\n    const createEvent = name => data => {\n        // create default event\n        const event = {\n            type: name,\n        };\n\n        // no data to add\n        if (!data) {\n            return event;\n        }\n\n        // copy relevant props\n        if (data.hasOwnProperty('error')) {\n            event.error = data.error ? { ...data.error } : null;\n        }\n\n        if (data.status) {\n            event.status = { ...data.status };\n        }\n\n        if (data.file) {\n            event.output = data.file;\n        }\n\n        // only source is available, else add item if possible\n        if (data.source) {\n            event.file = data.source;\n        } else if (data.item || data.id) {\n            const item = data.item ? data.item : store.query('GET_ITEM', data.id);\n            event.file = item ? createItemAPI(item) : null;\n        }\n\n        // map all items in a possible items array\n        if (data.items) {\n            event.items = data.items.map(createItemAPI);\n        }\n\n        // if this is a progress event add the progress amount\n        if (/progress/.test(name)) {\n            event.progress = data.progress;\n        }\n\n        // copy relevant props\n        if (data.hasOwnProperty('origin') && data.hasOwnProperty('target')) {\n            event.origin = data.origin;\n            event.target = data.target;\n        }\n\n        return event;\n    };\n\n    const eventRoutes = {\n        DID_DESTROY: createEvent('destroy'),\n\n        DID_INIT: createEvent('init'),\n\n        DID_THROW_MAX_FILES: createEvent('warning'),\n\n        DID_INIT_ITEM: createEvent('initfile'),\n        DID_START_ITEM_LOAD: createEvent('addfilestart'),\n        DID_UPDATE_ITEM_LOAD_PROGRESS: createEvent('addfileprogress'),\n        DID_LOAD_ITEM: createEvent('addfile'),\n\n        DID_THROW_ITEM_INVALID: [createEvent('error'), createEvent('addfile')],\n\n        DID_THROW_ITEM_LOAD_ERROR: [createEvent('error'), createEvent('addfile')],\n\n        DID_THROW_ITEM_REMOVE_ERROR: [createEvent('error'), createEvent('removefile')],\n\n        DID_PREPARE_OUTPUT: createEvent('preparefile'),\n\n        DID_START_ITEM_PROCESSING: createEvent('processfilestart'),\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: createEvent('processfileprogress'),\n        DID_ABORT_ITEM_PROCESSING: createEvent('processfileabort'),\n        DID_COMPLETE_ITEM_PROCESSING: createEvent('processfile'),\n        DID_COMPLETE_ITEM_PROCESSING_ALL: createEvent('processfiles'),\n        DID_REVERT_ITEM_PROCESSING: createEvent('processfilerevert'),\n\n        DID_THROW_ITEM_PROCESSING_ERROR: [createEvent('error'), createEvent('processfile')],\n\n        DID_REMOVE_ITEM: createEvent('removefile'),\n\n        DID_UPDATE_ITEMS: createEvent('updatefiles'),\n\n        DID_ACTIVATE_ITEM: createEvent('activatefile'),\n\n        DID_REORDER_ITEMS: createEvent('reorderfiles'),\n    };\n\n    const exposeEvent = event => {\n        // create event object to be dispatched\n        const detail = { pond: exports, ...event };\n        delete detail.type;\n        view.element.dispatchEvent(\n            new CustomEvent(`FilePond:${event.type}`, {\n                // event info\n                detail,\n\n                // event behaviour\n                bubbles: true,\n                cancelable: true,\n                composed: true, // triggers listeners outside of shadow root\n            })\n        );\n\n        // event object to params used for `on()` event handlers and callbacks `oninit()`\n        const params = [];\n\n        // if is possible error event, make it the first param\n        if (event.hasOwnProperty('error')) {\n            params.push(event.error);\n        }\n\n        // file is always section\n        if (event.hasOwnProperty('file')) {\n            params.push(event.file);\n        }\n\n        // append other props\n        const filtered = ['type', 'error', 'file'];\n        Object.keys(event)\n            .filter(key => !filtered.includes(key))\n            .forEach(key => params.push(event[key]));\n\n        // on(type, () => { })\n        exports.fire(event.type, ...params);\n\n        // oninit = () => {}\n        const handler = store.query(`GET_ON${event.type.toUpperCase()}`);\n        if (handler) {\n            handler(...params);\n        }\n    };\n\n    const routeActionsToEvents = actions => {\n        if (!actions.length) return;\n        actions\n            .filter(action => eventRoutes[action.type])\n            .forEach(action => {\n                const routes = eventRoutes[action.type];\n                (Array.isArray(routes) ? routes : [routes]).forEach(route => {\n                    // this isn't fantastic, but because of the stacking of settimeouts plugins can handle the did_load before the did_init\n                    if (action.type === 'DID_INIT_ITEM') {\n                        exposeEvent(route(action.data));\n                    } else {\n                        setTimeout(() => {\n                            exposeEvent(route(action.data));\n                        }, 0);\n                    }\n                });\n            });\n    };\n\n    //\n    // PUBLIC API -------------------------------------------------------------------------------------\n    //\n    const setOptions = options => store.dispatch('SET_OPTIONS', { options });\n\n    const getFile = query => store.query('GET_ACTIVE_ITEM', query);\n\n    const prepareFile = query =>\n        new Promise((resolve, reject) => {\n            store.dispatch('REQUEST_ITEM_PREPARE', {\n                query,\n                success: item => {\n                    resolve(item);\n                },\n                failure: error => {\n                    reject(error);\n                },\n            });\n        });\n\n    const addFile = (source, options = {}) =>\n        new Promise((resolve, reject) => {\n            addFiles([{ source, options }], { index: options.index })\n                .then(items => resolve(items && items[0]))\n                .catch(reject);\n        });\n\n    const isFilePondFile = obj => obj.file && obj.id;\n\n    const removeFile = (query, options) => {\n        // if only passed options\n        if (typeof query === 'object' && !isFilePondFile(query) && !options) {\n            options = query;\n            query = undefined;\n        }\n\n        // request item removal\n        store.dispatch('REMOVE_ITEM', { ...options, query });\n\n        // see if item has been removed\n        return store.query('GET_ACTIVE_ITEM', query) === null;\n    };\n\n    const addFiles = (...args) =>\n        new Promise((resolve, reject) => {\n            const sources = [];\n            const options = {};\n\n            // user passed a sources array\n            if (isArray(args[0])) {\n                sources.push.apply(sources, args[0]);\n                Object.assign(options, args[1] || {});\n            } else {\n                // user passed sources as arguments, last one might be options object\n                const lastArgument = args[args.length - 1];\n                if (typeof lastArgument === 'object' && !(lastArgument instanceof Blob)) {\n                    Object.assign(options, args.pop());\n                }\n\n                // add rest to sources\n                sources.push(...args);\n            }\n\n            store.dispatch('ADD_ITEMS', {\n                items: sources,\n                index: options.index,\n                interactionMethod: InteractionMethod.API,\n                success: resolve,\n                failure: reject,\n            });\n        });\n\n    const getFiles = () => store.query('GET_ACTIVE_ITEMS');\n\n    const processFile = query =>\n        new Promise((resolve, reject) => {\n            store.dispatch('REQUEST_ITEM_PROCESSING', {\n                query,\n                success: item => {\n                    resolve(item);\n                },\n                failure: error => {\n                    reject(error);\n                },\n            });\n        });\n\n    const prepareFiles = (...args) => {\n        const queries = Array.isArray(args[0]) ? args[0] : args;\n        const items = queries.length ? queries : getFiles();\n        return Promise.all(items.map(prepareFile));\n    };\n\n    const processFiles = (...args) => {\n        const queries = Array.isArray(args[0]) ? args[0] : args;\n        if (!queries.length) {\n            const files = getFiles().filter(\n                item =>\n                    !(item.status === ItemStatus.IDLE && item.origin === FileOrigin.LOCAL) &&\n                    item.status !== ItemStatus.PROCESSING &&\n                    item.status !== ItemStatus.PROCESSING_COMPLETE &&\n                    item.status !== ItemStatus.PROCESSING_REVERT_ERROR\n            );\n            return Promise.all(files.map(processFile));\n        }\n        return Promise.all(queries.map(processFile));\n    };\n\n    const removeFiles = (...args) => {\n        const queries = Array.isArray(args[0]) ? args[0] : args;\n\n        let options;\n        if (typeof queries[queries.length - 1] === 'object') {\n            options = queries.pop();\n        } else if (Array.isArray(args[0])) {\n            options = args[1];\n        }\n\n        const files = getFiles();\n\n        if (!queries.length) return Promise.all(files.map(file => removeFile(file, options)));\n\n        // when removing by index the indexes shift after each file removal so we need to convert indexes to ids\n        const mappedQueries = queries\n            .map(query => (isNumber(query) ? (files[query] ? files[query].id : null) : query))\n            .filter(query => query);\n\n        return mappedQueries.map(q => removeFile(q, options));\n    };\n\n    const exports = {\n        // supports events\n        ...on(),\n\n        // inject private api methods\n        ...readWriteApi,\n\n        // inject all getters and setters\n        ...createOptionAPI(store, defaultOptions),\n\n        /**\n         * Override options defined in options object\n         * @param options\n         */\n        setOptions,\n\n        /**\n         * Load the given file\n         * @param source - the source of the file (either a File, base64 data uri or url)\n         * @param options - object, { index: 0 }\n         */\n        addFile,\n\n        /**\n         * Load the given files\n         * @param sources - the sources of the files to load\n         * @param options - object, { index: 0 }\n         */\n        addFiles,\n\n        /**\n         * Returns the file objects matching the given query\n         * @param query { string, number, null }\n         */\n        getFile,\n\n        /**\n         * Upload file with given name\n         * @param query { string, number, null  }\n         */\n        processFile,\n\n        /**\n         * Request prepare output for file with given name\n         * @param query { string, number, null  }\n         */\n        prepareFile,\n\n        /**\n         * Removes a file by its name\n         * @param query { string, number, null  }\n         */\n        removeFile,\n\n        /**\n         * Moves a file to a new location in the files list\n         */\n        moveFile: (query, index) => store.dispatch('MOVE_ITEM', { query, index }),\n\n        /**\n         * Returns all files (wrapped in public api)\n         */\n        getFiles,\n\n        /**\n         * Starts uploading all files\n         */\n        processFiles,\n\n        /**\n         * Clears all files from the files list\n         */\n        removeFiles,\n\n        /**\n         * Starts preparing output of all files\n         */\n        prepareFiles,\n\n        /**\n         * Sort list of files\n         */\n        sort: compare => store.dispatch('SORT', { compare }),\n\n        /**\n         * Browse the file system for a file\n         */\n        browse: () => {\n            // needs to be trigger directly as user action needs to be traceable (is not traceable in requestAnimationFrame)\n            var input = view.element.querySelector('input[type=file]');\n            if (input) {\n                input.click();\n            }\n        },\n\n        /**\n         * Destroys the app\n         */\n        destroy: () => {\n            // request destruction\n            exports.fire('destroy', view.element);\n\n            // stop active processes (file uploads, fetches, stuff like that)\n            // loop over items and depending on states call abort for ongoing processes\n            store.dispatch('ABORT_ALL');\n\n            // destroy view\n            view._destroy();\n\n            // stop listening to resize\n            window.removeEventListener('resize', resizeHandler);\n\n            // stop listening to the visiblitychange event\n            document.removeEventListener('visibilitychange', visibilityHandler);\n\n            // dispatch destroy\n            store.dispatch('DID_DESTROY');\n        },\n\n        /**\n         * Inserts the plugin before the target element\n         */\n        insertBefore: element => insertBefore(view.element, element),\n\n        /**\n         * Inserts the plugin after the target element\n         */\n        insertAfter: element => insertAfter(view.element, element),\n\n        /**\n         * Appends the plugin to the target element\n         */\n        appendTo: element => element.appendChild(view.element),\n\n        /**\n         * Replaces an element with the app\n         */\n        replaceElement: element => {\n            // insert the app before the element\n            insertBefore(view.element, element);\n\n            // remove the original element\n            element.parentNode.removeChild(element);\n\n            // remember original element\n            originalElement = element;\n        },\n\n        /**\n         * Restores the original element\n         */\n        restoreElement: () => {\n            if (!originalElement) {\n                return; // no element to restore\n            }\n\n            // restore original element\n            insertAfter(originalElement, view.element);\n\n            // remove our element\n            view.element.parentNode.removeChild(view.element);\n\n            // remove reference\n            originalElement = null;\n        },\n\n        /**\n         * Returns true if the app root is attached to given element\n         * @param element\n         */\n        isAttachedTo: element => view.element === element || originalElement === element,\n\n        /**\n         * Returns the root element\n         */\n        element: {\n            get: () => view.element,\n        },\n\n        /**\n         * Returns the current pond status\n         */\n        status: {\n            get: () => store.query('GET_STATUS'),\n        },\n    };\n\n    // Done!\n    store.dispatch('DID_INIT');\n\n    // create actual api object\n    return createObject(exports);\n};\n\nconst createAppObject = (customOptions = {}) => {\n    // default options\n    const defaultOptions = {};\n    forin(getOptions(), (key, value) => {\n        defaultOptions[key] = value[0];\n    });\n\n    // set app options\n    const app = createApp({\n        // default options\n        ...defaultOptions,\n\n        // custom options\n        ...customOptions,\n    });\n\n    // return the plugin instance\n    return app;\n};\n\nconst lowerCaseFirstLetter = string => string.charAt(0).toLowerCase() + string.slice(1);\n\nconst attributeNameToPropertyName = attributeName => toCamels(attributeName.replace(/^data-/, ''));\n\nconst mapObject = (object, propertyMap) => {\n    // remove unwanted\n    forin(propertyMap, (selector, mapping) => {\n        forin(object, (property, value) => {\n            // create regexp shortcut\n            const selectorRegExp = new RegExp(selector);\n\n            // tests if\n            const matches = selectorRegExp.test(property);\n\n            // no match, skip\n            if (!matches) {\n                return;\n            }\n\n            // if there's a mapping, the original property is always removed\n            delete object[property];\n\n            // should only remove, we done!\n            if (mapping === false) {\n                return;\n            }\n\n            // move value to new property\n            if (isString(mapping)) {\n                object[mapping] = value;\n                return;\n            }\n\n            // move to group\n            const group = mapping.group;\n            if (isObject(mapping) && !object[group]) {\n                object[group] = {};\n            }\n\n            object[group][lowerCaseFirstLetter(property.replace(selectorRegExp, ''))] = value;\n        });\n\n        // do submapping\n        if (mapping.mapping) {\n            mapObject(object[mapping.group], mapping.mapping);\n        }\n    });\n};\n\nconst getAttributesAsObject = (node, attributeMapping = {}) => {\n    // turn attributes into object\n    const attributes = [];\n    forin(node.attributes, index => {\n        attributes.push(node.attributes[index]);\n    });\n\n    const output = attributes\n        .filter(attribute => attribute.name)\n        .reduce((obj, attribute) => {\n            const value = attr(node, attribute.name);\n\n            obj[attributeNameToPropertyName(attribute.name)] =\n                value === attribute.name ? true : value;\n            return obj;\n        }, {});\n\n    // do mapping of object properties\n    mapObject(output, attributeMapping);\n\n    return output;\n};\n\nconst createAppAtElement = (element, options = {}) => {\n    // how attributes of the input element are mapped to the options for the plugin\n    const attributeMapping = {\n        // translate to other name\n        '^class$': 'className',\n        '^multiple$': 'allowMultiple',\n        '^capture$': 'captureMethod',\n        '^webkitdirectory$': 'allowDirectoriesOnly',\n\n        // group under single property\n        '^server': {\n            group: 'server',\n            mapping: {\n                '^process': {\n                    group: 'process',\n                },\n                '^revert': {\n                    group: 'revert',\n                },\n                '^fetch': {\n                    group: 'fetch',\n                },\n                '^restore': {\n                    group: 'restore',\n                },\n                '^load': {\n                    group: 'load',\n                },\n            },\n        },\n\n        // don't include in object\n        '^type$': false,\n        '^files$': false,\n    };\n\n    // add additional option translators\n    applyFilters('SET_ATTRIBUTE_TO_OPTION_MAP', attributeMapping);\n\n    // create final options object by setting options object and then overriding options supplied on element\n    const mergedOptions = {\n        ...options,\n    };\n\n    const attributeOptions = getAttributesAsObject(\n        element.nodeName === 'FIELDSET' ? element.querySelector('input[type=file]') : element,\n        attributeMapping\n    );\n\n    // merge with options object\n    Object.keys(attributeOptions).forEach(key => {\n        if (isObject(attributeOptions[key])) {\n            if (!isObject(mergedOptions[key])) {\n                mergedOptions[key] = {};\n            }\n            Object.assign(mergedOptions[key], attributeOptions[key]);\n        } else {\n            mergedOptions[key] = attributeOptions[key];\n        }\n    });\n\n    // if parent is a fieldset, get files from parent by selecting all input fields that are not file upload fields\n    // these will then be automatically set to the initial files\n    mergedOptions.files = (options.files || []).concat(\n        Array.from(element.querySelectorAll('input:not([type=file])')).map(input => ({\n            source: input.value,\n            options: {\n                type: input.dataset.type,\n            },\n        }))\n    );\n\n    // build plugin\n    const app = createAppObject(mergedOptions);\n\n    // add already selected files\n    if (element.files) {\n        Array.from(element.files).forEach(file => {\n            app.addFile(file);\n        });\n    }\n\n    // replace the target element\n    app.replaceElement(element);\n\n    // expose\n    return app;\n};\n\n// if an element is passed, we create the instance at that element, if not, we just create an up object\nconst createApp$1 = (...args) =>\n    isNode(args[0]) ? createAppAtElement(...args) : createAppObject(...args);\n\nconst PRIVATE_METHODS = ['fire', '_read', '_write'];\n\nconst createAppAPI = app => {\n    const api = {};\n\n    copyObjectPropertiesToObject(app, api, PRIVATE_METHODS);\n\n    return api;\n};\n\n/**\n * Replaces placeholders in given string with replacements\n * @param string - \"Foo {bar}\"\"\n * @param replacements - { \"bar\": 10 }\n */\nconst replaceInString = (string, replacements) =>\n    string.replace(/(?:{([a-zA-Z]+)})/g, (match, group) => replacements[group]);\n\nconst createWorker = fn => {\n    const workerBlob = new Blob(['(', fn.toString(), ')()'], {\n        type: 'application/javascript',\n    });\n    const workerURL = URL.createObjectURL(workerBlob);\n    const worker = new Worker(workerURL);\n\n    return {\n        transfer: (message, cb) => {},\n        post: (message, cb, transferList) => {\n            const id = getUniqueId();\n\n            worker.onmessage = e => {\n                if (e.data.id === id) {\n                    cb(e.data.message);\n                }\n            };\n\n            worker.postMessage(\n                {\n                    id,\n                    message,\n                },\n                transferList\n            );\n        },\n        terminate: () => {\n            worker.terminate();\n            URL.revokeObjectURL(workerURL);\n        },\n    };\n};\n\nconst loadImage = url =>\n    new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => {\n            resolve(img);\n        };\n        img.onerror = e => {\n            reject(e);\n        };\n        img.src = url;\n    });\n\nconst renameFile = (file, name) => {\n    const renamedFile = file.slice(0, file.size, file.type);\n    renamedFile.lastModifiedDate = file.lastModifiedDate;\n    renamedFile.name = name;\n    return renamedFile;\n};\n\nconst copyFile = file => renameFile(file, file.name);\n\n// already registered plugins (can't register twice)\nconst registeredPlugins = [];\n\n// pass utils to plugin\nconst createAppPlugin = plugin => {\n    // already registered\n    if (registeredPlugins.includes(plugin)) {\n        return;\n    }\n\n    // remember this plugin\n    registeredPlugins.push(plugin);\n\n    // setup!\n    const pluginOutline = plugin({\n        addFilter,\n        utils: {\n            Type,\n            forin,\n            isString,\n            isFile,\n            toNaturalFileSize,\n            replaceInString,\n            getExtensionFromFilename,\n            getFilenameWithoutExtension,\n            guesstimateMimeType,\n            getFileFromBlob,\n            getFilenameFromURL,\n            createRoute,\n            createWorker,\n            createView,\n            createItemAPI,\n            loadImage,\n            copyFile,\n            renameFile,\n            createBlob,\n            applyFilterChain,\n            text,\n            getNumericAspectRatioFromString,\n        },\n        views: {\n            fileActionButton,\n        },\n    });\n\n    // add plugin options to default options\n    extendDefaultOptions(pluginOutline.options);\n};\n\n// feature detection used by supported() method\nconst isOperaMini = () => Object.prototype.toString.call(window.operamini) === '[object OperaMini]';\nconst hasPromises = () => 'Promise' in window;\nconst hasBlobSlice = () => 'slice' in Blob.prototype;\nconst hasCreateObjectURL = () => 'URL' in window && 'createObjectURL' in window.URL;\nconst hasVisibility = () => 'visibilityState' in document;\nconst hasTiming = () => 'performance' in window; // iOS 8.x\nconst hasCSSSupports = () => 'supports' in (window.CSS || {}); // use to detect Safari 9+\nconst isIE11 = () => /MSIE|Trident/.test(window.navigator.userAgent);\n\nconst supported = (() => {\n    // Runs immediately and then remembers result for subsequent calls\n    const isSupported =\n        // Has to be a browser\n        isBrowser() &&\n        // Can't run on Opera Mini due to lack of everything\n        !isOperaMini() &&\n        // Require these APIs to feature detect a modern browser\n        hasVisibility() &&\n        hasPromises() &&\n        hasBlobSlice() &&\n        hasCreateObjectURL() &&\n        hasTiming() &&\n        // doesn't need CSSSupports but is a good way to detect Safari 9+ (we do want to support IE11 though)\n        (hasCSSSupports() || isIE11());\n\n    return () => isSupported;\n})();\n\n/**\n * Plugin internal state (over all instances)\n */\nconst state = {\n    // active app instances, used to redraw the apps and to find the later\n    apps: [],\n};\n\n// plugin name\nconst name = 'filepond';\n\n/**\n * Public Plugin methods\n */\nconst fn = () => {};\nlet Status$1 = {};\nlet FileStatus = {};\nlet FileOrigin$1 = {};\nlet OptionTypes = {};\nlet create$f = fn;\nlet destroy = fn;\nlet parse = fn;\nlet find = fn;\nlet registerPlugin = fn;\nlet getOptions$1 = fn;\nlet setOptions$1 = fn;\n\n// if not supported, no API\nif (supported()) {\n    // start painter and fire load event\n    createPainter(\n        () => {\n            state.apps.forEach(app => app._read());\n        },\n        ts => {\n            state.apps.forEach(app => app._write(ts));\n        }\n    );\n\n    // fire loaded event so we know when FilePond is available\n    const dispatch = () => {\n        // let others know we have area ready\n        document.dispatchEvent(\n            new CustomEvent('FilePond:loaded', {\n                detail: {\n                    supported,\n                    create: create$f,\n                    destroy,\n                    parse,\n                    find,\n                    registerPlugin,\n                    setOptions: setOptions$1,\n                },\n            })\n        );\n\n        // clean up event\n        document.removeEventListener('DOMContentLoaded', dispatch);\n    };\n\n    if (document.readyState !== 'loading') {\n        // move to back of execution queue, FilePond should have been exported by then\n        setTimeout(() => dispatch(), 0);\n    } else {\n        document.addEventListener('DOMContentLoaded', dispatch);\n    }\n\n    // updates the OptionTypes object based on the current options\n    const updateOptionTypes = () =>\n        forin(getOptions(), (key, value) => {\n            OptionTypes[key] = value[1];\n        });\n\n    Status$1 = { ...Status };\n    FileOrigin$1 = { ...FileOrigin };\n    FileStatus = { ...ItemStatus };\n\n    OptionTypes = {};\n    updateOptionTypes();\n\n    // create method, creates apps and adds them to the app array\n    create$f = (...args) => {\n        const app = createApp$1(...args);\n        app.on('destroy', destroy);\n        state.apps.push(app);\n        return createAppAPI(app);\n    };\n\n    // destroys apps and removes them from the app array\n    destroy = hook => {\n        // returns true if the app was destroyed successfully\n        const indexToRemove = state.apps.findIndex(app => app.isAttachedTo(hook));\n        if (indexToRemove >= 0) {\n            // remove from apps\n            const app = state.apps.splice(indexToRemove, 1)[0];\n\n            // restore original dom element\n            app.restoreElement();\n\n            return true;\n        }\n\n        return false;\n    };\n\n    // parses the given context for plugins (does not include the context element itself)\n    parse = context => {\n        // get all possible hooks\n        const matchedHooks = Array.from(context.querySelectorAll(`.${name}`));\n\n        // filter out already active hooks\n        const newHooks = matchedHooks.filter(\n            newHook => !state.apps.find(app => app.isAttachedTo(newHook))\n        );\n\n        // create new instance for each hook\n        return newHooks.map(hook => create$f(hook));\n    };\n\n    // returns an app based on the given element hook\n    find = hook => {\n        const app = state.apps.find(app => app.isAttachedTo(hook));\n        if (!app) {\n            return null;\n        }\n        return createAppAPI(app);\n    };\n\n    // adds a plugin extension\n    registerPlugin = (...plugins) => {\n        // register plugins\n        plugins.forEach(createAppPlugin);\n\n        // update OptionTypes, each plugin might have extended the default options\n        updateOptionTypes();\n    };\n\n    getOptions$1 = () => {\n        const opts = {};\n        forin(getOptions(), (key, value) => {\n            opts[key] = value[0];\n        });\n        return opts;\n    };\n\n    setOptions$1 = opts => {\n        if (isObject(opts)) {\n            // update existing plugins\n            state.apps.forEach(app => {\n                app.setOptions(opts);\n            });\n\n            // override defaults\n            setOptions(opts);\n        }\n\n        // return new options\n        return getOptions$1();\n    };\n}\n\nexport {\n    FileOrigin$1 as FileOrigin,\n    FileStatus,\n    OptionTypes,\n    Status$1 as Status,\n    create$f as create,\n    destroy,\n    find,\n    getOptions$1 as getOptions,\n    parse,\n    registerPlugin,\n    setOptions$1 as setOptions,\n    supported,\n};\n", "/*!\n * FilePondPluginFileValidateSize 2.2.8\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\nconst plugin = ({ addFilter, utils }) => {\n    // get quick reference to Type utils\n    const { Type, replaceInString, toNaturalFileSize } = utils;\n\n    // filtering if an item is allowed in hopper\n    addFilter('ALLOW_HOPPER_ITEM', (file, { query }) => {\n        if (!query('GET_ALLOW_FILE_SIZE_VALIDATION')) {\n            return true;\n        }\n\n        const sizeMax = query('GET_MAX_FILE_SIZE');\n        if (sizeMax !== null && file.size > sizeMax) {\n            return false;\n        }\n\n        const sizeMin = query('GET_MIN_FILE_SIZE');\n        if (sizeMin !== null && file.size < sizeMin) {\n            return false;\n        }\n\n        return true;\n    });\n\n    // called for each file that is loaded\n    // right before it is set to the item state\n    // should return a promise\n    addFilter(\n        'LOAD_FILE',\n        (file, { query }) =>\n            new Promise((resolve, reject) => {\n                // if not allowed, all fine, exit\n                if (!query('GET_ALLOW_FILE_SIZE_VALIDATION')) {\n                    return resolve(file);\n                }\n\n                // check if file should be filtered\n                const fileFilter = query('GET_FILE_VALIDATE_SIZE_FILTER');\n                if (fileFilter && !fileFilter(file)) {\n                    return resolve(file);\n                }\n\n                // reject or resolve based on file size\n                const sizeMax = query('GET_MAX_FILE_SIZE');\n                if (sizeMax !== null && file.size > sizeMax) {\n                    reject({\n                        status: {\n                            main: query('GET_LABEL_MAX_FILE_SIZE_EXCEEDED'),\n                            sub: replaceInString(query('GET_LABEL_MAX_FILE_SIZE'), {\n                                filesize: toNaturalFileSize(\n                                    sizeMax,\n                                    '.',\n                                    query('GET_FILE_SIZE_BASE'),\n                                    query('GET_FILE_SIZE_LABELS', query)\n                                ),\n                            }),\n                        },\n                    });\n                    return;\n                }\n\n                // reject or resolve based on file size\n                const sizeMin = query('GET_MIN_FILE_SIZE');\n                if (sizeMin !== null && file.size < sizeMin) {\n                    reject({\n                        status: {\n                            main: query('GET_LABEL_MIN_FILE_SIZE_EXCEEDED'),\n                            sub: replaceInString(query('GET_LABEL_MIN_FILE_SIZE'), {\n                                filesize: toNaturalFileSize(\n                                    sizeMin,\n                                    '.',\n                                    query('GET_FILE_SIZE_BASE'),\n                                    query('GET_FILE_SIZE_LABELS', query)\n                                ),\n                            }),\n                        },\n                    });\n                    return;\n                }\n\n                // returns the current option value\n                const totalSizeMax = query('GET_MAX_TOTAL_FILE_SIZE');\n                if (totalSizeMax !== null) {\n                    // get the current total file size\n                    const currentTotalSize = query('GET_ACTIVE_ITEMS').reduce((total, item) => {\n                        return total + item.fileSize;\n                    }, 0);\n\n                    // get the size of the new file\n                    if (currentTotalSize > totalSizeMax) {\n                        reject({\n                            status: {\n                                main: query('GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED'),\n                                sub: replaceInString(query('GET_LABEL_MAX_TOTAL_FILE_SIZE'), {\n                                    filesize: toNaturalFileSize(\n                                        totalSizeMax,\n                                        '.',\n                                        query('GET_FILE_SIZE_BASE'),\n                                        query('GET_FILE_SIZE_LABELS', query)\n                                    ),\n                                }),\n                            },\n                        });\n                        return;\n                    }\n                }\n\n                // file is fine, let's pass it back\n                resolve(file);\n            })\n    );\n\n    return {\n        options: {\n            // Enable or disable file type validation\n            allowFileSizeValidation: [true, Type.BOOLEAN],\n\n            // Max individual file size in bytes\n            maxFileSize: [null, Type.INT],\n\n            // Min individual file size in bytes\n            minFileSize: [null, Type.INT],\n\n            // Max total file size in bytes\n            maxTotalFileSize: [null, Type.INT],\n\n            // Filter the files that need to be validated for size\n            fileValidateSizeFilter: [null, Type.FUNCTION],\n\n            // error labels\n            labelMinFileSizeExceeded: ['File is too small', Type.STRING],\n            labelMinFileSize: ['Minimum file size is {filesize}', Type.STRING],\n\n            labelMaxFileSizeExceeded: ['File is too large', Type.STRING],\n            labelMaxFileSize: ['Maximum file size is {filesize}', Type.STRING],\n\n            labelMaxTotalFileSizeExceeded: ['Maximum total size exceeded', Type.STRING],\n            labelMaxTotalFileSize: ['Maximum total file size is {filesize}', Type.STRING],\n        },\n    };\n};\n\n// fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\nconst isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nif (isBrowser) {\n    document.dispatchEvent(new CustomEvent('FilePond:pluginloaded', { detail: plugin }));\n}\n\nexport default plugin;\n", "/*!\n * FilePondPluginFileValidateType 1.2.8\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\nconst plugin = ({ addFilter, utils }) => {\n  // get quick reference to Type utils\n  const {\n    Type,\n    isString,\n    replaceInString,\n    guesstimateMimeType,\n    getExtensionFromFilename,\n    getFilenameFromURL\n  } = utils;\n\n  const mimeTypeMatchesWildCard = (mimeType, wildcard) => {\n    const mimeTypeGroup = (/^[^/]+/.exec(mimeType) || []).pop(); // image/png -> image\n    const wildcardGroup = wildcard.slice(0, -2); // image/* -> image\n    return mimeTypeGroup === wildcardGroup;\n  };\n\n  const isValidMimeType = (acceptedTypes, userInputType) =>\n    acceptedTypes.some(acceptedType => {\n      // accepted is wildcard mime type\n      if (/\\*$/.test(acceptedType)) {\n        return mimeTypeMatchesWildCard(userInputType, acceptedType);\n      }\n\n      // is normal mime type\n      return acceptedType === userInputType;\n    });\n\n  const getItemType = item => {\n    // if the item is a url we guess the mime type by the extension\n    let type = '';\n    if (isString(item)) {\n      const filename = getFilenameFromURL(item);\n      const extension = getExtensionFromFilename(filename);\n      if (extension) {\n        type = guesstimateMimeType(extension);\n      }\n    } else {\n      type = item.type;\n    }\n\n    return type;\n  };\n\n  const validateFile = (item, acceptedFileTypes, typeDetector) => {\n    // no types defined, everything is allowed \\o/\n    if (acceptedFileTypes.length === 0) {\n      return true;\n    }\n\n    // gets the item type\n    const type = getItemType(item);\n\n    // no type detector, test now\n    if (!typeDetector) {\n      return isValidMimeType(acceptedFileTypes, type);\n    }\n\n    // use type detector\n    return new Promise((resolve, reject) => {\n      typeDetector(item, type)\n        .then(detectedType => {\n          if (isValidMimeType(acceptedFileTypes, detectedType)) {\n            resolve();\n          } else {\n            reject();\n          }\n        })\n        .catch(reject);\n    });\n  };\n\n  const applyMimeTypeMap = map => acceptedFileType =>\n    map[acceptedFileType] === null\n      ? false\n      : map[acceptedFileType] || acceptedFileType;\n\n  // setup attribute mapping for accept\n  addFilter('SET_ATTRIBUTE_TO_OPTION_MAP', map =>\n    Object.assign(map, {\n      accept: 'acceptedFileTypes'\n    })\n  );\n\n  // filtering if an item is allowed in hopper\n  addFilter('ALLOW_HOPPER_ITEM', (file, { query }) => {\n    // if we are not doing file type validation exit\n    if (!query('GET_ALLOW_FILE_TYPE_VALIDATION')) {\n      return true;\n    }\n\n    // we validate the file against the accepted file types\n    return validateFile(file, query('GET_ACCEPTED_FILE_TYPES'));\n  });\n\n  // called for each file that is loaded\n  // right before it is set to the item state\n  // should return a promise\n  addFilter(\n    'LOAD_FILE',\n    (file, { query }) =>\n      new Promise((resolve, reject) => {\n        if (!query('GET_ALLOW_FILE_TYPE_VALIDATION')) {\n          resolve(file);\n          return;\n        }\n\n        const acceptedFileTypes = query('GET_ACCEPTED_FILE_TYPES');\n\n        // custom type detector method\n        const typeDetector = query('GET_FILE_VALIDATE_TYPE_DETECT_TYPE');\n\n        // if invalid, exit here\n        const validationResult = validateFile(\n          file,\n          acceptedFileTypes,\n          typeDetector\n        );\n\n        const handleRejection = () => {\n          const acceptedFileTypesMapped = acceptedFileTypes\n            .map(\n              applyMimeTypeMap(\n                query('GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP')\n              )\n            )\n            .filter(label => label !== false);\n\n          const acceptedFileTypesMapped_unique = acceptedFileTypesMapped.filter(\n            function(item, index) {\n              return acceptedFileTypesMapped.indexOf(item) === index;\n            }\n          );\n\n          reject({\n            status: {\n              main: query('GET_LABEL_FILE_TYPE_NOT_ALLOWED'),\n              sub: replaceInString(\n                query('GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES'),\n                {\n                  allTypes: acceptedFileTypesMapped_unique.join(', '),\n                  allButLastType: acceptedFileTypesMapped_unique\n                    .slice(0, -1)\n                    .join(', '),\n                  lastType:\n                    acceptedFileTypesMapped_unique[\n                      acceptedFileTypesMapped.length - 1\n                    ]\n                }\n              )\n            }\n          });\n        };\n\n        // has returned new filename immidiately\n        if (typeof validationResult === 'boolean') {\n          if (!validationResult) {\n            return handleRejection();\n          }\n          return resolve(file);\n        }\n\n        // is promise\n        validationResult\n          .then(() => {\n            resolve(file);\n          })\n          .catch(handleRejection);\n      })\n  );\n\n  // expose plugin\n  return {\n    // default options\n    options: {\n      // Enable or disable file type validation\n      allowFileTypeValidation: [true, Type.BOOLEAN],\n\n      // What file types to accept\n      acceptedFileTypes: [[], Type.ARRAY],\n      // - must be comma separated\n      // - mime types: image/png, image/jpeg, image/gif\n      // - extensions: .png, .jpg, .jpeg ( not enabled yet )\n      // - wildcards: image/*\n\n      // label to show when a type is not allowed\n      labelFileTypeNotAllowed: ['File is of invalid type', Type.STRING],\n\n      // nicer label\n      fileValidateTypeLabelExpectedTypes: [\n        'Expects {allButLastType} or {lastType}',\n        Type.STRING\n      ],\n\n      // map mime types to extensions\n      fileValidateTypeLabelExpectedTypesMap: [{}, Type.OBJECT],\n\n      // Custom function to detect type of file\n      fileValidateTypeDetectType: [null, Type.FUNCTION]\n    }\n  };\n};\n\n// fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\nconst isBrowser =\n  typeof window !== 'undefined' && typeof window.document !== 'undefined';\nif (isBrowser) {\n  document.dispatchEvent(\n    new CustomEvent('FilePond:pluginloaded', { detail: plugin })\n  );\n}\n\nexport default plugin;\n", "/*!\n * FilePondPluginImageCrop 2.0.6\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\nconst isImage = file => /^image/.test(file.type);\n\n/**\n * Image Auto Crop Plugin\n */\nconst plugin = ({ addFilter, utils }) => {\n  const { Type, isFile, getNumericAspectRatioFromString } = utils;\n\n  // tests if crop is allowed on this item\n  const allowCrop = (item, query) =>\n    !(!isImage(item.file) || !query('GET_ALLOW_IMAGE_CROP'));\n\n  const isObject = value => typeof value === 'object';\n\n  const isNumber = value => typeof value === 'number';\n\n  const updateCrop = (item, obj) =>\n    item.setMetadata('crop', Object.assign({}, item.getMetadata('crop'), obj));\n\n  // extend item methods\n  addFilter('DID_CREATE_ITEM', (item, { query }) => {\n    item.extend('setImageCrop', crop => {\n      if (!allowCrop(item, query) || !isObject(center)) return;\n      item.setMetadata('crop', crop);\n      return crop;\n    });\n\n    item.extend('setImageCropCenter', center => {\n      if (!allowCrop(item, query) || !isObject(center)) return;\n      return updateCrop(item, { center });\n    });\n\n    item.extend('setImageCropZoom', zoom => {\n      if (!allowCrop(item, query) || !isNumber(zoom)) return;\n      return updateCrop(item, { zoom: Math.max(1, zoom) });\n    });\n\n    item.extend('setImageCropRotation', rotation => {\n      if (!allowCrop(item, query) || !isNumber(rotation)) return;\n      return updateCrop(item, { rotation });\n    });\n\n    item.extend('setImageCropFlip', flip => {\n      if (!allowCrop(item, query) || !isObject(flip)) return;\n      return updateCrop(item, { flip });\n    });\n\n    item.extend('setImageCropAspectRatio', newAspectRatio => {\n      if (!allowCrop(item, query) || typeof newAspectRatio === 'undefined')\n        return;\n\n      const currentCrop = item.getMetadata('crop');\n\n      const aspectRatio = getNumericAspectRatioFromString(newAspectRatio);\n\n      const newCrop = {\n        center: {\n          x: 0.5,\n          y: 0.5\n        },\n        flip: currentCrop\n          ? Object.assign({}, currentCrop.flip)\n          : {\n              horizontal: false,\n              vertical: false\n            },\n        rotation: 0,\n        zoom: 1,\n        aspectRatio\n      };\n\n      item.setMetadata('crop', newCrop);\n\n      return newCrop;\n    });\n  });\n\n  // subscribe to file transformations\n  addFilter(\n    'DID_LOAD_ITEM',\n    (item, { query }) =>\n      new Promise((resolve, reject) => {\n        // get file reference\n        const file = item.file;\n\n        // if this is not an image we do not have any business cropping it and we'll continue with the unaltered dataset\n        if (!isFile(file) || !isImage(file) || !query('GET_ALLOW_IMAGE_CROP')) {\n          return resolve(item);\n        }\n\n        // already has crop metadata set?\n        const crop = item.getMetadata('crop');\n        if (crop) {\n          return resolve(item);\n        }\n\n        // get the required aspect ratio and exit if it's not set\n        const humanAspectRatio = query('GET_IMAGE_CROP_ASPECT_RATIO');\n\n        // set default crop rectangle\n        item.setMetadata('crop', {\n          center: {\n            x: 0.5,\n            y: 0.5\n          },\n          flip: {\n            horizontal: false,\n            vertical: false\n          },\n          rotation: 0,\n          zoom: 1,\n          aspectRatio: humanAspectRatio\n            ? getNumericAspectRatioFromString(humanAspectRatio)\n            : null\n        });\n\n        // we done!\n        resolve(item);\n      })\n  );\n\n  // Expose plugin options\n  return {\n    options: {\n      // enable or disable image cropping\n      allowImageCrop: [true, Type.BOOLEAN],\n\n      // the aspect ratio of the crop ('1:1', '16:9', etc)\n      imageCropAspectRatio: [null, Type.STRING]\n    }\n  };\n};\n\n// fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\nconst isBrowser =\n  typeof window !== 'undefined' && typeof window.document !== 'undefined';\nif (isBrowser) {\n  document.dispatchEvent(\n    new CustomEvent('FilePond:pluginloaded', { detail: plugin })\n  );\n}\n\nexport default plugin;\n", "/*!\n * FilePondPluginImageExifOrientation 1.0.11\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n// test if file is of type image\nconst isJPEG = file => /^image\\/jpeg/.test(file.type);\n\nconst Marker = {\n  JPEG: 0xffd8,\n  APP1: 0xffe1,\n  EXIF: 0x45786966,\n  TIFF: 0x4949,\n  Orientation: 0x0112,\n  Unknown: 0xff00\n};\n\nconst getUint16 = (view, offset, little = false) =>\n  view.getUint16(offset, little);\nconst getUint32 = (view, offset, little = false) =>\n  view.getUint32(offset, little);\n\nconst getImageOrientation = file =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = function(e) {\n      const view = new DataView(e.target.result);\n\n      // Every JPEG file starts from binary value '0xFFD8'\n      if (getUint16(view, 0) !== Marker.JPEG) {\n        // This aint no JPEG\n        resolve(-1);\n        return;\n      }\n\n      const length = view.byteLength;\n      let offset = 2;\n\n      while (offset < length) {\n        const marker = getUint16(view, offset);\n        offset += 2;\n\n        // There's our APP1 Marker\n        if (marker === Marker.APP1) {\n          if (getUint32(view, (offset += 2)) !== Marker.EXIF) {\n            // no EXIF info defined\n            break;\n          }\n\n          // Get TIFF Header\n          const little = getUint16(view, (offset += 6)) === Marker.TIFF;\n          offset += getUint32(view, offset + 4, little);\n\n          const tags = getUint16(view, offset, little);\n          offset += 2;\n\n          for (let i = 0; i < tags; i++) {\n            // found the orientation tag\n            if (\n              getUint16(view, offset + i * 12, little) === Marker.Orientation\n            ) {\n              resolve(getUint16(view, offset + i * 12 + 8, little));\n              return;\n            }\n          }\n        } else if ((marker & Marker.Unknown) !== Marker.Unknown) {\n          // Invalid\n          break;\n        } else {\n          offset += getUint16(view, offset);\n        }\n      }\n\n      // Nothing found\n      resolve(-1);\n    };\n\n    // we don't need to read the entire file to get the orientation\n    reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\n  });\n\nconst IS_BROWSER = (() =>\n  typeof window !== 'undefined' && typeof window.document !== 'undefined')();\nconst isBrowser = () => IS_BROWSER;\n\n// 2x1 pixel image 90CW rotated with orientation header\nconst testSrc =\n  'data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=';\n\n// should correct orientation if is presented in landscape, in which case the browser doesn't autocorrect\nlet shouldCorrect = undefined;\nconst testImage = isBrowser() ? new Image() : {};\ntestImage.onload = () =>\n  (shouldCorrect = testImage.naturalWidth > testImage.naturalHeight);\ntestImage.src = testSrc;\n\nconst shouldCorrectImageExifOrientation = () => shouldCorrect;\n\n/**\n * Read Image Orientation Plugin\n */\nconst plugin = ({ addFilter, utils }) => {\n  const { Type, isFile } = utils;\n\n  // subscribe to file load and append required info\n  addFilter(\n    'DID_LOAD_ITEM',\n    (item, { query }) =>\n      new Promise((resolve, reject) => {\n        // get file reference\n        const file = item.file;\n\n        // if this is not a jpeg image we are not interested\n        if (\n          !isFile(file) ||\n          !isJPEG(file) ||\n          !query('GET_ALLOW_IMAGE_EXIF_ORIENTATION') ||\n          !shouldCorrectImageExifOrientation()\n        ) {\n          // continue with the unaltered dataset\n          return resolve(item);\n        }\n\n        // get orientation from exif data\n        getImageOrientation(file).then(orientation => {\n          item.setMetadata('exif', { orientation });\n          resolve(item);\n        });\n      })\n  );\n\n  // Expose plugin options\n  return {\n    options: {\n      // Enable or disable image orientation reading\n      allowImageExifOrientation: [true, Type.BOOLEAN]\n    }\n  };\n};\n\n// fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\nconst isBrowser$1 =\n  typeof window !== 'undefined' && typeof window.document !== 'undefined';\nif (isBrowser$1) {\n  document.dispatchEvent(\n    new CustomEvent('FilePond:pluginloaded', { detail: plugin })\n  );\n}\n\nexport default plugin;\n", "/*!\n * FilePondPluginImagePreview 4.6.11\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n// test if file is of type image and can be viewed in canvas\nconst isPreviewableImage = file => /^image/.test(file.type);\n\nconst vectorMultiply = (v, amount) => createVector(v.x * amount, v.y * amount);\n\nconst vectorAdd = (a, b) => createVector(a.x + b.x, a.y + b.y);\n\nconst vectorNormalize = v => {\n  const l = Math.sqrt(v.x * v.x + v.y * v.y);\n  if (l === 0) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n  return createVector(v.x / l, v.y / l);\n};\n\nconst vectorRotate = (v, radians, origin) => {\n  const cos = Math.cos(radians);\n  const sin = Math.sin(radians);\n  const t = createVector(v.x - origin.x, v.y - origin.y);\n  return createVector(\n    origin.x + cos * t.x - sin * t.y,\n    origin.y + sin * t.x + cos * t.y\n  );\n};\n\nconst createVector = (x = 0, y = 0) => ({ x, y });\n\nconst getMarkupValue = (value, size, scalar = 1, axis) => {\n  if (typeof value === 'string') {\n    return parseFloat(value) * scalar;\n  }\n  if (typeof value === 'number') {\n    return value * (axis ? size[axis] : Math.min(size.width, size.height));\n  }\n  return;\n};\n\nconst getMarkupStyles = (markup, size, scale) => {\n  const lineStyle = markup.borderStyle || markup.lineStyle || 'solid';\n  const fill = markup.backgroundColor || markup.fontColor || 'transparent';\n  const stroke = markup.borderColor || markup.lineColor || 'transparent';\n  const strokeWidth = getMarkupValue(\n    markup.borderWidth || markup.lineWidth,\n    size,\n    scale\n  );\n  const lineCap = markup.lineCap || 'round';\n  const lineJoin = markup.lineJoin || 'round';\n  const dashes =\n    typeof lineStyle === 'string'\n      ? ''\n      : lineStyle.map(v => getMarkupValue(v, size, scale)).join(',');\n  const opacity = markup.opacity || 1;\n  return {\n    'stroke-linecap': lineCap,\n    'stroke-linejoin': lineJoin,\n    'stroke-width': strokeWidth || 0,\n    'stroke-dasharray': dashes,\n    stroke,\n    fill,\n    opacity\n  };\n};\n\nconst isDefined = value => value != null;\n\nconst getMarkupRect = (rect, size, scalar = 1) => {\n  let left =\n    getMarkupValue(rect.x, size, scalar, 'width') ||\n    getMarkupValue(rect.left, size, scalar, 'width');\n  let top =\n    getMarkupValue(rect.y, size, scalar, 'height') ||\n    getMarkupValue(rect.top, size, scalar, 'height');\n  let width = getMarkupValue(rect.width, size, scalar, 'width');\n  let height = getMarkupValue(rect.height, size, scalar, 'height');\n  let right = getMarkupValue(rect.right, size, scalar, 'width');\n  let bottom = getMarkupValue(rect.bottom, size, scalar, 'height');\n\n  if (!isDefined(top)) {\n    if (isDefined(height) && isDefined(bottom)) {\n      top = size.height - height - bottom;\n    } else {\n      top = bottom;\n    }\n  }\n\n  if (!isDefined(left)) {\n    if (isDefined(width) && isDefined(right)) {\n      left = size.width - width - right;\n    } else {\n      left = right;\n    }\n  }\n\n  if (!isDefined(width)) {\n    if (isDefined(left) && isDefined(right)) {\n      width = size.width - left - right;\n    } else {\n      width = 0;\n    }\n  }\n\n  if (!isDefined(height)) {\n    if (isDefined(top) && isDefined(bottom)) {\n      height = size.height - top - bottom;\n    } else {\n      height = 0;\n    }\n  }\n\n  return {\n    x: left || 0,\n    y: top || 0,\n    width: width || 0,\n    height: height || 0\n  };\n};\n\nconst pointsToPathShape = points =>\n  points\n    .map((point, index) => `${index === 0 ? 'M' : 'L'} ${point.x} ${point.y}`)\n    .join(' ');\n\nconst setAttributes = (element, attr) =>\n  Object.keys(attr).forEach(key => element.setAttribute(key, attr[key]));\n\nconst ns = 'http://www.w3.org/2000/svg';\nconst svg = (tag, attr) => {\n  const element = document.createElementNS(ns, tag);\n  if (attr) {\n    setAttributes(element, attr);\n  }\n  return element;\n};\n\nconst updateRect = element =>\n  setAttributes(element, {\n    ...element.rect,\n    ...element.styles\n  });\n\nconst updateEllipse = element => {\n  const cx = element.rect.x + element.rect.width * 0.5;\n  const cy = element.rect.y + element.rect.height * 0.5;\n  const rx = element.rect.width * 0.5;\n  const ry = element.rect.height * 0.5;\n  return setAttributes(element, {\n    cx,\n    cy,\n    rx,\n    ry,\n    ...element.styles\n  });\n};\n\nconst IMAGE_FIT_STYLE = {\n  contain: 'xMidYMid meet',\n  cover: 'xMidYMid slice'\n};\n\nconst updateImage = (element, markup) => {\n  setAttributes(element, {\n    ...element.rect,\n    ...element.styles,\n    preserveAspectRatio: IMAGE_FIT_STYLE[markup.fit] || 'none'\n  });\n};\n\nconst TEXT_ANCHOR = {\n  left: 'start',\n  center: 'middle',\n  right: 'end'\n};\n\nconst updateText = (element, markup, size, scale) => {\n  const fontSize = getMarkupValue(markup.fontSize, size, scale);\n  const fontFamily = markup.fontFamily || 'sans-serif';\n  const fontWeight = markup.fontWeight || 'normal';\n  const textAlign = TEXT_ANCHOR[markup.textAlign] || 'start';\n\n  setAttributes(element, {\n    ...element.rect,\n    ...element.styles,\n    'stroke-width': 0,\n    'font-weight': fontWeight,\n    'font-size': fontSize,\n    'font-family': fontFamily,\n    'text-anchor': textAlign\n  });\n\n  // update text\n  if (element.text !== markup.text) {\n    element.text = markup.text;\n    element.textContent = markup.text.length ? markup.text : ' ';\n  }\n};\n\nconst updateLine = (element, markup, size, scale) => {\n  setAttributes(element, {\n    ...element.rect,\n    ...element.styles,\n    fill: 'none'\n  });\n\n  const line = element.childNodes[0];\n  const begin = element.childNodes[1];\n  const end = element.childNodes[2];\n\n  const origin = element.rect;\n\n  const target = {\n    x: element.rect.x + element.rect.width,\n    y: element.rect.y + element.rect.height\n  };\n\n  setAttributes(line, {\n    x1: origin.x,\n    y1: origin.y,\n    x2: target.x,\n    y2: target.y\n  });\n\n  if (!markup.lineDecoration) return;\n\n  begin.style.display = 'none';\n  end.style.display = 'none';\n\n  const v = vectorNormalize({\n    x: target.x - origin.x,\n    y: target.y - origin.y\n  });\n\n  const l = getMarkupValue(0.05, size, scale);\n\n  if (markup.lineDecoration.indexOf('arrow-begin') !== -1) {\n    const arrowBeginRotationPoint = vectorMultiply(v, l);\n    const arrowBeginCenter = vectorAdd(origin, arrowBeginRotationPoint);\n    const arrowBeginA = vectorRotate(origin, 2, arrowBeginCenter);\n    const arrowBeginB = vectorRotate(origin, -2, arrowBeginCenter);\n\n    setAttributes(begin, {\n      style: 'display:block;',\n      d: `M${arrowBeginA.x},${arrowBeginA.y} L${origin.x},${origin.y} L${\n        arrowBeginB.x\n      },${arrowBeginB.y}`\n    });\n  }\n\n  if (markup.lineDecoration.indexOf('arrow-end') !== -1) {\n    const arrowEndRotationPoint = vectorMultiply(v, -l);\n    const arrowEndCenter = vectorAdd(target, arrowEndRotationPoint);\n    const arrowEndA = vectorRotate(target, 2, arrowEndCenter);\n    const arrowEndB = vectorRotate(target, -2, arrowEndCenter);\n\n    setAttributes(end, {\n      style: 'display:block;',\n      d: `M${arrowEndA.x},${arrowEndA.y} L${target.x},${target.y} L${\n        arrowEndB.x\n      },${arrowEndB.y}`\n    });\n  }\n};\n\nconst updatePath = (element, markup, size, scale) => {\n  setAttributes(element, {\n    ...element.styles,\n    fill: 'none',\n    d: pointsToPathShape(\n      markup.points.map(point => ({\n        x: getMarkupValue(point.x, size, scale, 'width'),\n        y: getMarkupValue(point.y, size, scale, 'height')\n      }))\n    )\n  });\n};\n\nconst createShape = node => markup => svg(node, { id: markup.id });\n\nconst createImage = markup => {\n  const shape = svg('image', {\n    id: markup.id,\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round',\n    opacity: '0'\n  });\n  shape.onload = () => {\n    shape.setAttribute('opacity', markup.opacity || 1);\n  };\n  shape.setAttributeNS(\n    'http://www.w3.org/1999/xlink',\n    'xlink:href',\n    markup.src\n  );\n  return shape;\n};\n\nconst createLine = markup => {\n  const shape = svg('g', {\n    id: markup.id,\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round'\n  });\n\n  const line = svg('line');\n  shape.appendChild(line);\n\n  const begin = svg('path');\n  shape.appendChild(begin);\n\n  const end = svg('path');\n  shape.appendChild(end);\n\n  return shape;\n};\n\nconst CREATE_TYPE_ROUTES = {\n  image: createImage,\n  rect: createShape('rect'),\n  ellipse: createShape('ellipse'),\n  text: createShape('text'),\n  path: createShape('path'),\n  line: createLine\n};\n\nconst UPDATE_TYPE_ROUTES = {\n  rect: updateRect,\n  ellipse: updateEllipse,\n  image: updateImage,\n  text: updateText,\n  path: updatePath,\n  line: updateLine\n};\n\nconst createMarkupByType = (type, markup) => CREATE_TYPE_ROUTES[type](markup);\n\nconst updateMarkupByType = (element, type, markup, size, scale) => {\n  if (type !== 'path') {\n    element.rect = getMarkupRect(markup, size, scale);\n  }\n  element.styles = getMarkupStyles(markup, size, scale);\n  UPDATE_TYPE_ROUTES[type](element, markup, size, scale);\n};\n\nconst MARKUP_RECT = [\n  'x',\n  'y',\n  'left',\n  'top',\n  'right',\n  'bottom',\n  'width',\n  'height'\n];\n\nconst toOptionalFraction = value =>\n  typeof value === 'string' && /%/.test(value)\n    ? parseFloat(value) / 100\n    : value;\n\n// adds default markup properties, clones markup\nconst prepareMarkup = markup => {\n  const [type, props] = markup;\n\n  const rect = props.points\n    ? {}\n    : MARKUP_RECT.reduce((prev, curr) => {\n        prev[curr] = toOptionalFraction(props[curr]);\n        return prev;\n      }, {});\n\n  return [\n    type,\n    {\n      zIndex: 0,\n      ...props,\n      ...rect\n    }\n  ];\n};\n\nconst sortMarkupByZIndex = (a, b) => {\n  if (a[1].zIndex > b[1].zIndex) {\n    return 1;\n  }\n  if (a[1].zIndex < b[1].zIndex) {\n    return -1;\n  }\n  return 0;\n};\n\nconst createMarkupView = _ =>\n  _.utils.createView({\n    name: 'image-preview-markup',\n    tag: 'svg',\n    ignoreRect: true,\n    mixins: {\n      apis: ['width', 'height', 'crop', 'markup', 'resize', 'dirty']\n    },\n    write: ({ root, props }) => {\n      if (!props.dirty) return;\n\n      const { crop, resize, markup } = props;\n\n      const viewWidth = props.width;\n      const viewHeight = props.height;\n\n      let cropWidth = crop.width;\n      let cropHeight = crop.height;\n\n      if (resize) {\n        const { size } = resize;\n\n        let outputWidth = size && size.width;\n        let outputHeight = size && size.height;\n        const outputFit = resize.mode;\n        const outputUpscale = resize.upscale;\n\n        if (outputWidth && !outputHeight) outputHeight = outputWidth;\n        if (outputHeight && !outputWidth) outputWidth = outputHeight;\n\n        const shouldUpscale =\n          cropWidth < outputWidth && cropHeight < outputHeight;\n\n        if (!shouldUpscale || (shouldUpscale && outputUpscale)) {\n          let scalarWidth = outputWidth / cropWidth;\n          let scalarHeight = outputHeight / cropHeight;\n\n          if (outputFit === 'force') {\n            cropWidth = outputWidth;\n            cropHeight = outputHeight;\n          } else {\n            let scalar;\n            if (outputFit === 'cover') {\n              scalar = Math.max(scalarWidth, scalarHeight);\n            } else if (outputFit === 'contain') {\n              scalar = Math.min(scalarWidth, scalarHeight);\n            }\n            cropWidth = cropWidth * scalar;\n            cropHeight = cropHeight * scalar;\n          }\n        }\n      }\n\n      const size = {\n        width: viewWidth,\n        height: viewHeight\n      };\n\n      root.element.setAttribute('width', size.width);\n      root.element.setAttribute('height', size.height);\n\n      const scale = Math.min(viewWidth / cropWidth, viewHeight / cropHeight);\n\n      // clear\n      root.element.innerHTML = '';\n\n      // get filter\n      const markupFilter = root.query('GET_IMAGE_PREVIEW_MARKUP_FILTER');\n\n      // draw new\n      markup\n        .filter(markupFilter)\n        .map(prepareMarkup)\n        .sort(sortMarkupByZIndex)\n        .forEach(markup => {\n          const [type, settings] = markup;\n\n          // create\n          const element = createMarkupByType(type, settings);\n\n          // update\n          updateMarkupByType(element, type, settings, size, scale);\n\n          // add\n          root.element.appendChild(element);\n        });\n    }\n  });\n\nconst createVector$1 = (x, y) => ({ x, y });\n\nconst vectorDot = (a, b) => a.x * b.x + a.y * b.y;\n\nconst vectorSubtract = (a, b) => createVector$1(a.x - b.x, a.y - b.y);\n\nconst vectorDistanceSquared = (a, b) =>\n  vectorDot(vectorSubtract(a, b), vectorSubtract(a, b));\n\nconst vectorDistance = (a, b) => Math.sqrt(vectorDistanceSquared(a, b));\n\nconst getOffsetPointOnEdge = (length, rotation) => {\n  const a = length;\n\n  const A = 1.5707963267948966;\n  const B = rotation;\n  const C = 1.5707963267948966 - rotation;\n\n  const sinA = Math.sin(A);\n  const sinB = Math.sin(B);\n  const sinC = Math.sin(C);\n  const cosC = Math.cos(C);\n  const ratio = a / sinA;\n  const b = ratio * sinB;\n  const c = ratio * sinC;\n\n  return createVector$1(cosC * b, cosC * c);\n};\n\nconst getRotatedRectSize = (rect, rotation) => {\n  const w = rect.width;\n  const h = rect.height;\n\n  const hor = getOffsetPointOnEdge(w, rotation);\n  const ver = getOffsetPointOnEdge(h, rotation);\n\n  const tl = createVector$1(rect.x + Math.abs(hor.x), rect.y - Math.abs(hor.y));\n\n  const tr = createVector$1(\n    rect.x + rect.width + Math.abs(ver.y),\n    rect.y + Math.abs(ver.x)\n  );\n\n  const bl = createVector$1(\n    rect.x - Math.abs(ver.y),\n    rect.y + rect.height - Math.abs(ver.x)\n  );\n\n  return {\n    width: vectorDistance(tl, tr),\n    height: vectorDistance(tl, bl)\n  };\n};\n\nconst calculateCanvasSize = (image, canvasAspectRatio, zoom = 1) => {\n  const imageAspectRatio = image.height / image.width;\n\n  // determine actual pixels on x and y axis\n  let canvasWidth = 1;\n  let canvasHeight = canvasAspectRatio;\n  let imgWidth = 1;\n  let imgHeight = imageAspectRatio;\n  if (imgHeight > canvasHeight) {\n    imgHeight = canvasHeight;\n    imgWidth = imgHeight / imageAspectRatio;\n  }\n\n  const scalar = Math.max(canvasWidth / imgWidth, canvasHeight / imgHeight);\n  const width = image.width / (zoom * scalar * imgWidth);\n  const height = width * canvasAspectRatio;\n\n  return {\n    width: width,\n    height: height\n  };\n};\n\nconst getImageRectZoomFactor = (imageRect, cropRect, rotation, center) => {\n  // calculate available space round image center position\n  const cx = center.x > 0.5 ? 1 - center.x : center.x;\n  const cy = center.y > 0.5 ? 1 - center.y : center.y;\n  const imageWidth = cx * 2 * imageRect.width;\n  const imageHeight = cy * 2 * imageRect.height;\n\n  // calculate rotated crop rectangle size\n  const rotatedCropSize = getRotatedRectSize(cropRect, rotation);\n\n  // calculate scalar required to fit image\n  return Math.max(\n    rotatedCropSize.width / imageWidth,\n    rotatedCropSize.height / imageHeight\n  );\n};\n\nconst getCenteredCropRect = (container, aspectRatio) => {\n  let width = container.width;\n  let height = width * aspectRatio;\n  if (height > container.height) {\n    height = container.height;\n    width = height / aspectRatio;\n  }\n  const x = (container.width - width) * 0.5;\n  const y = (container.height - height) * 0.5;\n\n  return {\n    x,\n    y,\n    width,\n    height\n  };\n};\n\nconst getCurrentCropSize = (imageSize, crop = {}) => {\n  let { zoom, rotation, center, aspectRatio } = crop;\n\n  if (!aspectRatio) aspectRatio = imageSize.height / imageSize.width;\n\n  const canvasSize = calculateCanvasSize(imageSize, aspectRatio, zoom);\n\n  const canvasCenter = {\n    x: canvasSize.width * 0.5,\n    y: canvasSize.height * 0.5\n  };\n\n  const stage = {\n    x: 0,\n    y: 0,\n    width: canvasSize.width,\n    height: canvasSize.height,\n    center: canvasCenter\n  };\n\n  const shouldLimit = typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n\n  const stageZoomFactor = getImageRectZoomFactor(\n    imageSize,\n    getCenteredCropRect(stage, aspectRatio),\n    rotation,\n    shouldLimit ? center : { x: 0.5, y: 0.5 }\n  );\n\n  const scale = zoom * stageZoomFactor;\n\n  // start drawing\n  return {\n    widthFloat: canvasSize.width / scale,\n    heightFloat: canvasSize.height / scale,\n    width: Math.round(canvasSize.width / scale),\n    height: Math.round(canvasSize.height / scale)\n  };\n};\n\nconst IMAGE_SCALE_SPRING_PROPS = {\n  type: 'spring',\n  stiffness: 0.5,\n  damping: 0.45,\n  mass: 10\n};\n\n// does horizontal and vertical flipping\nconst createBitmapView = _ =>\n  _.utils.createView({\n    name: 'image-bitmap',\n    ignoreRect: true,\n    mixins: { styles: ['scaleX', 'scaleY'] },\n    create: ({ root, props }) => {\n      root.appendChild(props.image);\n    }\n  });\n\n// shifts and rotates image\nconst createImageCanvasWrapper = _ =>\n  _.utils.createView({\n    name: 'image-canvas-wrapper',\n    tag: 'div',\n    ignoreRect: true,\n    mixins: {\n      apis: ['crop', 'width', 'height'],\n      styles: [\n        'originX',\n        'originY',\n        'translateX',\n        'translateY',\n        'scaleX',\n        'scaleY',\n        'rotateZ'\n      ],\n      animations: {\n        originX: IMAGE_SCALE_SPRING_PROPS,\n        originY: IMAGE_SCALE_SPRING_PROPS,\n        scaleX: IMAGE_SCALE_SPRING_PROPS,\n        scaleY: IMAGE_SCALE_SPRING_PROPS,\n        translateX: IMAGE_SCALE_SPRING_PROPS,\n        translateY: IMAGE_SCALE_SPRING_PROPS,\n        rotateZ: IMAGE_SCALE_SPRING_PROPS\n      }\n    },\n    create: ({ root, props }) => {\n      props.width = props.image.width;\n      props.height = props.image.height;\n      root.ref.bitmap = root.appendChildView(\n        root.createChildView(createBitmapView(_), { image: props.image })\n      );\n    },\n    write: ({ root, props }) => {\n      const { flip } = props.crop;\n      const { bitmap } = root.ref;\n      bitmap.scaleX = flip.horizontal ? -1 : 1;\n      bitmap.scaleY = flip.vertical ? -1 : 1;\n    }\n  });\n\n// clips canvas to correct aspect ratio\nconst createClipView = _ =>\n  _.utils.createView({\n    name: 'image-clip',\n    tag: 'div',\n    ignoreRect: true,\n    mixins: {\n      apis: [\n        'crop',\n        'markup',\n        'resize',\n        'width',\n        'height',\n        'dirty',\n        'background'\n      ],\n      styles: ['width', 'height', 'opacity'],\n      animations: {\n        opacity: { type: 'tween', duration: 250 }\n      }\n    },\n    didWriteView: function({ root, props }) {\n      if (!props.background) return;\n      root.element.style.backgroundColor = props.background;\n    },\n    create: ({ root, props }) => {\n      root.ref.image = root.appendChildView(\n        root.createChildView(\n          createImageCanvasWrapper(_),\n          Object.assign({}, props)\n        )\n      );\n\n      root.ref.createMarkup = () => {\n        if (root.ref.markup) return;\n        root.ref.markup = root.appendChildView(\n          root.createChildView(createMarkupView(_), Object.assign({}, props))\n        );\n      };\n\n      root.ref.destroyMarkup = () => {\n        if (!root.ref.markup) return;\n        root.removeChildView(root.ref.markup);\n        root.ref.markup = null;\n      };\n\n      // set up transparency grid\n      const transparencyIndicator = root.query(\n        'GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR'\n      );\n      if (transparencyIndicator === null) return;\n\n      // grid pattern\n      if (transparencyIndicator === 'grid') {\n        root.element.dataset.transparencyIndicator = transparencyIndicator;\n      }\n      // basic color\n      else {\n        root.element.dataset.transparencyIndicator = 'color';\n      }\n    },\n    write: ({ root, props, shouldOptimize }) => {\n      const { crop, markup, resize, dirty, width, height } = props;\n\n      root.ref.image.crop = crop;\n\n      const stage = {\n        x: 0,\n        y: 0,\n        width,\n        height,\n        center: {\n          x: width * 0.5,\n          y: height * 0.5\n        }\n      };\n\n      const image = {\n        width: root.ref.image.width,\n        height: root.ref.image.height\n      };\n\n      const origin = {\n        x: crop.center.x * image.width,\n        y: crop.center.y * image.height\n      };\n\n      const translation = {\n        x: stage.center.x - image.width * crop.center.x,\n        y: stage.center.y - image.height * crop.center.y\n      };\n\n      const rotation = Math.PI * 2 + (crop.rotation % (Math.PI * 2));\n\n      const cropAspectRatio = crop.aspectRatio || image.height / image.width;\n\n      const shouldLimit =\n        typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n\n      const stageZoomFactor = getImageRectZoomFactor(\n        image,\n        getCenteredCropRect(stage, cropAspectRatio),\n        rotation,\n        shouldLimit ? crop.center : { x: 0.5, y: 0.5 }\n      );\n\n      const scale = crop.zoom * stageZoomFactor;\n\n      // update markup view\n      if (markup && markup.length) {\n        root.ref.createMarkup();\n        root.ref.markup.width = width;\n        root.ref.markup.height = height;\n        root.ref.markup.resize = resize;\n        root.ref.markup.dirty = dirty;\n        root.ref.markup.markup = markup;\n        root.ref.markup.crop = getCurrentCropSize(image, crop);\n      } else if (root.ref.markup) {\n        root.ref.destroyMarkup();\n      }\n\n      // update image view\n      const imageView = root.ref.image;\n\n      // don't update clip layout\n      if (shouldOptimize) {\n        imageView.originX = null;\n        imageView.originY = null;\n        imageView.translateX = null;\n        imageView.translateY = null;\n        imageView.rotateZ = null;\n        imageView.scaleX = null;\n        imageView.scaleY = null;\n        return;\n      }\n\n      imageView.originX = origin.x;\n      imageView.originY = origin.y;\n      imageView.translateX = translation.x;\n      imageView.translateY = translation.y;\n      imageView.rotateZ = rotation;\n      imageView.scaleX = scale;\n      imageView.scaleY = scale;\n    }\n  });\n\nconst createImageView = _ =>\n  _.utils.createView({\n    name: 'image-preview',\n    tag: 'div',\n    ignoreRect: true,\n    mixins: {\n      apis: ['image', 'crop', 'markup', 'resize', 'dirty', 'background'],\n      styles: ['translateY', 'scaleX', 'scaleY', 'opacity'],\n      animations: {\n        scaleX: IMAGE_SCALE_SPRING_PROPS,\n        scaleY: IMAGE_SCALE_SPRING_PROPS,\n        translateY: IMAGE_SCALE_SPRING_PROPS,\n        opacity: { type: 'tween', duration: 400 }\n      }\n    },\n    create: ({ root, props }) => {\n      root.ref.clip = root.appendChildView(\n        root.createChildView(createClipView(_), {\n          id: props.id,\n          image: props.image,\n          crop: props.crop,\n          markup: props.markup,\n          resize: props.resize,\n          dirty: props.dirty,\n          background: props.background\n        })\n      );\n    },\n    write: ({ root, props, shouldOptimize }) => {\n      const { clip } = root.ref;\n\n      const { image, crop, markup, resize, dirty } = props;\n\n      clip.crop = crop;\n      clip.markup = markup;\n      clip.resize = resize;\n      clip.dirty = dirty;\n\n      // don't update clip layout\n      clip.opacity = shouldOptimize ? 0 : 1;\n\n      // don't re-render if optimizing or hidden (width will be zero resulting in weird animations)\n      if (shouldOptimize || root.rect.element.hidden) return;\n\n      // calculate scaled preview image size\n      const imageAspectRatio = image.height / image.width;\n      let aspectRatio = crop.aspectRatio || imageAspectRatio;\n\n      // calculate container size\n      const containerWidth = root.rect.inner.width;\n      const containerHeight = root.rect.inner.height;\n\n      let fixedPreviewHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n      const minPreviewHeight = root.query('GET_IMAGE_PREVIEW_MIN_HEIGHT');\n      const maxPreviewHeight = root.query('GET_IMAGE_PREVIEW_MAX_HEIGHT');\n\n      const panelAspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n      const allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n\n      if (panelAspectRatio && !allowMultiple) {\n        fixedPreviewHeight = containerWidth * panelAspectRatio;\n        aspectRatio = panelAspectRatio;\n      }\n\n      // determine clip width and height\n      let clipHeight =\n        fixedPreviewHeight !== null\n          ? fixedPreviewHeight\n          : Math.max(\n              minPreviewHeight,\n              Math.min(containerWidth * aspectRatio, maxPreviewHeight)\n            );\n\n      let clipWidth = clipHeight / aspectRatio;\n      if (clipWidth > containerWidth) {\n        clipWidth = containerWidth;\n        clipHeight = clipWidth * aspectRatio;\n      }\n\n      if (clipHeight > containerHeight) {\n        clipHeight = containerHeight;\n        clipWidth = containerHeight / aspectRatio;\n      }\n\n      clip.width = clipWidth;\n      clip.height = clipHeight;\n    }\n  });\n\nlet SVG_MASK = `<svg width=\"500\" height=\"200\" viewBox=\"0 0 500 200\" preserveAspectRatio=\"none\">\n    <defs>\n        <radialGradient id=\"gradient-__UID__\" cx=\".5\" cy=\"1.25\" r=\"1.15\">\n            <stop offset='50%' stop-color='#000000'/>\n            <stop offset='56%' stop-color='#0a0a0a'/>\n            <stop offset='63%' stop-color='#262626'/>\n            <stop offset='69%' stop-color='#4f4f4f'/>\n            <stop offset='75%' stop-color='#808080'/>\n            <stop offset='81%' stop-color='#b1b1b1'/>\n            <stop offset='88%' stop-color='#dadada'/>\n            <stop offset='94%' stop-color='#f6f6f6'/>\n            <stop offset='100%' stop-color='#ffffff'/>\n        </radialGradient>\n        <mask id=\"mask-__UID__\">\n            <rect x=\"0\" y=\"0\" width=\"500\" height=\"200\" fill=\"url(#gradient-__UID__)\"></rect>\n        </mask>\n    </defs>\n    <rect x=\"0\" width=\"500\" height=\"200\" fill=\"currentColor\" mask=\"url(#mask-__UID__)\"></rect>\n</svg>`;\n\nlet SVGMaskUniqueId = 0;\n\nconst createImageOverlayView = fpAPI =>\n  fpAPI.utils.createView({\n    name: 'image-preview-overlay',\n    tag: 'div',\n    ignoreRect: true,\n    create: ({ root, props }) => {\n      let mask = SVG_MASK;\n      if (document.querySelector('base')) {\n        const url = new URL(\n          window.location.href.replace(window.location.hash, '')\n        ).href;\n        mask = mask.replace(/url\\(\\#/g, 'url(' + url + '#');\n      }\n\n      SVGMaskUniqueId++;\n      root.element.classList.add(\n        `filepond--image-preview-overlay-${props.status}`\n      );\n      root.element.innerHTML = mask.replace(/__UID__/g, SVGMaskUniqueId);\n    },\n    mixins: {\n      styles: ['opacity'],\n      animations: {\n        opacity: { type: 'spring', mass: 25 }\n      }\n    }\n  });\n\n/**\n * Bitmap Worker\n */\nconst BitmapWorker = function() {\n  self.onmessage = e => {\n    createImageBitmap(e.data.message.file).then(bitmap => {\n      self.postMessage({ id: e.data.id, message: bitmap }, [bitmap]);\n    });\n  };\n};\n\n/**\n * ColorMatrix Worker\n */\nconst ColorMatrixWorker = function() {\n  self.onmessage = e => {\n    const imageData = e.data.message.imageData;\n    const matrix = e.data.message.colorMatrix;\n\n    const data = imageData.data;\n    const l = data.length;\n\n    const m11 = matrix[0];\n    const m12 = matrix[1];\n    const m13 = matrix[2];\n    const m14 = matrix[3];\n    const m15 = matrix[4];\n\n    const m21 = matrix[5];\n    const m22 = matrix[6];\n    const m23 = matrix[7];\n    const m24 = matrix[8];\n    const m25 = matrix[9];\n\n    const m31 = matrix[10];\n    const m32 = matrix[11];\n    const m33 = matrix[12];\n    const m34 = matrix[13];\n    const m35 = matrix[14];\n\n    const m41 = matrix[15];\n    const m42 = matrix[16];\n    const m43 = matrix[17];\n    const m44 = matrix[18];\n    const m45 = matrix[19];\n\n    let index = 0,\n      r = 0.0,\n      g = 0.0,\n      b = 0.0,\n      a = 0.0;\n\n    for (; index < l; index += 4) {\n      r = data[index] / 255;\n      g = data[index + 1] / 255;\n      b = data[index + 2] / 255;\n      a = data[index + 3] / 255;\n      data[index] = Math.max(\n        0,\n        Math.min((r * m11 + g * m12 + b * m13 + a * m14 + m15) * 255, 255)\n      );\n      data[index + 1] = Math.max(\n        0,\n        Math.min((r * m21 + g * m22 + b * m23 + a * m24 + m25) * 255, 255)\n      );\n      data[index + 2] = Math.max(\n        0,\n        Math.min((r * m31 + g * m32 + b * m33 + a * m34 + m35) * 255, 255)\n      );\n      data[index + 3] = Math.max(\n        0,\n        Math.min((r * m41 + g * m42 + b * m43 + a * m44 + m45) * 255, 255)\n      );\n    }\n\n    self.postMessage({ id: e.data.id, message: imageData }, [\n      imageData.data.buffer\n    ]);\n  };\n};\n\nconst getImageSize = (url, cb) => {\n  let image = new Image();\n  image.onload = () => {\n    const width = image.naturalWidth;\n    const height = image.naturalHeight;\n    image = null;\n    cb(width, height);\n  };\n  image.src = url;\n};\n\nconst transforms = {\n  1: () => [1, 0, 0, 1, 0, 0],\n  2: width => [-1, 0, 0, 1, width, 0],\n  3: (width, height) => [-1, 0, 0, -1, width, height],\n  4: (width, height) => [1, 0, 0, -1, 0, height],\n  5: () => [0, 1, 1, 0, 0, 0],\n  6: (width, height) => [0, 1, -1, 0, height, 0],\n  7: (width, height) => [0, -1, -1, 0, height, width],\n  8: width => [0, -1, 1, 0, 0, width]\n};\n\nconst fixImageOrientation = (ctx, width, height, orientation) => {\n  // no orientation supplied\n  if (orientation === -1) {\n    return;\n  }\n\n  ctx.transform.apply(ctx, transforms[orientation](width, height));\n};\n\n// draws the preview image to canvas\nconst createPreviewImage = (data, width, height, orientation) => {\n  // can't draw on half pixels\n  width = Math.round(width);\n  height = Math.round(height);\n\n  // draw image\n  const canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  const ctx = canvas.getContext('2d');\n\n  // if is rotated incorrectly swap width and height\n  if (orientation >= 5 && orientation <= 8) {\n    [width, height] = [height, width];\n  }\n\n  // correct image orientation\n  fixImageOrientation(ctx, width, height, orientation);\n\n  // draw the image\n  ctx.drawImage(data, 0, 0, width, height);\n\n  return canvas;\n};\n\nconst isBitmap = file => /^image/.test(file.type) && !/svg/.test(file.type);\n\nconst MAX_WIDTH = 10;\nconst MAX_HEIGHT = 10;\n\nconst calculateAverageColor = image => {\n  const scalar = Math.min(MAX_WIDTH / image.width, MAX_HEIGHT / image.height);\n\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  const width = (canvas.width = Math.ceil(image.width * scalar));\n  const height = (canvas.height = Math.ceil(image.height * scalar));\n  ctx.drawImage(image, 0, 0, width, height);\n  let data = null;\n  try {\n    data = ctx.getImageData(0, 0, width, height).data;\n  } catch (e) {\n    return null;\n  }\n  const l = data.length;\n\n  let r = 0;\n  let g = 0;\n  let b = 0;\n  let i = 0;\n\n  for (; i < l; i += 4) {\n    r += data[i] * data[i];\n    g += data[i + 1] * data[i + 1];\n    b += data[i + 2] * data[i + 2];\n  }\n\n  r = averageColor(r, l);\n  g = averageColor(g, l);\n  b = averageColor(b, l);\n\n  return { r, g, b };\n};\n\nconst averageColor = (c, l) => Math.floor(Math.sqrt(c / (l / 4)));\n\nconst cloneCanvas = (origin, target) => {\n  target = target || document.createElement('canvas');\n  target.width = origin.width;\n  target.height = origin.height;\n  const ctx = target.getContext('2d');\n  ctx.drawImage(origin, 0, 0);\n  return target;\n};\n\nconst cloneImageData = imageData => {\n  let id;\n  try {\n    id = new ImageData(imageData.width, imageData.height);\n  } catch (e) {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    id = ctx.createImageData(imageData.width, imageData.height);\n  }\n  id.data.set(new Uint8ClampedArray(imageData.data));\n  return id;\n};\n\nconst loadImage = url =>\n  new Promise((resolve, reject) => {\n    const img = new Image();\n    img.crossOrigin = 'Anonymous';\n    img.onload = () => {\n      resolve(img);\n    };\n    img.onerror = e => {\n      reject(e);\n    };\n    img.src = url;\n  });\n\nconst createImageWrapperView = _ => {\n  // create overlay view\n  const OverlayView = createImageOverlayView(_);\n\n  const ImageView = createImageView(_);\n\n  const { createWorker } = _.utils;\n\n  const applyFilter = (root, filter, target) =>\n    new Promise(resolve => {\n      // will store image data for future filter updates\n      if (!root.ref.imageData) {\n        root.ref.imageData = target\n          .getContext('2d')\n          .getImageData(0, 0, target.width, target.height);\n      }\n\n      // get image data reference\n      const imageData = cloneImageData(root.ref.imageData);\n\n      if (!filter || filter.length !== 20) {\n        target.getContext('2d').putImageData(imageData, 0, 0);\n        return resolve();\n      }\n\n      const worker = createWorker(ColorMatrixWorker);\n      worker.post(\n        {\n          imageData,\n          colorMatrix: filter\n        },\n        response => {\n          // apply filtered colors\n          target.getContext('2d').putImageData(response, 0, 0);\n\n          // stop worker\n          worker.terminate();\n\n          // done!\n          resolve();\n        },\n        [imageData.data.buffer]\n      );\n    });\n\n  const removeImageView = (root, imageView) => {\n    root.removeChildView(imageView);\n    imageView.image.width = 1;\n    imageView.image.height = 1;\n    imageView._destroy();\n  };\n\n  // remove an image\n  const shiftImage = ({ root }) => {\n    const imageView = root.ref.images.shift();\n    imageView.opacity = 0;\n    imageView.translateY = -15;\n    root.ref.imageViewBin.push(imageView);\n    return imageView;\n  };\n\n  // add new image\n  const pushImage = ({ root, props, image }) => {\n    const id = props.id;\n    const item = root.query('GET_ITEM', { id });\n    if (!item) return;\n\n    const crop = item.getMetadata('crop') || {\n      center: {\n        x: 0.5,\n        y: 0.5\n      },\n      flip: {\n        horizontal: false,\n        vertical: false\n      },\n      zoom: 1,\n      rotation: 0,\n      aspectRatio: null\n    };\n\n    const background = root.query(\n      'GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR'\n    );\n\n    let markup;\n    let resize;\n    let dirty = false;\n    if (root.query('GET_IMAGE_PREVIEW_MARKUP_SHOW')) {\n      markup = item.getMetadata('markup') || [];\n      resize = item.getMetadata('resize');\n      dirty = true;\n    }\n\n    // append image presenter\n    const imageView = root.appendChildView(\n      root.createChildView(ImageView, {\n        id,\n        image,\n        crop,\n        resize,\n        markup,\n        dirty,\n        background,\n        opacity: 0,\n        scaleX: 1.15,\n        scaleY: 1.15,\n        translateY: 15\n      }),\n      root.childViews.length\n    );\n    root.ref.images.push(imageView);\n\n    // reveal the preview image\n    imageView.opacity = 1;\n    imageView.scaleX = 1;\n    imageView.scaleY = 1;\n    imageView.translateY = 0;\n\n    // the preview is now ready to be drawn\n    setTimeout(() => {\n      root.dispatch('DID_IMAGE_PREVIEW_SHOW', { id });\n    }, 250);\n  };\n\n  const updateImage = ({ root, props }) => {\n    const item = root.query('GET_ITEM', { id: props.id });\n    if (!item) return;\n    const imageView = root.ref.images[root.ref.images.length - 1];\n    imageView.crop = item.getMetadata('crop');\n    imageView.background = root.query(\n      'GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR'\n    );\n    if (root.query('GET_IMAGE_PREVIEW_MARKUP_SHOW')) {\n      imageView.dirty = true;\n      imageView.resize = item.getMetadata('resize');\n      imageView.markup = item.getMetadata('markup');\n    }\n  };\n\n  // replace image preview\n  const didUpdateItemMetadata = ({ root, props, action }) => {\n    // only filter and crop trigger redraw\n    if (!/crop|filter|markup|resize/.test(action.change.key)) return;\n\n    // no images to update, exit\n    if (!root.ref.images.length) return;\n\n    // no item found, exit\n    const item = root.query('GET_ITEM', { id: props.id });\n    if (!item) return;\n\n    // for now, update existing image when filtering\n    if (/filter/.test(action.change.key)) {\n      const imageView = root.ref.images[root.ref.images.length - 1];\n      applyFilter(root, action.change.value, imageView.image);\n      return;\n    }\n\n    if (/crop|markup|resize/.test(action.change.key)) {\n      const crop = item.getMetadata('crop');\n      const image = root.ref.images[root.ref.images.length - 1];\n\n      // if aspect ratio has changed, we need to create a new image\n      if (\n        crop &&\n        crop.aspectRatio &&\n        image.crop &&\n        image.crop.aspectRatio &&\n        Math.abs(crop.aspectRatio - image.crop.aspectRatio) > 0.00001\n      ) {\n        const imageView = shiftImage({ root });\n        pushImage({ root, props, image: cloneCanvas(imageView.image) });\n      }\n      // if not, we can update the current image\n      else {\n        updateImage({ root, props });\n      }\n    }\n  };\n\n  const canCreateImageBitmap = file => {\n    // Firefox versions before 58 will freeze when running createImageBitmap\n    // in a Web Worker so we detect those versions and return false for support\n    const userAgent = window.navigator.userAgent;\n    const isFirefox = userAgent.match(/Firefox\\/([0-9]+)\\./);\n    const firefoxVersion = isFirefox ? parseInt(isFirefox[1]) : null;\n    if (firefoxVersion <= 58) return false;\n\n    return 'createImageBitmap' in window && isBitmap(file);\n  };\n\n  /**\n   * Write handler for when preview container has been created\n   */\n  const didCreatePreviewContainer = ({ root, props }) => {\n    const { id } = props;\n\n    // we need to get the file data to determine the eventual image size\n    const item = root.query('GET_ITEM', id);\n    if (!item) return;\n\n    // get url to file (we'll revoke it later on when done)\n    const fileURL = URL.createObjectURL(item.file);\n\n    // determine image size of this item\n    getImageSize(fileURL, (width, height) => {\n      // we can now scale the panel to the final size\n      root.dispatch('DID_IMAGE_PREVIEW_CALCULATE_SIZE', {\n        id,\n        width,\n        height\n      });\n    });\n  };\n\n  const drawPreview = ({ root, props }) => {\n    const { id } = props;\n\n    // we need to get the file data to determine the eventual image size\n    const item = root.query('GET_ITEM', id);\n    if (!item) return;\n\n    // get url to file (we'll revoke it later on when done)\n    const fileURL = URL.createObjectURL(item.file);\n\n    // fallback\n    const loadPreviewFallback = () => {\n      // let's scale the image in the main thread :(\n      loadImage(fileURL).then(previewImageLoaded);\n    };\n\n    // image is now ready\n    const previewImageLoaded = imageData => {\n      // the file url is no longer needed\n      URL.revokeObjectURL(fileURL);\n\n      // draw the scaled down version here and use that as source so bitmapdata can be closed\n      // orientation info\n      const exif = item.getMetadata('exif') || {};\n      const orientation = exif.orientation || -1;\n\n      // get width and height from action, and swap if orientation is incorrect\n      let { width, height } = imageData;\n\n      // if no width or height, just return early.\n      if (!width || !height) return;\n\n      if (orientation >= 5 && orientation <= 8) {\n        [width, height] = [height, width];\n      }\n\n      // scale canvas based on pixel density\n      // we multiply by .75 as that creates smaller but still clear images on screens with high res displays\n      const pixelDensityFactor = Math.max(1, window.devicePixelRatio * 0.75);\n\n      // we want as much pixels to work with as possible,\n      // this multiplies the minimum image resolution,\n      // so when zooming in it doesn't get too blurry\n      const zoomFactor = root.query('GET_IMAGE_PREVIEW_ZOOM_FACTOR');\n\n      // imaeg scale factor\n      const scaleFactor = zoomFactor * pixelDensityFactor;\n\n      // calculate scaled preview image size\n      const previewImageRatio = height / width;\n\n      // calculate image preview height and width\n      const previewContainerWidth = root.rect.element.width;\n      const previewContainerHeight = root.rect.element.height;\n\n      let imageWidth = previewContainerWidth;\n      let imageHeight = imageWidth * previewImageRatio;\n\n      if (previewImageRatio > 1) {\n        imageWidth = Math.min(width, previewContainerWidth * scaleFactor);\n        imageHeight = imageWidth * previewImageRatio;\n      } else {\n        imageHeight = Math.min(height, previewContainerHeight * scaleFactor);\n        imageWidth = imageHeight / previewImageRatio;\n      }\n\n      // transfer to image tag so no canvas memory wasted on iOS\n      const previewImage = createPreviewImage(\n        imageData,\n        imageWidth,\n        imageHeight,\n        orientation\n      );\n\n      // done\n      const done = () => {\n        // calculate average image color, disabled for now\n        const averageColor = root.query(\n          'GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR'\n        )\n          ? calculateAverageColor(data)\n          : null;\n        item.setMetadata('color', averageColor, true);\n\n        // data has been transferred to canvas ( if was ImageBitmap )\n        if ('close' in imageData) {\n          imageData.close();\n        }\n\n        // show the overlay\n        root.ref.overlayShadow.opacity = 1;\n\n        // create the first image\n        pushImage({ root, props, image: previewImage });\n      };\n\n      // apply filter\n      const filter = item.getMetadata('filter');\n      if (filter) {\n        applyFilter(root, filter, previewImage).then(done);\n      } else {\n        done();\n      }\n    };\n\n    // if we support scaling using createImageBitmap we use a worker\n    if (canCreateImageBitmap(item.file)) {\n      // let's scale the image in a worker\n      const worker = createWorker(BitmapWorker);\n\n      worker.post(\n        {\n          file: item.file\n        },\n        imageBitmap => {\n          // destroy worker\n          worker.terminate();\n\n          // no bitmap returned, must be something wrong,\n          // try the oldschool way\n          if (!imageBitmap) {\n            loadPreviewFallback();\n            return;\n          }\n\n          // yay we got our bitmap, let's continue showing the preview\n          previewImageLoaded(imageBitmap);\n        }\n      );\n    } else {\n      // create fallback preview\n      loadPreviewFallback();\n    }\n  };\n\n  /**\n   * Write handler for when the preview image is ready to be animated\n   */\n  const didDrawPreview = ({ root }) => {\n    // get last added image\n    const image = root.ref.images[root.ref.images.length - 1];\n    image.translateY = 0;\n    image.scaleX = 1.0;\n    image.scaleY = 1.0;\n    image.opacity = 1;\n  };\n\n  /**\n   * Write handler for when the preview has been loaded\n   */\n  const restoreOverlay = ({ root }) => {\n    root.ref.overlayShadow.opacity = 1;\n    root.ref.overlayError.opacity = 0;\n    root.ref.overlaySuccess.opacity = 0;\n  };\n\n  const didThrowError = ({ root }) => {\n    root.ref.overlayShadow.opacity = 0.25;\n    root.ref.overlayError.opacity = 1;\n  };\n\n  const didCompleteProcessing = ({ root }) => {\n    root.ref.overlayShadow.opacity = 0.25;\n    root.ref.overlaySuccess.opacity = 1;\n  };\n\n  /**\n   * Constructor\n   */\n  const create = ({ root }) => {\n    // image view\n    root.ref.images = [];\n\n    // the preview image data (we need this to filter the image)\n    root.ref.imageData = null;\n\n    // image bin\n    root.ref.imageViewBin = [];\n\n    // image overlays\n    root.ref.overlayShadow = root.appendChildView(\n      root.createChildView(OverlayView, {\n        opacity: 0,\n        status: 'idle'\n      })\n    );\n\n    root.ref.overlaySuccess = root.appendChildView(\n      root.createChildView(OverlayView, {\n        opacity: 0,\n        status: 'success'\n      })\n    );\n\n    root.ref.overlayError = root.appendChildView(\n      root.createChildView(OverlayView, {\n        opacity: 0,\n        status: 'failure'\n      })\n    );\n  };\n\n  return _.utils.createView({\n    name: 'image-preview-wrapper',\n    create,\n    styles: ['height'],\n    apis: ['height'],\n    destroy: ({ root }) => {\n      // we resize the image so memory on iOS 12 is released more quickly (it seems)\n      root.ref.images.forEach(imageView => {\n        imageView.image.width = 1;\n        imageView.image.height = 1;\n      });\n    },\n    didWriteView: ({ root }) => {\n      root.ref.images.forEach(imageView => {\n        imageView.dirty = false;\n      });\n    },\n    write: _.utils.createRoute(\n      {\n        // image preview stated\n        DID_IMAGE_PREVIEW_DRAW: didDrawPreview,\n        DID_IMAGE_PREVIEW_CONTAINER_CREATE: didCreatePreviewContainer,\n        DID_FINISH_CALCULATE_PREVIEWSIZE: drawPreview,\n        DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata,\n\n        // file states\n        DID_THROW_ITEM_LOAD_ERROR: didThrowError,\n        DID_THROW_ITEM_PROCESSING_ERROR: didThrowError,\n        DID_THROW_ITEM_INVALID: didThrowError,\n        DID_COMPLETE_ITEM_PROCESSING: didCompleteProcessing,\n        DID_START_ITEM_PROCESSING: restoreOverlay,\n        DID_REVERT_ITEM_PROCESSING: restoreOverlay\n      },\n      ({ root }) => {\n        // views on death row\n        const viewsToRemove = root.ref.imageViewBin.filter(\n          imageView => imageView.opacity === 0\n        );\n\n        // views to retain\n        root.ref.imageViewBin = root.ref.imageViewBin.filter(\n          imageView => imageView.opacity > 0\n        );\n\n        // remove these views\n        viewsToRemove.forEach(imageView => removeImageView(root, imageView));\n        viewsToRemove.length = 0;\n      }\n    )\n  });\n};\n\n/**\n * Image Preview Plugin\n */\nconst plugin = fpAPI => {\n  const { addFilter, utils } = fpAPI;\n  const { Type, createRoute, isFile } = utils;\n\n  // imagePreviewView\n  const imagePreviewView = createImageWrapperView(fpAPI);\n\n  // called for each view that is created right after the 'create' method\n  addFilter('CREATE_VIEW', viewAPI => {\n    // get reference to created view\n    const { is, view, query } = viewAPI;\n\n    // only hook up to item view and only if is enabled for this cropper\n    if (!is('file') || !query('GET_ALLOW_IMAGE_PREVIEW')) return;\n\n    // create the image preview plugin, but only do so if the item is an image\n    const didLoadItem = ({ root, props }) => {\n      const { id } = props;\n      const item = query('GET_ITEM', id);\n\n      // item could theoretically have been removed in the mean time\n      if (!item || !isFile(item.file) || item.archived) return;\n\n      // get the file object\n      const file = item.file;\n\n      // exit if this is not an image\n      if (!isPreviewableImage(file)) return;\n\n      // test if is filtered\n      if (!query('GET_IMAGE_PREVIEW_FILTER_ITEM')(item)) return;\n\n      // exit if image size is too high and no createImageBitmap support\n      // this would simply bring the browser to its knees and that is not what we want\n      const supportsCreateImageBitmap = 'createImageBitmap' in (window || {});\n      const maxPreviewFileSize = query('GET_IMAGE_PREVIEW_MAX_FILE_SIZE');\n      if (\n        !supportsCreateImageBitmap &&\n        (maxPreviewFileSize && file.size > maxPreviewFileSize)\n      )\n        return;\n\n      // set preview view\n      root.ref.imagePreview = view.appendChildView(\n        view.createChildView(imagePreviewView, { id })\n      );\n\n      // update height if is fixed\n      const fixedPreviewHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n      if (fixedPreviewHeight) {\n        root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n          id: item.id,\n          height: fixedPreviewHeight\n        });\n      }\n\n      // now ready\n      const queue =\n        !supportsCreateImageBitmap &&\n        file.size > query('GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE');\n      root.dispatch('DID_IMAGE_PREVIEW_CONTAINER_CREATE', { id }, queue);\n    };\n\n    const rescaleItem = (root, props) => {\n      if (!root.ref.imagePreview) return;\n\n      let { id } = props;\n\n      // get item\n      const item = root.query('GET_ITEM', { id });\n      if (!item) return;\n\n      // if is fixed height or panel has aspect ratio, exit here, height has already been defined\n      const panelAspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n      const itemPanelAspectRatio = root.query('GET_ITEM_PANEL_ASPECT_RATIO');\n      const fixedHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n      if (panelAspectRatio || itemPanelAspectRatio || fixedHeight) return;\n\n      // no data!\n      let { imageWidth, imageHeight } = root.ref;\n      if (!imageWidth || !imageHeight) return;\n\n      // get height min and max\n      const minPreviewHeight = root.query('GET_IMAGE_PREVIEW_MIN_HEIGHT');\n      const maxPreviewHeight = root.query('GET_IMAGE_PREVIEW_MAX_HEIGHT');\n\n      // orientation info\n      const exif = item.getMetadata('exif') || {};\n      const orientation = exif.orientation || -1;\n\n      // get width and height from action, and swap of orientation is incorrect\n      if (orientation >= 5 && orientation <= 8)\n        [imageWidth, imageHeight] = [imageHeight, imageWidth];\n\n      // scale up width and height when we're dealing with an SVG\n      if (!isBitmap(item.file) || root.query('GET_IMAGE_PREVIEW_UPSCALE')) {\n        const scalar = 2048 / imageWidth;\n        imageWidth *= scalar;\n        imageHeight *= scalar;\n      }\n\n      // image aspect ratio\n      const imageAspectRatio = imageHeight / imageWidth;\n\n      // we need the item to get to the crop size\n      const previewAspectRatio =\n        (item.getMetadata('crop') || {}).aspectRatio || imageAspectRatio;\n\n      // preview height range\n      let previewHeightMax = Math.max(\n        minPreviewHeight,\n        Math.min(imageHeight, maxPreviewHeight)\n      );\n      const itemWidth = root.rect.element.width;\n      const previewHeight = Math.min(\n        itemWidth * previewAspectRatio,\n        previewHeightMax\n      );\n\n      // request update to panel height\n      root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n        id: item.id,\n        height: previewHeight\n      });\n    };\n\n    const didResizeView = ({ root }) => {\n      // actions in next write operation\n      root.ref.shouldRescale = true;\n    };\n\n    const didUpdateItemMetadata = ({ root, action }) => {\n      if (action.change.key !== 'crop') return;\n\n      // actions in next write operation\n      root.ref.shouldRescale = true;\n    };\n\n    const didCalculatePreviewSize = ({ root, action }) => {\n      // remember dimensions\n      root.ref.imageWidth = action.width;\n      root.ref.imageHeight = action.height;\n\n      // actions in next write operation\n      root.ref.shouldRescale = true;\n      root.ref.shouldDrawPreview = true;\n\n      // as image load could take a while and fire when draw loop is resting we need to give it a kick\n      root.dispatch('KICK');\n    };\n\n    // start writing\n    view.registerWriter(\n      createRoute(\n        {\n          DID_RESIZE_ROOT: didResizeView,\n          DID_STOP_RESIZE: didResizeView,\n          DID_LOAD_ITEM: didLoadItem,\n          DID_IMAGE_PREVIEW_CALCULATE_SIZE: didCalculatePreviewSize,\n          DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata\n        },\n        ({ root, props }) => {\n          // no preview view attached\n          if (!root.ref.imagePreview) return;\n\n          // don't do anything while hidden\n          if (root.rect.element.hidden) return;\n\n          // resize the item panel\n          if (root.ref.shouldRescale) {\n            rescaleItem(root, props);\n            root.ref.shouldRescale = false;\n          }\n\n          if (root.ref.shouldDrawPreview) {\n            // queue till next frame so we're sure the height has been applied this forces the draw image call inside the wrapper view to use the correct height\n            requestAnimationFrame(() => {\n              // this requestAnimationFrame nesting is horrible but it fixes an issue with 100hz displays on Chrome\n              // https://github.com/pqina/filepond-plugin-image-preview/issues/57\n              requestAnimationFrame(() => {\n                root.dispatch('DID_FINISH_CALCULATE_PREVIEWSIZE', {\n                  id: props.id\n                });\n              });\n            });\n\n            root.ref.shouldDrawPreview = false;\n          }\n        }\n      )\n    );\n  });\n\n  // expose plugin\n  return {\n    options: {\n      // Enable or disable image preview\n      allowImagePreview: [true, Type.BOOLEAN],\n\n      // filters file items to determine which are shown as preview\n      imagePreviewFilterItem: [() => true, Type.FUNCTION],\n\n      // Fixed preview height\n      imagePreviewHeight: [null, Type.INT],\n\n      // Min image height\n      imagePreviewMinHeight: [44, Type.INT],\n\n      // Max image height\n      imagePreviewMaxHeight: [256, Type.INT],\n\n      // Max size of preview file for when createImageBitmap is not supported\n      imagePreviewMaxFileSize: [null, Type.INT],\n\n      // The amount of extra pixels added to the image preview to allow comfortable zooming\n      imagePreviewZoomFactor: [2, Type.INT],\n\n      // Should we upscale small images to fit the max bounding box of the preview area\n      imagePreviewUpscale: [false, Type.BOOLEAN],\n\n      // Max size of preview file that we allow to try to instant preview if createImageBitmap is not supported, else image is queued for loading\n      imagePreviewMaxInstantPreviewFileSize: [1000000, Type.INT],\n\n      // Style of the transparancy indicator used behind images\n      imagePreviewTransparencyIndicator: [null, Type.STRING],\n\n      // Enables or disables reading average image color\n      imagePreviewCalculateAverageImageColor: [false, Type.BOOLEAN],\n\n      // Enables or disables the previewing of markup\n      imagePreviewMarkupShow: [true, Type.BOOLEAN],\n\n      // Allows filtering of markup to only show certain shapes\n      imagePreviewMarkupFilter: [() => true, Type.FUNCTION]\n    }\n  };\n};\n\n// fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\nconst isBrowser =\n  typeof window !== 'undefined' && typeof window.document !== 'undefined';\nif (isBrowser) {\n  document.dispatchEvent(\n    new CustomEvent('FilePond:pluginloaded', { detail: plugin })\n  );\n}\n\nexport default plugin;\n", "/*!\n * FilePondPluginImageResize 2.0.10\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n// test if file is of type image\nconst isImage = file => /^image/.test(file.type);\n\nconst getImageSize = (url, cb) => {\n    let image = new Image();\n    image.onload = () => {\n        const width = image.naturalWidth;\n        const height = image.naturalHeight;\n        image = null;\n        cb({ width, height });\n    };\n    image.onerror = () => cb(null);\n    image.src = url;\n};\n\n/**\n * Image Auto Resize Plugin\n */\nconst plugin = ({ addFilter, utils }) => {\n    const { Type } = utils;\n\n    // subscribe to file load and append required transformations\n    addFilter(\n        'DID_LOAD_ITEM',\n        (item, { query }) =>\n            new Promise((resolve, reject) => {\n                // get file reference\n                const file = item.file;\n\n                // if this is not an image we do not have any business cropping it\n                if (!isImage(file) || !query('GET_ALLOW_IMAGE_RESIZE')) {\n                    // continue with the unaltered dataset\n                    return resolve(item);\n                }\n\n                const mode = query('GET_IMAGE_RESIZE_MODE');\n                const width = query('GET_IMAGE_RESIZE_TARGET_WIDTH');\n                const height = query('GET_IMAGE_RESIZE_TARGET_HEIGHT');\n                const upscale = query('GET_IMAGE_RESIZE_UPSCALE');\n\n                // no resizing to be done\n                if (width === null && height === null) return resolve(item);\n\n                const targetWidth = width === null ? height : width;\n                const targetHeight = height === null ? targetWidth : height;\n\n                // if should not upscale, we need to determine the size of the file\n                const fileURL = URL.createObjectURL(file);\n                getImageSize(fileURL, size => {\n                    URL.revokeObjectURL(fileURL);\n\n                    // something went wrong\n                    if (!size) return resolve(item);\n\n                    let { width: imageWidth, height: imageHeight } = size;\n\n                    // get exif orientation\n                    const orientation = (item.getMetadata('exif') || {}).orientation || -1;\n\n                    // swap width and height if orientation needs correcting\n                    if (orientation >= 5 && orientation <= 8) {\n                        [imageWidth, imageHeight] = [imageHeight, imageWidth];\n                    }\n\n                    // image is already perfect size, no transformations required\n                    if (imageWidth === targetWidth && imageHeight === targetHeight)\n                        return resolve(item);\n\n                    // already contained?\n                    // can't upscale image, so if already at correct scale, exit\n                    if (!upscale) {\n                        // covering target size\n                        if (mode === 'cover') {\n                            // if one of edges is smaller than target size, exit\n                            if (imageWidth <= targetWidth || imageHeight <= targetHeight)\n                                return resolve(item);\n                        }\n\n                        // not covering target size, if image is contained in target size, exit\n                        else if (imageWidth <= targetWidth && imageHeight <= targetWidth) {\n                            return resolve(item);\n                        }\n                    }\n\n                    // the image needs to be resized\n                    item.setMetadata('resize', {\n                        mode,\n                        upscale,\n                        size: {\n                            width: targetWidth,\n                            height: targetHeight,\n                        },\n                    });\n\n                    resolve(item);\n                });\n            })\n    );\n\n    // Expose plugin options\n    return {\n        options: {\n            // Enable or disable image resizing\n            allowImageResize: [true, Type.BOOLEAN],\n\n            // the method of rescaling\n            // - force => force set size\n            // - cover => pick biggest dimension\n            // - contain => pick smaller dimension\n            imageResizeMode: ['cover', Type.STRING],\n\n            // set to false to disable upscaling of image smaller than the target width / height\n            imageResizeUpscale: [true, Type.BOOLEAN],\n\n            // target width\n            imageResizeTargetWidth: [null, Type.INT],\n\n            // target height\n            imageResizeTargetHeight: [null, Type.INT],\n        },\n    };\n};\n\n// fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\nconst isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nif (isBrowser) {\n    document.dispatchEvent(new CustomEvent('FilePond:pluginloaded', { detail: plugin }));\n}\n\nexport default plugin;\n", "/*!\n * FilePondPluginImageTransform 3.8.7\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n// test if file is of type image\nconst isImage = file => /^image/.test(file.type);\n\nconst getFilenameWithoutExtension = name => name.substr(0, name.lastIndexOf('.')) || name;\n\n// only handles image/jpg, image/jpeg, image/png, and image/svg+xml for now\nconst ExtensionMap = {\n    jpeg: 'jpg',\n    'svg+xml': 'svg',\n};\n\nconst renameFileToMatchMimeType = (filename, mimeType) => {\n    const name = getFilenameWithoutExtension(filename);\n    const type = mimeType.split('/')[1];\n    const extension = ExtensionMap[type] || type;\n    return `${name}.${extension}`;\n};\n\n// returns all the valid output formats we can encode towards\nconst getValidOutputMimeType = type => (/jpeg|png|svg\\+xml/.test(type) ? type : 'image/jpeg');\n\n// test if file is of type image\nconst isImage$1 = file => /^image/.test(file.type);\n\nconst MATRICES = {\n    1: () => [1, 0, 0, 1, 0, 0],\n    2: width => [-1, 0, 0, 1, width, 0],\n    3: (width, height) => [-1, 0, 0, -1, width, height],\n    4: (width, height) => [1, 0, 0, -1, 0, height],\n    5: () => [0, 1, 1, 0, 0, 0],\n    6: (width, height) => [0, 1, -1, 0, height, 0],\n    7: (width, height) => [0, -1, -1, 0, height, width],\n    8: width => [0, -1, 1, 0, 0, width],\n};\n\nconst getImageOrientationMatrix = (width, height, orientation) => {\n    if (orientation === -1) {\n        orientation = 1;\n    }\n    return MATRICES[orientation](width, height);\n};\n\nconst createVector = (x, y) => ({ x, y });\n\nconst vectorDot = (a, b) => a.x * b.x + a.y * b.y;\n\nconst vectorSubtract = (a, b) => createVector(a.x - b.x, a.y - b.y);\n\nconst vectorDistanceSquared = (a, b) => vectorDot(vectorSubtract(a, b), vectorSubtract(a, b));\n\nconst vectorDistance = (a, b) => Math.sqrt(vectorDistanceSquared(a, b));\n\nconst getOffsetPointOnEdge = (length, rotation) => {\n    const a = length;\n\n    const A = 1.5707963267948966;\n    const B = rotation;\n    const C = 1.5707963267948966 - rotation;\n\n    const sinA = Math.sin(A);\n    const sinB = Math.sin(B);\n    const sinC = Math.sin(C);\n    const cosC = Math.cos(C);\n    const ratio = a / sinA;\n    const b = ratio * sinB;\n    const c = ratio * sinC;\n\n    return createVector(cosC * b, cosC * c);\n};\n\nconst getRotatedRectSize = (rect, rotation) => {\n    const w = rect.width;\n    const h = rect.height;\n\n    const hor = getOffsetPointOnEdge(w, rotation);\n    const ver = getOffsetPointOnEdge(h, rotation);\n\n    const tl = createVector(rect.x + Math.abs(hor.x), rect.y - Math.abs(hor.y));\n\n    const tr = createVector(rect.x + rect.width + Math.abs(ver.y), rect.y + Math.abs(ver.x));\n\n    const bl = createVector(rect.x - Math.abs(ver.y), rect.y + rect.height - Math.abs(ver.x));\n\n    return {\n        width: vectorDistance(tl, tr),\n        height: vectorDistance(tl, bl),\n    };\n};\n\nconst getImageRectZoomFactor = (imageRect, cropRect, rotation = 0, center = { x: 0.5, y: 0.5 }) => {\n    // calculate available space round image center position\n    const cx = center.x > 0.5 ? 1 - center.x : center.x;\n    const cy = center.y > 0.5 ? 1 - center.y : center.y;\n    const imageWidth = cx * 2 * imageRect.width;\n    const imageHeight = cy * 2 * imageRect.height;\n\n    // calculate rotated crop rectangle size\n    const rotatedCropSize = getRotatedRectSize(cropRect, rotation);\n\n    return Math.max(rotatedCropSize.width / imageWidth, rotatedCropSize.height / imageHeight);\n};\n\nconst getCenteredCropRect = (container, aspectRatio) => {\n    let width = container.width;\n    let height = width * aspectRatio;\n    if (height > container.height) {\n        height = container.height;\n        width = height / aspectRatio;\n    }\n    const x = (container.width - width) * 0.5;\n    const y = (container.height - height) * 0.5;\n\n    return {\n        x,\n        y,\n        width,\n        height,\n    };\n};\n\nconst calculateCanvasSize = (image, canvasAspectRatio, zoom = 1) => {\n    const imageAspectRatio = image.height / image.width;\n\n    // determine actual pixels on x and y axis\n    let canvasWidth = 1;\n    let canvasHeight = canvasAspectRatio;\n    let imgWidth = 1;\n    let imgHeight = imageAspectRatio;\n    if (imgHeight > canvasHeight) {\n        imgHeight = canvasHeight;\n        imgWidth = imgHeight / imageAspectRatio;\n    }\n\n    const scalar = Math.max(canvasWidth / imgWidth, canvasHeight / imgHeight);\n    const width = image.width / (zoom * scalar * imgWidth);\n    const height = width * canvasAspectRatio;\n\n    return {\n        width: width,\n        height: height,\n    };\n};\n\nconst canvasRelease = canvas => {\n    canvas.width = 1;\n    canvas.height = 1;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, 1, 1);\n};\n\nconst isFlipped = flip => flip && (flip.horizontal || flip.vertical);\n\nconst getBitmap = (image, orientation, flip) => {\n    if (orientation <= 1 && !isFlipped(flip)) {\n        image.width = image.naturalWidth;\n        image.height = image.naturalHeight;\n        return image;\n    }\n\n    const canvas = document.createElement('canvas');\n    const width = image.naturalWidth;\n    const height = image.naturalHeight;\n\n    // if is rotated incorrectly swap width and height\n    const swapped = orientation >= 5 && orientation <= 8;\n    if (swapped) {\n        canvas.width = height;\n        canvas.height = width;\n    } else {\n        canvas.width = width;\n        canvas.height = height;\n    }\n\n    // draw the image but first fix orientation and set correct flip\n    const ctx = canvas.getContext('2d');\n\n    // get base transformation matrix\n    if (orientation) {\n        ctx.transform.apply(ctx, getImageOrientationMatrix(width, height, orientation));\n    }\n\n    if (isFlipped(flip)) {\n        // flip horizontal\n        // [-1, 0, 0, 1, width, 0]\n        const matrix = [1, 0, 0, 1, 0, 0];\n        if ((!swapped && flip.horizontal) || swapped & flip.vertical) {\n            matrix[0] = -1;\n            matrix[4] = width;\n        }\n\n        // flip vertical\n        // [1, 0, 0, -1, 0, height]\n        if ((!swapped && flip.vertical) || (swapped && flip.horizontal)) {\n            matrix[3] = -1;\n            matrix[5] = height;\n        }\n\n        ctx.transform(...matrix);\n    }\n\n    ctx.drawImage(image, 0, 0, width, height);\n\n    return canvas;\n};\n\nconst imageToImageData = (imageElement, orientation, crop = {}, options = {}) => {\n    const { canvasMemoryLimit, background = null } = options;\n\n    const zoom = crop.zoom || 1;\n\n    // fixes possible image orientation problems by drawing the image on the correct canvas\n    const bitmap = getBitmap(imageElement, orientation, crop.flip);\n    const imageSize = {\n        width: bitmap.width,\n        height: bitmap.height,\n    };\n\n    const aspectRatio = crop.aspectRatio || imageSize.height / imageSize.width;\n\n    let canvasSize = calculateCanvasSize(imageSize, aspectRatio, zoom);\n\n    if (canvasMemoryLimit) {\n        const requiredMemory = canvasSize.width * canvasSize.height;\n        if (requiredMemory > canvasMemoryLimit) {\n            const scalar = Math.sqrt(canvasMemoryLimit) / Math.sqrt(requiredMemory);\n            imageSize.width = Math.floor(imageSize.width * scalar);\n            imageSize.height = Math.floor(imageSize.height * scalar);\n            canvasSize = calculateCanvasSize(imageSize, aspectRatio, zoom);\n        }\n    }\n\n    const canvas = document.createElement('canvas');\n\n    const canvasCenter = {\n        x: canvasSize.width * 0.5,\n        y: canvasSize.height * 0.5,\n    };\n\n    const stage = {\n        x: 0,\n        y: 0,\n        width: canvasSize.width,\n        height: canvasSize.height,\n        center: canvasCenter,\n    };\n\n    const shouldLimit = typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n\n    const scale =\n        zoom *\n        getImageRectZoomFactor(\n            imageSize,\n            getCenteredCropRect(stage, aspectRatio),\n            crop.rotation,\n            shouldLimit ? crop.center : { x: 0.5, y: 0.5 }\n        );\n\n    // start drawing\n    canvas.width = Math.round(canvasSize.width / scale);\n    canvas.height = Math.round(canvasSize.height / scale);\n\n    canvasCenter.x /= scale;\n    canvasCenter.y /= scale;\n\n    const imageOffset = {\n        x: canvasCenter.x - imageSize.width * (crop.center ? crop.center.x : 0.5),\n        y: canvasCenter.y - imageSize.height * (crop.center ? crop.center.y : 0.5),\n    };\n\n    const ctx = canvas.getContext('2d');\n    if (background) {\n        ctx.fillStyle = background;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n\n    // move to draw offset\n    ctx.translate(canvasCenter.x, canvasCenter.y);\n    ctx.rotate(crop.rotation || 0);\n\n    // draw the image\n    ctx.drawImage(\n        bitmap,\n        imageOffset.x - canvasCenter.x,\n        imageOffset.y - canvasCenter.y,\n        imageSize.width,\n        imageSize.height\n    );\n\n    // get data from canvas\n    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\n    // release canvas\n    canvasRelease(canvas);\n\n    // return data\n    return imageData;\n};\n\n/**\n * Polyfill toBlob for Edge\n */\nconst IS_BROWSER = (() =>\n    typeof window !== 'undefined' && typeof window.document !== 'undefined')();\nif (IS_BROWSER) {\n    if (!HTMLCanvasElement.prototype.toBlob) {\n        Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\n            value: function(callback, type, quality) {\n                var dataURL = this.toDataURL(type, quality).split(',')[1];\n                setTimeout(function() {\n                    var binStr = atob(dataURL);\n                    var len = binStr.length;\n                    var arr = new Uint8Array(len);\n                    for (var i = 0; i < len; i++) {\n                        arr[i] = binStr.charCodeAt(i);\n                    }\n                    callback(new Blob([arr], { type: type || 'image/png' }));\n                });\n            },\n        });\n    }\n}\n\nconst canvasToBlob = (canvas, options, beforeCreateBlob = null) =>\n    new Promise(resolve => {\n        const promisedImage = beforeCreateBlob ? beforeCreateBlob(canvas) : canvas;\n        Promise.resolve(promisedImage).then(canvas => {\n            canvas.toBlob(resolve, options.type, options.quality);\n        });\n    });\n\nconst vectorMultiply = (v, amount) => createVector$1(v.x * amount, v.y * amount);\n\nconst vectorAdd = (a, b) => createVector$1(a.x + b.x, a.y + b.y);\n\nconst vectorNormalize = v => {\n    const l = Math.sqrt(v.x * v.x + v.y * v.y);\n    if (l === 0) {\n        return {\n            x: 0,\n            y: 0,\n        };\n    }\n    return createVector$1(v.x / l, v.y / l);\n};\n\nconst vectorRotate = (v, radians, origin) => {\n    const cos = Math.cos(radians);\n    const sin = Math.sin(radians);\n    const t = createVector$1(v.x - origin.x, v.y - origin.y);\n    return createVector$1(origin.x + cos * t.x - sin * t.y, origin.y + sin * t.x + cos * t.y);\n};\n\nconst createVector$1 = (x = 0, y = 0) => ({ x, y });\n\nconst getMarkupValue = (value, size, scalar = 1, axis) => {\n    if (typeof value === 'string') {\n        return parseFloat(value) * scalar;\n    }\n    if (typeof value === 'number') {\n        return value * (axis ? size[axis] : Math.min(size.width, size.height));\n    }\n    return;\n};\n\nconst getMarkupStyles = (markup, size, scale) => {\n    const lineStyle = markup.borderStyle || markup.lineStyle || 'solid';\n    const fill = markup.backgroundColor || markup.fontColor || 'transparent';\n    const stroke = markup.borderColor || markup.lineColor || 'transparent';\n    const strokeWidth = getMarkupValue(markup.borderWidth || markup.lineWidth, size, scale);\n    const lineCap = markup.lineCap || 'round';\n    const lineJoin = markup.lineJoin || 'round';\n    const dashes =\n        typeof lineStyle === 'string'\n            ? ''\n            : lineStyle.map(v => getMarkupValue(v, size, scale)).join(',');\n    const opacity = markup.opacity || 1;\n    return {\n        'stroke-linecap': lineCap,\n        'stroke-linejoin': lineJoin,\n        'stroke-width': strokeWidth || 0,\n        'stroke-dasharray': dashes,\n        stroke,\n        fill,\n        opacity,\n    };\n};\n\nconst isDefined = value => value != null;\n\nconst getMarkupRect = (rect, size, scalar = 1) => {\n    let left =\n        getMarkupValue(rect.x, size, scalar, 'width') ||\n        getMarkupValue(rect.left, size, scalar, 'width');\n    let top =\n        getMarkupValue(rect.y, size, scalar, 'height') ||\n        getMarkupValue(rect.top, size, scalar, 'height');\n    let width = getMarkupValue(rect.width, size, scalar, 'width');\n    let height = getMarkupValue(rect.height, size, scalar, 'height');\n    let right = getMarkupValue(rect.right, size, scalar, 'width');\n    let bottom = getMarkupValue(rect.bottom, size, scalar, 'height');\n\n    if (!isDefined(top)) {\n        if (isDefined(height) && isDefined(bottom)) {\n            top = size.height - height - bottom;\n        } else {\n            top = bottom;\n        }\n    }\n\n    if (!isDefined(left)) {\n        if (isDefined(width) && isDefined(right)) {\n            left = size.width - width - right;\n        } else {\n            left = right;\n        }\n    }\n\n    if (!isDefined(width)) {\n        if (isDefined(left) && isDefined(right)) {\n            width = size.width - left - right;\n        } else {\n            width = 0;\n        }\n    }\n\n    if (!isDefined(height)) {\n        if (isDefined(top) && isDefined(bottom)) {\n            height = size.height - top - bottom;\n        } else {\n            height = 0;\n        }\n    }\n\n    return {\n        x: left || 0,\n        y: top || 0,\n        width: width || 0,\n        height: height || 0,\n    };\n};\n\nconst pointsToPathShape = points =>\n    points.map((point, index) => `${index === 0 ? 'M' : 'L'} ${point.x} ${point.y}`).join(' ');\n\nconst setAttributes = (element, attr) =>\n    Object.keys(attr).forEach(key => element.setAttribute(key, attr[key]));\n\nconst ns = 'http://www.w3.org/2000/svg';\nconst svg = (tag, attr) => {\n    const element = document.createElementNS(ns, tag);\n    if (attr) {\n        setAttributes(element, attr);\n    }\n    return element;\n};\n\nconst updateRect = element =>\n    setAttributes(element, {\n        ...element.rect,\n        ...element.styles,\n    });\n\nconst updateEllipse = element => {\n    const cx = element.rect.x + element.rect.width * 0.5;\n    const cy = element.rect.y + element.rect.height * 0.5;\n    const rx = element.rect.width * 0.5;\n    const ry = element.rect.height * 0.5;\n    return setAttributes(element, {\n        cx,\n        cy,\n        rx,\n        ry,\n        ...element.styles,\n    });\n};\n\nconst IMAGE_FIT_STYLE = {\n    contain: 'xMidYMid meet',\n    cover: 'xMidYMid slice',\n};\n\nconst updateImage = (element, markup) => {\n    setAttributes(element, {\n        ...element.rect,\n        ...element.styles,\n        preserveAspectRatio: IMAGE_FIT_STYLE[markup.fit] || 'none',\n    });\n};\n\nconst TEXT_ANCHOR = {\n    left: 'start',\n    center: 'middle',\n    right: 'end',\n};\n\nconst updateText = (element, markup, size, scale) => {\n    const fontSize = getMarkupValue(markup.fontSize, size, scale);\n    const fontFamily = markup.fontFamily || 'sans-serif';\n    const fontWeight = markup.fontWeight || 'normal';\n    const textAlign = TEXT_ANCHOR[markup.textAlign] || 'start';\n\n    setAttributes(element, {\n        ...element.rect,\n        ...element.styles,\n        'stroke-width': 0,\n        'font-weight': fontWeight,\n        'font-size': fontSize,\n        'font-family': fontFamily,\n        'text-anchor': textAlign,\n    });\n\n    // update text\n    if (element.text !== markup.text) {\n        element.text = markup.text;\n        element.textContent = markup.text.length ? markup.text : ' ';\n    }\n};\n\nconst updateLine = (element, markup, size, scale) => {\n    setAttributes(element, {\n        ...element.rect,\n        ...element.styles,\n        fill: 'none',\n    });\n\n    const line = element.childNodes[0];\n    const begin = element.childNodes[1];\n    const end = element.childNodes[2];\n\n    const origin = element.rect;\n\n    const target = {\n        x: element.rect.x + element.rect.width,\n        y: element.rect.y + element.rect.height,\n    };\n\n    setAttributes(line, {\n        x1: origin.x,\n        y1: origin.y,\n        x2: target.x,\n        y2: target.y,\n    });\n\n    if (!markup.lineDecoration) return;\n\n    begin.style.display = 'none';\n    end.style.display = 'none';\n\n    const v = vectorNormalize({\n        x: target.x - origin.x,\n        y: target.y - origin.y,\n    });\n\n    const l = getMarkupValue(0.05, size, scale);\n\n    if (markup.lineDecoration.indexOf('arrow-begin') !== -1) {\n        const arrowBeginRotationPoint = vectorMultiply(v, l);\n        const arrowBeginCenter = vectorAdd(origin, arrowBeginRotationPoint);\n        const arrowBeginA = vectorRotate(origin, 2, arrowBeginCenter);\n        const arrowBeginB = vectorRotate(origin, -2, arrowBeginCenter);\n\n        setAttributes(begin, {\n            style: 'display:block;',\n            d: `M${arrowBeginA.x},${arrowBeginA.y} L${origin.x},${origin.y} L${arrowBeginB.x},${\n                arrowBeginB.y\n            }`,\n        });\n    }\n\n    if (markup.lineDecoration.indexOf('arrow-end') !== -1) {\n        const arrowEndRotationPoint = vectorMultiply(v, -l);\n        const arrowEndCenter = vectorAdd(target, arrowEndRotationPoint);\n        const arrowEndA = vectorRotate(target, 2, arrowEndCenter);\n        const arrowEndB = vectorRotate(target, -2, arrowEndCenter);\n\n        setAttributes(end, {\n            style: 'display:block;',\n            d: `M${arrowEndA.x},${arrowEndA.y} L${target.x},${target.y} L${arrowEndB.x},${\n                arrowEndB.y\n            }`,\n        });\n    }\n};\n\nconst updatePath = (element, markup, size, scale) => {\n    setAttributes(element, {\n        ...element.styles,\n        fill: 'none',\n        d: pointsToPathShape(\n            markup.points.map(point => ({\n                x: getMarkupValue(point.x, size, scale, 'width'),\n                y: getMarkupValue(point.y, size, scale, 'height'),\n            }))\n        ),\n    });\n};\n\nconst createShape = node => markup => svg(node, { id: markup.id });\n\nconst createImage = markup => {\n    const shape = svg('image', {\n        id: markup.id,\n        'stroke-linecap': 'round',\n        'stroke-linejoin': 'round',\n        opacity: '0',\n    });\n    shape.onload = () => {\n        shape.setAttribute('opacity', markup.opacity || 1);\n    };\n    shape.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', markup.src);\n    return shape;\n};\n\nconst createLine = markup => {\n    const shape = svg('g', {\n        id: markup.id,\n        'stroke-linecap': 'round',\n        'stroke-linejoin': 'round',\n    });\n\n    const line = svg('line');\n    shape.appendChild(line);\n\n    const begin = svg('path');\n    shape.appendChild(begin);\n\n    const end = svg('path');\n    shape.appendChild(end);\n\n    return shape;\n};\n\nconst CREATE_TYPE_ROUTES = {\n    image: createImage,\n    rect: createShape('rect'),\n    ellipse: createShape('ellipse'),\n    text: createShape('text'),\n    path: createShape('path'),\n    line: createLine,\n};\n\nconst UPDATE_TYPE_ROUTES = {\n    rect: updateRect,\n    ellipse: updateEllipse,\n    image: updateImage,\n    text: updateText,\n    path: updatePath,\n    line: updateLine,\n};\n\nconst createMarkupByType = (type, markup) => CREATE_TYPE_ROUTES[type](markup);\n\nconst updateMarkupByType = (element, type, markup, size, scale) => {\n    if (type !== 'path') {\n        element.rect = getMarkupRect(markup, size, scale);\n    }\n    element.styles = getMarkupStyles(markup, size, scale);\n    UPDATE_TYPE_ROUTES[type](element, markup, size, scale);\n};\n\nconst sortMarkupByZIndex = (a, b) => {\n    if (a[1].zIndex > b[1].zIndex) {\n        return 1;\n    }\n    if (a[1].zIndex < b[1].zIndex) {\n        return -1;\n    }\n    return 0;\n};\n\nconst cropSVG = (blob, crop = {}, markup, options) =>\n    new Promise(resolve => {\n        const { background = null } = options;\n\n        // load blob contents and wrap in crop svg\n        const fr = new FileReader();\n        fr.onloadend = () => {\n            // get svg text\n            const text = fr.result;\n\n            // create element with svg and get size\n            const original = document.createElement('div');\n            original.style.cssText = `position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;`;\n            original.innerHTML = text;\n            const originalNode = original.querySelector('svg');\n            document.body.appendChild(original);\n\n            // request bounding box dimensions\n            const bBox = originalNode.getBBox();\n            original.parentNode.removeChild(original);\n\n            // get title\n            const titleNode = original.querySelector('title');\n\n            // calculate new heights and widths\n            const viewBoxAttribute = originalNode.getAttribute('viewBox') || '';\n            const widthAttribute = originalNode.getAttribute('width') || '';\n            const heightAttribute = originalNode.getAttribute('height') || '';\n            let width = parseFloat(widthAttribute) || null;\n            let height = parseFloat(heightAttribute) || null;\n            const widthUnits = (widthAttribute.match(/[a-z]+/) || [])[0] || '';\n            const heightUnits = (heightAttribute.match(/[a-z]+/) || [])[0] || '';\n\n            // create new size\n            const viewBoxList = viewBoxAttribute.split(' ').map(parseFloat);\n            const viewBox = viewBoxList.length\n                ? {\n                      x: viewBoxList[0],\n                      y: viewBoxList[1],\n                      width: viewBoxList[2],\n                      height: viewBoxList[3],\n                  }\n                : bBox;\n\n            let imageWidth = width != null ? width : viewBox.width;\n            let imageHeight = height != null ? height : viewBox.height;\n\n            originalNode.style.overflow = 'visible';\n            originalNode.setAttribute('width', imageWidth);\n            originalNode.setAttribute('height', imageHeight);\n\n            // markup\n            let markupSVG = '';\n            if (markup && markup.length) {\n                const size = {\n                    width: imageWidth,\n                    height: imageHeight,\n                };\n                markupSVG = markup.sort(sortMarkupByZIndex).reduce((prev, shape) => {\n                    const el = createMarkupByType(shape[0], shape[1]);\n                    updateMarkupByType(el, shape[0], shape[1], size);\n                    el.removeAttribute('id');\n                    if (el.getAttribute('opacity') === 1) {\n                        el.removeAttribute('opacity');\n                    }\n                    return prev + '\\n' + el.outerHTML + '\\n';\n                }, '');\n                markupSVG = `\\n\\n<g>${markupSVG.replace(/&nbsp;/g, ' ')}</g>\\n\\n`;\n            }\n\n            const aspectRatio = crop.aspectRatio || imageHeight / imageWidth;\n\n            const canvasWidth = imageWidth;\n            const canvasHeight = canvasWidth * aspectRatio;\n\n            const shouldLimit = typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n\n            const cropCenterX = crop.center ? crop.center.x : 0.5;\n            const cropCenterY = crop.center ? crop.center.y : 0.5;\n\n            const canvasZoomFactor = getImageRectZoomFactor(\n                {\n                    width: imageWidth,\n                    height: imageHeight,\n                },\n                getCenteredCropRect(\n                    {\n                        width: canvasWidth,\n                        height: canvasHeight,\n                    },\n                    aspectRatio\n                ),\n                crop.rotation,\n                shouldLimit\n                    ? { x: cropCenterX, y: cropCenterY }\n                    : {\n                          x: 0.5,\n                          y: 0.5,\n                      }\n            );\n\n            const scale = crop.zoom * canvasZoomFactor;\n\n            const rotation = crop.rotation * (180 / Math.PI);\n\n            const canvasCenter = {\n                x: canvasWidth * 0.5,\n                y: canvasHeight * 0.5,\n            };\n\n            const imageOffset = {\n                x: canvasCenter.x - imageWidth * cropCenterX,\n                y: canvasCenter.y - imageHeight * cropCenterY,\n            };\n\n            const cropTransforms = [\n                // rotate\n                `rotate(${rotation} ${canvasCenter.x} ${canvasCenter.y})`,\n\n                // scale\n                `translate(${canvasCenter.x} ${canvasCenter.y})`,\n                `scale(${scale})`,\n                `translate(${-canvasCenter.x} ${-canvasCenter.y})`,\n\n                // offset\n                `translate(${imageOffset.x} ${imageOffset.y})`,\n            ];\n\n            const cropFlipHorizontal = crop.flip && crop.flip.horizontal;\n            const cropFlipVertical = crop.flip && crop.flip.vertical;\n\n            const flipTransforms = [\n                `scale(${cropFlipHorizontal ? -1 : 1} ${cropFlipVertical ? -1 : 1})`,\n                `translate(${cropFlipHorizontal ? -imageWidth : 0} ${\n                    cropFlipVertical ? -imageHeight : 0\n                })`,\n            ];\n\n            // crop\n            const transformed = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"${canvasWidth}${widthUnits}\" height=\"${canvasHeight}${heightUnits}\" \nviewBox=\"0 0 ${canvasWidth} ${canvasHeight}\" ${\n                background ? 'style=\"background:' + background + '\" ' : ''\n            }\npreserveAspectRatio=\"xMinYMin\"\nxmlns:xlink=\"http://www.w3.org/1999/xlink\"\nxmlns=\"http://www.w3.org/2000/svg\">\n<!-- Generated by PQINA - https://pqina.nl/ -->\n<title>${titleNode ? titleNode.textContent : ''}</title>\n<g transform=\"${cropTransforms.join(' ')}\">\n<g transform=\"${flipTransforms.join(' ')}\">\n${originalNode.outerHTML}${markupSVG}\n</g>\n</g>\n</svg>`;\n\n            // create new svg file\n            resolve(transformed);\n        };\n\n        fr.readAsText(blob);\n    });\n\nconst objectToImageData = obj => {\n    let imageData;\n    try {\n        imageData = new ImageData(obj.width, obj.height);\n    } catch (e) {\n        // IE + Old EDGE (tested on 12)\n        const canvas = document.createElement('canvas');\n        imageData = canvas.getContext('2d').createImageData(obj.width, obj.height);\n    }\n    imageData.data.set(obj.data);\n    return imageData;\n};\n\n/* javascript-obfuscator:disable */\nconst TransformWorker = () => {\n    // maps transform types to transform functions\n    const TRANSFORMS = { resize, filter };\n\n    // applies all image transforms to the image data array\n    const applyTransforms = (transforms, imageData) => {\n        transforms.forEach(transform => {\n            imageData = TRANSFORMS[transform.type](imageData, transform.data);\n        });\n        return imageData;\n    };\n\n    // transform image hub\n    const transform = (data, cb) => {\n        let transforms = data.transforms;\n\n        // if has filter and has resize, move filter to resize operation\n        let filterTransform = null;\n        transforms.forEach(transform => {\n            if (transform.type === 'filter') {\n                filterTransform = transform;\n            }\n        });\n        if (filterTransform) {\n            // find resize\n            let resizeTransform = null;\n            transforms.forEach(transform => {\n                if (transform.type === 'resize') {\n                    resizeTransform = transform;\n                }\n            });\n\n            if (resizeTransform) {\n                // update resize operation\n                resizeTransform.data.matrix = filterTransform.data;\n\n                // remove filter\n                transforms = transforms.filter(transform => transform.type !== 'filter');\n            }\n        }\n\n        cb(applyTransforms(transforms, data.imageData));\n    };\n\n    // eslint-disable-next-line no-restricted-globals\n    self.onmessage = e => {\n        transform(e.data.message, response => {\n            // eslint-disable-next-line no-restricted-globals\n            self.postMessage({ id: e.data.id, message: response }, [response.data.buffer]);\n        });\n    };\n\n    const br = 1.0;\n    const bg = 1.0;\n    const bb = 1.0;\n    function applyFilterMatrix(index, data, m) {\n        const ir = data[index] / 255;\n        const ig = data[index + 1] / 255;\n        const ib = data[index + 2] / 255;\n        const ia = data[index + 3] / 255;\n\n        const mr = ir * m[0] + ig * m[1] + ib * m[2] + ia * m[3] + m[4];\n        const mg = ir * m[5] + ig * m[6] + ib * m[7] + ia * m[8] + m[9];\n        const mb = ir * m[10] + ig * m[11] + ib * m[12] + ia * m[13] + m[14];\n        const ma = ir * m[15] + ig * m[16] + ib * m[17] + ia * m[18] + m[19];\n\n        const or = Math.max(0, mr * ma) + br * (1.0 - ma);\n        const og = Math.max(0, mg * ma) + bg * (1.0 - ma);\n        const ob = Math.max(0, mb * ma) + bb * (1.0 - ma);\n\n        data[index] = Math.max(0.0, Math.min(1.0, or)) * 255;\n        data[index + 1] = Math.max(0.0, Math.min(1.0, og)) * 255;\n        data[index + 2] = Math.max(0.0, Math.min(1.0, ob)) * 255;\n    }\n\n    const identityMatrix = self.JSON.stringify([\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n    ]);\n    function isIdentityMatrix(filter) {\n        return self.JSON.stringify(filter || []) === identityMatrix;\n    }\n\n    function filter(imageData, matrix) {\n        if (!matrix || isIdentityMatrix(matrix)) return imageData;\n\n        const data = imageData.data;\n        const l = data.length;\n\n        const m11 = matrix[0];\n        const m12 = matrix[1];\n        const m13 = matrix[2];\n        const m14 = matrix[3];\n        const m15 = matrix[4];\n\n        const m21 = matrix[5];\n        const m22 = matrix[6];\n        const m23 = matrix[7];\n        const m24 = matrix[8];\n        const m25 = matrix[9];\n\n        const m31 = matrix[10];\n        const m32 = matrix[11];\n        const m33 = matrix[12];\n        const m34 = matrix[13];\n        const m35 = matrix[14];\n\n        const m41 = matrix[15];\n        const m42 = matrix[16];\n        const m43 = matrix[17];\n        const m44 = matrix[18];\n        const m45 = matrix[19];\n\n        let index = 0,\n            r = 0.0,\n            g = 0.0,\n            b = 0.0,\n            a = 0.0,\n            mr = 0.0,\n            mg = 0.0,\n            mb = 0.0,\n            ma = 0.0,\n            or = 0.0,\n            og = 0.0,\n            ob = 0.0;\n\n        for (; index < l; index += 4) {\n            r = data[index] / 255;\n            g = data[index + 1] / 255;\n            b = data[index + 2] / 255;\n            a = data[index + 3] / 255;\n\n            mr = r * m11 + g * m12 + b * m13 + a * m14 + m15;\n            mg = r * m21 + g * m22 + b * m23 + a * m24 + m25;\n            mb = r * m31 + g * m32 + b * m33 + a * m34 + m35;\n            ma = r * m41 + g * m42 + b * m43 + a * m44 + m45;\n\n            or = Math.max(0, mr * ma) + br * (1.0 - ma);\n            og = Math.max(0, mg * ma) + bg * (1.0 - ma);\n            ob = Math.max(0, mb * ma) + bb * (1.0 - ma);\n\n            data[index] = Math.max(0.0, Math.min(1.0, or)) * 255;\n            data[index + 1] = Math.max(0.0, Math.min(1.0, og)) * 255;\n            data[index + 2] = Math.max(0.0, Math.min(1.0, ob)) * 255;\n            // don't update alpha value\n        }\n\n        return imageData;\n    }\n\n    function resize(imageData, data) {\n        let { mode = 'contain', upscale = false, width, height, matrix } = data;\n\n        // test if is identity matrix\n        matrix = !matrix || isIdentityMatrix(matrix) ? null : matrix;\n\n        // need at least a width or a height\n        // also 0 is not a valid width or height\n        if (!width && !height) {\n            return filter(imageData, matrix);\n        }\n\n        // make sure all bounds are set\n        if (width === null) {\n            width = height;\n        } else if (height === null) {\n            height = width;\n        }\n\n        if (mode !== 'force') {\n            let scalarWidth = width / imageData.width;\n            let scalarHeight = height / imageData.height;\n            let scalar = 1;\n\n            if (mode === 'cover') {\n                scalar = Math.max(scalarWidth, scalarHeight);\n            } else if (mode === 'contain') {\n                scalar = Math.min(scalarWidth, scalarHeight);\n            }\n\n            // if image is too small, exit here with original image\n            if (scalar > 1 && upscale === false) {\n                return filter(imageData, matrix);\n            }\n\n            width = imageData.width * scalar;\n            height = imageData.height * scalar;\n        }\n\n        const originWidth = imageData.width;\n        const originHeight = imageData.height;\n        const targetWidth = Math.round(width);\n        const targetHeight = Math.round(height);\n        const inputData = imageData.data;\n        const outputData = new Uint8ClampedArray(targetWidth * targetHeight * 4);\n        const ratioWidth = originWidth / targetWidth;\n        const ratioHeight = originHeight / targetHeight;\n        const ratioWidthHalf = Math.ceil(ratioWidth * 0.5);\n        const ratioHeightHalf = Math.ceil(ratioHeight * 0.5);\n\n        for (let j = 0; j < targetHeight; j++) {\n            for (let i = 0; i < targetWidth; i++) {\n                let x2 = (i + j * targetWidth) * 4;\n                let weight = 0;\n                let weights = 0;\n                let weightsAlpha = 0;\n                let r = 0;\n                let g = 0;\n                let b = 0;\n                let a = 0;\n                let centerY = (j + 0.5) * ratioHeight;\n\n                for (let yy = Math.floor(j * ratioHeight); yy < (j + 1) * ratioHeight; yy++) {\n                    let dy = Math.abs(centerY - (yy + 0.5)) / ratioHeightHalf;\n                    let centerX = (i + 0.5) * ratioWidth;\n                    let w0 = dy * dy;\n\n                    for (let xx = Math.floor(i * ratioWidth); xx < (i + 1) * ratioWidth; xx++) {\n                        let dx = Math.abs(centerX - (xx + 0.5)) / ratioWidthHalf;\n                        let w = Math.sqrt(w0 + dx * dx);\n\n                        if (w >= -1 && w <= 1) {\n                            weight = 2 * w * w * w - 3 * w * w + 1;\n\n                            if (weight > 0) {\n                                dx = 4 * (xx + yy * originWidth);\n\n                                let ref = inputData[dx + 3];\n                                a += weight * ref;\n                                weightsAlpha += weight;\n\n                                if (ref < 255) {\n                                    weight = (weight * ref) / 250;\n                                }\n\n                                r += weight * inputData[dx];\n                                g += weight * inputData[dx + 1];\n                                b += weight * inputData[dx + 2];\n                                weights += weight;\n                            }\n                        }\n                    }\n                }\n\n                outputData[x2] = r / weights;\n                outputData[x2 + 1] = g / weights;\n                outputData[x2 + 2] = b / weights;\n                outputData[x2 + 3] = a / weightsAlpha;\n\n                matrix && applyFilterMatrix(x2, outputData, matrix);\n            }\n        }\n\n        return {\n            data: outputData,\n            width: targetWidth,\n            height: targetHeight,\n        };\n    }\n};\n/* javascript-obfuscator:enable */\n\nconst correctOrientation = (view, offset) => {\n    // Missing 0x45786966 Marker? No Exif Header, stop here\n    if (view.getUint32(offset + 4, false) !== 0x45786966) return;\n\n    // next byte!\n    offset += 4;\n\n    // First 2bytes defines byte align of TIFF data.\n    // If it is 0x4949=\"I I\", it means \"Intel\" type byte align\n    const intelByteAligned = view.getUint16((offset += 6), false) === 0x4949;\n    offset += view.getUint32(offset + 4, intelByteAligned);\n\n    const tags = view.getUint16(offset, intelByteAligned);\n    offset += 2;\n\n    // find Orientation tag\n    for (let i = 0; i < tags; i++) {\n        if (view.getUint16(offset + i * 12, intelByteAligned) === 0x0112) {\n            view.setUint16(offset + i * 12 + 8, 1, intelByteAligned);\n            return true;\n        }\n    }\n    return false;\n};\n\nconst readData = data => {\n    const view = new DataView(data);\n\n    // Every JPEG file starts from binary value '0xFFD8'\n    // If it's not present, exit here\n    if (view.getUint16(0) !== 0xffd8) return null;\n\n    let offset = 2; // Start at 2 as we skipped two bytes (FFD8)\n    let marker;\n    let markerLength;\n    let orientationCorrected = false;\n\n    while (offset < view.byteLength) {\n        marker = view.getUint16(offset, false);\n        markerLength = view.getUint16(offset + 2, false) + 2;\n\n        // Test if is APP and COM markers\n        const isData = (marker >= 0xffe0 && marker <= 0xffef) || marker === 0xfffe;\n        if (!isData) {\n            break;\n        }\n\n        if (!orientationCorrected) {\n            orientationCorrected = correctOrientation(view, offset, markerLength);\n        }\n\n        if (offset + markerLength > view.byteLength) {\n            break;\n        }\n\n        offset += markerLength;\n    }\n    return data.slice(0, offset);\n};\n\nconst getImageHead = file =>\n    new Promise(resolve => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(readData(reader.result) || null);\n        reader.readAsArrayBuffer(file.slice(0, 256 * 1024));\n    });\n\nconst getBlobBuilder = () => {\n    return (window.BlobBuilder =\n        window.BlobBuilder ||\n        window.WebKitBlobBuilder ||\n        window.MozBlobBuilder ||\n        window.MSBlobBuilder);\n};\n\nconst createBlob = (arrayBuffer, mimeType) => {\n    const BB = getBlobBuilder();\n\n    if (BB) {\n        const bb = new BB();\n        bb.append(arrayBuffer);\n        return bb.getBlob(mimeType);\n    }\n\n    return new Blob([arrayBuffer], {\n        type: mimeType,\n    });\n};\n\nconst getUniqueId = () =>\n    Math.random()\n        .toString(36)\n        .substr(2, 9);\n\nconst createWorker = fn => {\n    const workerBlob = new Blob(['(', fn.toString(), ')()'], { type: 'application/javascript' });\n    const workerURL = URL.createObjectURL(workerBlob);\n    const worker = new Worker(workerURL);\n\n    const trips = [];\n\n    return {\n        transfer: () => {}, // (message, cb) => {}\n        post: (message, cb, transferList) => {\n            const id = getUniqueId();\n            trips[id] = cb;\n\n            worker.onmessage = e => {\n                const cb = trips[e.data.id];\n                if (!cb) return;\n                cb(e.data.message);\n                delete trips[e.data.id];\n            };\n\n            worker.postMessage(\n                {\n                    id,\n                    message,\n                },\n                transferList\n            );\n        },\n        terminate: () => {\n            worker.terminate();\n            URL.revokeObjectURL(workerURL);\n        },\n    };\n};\n\nconst loadImage = url =>\n    new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => {\n            resolve(img);\n        };\n        img.onerror = e => {\n            reject(e);\n        };\n        img.src = url;\n    });\n\nconst chain = funcs =>\n    funcs.reduce(\n        (promise, func) => promise.then(result => func().then(Array.prototype.concat.bind(result))),\n        Promise.resolve([])\n    );\n\nconst canvasApplyMarkup = (canvas, markup) =>\n    new Promise(resolve => {\n        const size = {\n            width: canvas.width,\n            height: canvas.height,\n        };\n\n        const ctx = canvas.getContext('2d');\n\n        const drawers = markup.sort(sortMarkupByZIndex).map(item => () =>\n            new Promise(resolve => {\n                const result = TYPE_DRAW_ROUTES[item[0]](ctx, size, item[1], resolve);\n                if (result) resolve();\n            })\n        );\n\n        chain(drawers).then(() => resolve(canvas));\n    });\n\nconst applyMarkupStyles = (ctx, styles) => {\n    ctx.beginPath();\n    ctx.lineCap = styles['stroke-linecap'];\n    ctx.lineJoin = styles['stroke-linejoin'];\n    ctx.lineWidth = styles['stroke-width'];\n    if (styles['stroke-dasharray'].length) {\n        ctx.setLineDash(styles['stroke-dasharray'].split(','));\n    }\n    ctx.fillStyle = styles['fill'];\n    ctx.strokeStyle = styles['stroke'];\n    ctx.globalAlpha = styles.opacity || 1;\n};\n\nconst drawMarkupStyles = ctx => {\n    ctx.fill();\n    ctx.stroke();\n    ctx.globalAlpha = 1;\n};\n\nconst drawRect = (ctx, size, markup) => {\n    const rect = getMarkupRect(markup, size);\n    const styles = getMarkupStyles(markup, size);\n    applyMarkupStyles(ctx, styles);\n    ctx.rect(rect.x, rect.y, rect.width, rect.height);\n    drawMarkupStyles(ctx, styles);\n    return true;\n};\n\nconst drawEllipse = (ctx, size, markup) => {\n    const rect = getMarkupRect(markup, size);\n    const styles = getMarkupStyles(markup, size);\n    applyMarkupStyles(ctx, styles);\n\n    const x = rect.x,\n        y = rect.y,\n        w = rect.width,\n        h = rect.height,\n        kappa = 0.5522848,\n        ox = (w / 2) * kappa,\n        oy = (h / 2) * kappa,\n        xe = x + w,\n        ye = y + h,\n        xm = x + w / 2,\n        ym = y + h / 2;\n\n    ctx.moveTo(x, ym);\n    ctx.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n    ctx.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n    ctx.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n    ctx.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n\n    drawMarkupStyles(ctx, styles);\n    return true;\n};\n\nconst drawImage = (ctx, size, markup, done) => {\n    const rect = getMarkupRect(markup, size);\n    const styles = getMarkupStyles(markup, size);\n    applyMarkupStyles(ctx, styles);\n\n    const image = new Image();\n\n    // if is cross origin image add cross origin attribute\n    const isCrossOriginImage =\n        new URL(markup.src, window.location.href).origin !== window.location.origin;\n    if (isCrossOriginImage) image.crossOrigin = '';\n\n    image.onload = () => {\n        if (markup.fit === 'cover') {\n            const ar = rect.width / rect.height;\n            const width = ar > 1 ? image.width : image.height * ar;\n            const height = ar > 1 ? image.width / ar : image.height;\n            const x = image.width * 0.5 - width * 0.5;\n            const y = image.height * 0.5 - height * 0.5;\n            ctx.drawImage(image, x, y, width, height, rect.x, rect.y, rect.width, rect.height);\n        } else if (markup.fit === 'contain') {\n            const scalar = Math.min(rect.width / image.width, rect.height / image.height);\n            const width = scalar * image.width;\n            const height = scalar * image.height;\n            const x = rect.x + rect.width * 0.5 - width * 0.5;\n            const y = rect.y + rect.height * 0.5 - height * 0.5;\n            ctx.drawImage(image, 0, 0, image.width, image.height, x, y, width, height);\n        } else {\n            ctx.drawImage(\n                image,\n                0,\n                0,\n                image.width,\n                image.height,\n                rect.x,\n                rect.y,\n                rect.width,\n                rect.height\n            );\n        }\n\n        drawMarkupStyles(ctx, styles);\n        done();\n    };\n    image.src = markup.src;\n};\n\nconst drawText = (ctx, size, markup) => {\n    const rect = getMarkupRect(markup, size);\n    const styles = getMarkupStyles(markup, size);\n    applyMarkupStyles(ctx, styles);\n\n    const fontSize = getMarkupValue(markup.fontSize, size);\n    const fontFamily = markup.fontFamily || 'sans-serif';\n    const fontWeight = markup.fontWeight || 'normal';\n    const textAlign = markup.textAlign || 'left';\n\n    ctx.font = `${fontWeight} ${fontSize}px ${fontFamily}`;\n    ctx.textAlign = textAlign;\n    ctx.fillText(markup.text, rect.x, rect.y);\n\n    drawMarkupStyles(ctx, styles);\n    return true;\n};\n\nconst drawPath = (ctx, size, markup) => {\n    const styles = getMarkupStyles(markup, size);\n    applyMarkupStyles(ctx, styles);\n    ctx.beginPath();\n\n    const points = markup.points.map(point => ({\n        x: getMarkupValue(point.x, size, 1, 'width'),\n        y: getMarkupValue(point.y, size, 1, 'height'),\n    }));\n\n    ctx.moveTo(points[0].x, points[0].y);\n    const l = points.length;\n    for (let i = 1; i < l; i++) {\n        ctx.lineTo(points[i].x, points[i].y);\n    }\n\n    drawMarkupStyles(ctx, styles);\n    return true;\n};\n\nconst drawLine = (ctx, size, markup) => {\n    const rect = getMarkupRect(markup, size);\n    const styles = getMarkupStyles(markup, size);\n    applyMarkupStyles(ctx, styles);\n\n    ctx.beginPath();\n\n    const origin = {\n        x: rect.x,\n        y: rect.y,\n    };\n\n    const target = {\n        x: rect.x + rect.width,\n        y: rect.y + rect.height,\n    };\n\n    ctx.moveTo(origin.x, origin.y);\n    ctx.lineTo(target.x, target.y);\n\n    const v = vectorNormalize({\n        x: target.x - origin.x,\n        y: target.y - origin.y,\n    });\n\n    const l = 0.04 * Math.min(size.width, size.height);\n\n    if (markup.lineDecoration.indexOf('arrow-begin') !== -1) {\n        const arrowBeginRotationPoint = vectorMultiply(v, l);\n        const arrowBeginCenter = vectorAdd(origin, arrowBeginRotationPoint);\n        const arrowBeginA = vectorRotate(origin, 2, arrowBeginCenter);\n        const arrowBeginB = vectorRotate(origin, -2, arrowBeginCenter);\n\n        ctx.moveTo(arrowBeginA.x, arrowBeginA.y);\n        ctx.lineTo(origin.x, origin.y);\n        ctx.lineTo(arrowBeginB.x, arrowBeginB.y);\n    }\n    if (markup.lineDecoration.indexOf('arrow-end') !== -1) {\n        const arrowEndRotationPoint = vectorMultiply(v, -l);\n        const arrowEndCenter = vectorAdd(target, arrowEndRotationPoint);\n        const arrowEndA = vectorRotate(target, 2, arrowEndCenter);\n        const arrowEndB = vectorRotate(target, -2, arrowEndCenter);\n\n        ctx.moveTo(arrowEndA.x, arrowEndA.y);\n        ctx.lineTo(target.x, target.y);\n        ctx.lineTo(arrowEndB.x, arrowEndB.y);\n    }\n\n    drawMarkupStyles(ctx, styles);\n    return true;\n};\n\nconst TYPE_DRAW_ROUTES = {\n    rect: drawRect,\n    ellipse: drawEllipse,\n    image: drawImage,\n    text: drawText,\n    line: drawLine,\n    path: drawPath,\n};\n\nconst imageDataToCanvas = imageData => {\n    const image = document.createElement('canvas');\n    image.width = imageData.width;\n    image.height = imageData.height;\n    const ctx = image.getContext('2d');\n    ctx.putImageData(imageData, 0, 0);\n    return image;\n};\n\nconst transformImage = (file, instructions, options = {}) =>\n    new Promise((resolve, reject) => {\n        // if the file is not an image we do not have any business transforming it\n        if (!file || !isImage$1(file)) return reject({ status: 'not an image file', file });\n\n        // get separate options for easier use\n        const { stripImageHead, beforeCreateBlob, afterCreateBlob, canvasMemoryLimit } = options;\n\n        // get crop\n        const { crop, size, filter, markup, output } = instructions;\n\n        // get exif orientation\n        const orientation =\n            instructions.image && instructions.image.orientation\n                ? Math.max(1, Math.min(8, instructions.image.orientation))\n                : null;\n\n        // compression quality 0 => 100\n        const qualityAsPercentage = output && output.quality;\n        const quality = qualityAsPercentage === null ? null : qualityAsPercentage / 100;\n\n        // output format\n        const type = (output && output.type) || null;\n\n        // background color\n        const background = (output && output.background) || null;\n\n        // get transforms\n        const transforms = [];\n\n        // add resize transforms if set\n        if (size && (typeof size.width === 'number' || typeof size.height === 'number')) {\n            transforms.push({ type: 'resize', data: size });\n        }\n\n        // add filters\n        if (filter && filter.length === 20) {\n            transforms.push({ type: 'filter', data: filter });\n        }\n\n        // resolves with supplied blob\n        const resolveWithBlob = blob => {\n            const promisedBlob = afterCreateBlob ? afterCreateBlob(blob) : blob;\n            Promise.resolve(promisedBlob).then(resolve);\n        };\n\n        // done\n        const toBlob = (imageData, options) => {\n            const canvas = imageDataToCanvas(imageData);\n            const promisedCanvas = markup.length ? canvasApplyMarkup(canvas, markup) : canvas;\n            Promise.resolve(promisedCanvas).then(canvas => {\n                canvasToBlob(canvas, options, beforeCreateBlob)\n                    .then(blob => {\n                        // force release of canvas memory\n                        canvasRelease(canvas);\n\n                        // remove image head (default)\n                        if (stripImageHead) return resolveWithBlob(blob);\n\n                        // try to copy image head from original file to generated blob\n                        getImageHead(file).then(imageHead => {\n                            // re-inject image head in case of JPEG, as the image head is removed by canvas export\n                            if (imageHead !== null) {\n                                blob = new Blob([imageHead, blob.slice(20)], { type: blob.type });\n                            }\n\n                            // done!\n                            resolveWithBlob(blob);\n                        });\n                    })\n                    .catch(reject);\n            });\n        };\n\n        // if this is an svg and we want it to stay an svg\n        if (/svg/.test(file.type) && type === null) {\n            return cropSVG(file, crop, markup, { background }).then(text => {\n                resolve(createBlob(text, 'image/svg+xml'));\n            });\n        }\n\n        // get file url\n        const url = URL.createObjectURL(file);\n\n        // turn the file into an image\n        loadImage(url)\n            .then(image => {\n                // url is no longer needed\n                URL.revokeObjectURL(url);\n\n                // draw to canvas and start transform chain\n                const imageData = imageToImageData(image, orientation, crop, {\n                    canvasMemoryLimit,\n                    background,\n                });\n\n                // determine the format of the blob that we will output\n                const outputFormat = {\n                    quality,\n                    type: type || file.type,\n                };\n\n                // no transforms necessary, we done!\n                if (!transforms.length) {\n                    return toBlob(imageData, outputFormat);\n                }\n\n                // send to the transform worker to transform the blob on a separate thread\n                const worker = createWorker(TransformWorker);\n                worker.post(\n                    {\n                        transforms,\n                        imageData,\n                    },\n                    response => {\n                        // finish up\n                        toBlob(objectToImageData(response), outputFormat);\n\n                        // stop worker\n                        worker.terminate();\n                    },\n                    [imageData.data.buffer]\n                );\n            })\n            .catch(reject);\n    });\n\nconst MARKUP_RECT = ['x', 'y', 'left', 'top', 'right', 'bottom', 'width', 'height'];\n\nconst toOptionalFraction = value =>\n    typeof value === 'string' && /%/.test(value) ? parseFloat(value) / 100 : value;\n\n// adds default markup properties, clones markup\nconst prepareMarkup = markup => {\n    const [type, props] = markup;\n\n    const rect = props.points\n        ? {}\n        : MARKUP_RECT.reduce((prev, curr) => {\n              prev[curr] = toOptionalFraction(props[curr]);\n              return prev;\n          }, {});\n\n    return [\n        type,\n        {\n            zIndex: 0,\n            ...props,\n            ...rect,\n        },\n    ];\n};\n\nconst getImageSize = file =>\n    new Promise((resolve, reject) => {\n        const imageElement = new Image();\n        imageElement.src = URL.createObjectURL(file);\n\n        // start testing size\n        const measure = () => {\n            const width = imageElement.naturalWidth;\n            const height = imageElement.naturalHeight;\n            const hasSize = width && height;\n            if (!hasSize) return;\n\n            URL.revokeObjectURL(imageElement.src);\n            clearInterval(intervalId);\n            resolve({ width, height });\n        };\n\n        imageElement.onerror = err => {\n            URL.revokeObjectURL(imageElement.src);\n            clearInterval(intervalId);\n            reject(err);\n        };\n\n        const intervalId = setInterval(measure, 1);\n\n        measure();\n    });\n\n/**\n * Polyfill Edge and IE when in Browser\n */\nif (typeof window !== 'undefined' && typeof window.document !== 'undefined') {\n    if (!HTMLCanvasElement.prototype.toBlob) {\n        Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\n            value: function(cb, type, quality) {\n                const canvas = this;\n                setTimeout(() => {\n                    const dataURL = canvas.toDataURL(type, quality).split(',')[1];\n                    const binStr = atob(dataURL);\n                    let index = binStr.length;\n                    const data = new Uint8Array(index);\n                    while (index--) {\n                        data[index] = binStr.charCodeAt(index);\n                    }\n                    cb(new Blob([data], { type: type || 'image/png' }));\n                });\n            },\n        });\n    }\n}\n\nconst isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nconst isIOS = isBrowser && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\n/**\n * Image Transform Plugin\n */\nconst plugin = ({ addFilter, utils }) => {\n    const { Type, forin, getFileFromBlob, isFile } = utils;\n\n    /**\n     * Helper functions\n     */\n\n    // valid transforms (in correct order)\n    const TRANSFORM_LIST = ['crop', 'resize', 'filter', 'markup', 'output'];\n\n    const createVariantCreator = updateMetadata => (transform, file, metadata) =>\n        transform(file, updateMetadata ? updateMetadata(metadata) : metadata);\n\n    const isDefaultCrop = crop =>\n        crop.aspectRatio === null &&\n        crop.rotation === 0 &&\n        crop.zoom === 1 &&\n        crop.center &&\n        crop.center.x === 0.5 &&\n        crop.center.y === 0.5 &&\n        crop.flip &&\n        crop.flip.horizontal === false &&\n        crop.flip.vertical === false;\n\n    /**\n     * Filters\n     */\n    addFilter(\n        'SHOULD_PREPARE_OUTPUT',\n        (shouldPrepareOutput, { query }) =>\n            new Promise(resolve => {\n                // If is not async should prepare now\n                resolve(!query('IS_ASYNC'));\n            })\n    );\n\n    const shouldTransformFile = (query, file, item) =>\n        new Promise(resolve => {\n            if (\n                !query('GET_ALLOW_IMAGE_TRANSFORM') ||\n                item.archived ||\n                !isFile(file) ||\n                !isImage(file)\n            ) {\n                return resolve(false);\n            }\n\n            // if size can't be read this browser doesn't support image\n            getImageSize(file)\n                .then(() => {\n                    const fn = query('GET_IMAGE_TRANSFORM_IMAGE_FILTER');\n                    if (fn) {\n                        const filterResult = fn(file);\n                        if (filterResult == null) {\n                            // undefined or null\n                            return handleRevert(true);\n                        }\n                        if (typeof filterResult === 'boolean') {\n                            return resolve(filterResult);\n                        }\n                        if (typeof filterResult.then === 'function') {\n                            return filterResult.then(resolve);\n                        }\n                    }\n\n                    resolve(true);\n                })\n                .catch(err => {\n                    resolve(false);\n                });\n        });\n\n    addFilter('DID_CREATE_ITEM', (item, { query, dispatch }) => {\n        if (!query('GET_ALLOW_IMAGE_TRANSFORM')) return;\n\n        item.extend(\n            'requestPrepare',\n            () =>\n                new Promise((resolve, reject) => {\n                    dispatch(\n                        'REQUEST_PREPARE_OUTPUT',\n                        {\n                            query: item.id,\n                            item,\n                            success: resolve,\n                            failure: reject,\n                        },\n                        true\n                    );\n                })\n        );\n    });\n\n    // subscribe to file transformations\n    addFilter(\n        'PREPARE_OUTPUT',\n        (file, { query, item }) =>\n            new Promise(resolve => {\n                shouldTransformFile(query, file, item).then(shouldTransform => {\n                    // no need to transform, exit\n                    if (!shouldTransform) return resolve(file);\n\n                    // get variants\n                    const variants = [];\n\n                    // add original file\n                    if (query('GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL')) {\n                        variants.push(\n                            () =>\n                                new Promise(resolve => {\n                                    resolve({\n                                        name: query('GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME'),\n                                        file,\n                                    });\n                                })\n                        );\n                    }\n\n                    // add default output version if output default set to true or if no variants defined\n                    if (query('GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT')) {\n                        variants.push(\n                            (transform, file, metadata) =>\n                                new Promise(resolve => {\n                                    transform(file, metadata).then(file =>\n                                        resolve({\n                                            name: query(\n                                                'GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME'\n                                            ),\n                                            file,\n                                        })\n                                    );\n                                })\n                        );\n                    }\n\n                    // get other variants\n                    const variantsDefinition = query('GET_IMAGE_TRANSFORM_VARIANTS') || {};\n                    forin(variantsDefinition, (key, fn) => {\n                        const createVariant = createVariantCreator(fn);\n                        variants.push(\n                            (transform, file, metadata) =>\n                                new Promise(resolve => {\n                                    createVariant(transform, file, metadata).then(file =>\n                                        resolve({ name: key, file })\n                                    );\n                                })\n                        );\n                    });\n\n                    // output format (quality 0 => 100)\n                    const qualityAsPercentage = query('GET_IMAGE_TRANSFORM_OUTPUT_QUALITY');\n                    const qualityMode = query('GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE');\n                    const quality = qualityAsPercentage === null ? null : qualityAsPercentage / 100;\n                    const type = query('GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE');\n                    const clientTransforms =\n                        query('GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS') || TRANSFORM_LIST;\n\n                    // update transform metadata object\n                    item.setMetadata(\n                        'output',\n                        {\n                            type,\n                            quality,\n                            client: clientTransforms,\n                        },\n                        true\n                    );\n\n                    // the function that is used to apply the file transformations\n                    const transform = (file, metadata) =>\n                        new Promise((resolve, reject) => {\n                            const filteredMetadata = { ...metadata };\n\n                            Object.keys(filteredMetadata)\n                                .filter(instruction => instruction !== 'exif')\n                                .forEach(instruction => {\n                                    // if not in list, remove from object, the instruction will be handled by the server\n                                    if (clientTransforms.indexOf(instruction) === -1) {\n                                        delete filteredMetadata[instruction];\n                                    }\n                                });\n\n                            const { resize, exif, output, crop, filter, markup } = filteredMetadata;\n\n                            const instructions = {\n                                image: {\n                                    orientation: exif ? exif.orientation : null,\n                                },\n                                output:\n                                    output &&\n                                    (output.type ||\n                                        typeof output.quality === 'number' ||\n                                        output.background)\n                                        ? {\n                                              type: output.type,\n                                              quality:\n                                                  typeof output.quality === 'number'\n                                                      ? output.quality * 100\n                                                      : null,\n                                              background:\n                                                  output.background ||\n                                                  query(\n                                                      'GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR'\n                                                  ) ||\n                                                  null,\n                                          }\n                                        : undefined,\n                                size:\n                                    resize && (resize.size.width || resize.size.height)\n                                        ? {\n                                              mode: resize.mode,\n                                              upscale: resize.upscale,\n                                              ...resize.size,\n                                          }\n                                        : undefined,\n                                crop:\n                                    crop && !isDefaultCrop(crop)\n                                        ? {\n                                              ...crop,\n                                          }\n                                        : undefined,\n                                markup: markup && markup.length ? markup.map(prepareMarkup) : [],\n                                filter,\n                            };\n\n                            if (instructions.output) {\n                                // determine if file type will change\n                                const willChangeType = output.type\n                                    ? // type set\n                                      output.type !== file.type\n                                    : // type not set\n                                      false;\n\n                                const canChangeQuality = /\\/jpe?g$/.test(file.type);\n                                const willChangeQuality =\n                                    output.quality !== null\n                                        ? // quality set\n                                          canChangeQuality && qualityMode === 'always'\n                                        : // quality not set\n                                          false;\n\n                                // determine if file data will be modified\n                                const willModifyImageData = !!(\n                                    instructions.size ||\n                                    instructions.crop ||\n                                    instructions.filter ||\n                                    willChangeType ||\n                                    willChangeQuality\n                                );\n\n                                // if we're not modifying the image data then we don't have to modify the output\n                                if (!willModifyImageData) return resolve(file);\n                            }\n\n                            const options = {\n                                beforeCreateBlob: query('GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB'),\n                                afterCreateBlob: query('GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB'),\n                                canvasMemoryLimit: query('GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT'),\n                                stripImageHead: query(\n                                    'GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD'\n                                ),\n                            };\n\n                            transformImage(file, instructions, options)\n                                .then(blob => {\n                                    // set file object\n                                    const out = getFileFromBlob(\n                                        blob,\n                                        // rename the original filename to match the mime type of the output image\n                                        renameFileToMatchMimeType(\n                                            file.name,\n                                            getValidOutputMimeType(blob.type)\n                                        )\n                                    );\n\n                                    resolve(out);\n                                })\n                                .catch(reject);\n                        });\n\n                    // start creating variants\n                    const variantPromises = variants.map(create =>\n                        create(transform, file, item.getMetadata())\n                    );\n\n                    // wait for results\n                    Promise.all(variantPromises).then(files => {\n                        // if single file object in array, return the single file object else, return array of\n                        resolve(\n                            files.length === 1 && files[0].name === null\n                                ? // return the File object\n                                  files[0].file\n                                : // return an array of files { name:'name', file:File }\n                                  files\n                        );\n                    });\n                });\n            })\n    );\n\n    // Expose plugin options\n    return {\n        options: {\n            allowImageTransform: [true, Type.BOOLEAN],\n\n            // filter images to transform\n            imageTransformImageFilter: [null, Type.FUNCTION],\n\n            // null, 'image/jpeg', 'image/png'\n            imageTransformOutputMimeType: [null, Type.STRING],\n\n            // null, 0 - 100\n            imageTransformOutputQuality: [null, Type.INT],\n\n            // set to false to copy image exif data to output\n            imageTransformOutputStripImageHead: [true, Type.BOOLEAN],\n\n            // only apply transforms in this list\n            imageTransformClientTransforms: [null, Type.ARRAY],\n\n            // only apply output quality when a transform is required\n            imageTransformOutputQualityMode: ['always', Type.STRING],\n            // 'always'\n            // 'optional'\n            // 'mismatch' (future feature, only applied if quality differs from input)\n\n            // get image transform variants\n            imageTransformVariants: [null, Type.OBJECT],\n\n            // should we post the default transformed file\n            imageTransformVariantsIncludeDefault: [true, Type.BOOLEAN],\n\n            // which name to prefix the default transformed file with\n            imageTransformVariantsDefaultName: [null, Type.STRING],\n\n            // should we post the original file\n            imageTransformVariantsIncludeOriginal: [false, Type.BOOLEAN],\n\n            // which name to prefix the original file with\n            imageTransformVariantsOriginalName: ['original_', Type.STRING],\n\n            // called before creating the blob, receives canvas, expects promise resolve with canvas\n            imageTransformBeforeCreateBlob: [null, Type.FUNCTION],\n\n            // expects promise resolved with blob\n            imageTransformAfterCreateBlob: [null, Type.FUNCTION],\n\n            // canvas memory limit\n            imageTransformCanvasMemoryLimit: [isBrowser && isIOS ? 4096 * 4096 : null, Type.INT],\n\n            // background image of the output canvas\n            imageTransformCanvasBackgroundColor: [null, Type.STRING],\n        },\n    };\n};\n\n// fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\nif (isBrowser) {\n    document.dispatchEvent(new CustomEvent('FilePond:pluginloaded', { detail: plugin }));\n}\n\nexport default plugin;\n", "/*!\n * FilePondPluginMediaPreview 1.0.11\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit undefined for details.\n */\n\n/* eslint-disable */\n\nconst isPreviewableVideo = (file) => /^video/.test(file.type);\n\nconst isPreviewableAudio = (file) => /^audio/.test(file.type);\n\n('use strict');\n\nclass AudioPlayer {\n  constructor(mediaEl, audioElems) {\n    this.mediaEl = mediaEl;\n    this.audioElems = audioElems;\n    this.onplayhead = false;\n    this.duration = 0;\n    this.timelineWidth =\n      this.audioElems.timeline.offsetWidth -\n      this.audioElems.playhead.offsetWidth;\n    this.moveplayheadFn = this.moveplayhead.bind(this);\n\n    this.registerListeners();\n  }\n\n  registerListeners() {\n    this.mediaEl.addEventListener(\n      'timeupdate',\n      this.timeUpdate.bind(this),\n      false\n    );\n    this.mediaEl.addEventListener(\n      'canplaythrough',\n      () => (this.duration = this.mediaEl.duration),\n      false\n    );\n    this.audioElems.timeline.addEventListener(\n      'click',\n      this.timelineClicked.bind(this),\n      false\n    );\n    this.audioElems.button.addEventListener('click', this.play.bind(this));\n    this.audioElems.playhead.addEventListener(\n      'mousedown',\n      this.mouseDown.bind(this),\n      false\n    );\n    window.addEventListener('mouseup', this.mouseUp.bind(this), false);\n  }\n\n  play() {\n    if (this.mediaEl.paused) {\n      this.mediaEl.play();\n    } else {\n      this.mediaEl.pause();\n    }\n    this.audioElems.button.classList.toggle('play');\n    this.audioElems.button.classList.toggle('pause');\n  }\n\n  timeUpdate() {\n    let playPercent = (this.mediaEl.currentTime / this.duration) * 100;\n    this.audioElems.playhead.style.marginLeft = playPercent + '%';\n    if (this.mediaEl.currentTime === this.duration) {\n      this.audioElems.button.classList.toggle('play');\n      this.audioElems.button.classList.toggle('pause');\n    }\n  }\n\n  moveplayhead(event) {\n    let newMargLeft =\n      event.clientX - this.getPosition(this.audioElems.timeline);\n    if (newMargLeft >= 0 && newMargLeft <= this.timelineWidth) {\n      this.audioElems.playhead.style.marginLeft = newMargLeft + 'px';\n    }\n    if (newMargLeft < 0) {\n      this.audioElems.playhead.style.marginLeft = '0px';\n    }\n    if (newMargLeft > this.timelineWidth) {\n      this.audioElems.playhead.style.marginLeft = this.timelineWidth - 4 + 'px';\n    }\n  }\n\n  timelineClicked(event) {\n    this.moveplayhead(event);\n    this.mediaEl.currentTime = this.duration * this.clickPercent(event);\n  }\n\n  mouseDown() {\n    this.onplayhead = true;\n    window.addEventListener('mousemove', this.moveplayheadFn, true);\n    this.mediaEl.removeEventListener(\n      'timeupdate',\n      this.timeUpdate.bind(this),\n      false\n    );\n  }\n\n  mouseUp(event) {\n    window.removeEventListener('mousemove', this.moveplayheadFn, true);\n    if (this.onplayhead == true) {\n      this.moveplayhead(event);\n      // change current time\n      this.mediaEl.currentTime = this.duration * this.clickPercent(event);\n      this.mediaEl.addEventListener(\n        'timeupdate',\n        this.timeUpdate.bind(this),\n        false\n      );\n    }\n    this.onplayhead = false;\n  }\n\n  clickPercent(event) {\n    return (\n      (event.clientX - this.getPosition(this.audioElems.timeline)) /\n      this.timelineWidth\n    );\n  }\n\n  getPosition(el) {\n    return el.getBoundingClientRect().left;\n  }\n}\n\nconst createMediaView = (_) =>\n  _.utils.createView({\n    name: 'media-preview',\n    tag: 'div',\n    ignoreRect: true,\n    create: ({ root, props }) => {\n      const { id } = props;\n\n      // get item\n      const item = root.query('GET_ITEM', { id: props.id });\n      let tagName = isPreviewableAudio(item.file) ? 'audio' : 'video';\n\n      root.ref.media = document.createElement(tagName);\n      root.ref.media.setAttribute('controls', true);\n      root.element.appendChild(root.ref.media);\n\n      if (isPreviewableAudio(item.file)) {\n        let docfrag = document.createDocumentFragment();\n        root.ref.audio = [];\n        (root.ref.audio.container = document.createElement('div')),\n          (root.ref.audio.button = document.createElement('span')),\n          (root.ref.audio.timeline = document.createElement('div')),\n          (root.ref.audio.playhead = document.createElement('div'));\n\n        root.ref.audio.container.className = 'audioplayer';\n        root.ref.audio.button.className = 'playpausebtn play';\n        root.ref.audio.timeline.className = 'timeline';\n        root.ref.audio.playhead.className = 'playhead';\n\n        root.ref.audio.timeline.appendChild(root.ref.audio.playhead);\n        root.ref.audio.container.appendChild(root.ref.audio.button);\n        root.ref.audio.container.appendChild(root.ref.audio.timeline);\n        docfrag.appendChild(root.ref.audio.container);\n\n        root.element.appendChild(docfrag);\n      }\n    },\n    write: _.utils.createRoute({\n      DID_MEDIA_PREVIEW_LOAD: ({ root, props }) => {\n        const { id } = props;\n\n        // get item\n        const item = root.query('GET_ITEM', { id: props.id });\n        if (!item) return;\n\n        let URL = window.URL || window.webkitURL;\n        let blob = new Blob([item.file], { type: item.file.type });\n\n        root.ref.media.type = item.file.type;\n        root.ref.media.src =\n          (item.file.mock && item.file.url) || URL.createObjectURL(blob);\n\n        // create audio player in case of audio file\n        if (isPreviewableAudio(item.file)) {\n          new AudioPlayer(root.ref.media, root.ref.audio);\n        }\n\n        // determine dimensions and update panel accordingly\n        root.ref.media.addEventListener(\n          'loadeddata',\n          () => {\n            let height = 75; // default height for audio panel\n            if (isPreviewableVideo(item.file)) {\n              let containerWidth = root.ref.media.offsetWidth;\n              let factor = root.ref.media.videoWidth / containerWidth;\n              height = root.ref.media.videoHeight / factor;\n            }\n\n            root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n              id: props.id,\n              height: height,\n            });\n          },\n          false\n        );\n      },\n    }),\n  });\n\nconst createMediaWrapperView = (_) => {\n  /**\n   * Write handler for when preview container has been created\n   */\n  const didCreatePreviewContainer = ({ root, props }) => {\n    const { id } = props;\n    const item = root.query('GET_ITEM', id);\n    if (!item) return;\n\n    // the preview is now ready to be drawn\n    root.dispatch('DID_MEDIA_PREVIEW_LOAD', {\n      id,\n    });\n  };\n\n  /**\n   * Constructor\n   */\n  const create = ({ root, props }) => {\n    const media = createMediaView(_);\n\n    // append media presenter\n    root.ref.media = root.appendChildView(\n      root.createChildView(media, {\n        id: props.id,\n      })\n    );\n  };\n\n  return _.utils.createView({\n    name: 'media-preview-wrapper',\n    create,\n    write: _.utils.createRoute({\n      // media preview stated\n      DID_MEDIA_PREVIEW_CONTAINER_CREATE: didCreatePreviewContainer,\n    }),\n  });\n};\n\n/**\n * Media Preview Plugin\n */\nconst plugin = (fpAPI) => {\n  const { addFilter, utils } = fpAPI;\n  const { Type, createRoute } = utils;\n  const mediaWrapperView = createMediaWrapperView(fpAPI);\n\n  // called for each view that is created right after the 'create' method\n  addFilter('CREATE_VIEW', (viewAPI) => {\n    // get reference to created view\n    const { is, view, query } = viewAPI;\n\n    // only hook up to item view\n    if (!is('file')) {\n      return;\n    }\n\n    // create the media preview plugin, but only do so if the item is video or audio\n    const didLoadItem = ({ root, props }) => {\n      const { id } = props;\n      const item = query('GET_ITEM', id);\n      const allowVideoPreview = query('GET_ALLOW_VIDEO_PREVIEW');\n      const allowAudioPreview = query('GET_ALLOW_AUDIO_PREVIEW');\n\n      if (\n        !item ||\n        item.archived ||\n        ((!isPreviewableVideo(item.file) || !allowVideoPreview) &&\n          (!isPreviewableAudio(item.file) || !allowAudioPreview))\n      ) {\n        return;\n      }\n\n      // set preview view\n      root.ref.mediaPreview = view.appendChildView(\n        view.createChildView(mediaWrapperView, { id })\n      );\n\n      // now ready\n      root.dispatch('DID_MEDIA_PREVIEW_CONTAINER_CREATE', { id });\n    };\n\n    // start writing\n    view.registerWriter(\n      createRoute(\n        {\n          DID_LOAD_ITEM: didLoadItem,\n        },\n        ({ root, props }) => {\n          const { id } = props;\n          const item = query('GET_ITEM', id);\n          const allowVideoPreview = root.query('GET_ALLOW_VIDEO_PREVIEW');\n          const allowAudioPreview = root.query('GET_ALLOW_AUDIO_PREVIEW');\n\n          // don't do anything while not a video or audio file or hidden\n          if (\n            !item ||\n            ((!isPreviewableVideo(item.file) || !allowVideoPreview) &&\n              (!isPreviewableAudio(item.file) || !allowAudioPreview)) ||\n            root.rect.element.hidden\n          )\n            return;\n        }\n      )\n    );\n  });\n\n  // expose plugin\n  return {\n    options: {\n      allowVideoPreview: [true, Type.BOOLEAN],\n      allowAudioPreview: [true, Type.BOOLEAN],\n    },\n  };\n};\n\n// fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\nconst isBrowser =\n  typeof window !== 'undefined' && typeof window.document !== 'undefined';\nif (isBrowser) {\n  document.dispatchEvent(\n    new CustomEvent('FilePond:pluginloaded', { detail: plugin })\n  );\n}\n\nexport { plugin as default };\n", "export default {\n    labelIdle: '\u0627\u0633\u062D\u0628 \u0648 \u0627\u062F\u0631\u062C \u0645\u0644\u0641\u0627\u062A\u0643 \u0623\u0648 <span class=\"filepond--label-action\"> \u062A\u0635\u0641\u062D </span>',\n    labelInvalidField: '\u0627\u0644\u062D\u0642\u0644 \u064A\u062D\u062A\u0648\u064A \u0639\u0644\u0649 \u0645\u0644\u0641\u0627\u062A \u063A\u064A\u0631 \u0635\u0627\u0644\u062D\u0629',\n    labelFileWaitingForSize: '\u0628\u0627\u0646\u062A\u0638\u0627\u0631 \u0627\u0644\u062D\u062C\u0645',\n    labelFileSizeNotAvailable: '\u0627\u0644\u062D\u062C\u0645 \u063A\u064A\u0631 \u0645\u062A\u0627\u062D',\n    labelFileLoading: '\u0628\u0627\u0644\u0625\u0646\u062A\u0638\u0627\u0631',\n    labelFileLoadError: '\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u0645\u064A\u0644',\n    labelFileProcessing: '\u064A\u062A\u0645 \u0627\u0644\u0631\u0641\u0639',\n    labelFileProcessingComplete: '\u062A\u0645 \u0627\u0644\u0631\u0641\u0639',\n    labelFileProcessingAborted: '\u062A\u0645 \u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0631\u0641\u0639',\n    labelFileProcessingError: '\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0631\u0641\u0639',\n    labelFileProcessingRevertError: '\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u0631\u0627\u062C\u0639',\n    labelFileRemoveError: '\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641',\n    labelTapToCancel: '\u0627\u0646\u0642\u0631 \u0644\u0644\u0625\u0644\u063A\u0627\u0621',\n    labelTapToRetry: '\u0627\u0646\u0642\u0631 \u0644\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629',\n    labelTapToUndo: '\u0627\u0646\u0642\u0631 \u0644\u0644\u062A\u0631\u0627\u062C\u0639',\n    labelButtonRemoveItem: '\u0645\u0633\u062D',\n    labelButtonAbortItemLoad: '\u0625\u0644\u063A\u0627\u0621',\n    labelButtonRetryItemLoad: '\u0625\u0639\u0627\u062F\u0629',\n    labelButtonAbortItemProcessing: '\u0625\u0644\u063A\u0627\u0621',\n    labelButtonUndoItemProcessing: '\u062A\u0631\u0627\u062C\u0639',\n    labelButtonRetryItemProcessing: '\u0625\u0639\u0627\u062F\u0629',\n    labelButtonProcessItem: '\u0631\u0641\u0639',\n    labelMaxFileSizeExceeded: '\u0627\u0644\u0645\u0644\u0641 \u0643\u0628\u064A\u0631 \u062C\u062F\u0627',\n    labelMaxFileSize: '\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0623\u0642\u0635\u0649: {filesize}',\n    labelMaxTotalFileSizeExceeded: '\u062A\u0645 \u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u062D\u062C\u0645 \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A',\n    labelMaxTotalFileSize: '\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641: {filesize}',\n    labelFileTypeNotAllowed: '\u0645\u0644\u0641 \u0645\u0646 \u0646\u0648\u0639 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D',\n    fileValidateTypeLabelExpectedTypes: '\u062A\u062A\u0648\u0642\u0639 {allButLastType} \u0645\u0646 {lastType}',\n    imageValidateSizeLabelFormatError: '\u0646\u0648\u0639 \u0627\u0644\u0635\u0648\u0631\u0629 \u063A\u064A\u0631 \u0645\u062F\u0639\u0648\u0645',\n    imageValidateSizeLabelImageSizeTooSmall: '\u0627\u0644\u0635\u0648\u0631\u0629 \u0635\u063A\u064A\u0631 \u062C\u062F\u0627',\n    imageValidateSizeLabelImageSizeTooBig: '\u0627\u0644\u0635\u0648\u0631\u0629 \u0643\u0628\u064A\u0631\u0629 \u062C\u062F\u0627',\n    imageValidateSizeLabelExpectedMinSize: '\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0623\u0628\u0639\u0627\u062F \u0647\u0648: {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: '\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0623\u0628\u0639\u0627\u062F \u0647\u0648: {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: '\u0627\u0644\u062F\u0642\u0629 \u0636\u0639\u064A\u0641\u0629 \u062C\u062F\u0627',\n    imageValidateSizeLabelImageResolutionTooHigh: '\u0627\u0644\u062F\u0642\u0629 \u0645\u0631\u062A\u0641\u0639\u0629 \u062C\u062F\u0627',\n    imageValidateSizeLabelExpectedMinResolution: '\u0623\u0642\u0644 \u062F\u0642\u0629: {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: '\u0623\u0642\u0635\u0649 \u062F\u0642\u0629: {maxResolution}'\n};\n", "export default {\n    labelIdle: 'P\u0159et\u00E1hn\u011Bte soubor sem (drag&drop) nebo <span class=\"filepond--label-action\"> Vyhledat </span>',\n    labelInvalidField: 'Pole obsahuje chybn\u00E9 soubory',\n    labelFileWaitingForSize: 'Zji\u0161\u0165uje se velikost',\n    labelFileSizeNotAvailable: 'Velikost nen\u00ED zn\u00E1m\u00E1',\n    labelFileLoading: 'P\u0159en\u00E1\u0161\u00ED se',\n    labelFileLoadError: 'Chyba p\u0159i p\u0159enosu',\n    labelFileProcessing: 'Prob\u00EDh\u00E1 upload',\n    labelFileProcessingComplete: 'Upload dokon\u010Den',\n    labelFileProcessingAborted: 'Upload stornov\u00E1n',\n    labelFileProcessingError: 'Chyba p\u0159i uploadu',\n    labelFileProcessingRevertError: 'Chyba p\u0159i obnov\u011B',\n    labelFileRemoveError: 'Chyba p\u0159i odstran\u011Bn\u00ED',\n    labelTapToCancel: 'klepn\u011Bte pro storno',\n    labelTapToRetry: 'klepn\u011Bte pro opakov\u00E1n\u00ED',\n    labelTapToUndo: 'klepn\u011Bte pro vr\u00E1cen\u00ED',\n    labelButtonRemoveItem: 'Odstranit',\n    labelButtonAbortItemLoad: 'Storno',\n    labelButtonRetryItemLoad: 'Opakovat',\n    labelButtonAbortItemProcessing: 'Zp\u011Bt',\n    labelButtonUndoItemProcessing: 'Vr\u00E1tit',\n    labelButtonRetryItemProcessing: 'Opakovat',\n    labelButtonProcessItem: 'Upload',\n    labelMaxFileSizeExceeded: 'Soubor je p\u0159\u00EDli\u0161 velk\u00FD',\n    labelMaxFileSize: 'Nejv\u011Bt\u0161\u00ED velikost souboru je {filesize}',\n    labelMaxTotalFileSizeExceeded: 'P\u0159ekro\u010Dena maxim\u00E1ln\u00ED celkov\u00E1 velikost souboru',\n    labelMaxTotalFileSize: 'Maxim\u00E1ln\u00ED celkov\u00E1 velikost souboru je {filesize}',\n    labelFileTypeNotAllowed: 'Soubor je nespr\u00E1vn\u00E9ho typu',\n    fileValidateTypeLabelExpectedTypes: 'O\u010Dek\u00E1v\u00E1 se {allButLastType} nebo {lastType}',\n    imageValidateSizeLabelFormatError: 'Obr\u00E1zek tohoto typu nen\u00ED podporov\u00E1n',\n    imageValidateSizeLabelImageSizeTooSmall: 'Obr\u00E1zek je p\u0159\u00EDli\u0161 mal\u00FD',\n    imageValidateSizeLabelImageSizeTooBig: 'Obr\u00E1zek je p\u0159\u00EDli\u0161 velk\u00FD',\n    imageValidateSizeLabelExpectedMinSize: 'Minim\u00E1ln\u00ED rozm\u011Br je {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: 'Maxim\u00E1ln\u00ED rozm\u011Br je {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: 'Rozli\u0161en\u00ED je p\u0159\u00EDli\u0161 mal\u00E9',\n    imageValidateSizeLabelImageResolutionTooHigh: 'Rozli\u0161en\u00ED je p\u0159\u00EDli\u0161 velk\u00E9',\n    imageValidateSizeLabelExpectedMinResolution: 'Minim\u00E1ln\u00ED rozli\u0161en\u00ED je {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: 'Maxim\u00E1ln\u00ED rozli\u0161en\u00ED je {maxResolution}'\n};\n", "export default {\n    labelIdle:\n        'Tr\u00E6k & slip filer eller <span class = \"filepond - label-action\"> Gennemse </span>',\n    labelInvalidField: 'Felt indeholder ugyldige filer',\n    labelFileWaitingForSize: 'Venter p\u00E5 st\u00F8rrelse',\n    labelFileSizeNotAvailable: 'St\u00F8rrelse ikke tilg\u00E6ngelig',\n    labelFileLoading: 'Loader',\n    labelFileLoadError: 'Load fejlede',\n    labelFileProcessing: 'Uploader',\n    labelFileProcessingComplete: 'Upload f\u00E6rdig',\n    labelFileProcessingAborted: 'Upload annulleret',\n    labelFileProcessingError: 'Upload fejlede',\n    labelFileProcessingRevertError: 'Fortryd fejlede',\n    labelFileRemoveError: 'Fjern fejlede',\n    labelTapToCancel: 'tryk for at annullere',\n    labelTapToRetry: 'tryk for at pr\u00F8ve igen',\n    labelTapToUndo: 'tryk for at fortryde',\n    labelButtonRemoveItem: 'Fjern',\n    labelButtonAbortItemLoad: 'Annuller',\n    labelButtonRetryItemLoad: 'Fors\u00F8g igen',\n    labelButtonAbortItemProcessing: 'Annuller',\n    labelButtonUndoItemProcessing: 'Fortryd',\n    labelButtonRetryItemProcessing: 'Pr\u00F8v igen',\n    labelButtonProcessItem: 'Upload',\n    labelMaxFileSizeExceeded: 'Filen er for stor',\n    labelMaxFileSize: 'Maksimal filst\u00F8rrelse er {filesize}',\n    labelMaxTotalFileSizeExceeded: 'Maksimal totalst\u00F8rrelse overskredet',\n    labelMaxTotalFileSize: 'Maksimal total filst\u00F8rrelse er {filesize}',\n    labelFileTypeNotAllowed: 'Ugyldig filtype',\n    fileValidateTypeLabelExpectedTypes: 'Forventer {allButLastType} eller {lastType}',\n    imageValidateSizeLabelFormatError: 'Ugyldigt format',\n    imageValidateSizeLabelImageSizeTooSmall: 'Billedet er for lille',\n    imageValidateSizeLabelImageSizeTooBig: 'Billedet er for stort',\n    imageValidateSizeLabelExpectedMinSize: 'Minimum st\u00F8rrelse er {minBredde} \u00D7 {minH\u00F8jde}',\n    imageValidateSizeLabelExpectedMaxSize: 'Maksimal st\u00F8rrelse er {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: 'For lav opl\u00F8sning',\n    imageValidateSizeLabelImageResolutionTooHigh: 'For h\u00F8j opl\u00F8sning',\n    imageValidateSizeLabelExpectedMinResolution: 'Minimum opl\u00F8sning er {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: 'Maksimal opl\u00F8sning er {maxResolution}',\n};\n", "export default {\n    labelIdle: 'Dateien ablegen oder <span class=\"filepond--label-action\"> ausw\u00E4hlen </span>',\n    labelInvalidField: 'Feld beinhaltet ung\u00FCltige Dateien',\n    labelFileWaitingForSize: 'Dateigr\u00F6\u00DFe berechnen',\n    labelFileSizeNotAvailable: 'Dateigr\u00F6\u00DFe nicht verf\u00FCgbar',\n    labelFileLoading: 'Laden',\n    labelFileLoadError: 'Fehler beim Laden',\n    labelFileProcessing: 'Upload l\u00E4uft',\n    labelFileProcessingComplete: 'Upload abgeschlossen',\n    labelFileProcessingAborted: 'Upload abgebrochen',\n    labelFileProcessingError: 'Fehler beim Upload',\n    labelFileProcessingRevertError: 'Fehler beim Wiederherstellen',\n    labelFileRemoveError: 'Fehler beim L\u00F6schen',\n    labelTapToCancel: 'abbrechen',\n    labelTapToRetry: 'erneut versuchen',\n    labelTapToUndo: 'r\u00FCckg\u00E4ngig',\n    labelButtonRemoveItem: 'Entfernen',\n    labelButtonAbortItemLoad: 'Verwerfen',\n    labelButtonRetryItemLoad: 'Erneut versuchen',\n    labelButtonAbortItemProcessing: 'Abbrechen',\n    labelButtonUndoItemProcessing: 'R\u00FCckg\u00E4ngig',\n    labelButtonRetryItemProcessing: 'Erneut versuchen',\n    labelButtonProcessItem: 'Upload',\n    labelMaxFileSizeExceeded: 'Datei ist zu gro\u00DF',\n    labelMaxFileSize: 'Maximale Dateigr\u00F6\u00DFe: {filesize}',\n    labelMaxTotalFileSizeExceeded: 'Maximale gesamte Dateigr\u00F6\u00DFe \u00FCberschritten',\n    labelMaxTotalFileSize: 'Maximale gesamte Dateigr\u00F6\u00DFe: {filesize}',\n    labelFileTypeNotAllowed: 'Dateityp ung\u00FCltig',\n    fileValidateTypeLabelExpectedTypes: 'Erwartet {allButLastType} oder {lastType}',\n    imageValidateSizeLabelFormatError: 'Bildtyp nicht unterst\u00FCtzt',\n    imageValidateSizeLabelImageSizeTooSmall: 'Bild ist zu klein',\n    imageValidateSizeLabelImageSizeTooBig: 'Bild ist zu gro\u00DF',\n    imageValidateSizeLabelExpectedMinSize: 'Mindestgr\u00F6\u00DFe: {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: 'Maximale Gr\u00F6\u00DFe: {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: 'Aufl\u00F6sung ist zu niedrig',\n    imageValidateSizeLabelImageResolutionTooHigh: 'Aufl\u00F6sung ist zu hoch',\n    imageValidateSizeLabelExpectedMinResolution: 'Mindestaufl\u00F6sung: {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: 'Maximale Aufl\u00F6sung: {maxResolution}'\n  };", "export default {\n    labelIdle: 'Drag & Drop your files or <span class=\"filepond--label-action\"> Browse </span>',\n    labelInvalidField: 'Field contains invalid files',\n    labelFileWaitingForSize: 'Waiting for size',\n    labelFileSizeNotAvailable: 'Size not available',\n    labelFileLoading: 'Loading',\n    labelFileLoadError: 'Error during load',\n    labelFileProcessing: 'Uploading',\n    labelFileProcessingComplete: 'Upload complete',\n    labelFileProcessingAborted: 'Upload cancelled',\n    labelFileProcessingError: 'Error during upload',\n    labelFileProcessingRevertError: 'Error during revert',\n    labelFileRemoveError: 'Error during remove',\n    labelTapToCancel: 'tap to cancel',\n    labelTapToRetry: 'tap to retry',\n    labelTapToUndo: 'tap to undo',\n    labelButtonRemoveItem: 'Remove',\n    labelButtonAbortItemLoad: 'Abort',\n    labelButtonRetryItemLoad: 'Retry',\n    labelButtonAbortItemProcessing: 'Cancel',\n    labelButtonUndoItemProcessing: 'Undo',\n    labelButtonRetryItemProcessing: 'Retry',\n    labelButtonProcessItem: 'Upload',\n    labelMaxFileSizeExceeded: 'File is too large',\n    labelMaxFileSize: 'Maximum file size is {filesize}',\n    labelMaxTotalFileSizeExceeded: 'Maximum total size exceeded',\n    labelMaxTotalFileSize: 'Maximum total file size is {filesize}',\n    labelFileTypeNotAllowed: 'File of invalid type',\n    fileValidateTypeLabelExpectedTypes: 'Expects {allButLastType} or {lastType}',\n    imageValidateSizeLabelFormatError: 'Image type not supported',\n    imageValidateSizeLabelImageSizeTooSmall: 'Image is too small',\n    imageValidateSizeLabelImageSizeTooBig: 'Image is too big',\n    imageValidateSizeLabelExpectedMinSize: 'Minimum size is {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: 'Maximum size is {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: 'Resolution is too low',\n    imageValidateSizeLabelImageResolutionTooHigh: 'Resolution is too high',\n    imageValidateSizeLabelExpectedMinResolution: 'Minimum resolution is {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: 'Maximum resolution is {maxResolution}'\n};\n", "export default {\n    labelIdle: 'Arrastra y suelta tus archivos o <span class = \"filepond--label-action\"> Examinar <span>',\n    labelInvalidField: \"El campo contiene archivos inv\u00E1lidos\",\n    labelFileWaitingForSize: \"Esperando tama\u00F1o\",\n    labelFileSizeNotAvailable: \"Tama\u00F1o no disponible\",\n    labelFileLoading: \"Cargando\",\n    labelFileLoadError: \"Error durante la carga\",\n    labelFileProcessing: \"Cargando\",\n    labelFileProcessingComplete: \"Carga completa\",\n    labelFileProcessingAborted: \"Carga cancelada\",\n    labelFileProcessingError: \"Error durante la carga\",\n    labelFileProcessingRevertError: \"Error durante la reversi\u00F3n\",\n    labelFileRemoveError: \"Error durante la eliminaci\u00F3n\",\n    labelTapToCancel: \"toca para cancelar\",\n    labelTapToRetry: \"tocar para volver a intentar\",\n    labelTapToUndo: \"tocar para deshacer\",\n    labelButtonRemoveItem: \"Eliminar\",\n    labelButtonAbortItemLoad: \"Abortar\",\n    labelButtonRetryItemLoad: \"Reintentar\",\n    labelButtonAbortItemProcessing: \"Cancelar\",\n    labelButtonUndoItemProcessing: \"Deshacer\",\n    labelButtonRetryItemProcessing: \"Reintentar\",\n    labelButtonProcessItem: \"Cargar\",\n    labelMaxFileSizeExceeded: \"El archivo es demasiado grande\",\n    labelMaxFileSize: \"El tama\u00F1o m\u00E1ximo del archivo es {filesize}\",\n    labelMaxTotalFileSizeExceeded: \"Tama\u00F1o total m\u00E1ximo excedido\",\n    labelMaxTotalFileSize: \"El tama\u00F1o total m\u00E1ximo del archivo es {filesize}\",\n    labelFileTypeNotAllowed: \"Archivo de tipo no v\u00E1lido\",\n    fileValidateTypeLabelExpectedTypes: \"Espera {allButLastType} o {lastType}\",\n    imageValidateSizeLabelFormatError: \"Tipo de imagen no compatible\",\n    imageValidateSizeLabelImageSizeTooSmall: \"La imagen es demasiado peque\u00F1a\",\n    imageValidateSizeLabelImageSizeTooBig: \"La imagen es demasiado grande\",\n    imageValidateSizeLabelExpectedMinSize: \"El tama\u00F1o m\u00EDnimo es {minWidth} \u00D7 {minHeight}\",\n    imageValidateSizeLabelExpectedMaxSize: \"El tama\u00F1o m\u00E1ximo es {maxWidth} \u00D7 {maxHeight}\",\n    imageValidateSizeLabelImageResolutionTooLow: \"La resoluci\u00F3n es demasiado baja\",\n    imageValidateSizeLabelImageResolutionTooHigh: \"La resoluci\u00F3n es demasiado alta\",\n    imageValidateSizeLabelExpectedMinResolution: \"La resoluci\u00F3n m\u00EDnima es {minResolution}\",\n    imageValidateSizeLabelExpectedMaxResolution: \"La resoluci\u00F3n m\u00E1xima es {maxResolution}\",\n};", "export default {\n    labelIdle: '\u0641\u0627\u06CC\u0644 \u0631\u0627 \u0627\u06CC\u0646\u062C\u0627 \u0628\u06A9\u0634\u06CC\u062F \u0648 \u0631\u0647\u0627 \u06A9\u0646\u06CC\u062F\u060C \u06CC\u0627 <span class=\"filepond--label-action\"> \u062C\u0633\u062A\u062C\u0648 \u06A9\u0646\u06CC\u062F </span>',\n    labelInvalidField: '\u0641\u06CC\u0644\u062F \u062F\u0627\u0631\u0627\u06CC \u0641\u0627\u06CC\u0644 \u0647\u0627\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A',\n    labelFileWaitingForSize: 'Waiting for size',\n    labelFileSizeNotAvailable: '\u062D\u062C\u0645 \u0641\u0627\u06CC\u0644 \u0645\u062C\u0627\u0632 \u0646\u06CC\u0633\u062A',\n    labelFileLoading: '\u062F\u0631\u062D\u0627\u0644 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC',\n    labelFileLoadError: '\u062E\u0637\u0627 \u062F\u0631 \u0632\u0645\u0627\u0646 \u0627\u062C\u0631\u0627',\n    labelFileProcessing: '\u062F\u0631\u062D\u0627\u0644 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC',\n    labelFileProcessingComplete: '\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u06A9\u0627\u0645\u0644 \u0634\u062F',\n    labelFileProcessingAborted: '\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u0644\u063A\u0648 \u0634\u062F',\n    labelFileProcessingError: '\u062E\u0637\u0627 \u062F\u0631 \u0632\u0645\u0627\u0646 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC',\n    labelFileProcessingRevertError: '\u062E\u0637\u0627 \u062F\u0631 \u0632\u0645\u0627\u0646 \u062D\u0630\u0641',\n    labelFileRemoveError: '\u062E\u0637\u0627 \u062F\u0631 \u0632\u0645\u0627\u0646 \u062D\u0630\u0641',\n    labelTapToCancel: '\u0628\u0631\u0627\u06CC \u0644\u063A\u0648 \u0636\u0631\u0628\u0647 \u0628\u0632\u0646\u06CC\u062F',\n    labelTapToRetry: '\u0628\u0631\u0627\u06CC \u062A\u06A9\u0631\u0627\u0631 \u06A9\u0644\u06CC\u06A9 \u06A9\u0646\u06CC\u062F',\n    labelTapToUndo: '\u0628\u0631\u0627\u06CC \u0628\u0631\u06AF\u0634\u062A \u06A9\u0644\u06CC\u06A9 \u06A9\u0646\u06CC\u062F',\n    labelButtonRemoveItem: '\u062D\u0630\u0641',\n    labelButtonAbortItemLoad: '\u0644\u063A\u0648',\n    labelButtonRetryItemLoad: '\u062A\u06A9\u0631\u0627\u0631',\n    labelButtonAbortItemProcessing: '\u0644\u063A\u0648',\n    labelButtonUndoItemProcessing: '\u0628\u0631\u06AF\u0634\u062A',\n    labelButtonRetryItemProcessing: '\u062A\u06A9\u0631\u0627\u0631',\n    labelButtonProcessItem: '\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC',\n    labelMaxFileSizeExceeded: '\u0641\u0627\u06CC\u0644 \u0628\u0633\u06CC\u0627\u0631 \u062D\u062C\u06CC\u0645 \u0627\u0633\u062A',\n    labelMaxFileSize: '\u062D\u062F\u0627\u06A9\u062B\u0631 \u0645\u062C\u0627\u0632 \u0641\u0627\u06CC\u0644 {filesize} \u0627\u0633\u062A',\n    labelMaxTotalFileSizeExceeded: '\u0627\u0632 \u062D\u062F\u0627\u06A9\u062B\u0631 \u062D\u062C\u0645 \u0641\u0627\u06CC\u0644 \u0628\u06CC\u0634\u062A\u0631 \u0634\u062F',\n    labelMaxTotalFileSize: '\u062D\u062F\u0627\u06A9\u062B\u0631 \u062D\u062C\u0645 \u0641\u0627\u06CC\u0644 {filesize} \u0627\u0633\u062A',\n    labelFileTypeNotAllowed: '\u0646\u0648\u0639 \u0641\u0627\u06CC\u0644 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A',\n    fileValidateTypeLabelExpectedTypes: '\u062F\u0631 \u0627\u0646\u062A\u0638\u0627\u0631 {allButLastType} \u06CC\u0627 {lastType}',\n    imageValidateSizeLabelFormatError: '\u0641\u0631\u0645\u062A \u062A\u0635\u0648\u06CC\u0631 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0646\u0645\u06CC \u0634\u0648\u062F',\n    imageValidateSizeLabelImageSizeTooSmall: '\u062A\u0635\u0648\u06CC\u0631 \u0628\u0633\u06CC\u0627\u0631 \u06A9\u0648\u0686\u06A9 \u0627\u0633\u062A',\n    imageValidateSizeLabelImageSizeTooBig: '\u062A\u0635\u0648\u06CC\u0631 \u0628\u0633\u06CC\u0627\u0631 \u0628\u0632\u0631\u06AF \u0627\u0633\u062A',\n    imageValidateSizeLabelExpectedMinSize: '\u062D\u062F\u0627\u0642\u0644 \u0627\u0646\u062F\u0627\u0632\u0647 {minWidth} \u00D7 {minHeight} \u0627\u0633\u062A',\n    imageValidateSizeLabelExpectedMaxSize: '\u062D\u062F\u0627\u06A9\u062B\u0631 \u0627\u0646\u062F\u0627\u0632\u0647 {maxWidth} \u00D7 {maxHeight} \u0627\u0633\u062A',\n    imageValidateSizeLabelImageResolutionTooLow: '\u0648\u0636\u0648\u062D \u062A\u0635\u0648\u06CC\u0631 \u0628\u0633\u06CC\u0627\u0631 \u06A9\u0645 \u0627\u0633\u062A',\n    imageValidateSizeLabelImageResolutionTooHigh: '\u0648\u0636\u0648\u0639 \u062A\u0635\u0648\u06CC\u0631 \u0628\u0633\u06CC\u0627\u0631 \u0632\u06CC\u0627\u062F \u0627\u0633\u062A',\n    imageValidateSizeLabelExpectedMinResolution: '\u062D\u062F\u0627\u0642\u0644 \u0648\u0636\u0648\u062D \u062A\u0635\u0648\u06CC\u0631 {minResolution} \u0627\u0633\u062A',\n    imageValidateSizeLabelExpectedMaxResolution: '\u062D\u062F\u0627\u06A9\u062B\u0631 \u0648\u0636\u0648\u062D \u062A\u0635\u0648\u06CC\u0631 {maxResolution} \u0627\u0633\u062A'\n};\n", "export default {\n    labelIdle: 'Ved\u00E4 ja pudota tiedostoja tai <span class=\"filepond--label-action\"> Selaa </span>',\n    labelInvalidField: 'Kent\u00E4ss\u00E4 on virheellisi\u00E4 tiedostoja',\n    labelFileWaitingForSize: 'Odotetaan kokoa',\n    labelFileSizeNotAvailable: 'Kokoa ei saatavilla',\n    labelFileLoading: 'Ladataan',\n    labelFileLoadError: 'Virhe latauksessa',\n    labelFileProcessing: 'L\u00E4hetet\u00E4\u00E4n',\n    labelFileProcessingComplete: 'L\u00E4hetys valmis',\n    labelFileProcessingAborted: 'L\u00E4hetys peruttu',\n    labelFileProcessingError: 'Virhe l\u00E4hetyksess\u00E4',\n    labelFileProcessingRevertError: 'Virhe palautuksessa',\n    labelFileRemoveError: 'Virhe poistamisessa',\n    labelTapToCancel: 'peruuta napauttamalla',\n    labelTapToRetry: 'yrit\u00E4 uudelleen napauttamalla',\n    labelTapToUndo: 'kumoa napauttamalla',\n    labelButtonRemoveItem: 'Poista',\n    labelButtonAbortItemLoad: 'Keskeyt\u00E4',\n    labelButtonRetryItemLoad: 'Yrit\u00E4 uudelleen',\n    labelButtonAbortItemProcessing: 'Peruuta',\n    labelButtonUndoItemProcessing: 'Kumoa',\n    labelButtonRetryItemProcessing: 'Yrit\u00E4 uudelleen',\n    labelButtonProcessItem: 'L\u00E4het\u00E4',\n    labelMaxFileSizeExceeded: 'Tiedoston koko on liian suuri',\n    labelMaxFileSize: 'Tiedoston maksimikoko on {filesize}',\n    labelMaxTotalFileSizeExceeded: 'Tiedostojen yhdistetty maksimikoko ylitetty',\n    labelMaxTotalFileSize: 'Tiedostojen yhdistetty maksimikoko on {filesize}',\n    labelFileTypeNotAllowed: 'Tiedostotyyppi\u00E4 ei sallita',\n    fileValidateTypeLabelExpectedTypes: 'Sallitaan {allButLastType} tai {lastType}',\n    imageValidateSizeLabelFormatError: 'Kuvatyyppi\u00E4 ei tueta',\n    imageValidateSizeLabelImageSizeTooSmall: 'Kuva on liian pieni',\n    imageValidateSizeLabelImageSizeTooBig: 'Kuva on liian suuri',\n    imageValidateSizeLabelExpectedMinSize: 'Minimikoko on {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: 'Maksimikoko on {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: 'Resoluutio on liian pieni',\n    imageValidateSizeLabelImageResolutionTooHigh: 'Resoluutio on liian suuri',\n    imageValidateSizeLabelExpectedMinResolution: 'Minimiresoluutio on {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: 'Maksimiresoluutio on {maxResolution}'\n};\n", "export default {\n    labelIdle: 'Faites glisser vos fichiers ou <span class = \"filepond--label-action\"> Parcourir <span>',\n    labelInvalidField: \"Le champ contient des fichiers invalides\",\n    labelFileWaitingForSize: \"En attente de taille\",\n    labelFileSizeNotAvailable: \"Taille non disponible\",\n    labelFileLoading: \"Chargement\",\n    labelFileLoadError: \"Erreur durant le chargement\",\n    labelFileProcessing: \"Traitement\",\n    labelFileProcessingComplete: \"Traitement effectu\u00E9\",\n    labelFileProcessingAborted: \"Traitement interrompu\",\n    labelFileProcessingError: \"Erreur durant le traitement\",\n    labelFileProcessingRevertError: \"Erreur durant la restauration\",\n    labelFileRemoveError: \"Erreur durant la suppression\",\n    labelTapToCancel: \"appuyer pour annuler\",\n    labelTapToRetry: \"appuyer pour r\u00E9essayer\",\n    labelTapToUndo: \"appuyer pour revenir en arri\u00E8re\",\n    labelButtonRemoveItem: \"Retirer\",\n    labelButtonAbortItemLoad: \"Annuler\",\n    labelButtonRetryItemLoad: \"Recommencer\",\n    labelButtonAbortItemProcessing: \"Annuler\",\n    labelButtonUndoItemProcessing: \"Revenir en arri\u00E8re\",\n    labelButtonRetryItemProcessing: \"Recommencer\",\n    labelButtonProcessItem: \"Transf\u00E9rer\",\n    labelMaxFileSizeExceeded: \"Le fichier est trop volumineux\",\n    labelMaxFileSize: \"La taille maximale de fichier est {filesize}\",\n    labelMaxTotalFileSizeExceeded: \"Taille totale maximale d\u00E9pass\u00E9e\",\n    labelMaxTotalFileSize: \"La taille totale maximale des fichiers est {filesize}\",\n    labelFileTypeNotAllowed: \"Fichier non valide\",\n    fileValidateTypeLabelExpectedTypes: \"Attendu {allButLastType} ou {lastType}\",\n    imageValidateSizeLabelFormatError: \"Type d'image non pris en charge\",\n    imageValidateSizeLabelImageSizeTooSmall: \"L'image est trop petite\",\n    imageValidateSizeLabelImageSizeTooBig: \"L'image est trop grande\",\n    imageValidateSizeLabelExpectedMinSize: \"La taille minimale est {minWidth} \u00D7 {minHeight}\",\n    imageValidateSizeLabelExpectedMaxSize: \"La taille maximale est {maxWidth} \u00D7 {maxHeight}\",\n    imageValidateSizeLabelImageResolutionTooLow: \"La r\u00E9solution est trop faible\",\n    imageValidateSizeLabelImageResolutionTooHigh: \"La r\u00E9solution est trop \u00E9lev\u00E9e\",\n    imageValidateSizeLabelExpectedMinResolution: \"La r\u00E9solution minimale est {minResolution}\",\n    imageValidateSizeLabelExpectedMaxResolution: \"La r\u00E9solution maximale est {maxResolution}\",\n};\n", "export default {\n    labelIdle: 'Mozgasd ide a f\u00E1jlt a felt\u00F6lt\u00E9shez, vagy <span class=\"filepond--label-action\"> tall\u00F3z\u00E1s </span>',\n    labelInvalidField: 'A mez\u0151 \u00E9rv\u00E9nytelen f\u00E1jlokat tartalmaz',\n    labelFileWaitingForSize: 'F\u00E1ljm\u00E9ret kisz\u00E1mol\u00E1sa',\n    labelFileSizeNotAvailable: 'A f\u00E1jlm\u00E9ret nem el\u00E9rhet\u0151',\n    labelFileLoading: 'T\u00F6lt\u00E9s',\n    labelFileLoadError: 'Hiba a bet\u00F6lt\u00E9s sor\u00E1n',\n    labelFileProcessing: 'Felt\u00F6lt\u00E9s',\n    labelFileProcessingComplete: 'Sikeres felt\u00F6lt\u00E9s',\n    labelFileProcessingAborted: 'A felt\u00F6lt\u00E9s megszak\u00EDtva',\n    labelFileProcessingError: 'Hiba t\u00F6rt\u00E9nt a felt\u00F6lt\u00E9s sor\u00E1n',\n    labelFileProcessingRevertError: 'Hiba a vissza\u00E1ll\u00EDt\u00E1s sor\u00E1n',\n    labelFileRemoveError: 'Hiba t\u00F6rt\u00E9nt az elt\u00E1vol\u00EDt\u00E1s sor\u00E1n',\n    labelTapToCancel: 'koppints a t\u00F6rl\u00E9shez',\n    labelTapToRetry: 'koppints az \u00FAjrakezd\u00E9shez',\n    labelTapToUndo: 'koppints a visszavon\u00E1shoz',\n    labelButtonRemoveItem: 'Elt\u00E1vol\u00EDt\u00E1s',\n    labelButtonAbortItemLoad: 'Megszak\u00EDt\u00E1s',\n    labelButtonRetryItemLoad: '\u00DAjrapr\u00F3b\u00E1lkoz\u00E1s',\n    labelButtonAbortItemProcessing: 'Megszak\u00EDt\u00E1s',\n    labelButtonUndoItemProcessing: 'Visszavon\u00E1s',\n    labelButtonRetryItemProcessing: '\u00DAjrapr\u00F3b\u00E1lkoz\u00E1s',\n    labelButtonProcessItem: 'Felt\u00F6lt\u00E9s',\n    labelMaxFileSizeExceeded: 'A f\u00E1jl t\u00FAll\u00E9pte a maxim\u00E1lis m\u00E9retet',\n    labelMaxFileSize: 'Maxim\u00E1lis f\u00E1jlm\u00E9ret: {filesize}',\n    labelMaxTotalFileSizeExceeded: 'T\u00FAll\u00E9pte a maxim\u00E1lis teljes m\u00E9retet',\n    labelMaxTotalFileSize: 'A maxim\u00E1is teljes f\u00E1jlm\u00E9ret: {filesize}',\n    labelFileTypeNotAllowed: '\u00C9rv\u00E9nytelen t\u00EDpus\u00FA f\u00E1jl',\n    fileValidateTypeLabelExpectedTypes: 'Enged\u00E9lyezett t\u00EDpusok {allButLastType} vagy {lastType}',\n    imageValidateSizeLabelFormatError: 'A k\u00E9pt\u00EDpus nem t\u00E1mogatott',\n    imageValidateSizeLabelImageSizeTooSmall: 'A k\u00E9p t\u00FAl kicsi',\n    imageValidateSizeLabelImageSizeTooBig: 'A k\u00E9p t\u00FAl nagy',\n    imageValidateSizeLabelExpectedMinSize: 'Minimum m\u00E9ret: {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: 'Maximum m\u00E9ret: {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: 'A felbont\u00E1s t\u00FAl alacsony',\n    imageValidateSizeLabelImageResolutionTooHigh: 'A felbont\u00E1s t\u00FAl magas',\n    imageValidateSizeLabelExpectedMinResolution: 'Minim\u00E1is felbont\u00E1s: {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: 'Maxim\u00E1lis felbont\u00E1s: {maxResolution}'\n  };", "export default {\n    labelIdle: 'Seret dan Jatuhkan file Anda atau <span class=\"filepond--label-action\">Jelajahi</span>',\n    labelInvalidField: 'Field berisi file tidak valid',\n    labelFileWaitingForSize: 'Menunggu ukuran',\n    labelFileSizeNotAvailable: 'Ukuran tidak tersedia',\n    labelFileLoading: 'Memuat',\n    labelFileLoadError: 'Kesalahan saat memuat',\n    labelFileProcessing: 'Mengunggah',\n    labelFileProcessingComplete: 'Unggahan selesai',\n    labelFileProcessingAborted: 'Unggahan dibatalkan',\n    labelFileProcessingError: 'Kesalahan saat mengunggah',\n    labelFileProcessingRevertError: 'Kesalahan saat pengembalian',\n    labelFileRemoveError: 'Kesalahan saat menghapus',\n    labelTapToCancel: 'ketuk untuk membatalkan',\n    labelTapToRetry: 'ketuk untuk mencoba lagi',\n    labelTapToUndo: 'ketuk untuk mengurungkan',\n    labelButtonRemoveItem: 'Hapus',\n    labelButtonAbortItemLoad: 'Batal',\n    labelButtonRetryItemLoad: 'Coba Kembali',\n    labelButtonAbortItemProcessing: 'Batal',\n    labelButtonUndoItemProcessing: 'Batal',\n    labelButtonRetryItemProcessing: 'Coba Kembali',\n    labelButtonProcessItem: 'Unggah',\n    labelMaxFileSizeExceeded: 'File terlalu besar',\n    labelMaxFileSize: 'Ukuran file maksimum adalah {filesize}',\n    labelMaxTotalFileSizeExceeded: 'Jumlah file maksimum terlampaui',\n    labelMaxTotalFileSize: 'Jumlah file maksimum adalah {filesize}',\n    labelFileTypeNotAllowed: 'Jenis file tidak valid',\n    fileValidateTypeLabelExpectedTypes: 'Mengharapkan {allButLastType} atau {lastType}',\n    imageValidateSizeLabelFormatError: 'Jenis gambar tidak didukung',\n    imageValidateSizeLabelImageSizeTooSmall: 'Gambar terlalu kecil',\n    imageValidateSizeLabelImageSizeTooBig: 'Gambar terlalu besar',\n    imageValidateSizeLabelExpectedMinSize: 'Ukuran minimum adalah {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: 'Ukuran maksimum adalah {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: 'Resolusi terlalu rendah',\n    imageValidateSizeLabelImageResolutionTooHigh: 'Resolusi terlalu tinggi',\n    imageValidateSizeLabelExpectedMinResolution: 'Resolusi minimum adalah {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: 'Resolusi maksimum adalah {maxResolution}'\n  };\n", "export default {\n    labelIdle: 'Trascina e rilascia i tuoi file oppure <span class = \"filepond--label-action\"> Carica <span>',\n    labelInvalidField: \"Il campo contiene dei file non validi\",\n    labelFileWaitingForSize: \"Aspettando le dimensioni\",\n    labelFileSizeNotAvailable: \"Dimensioni non disponibili\",\n    labelFileLoading: \"Caricamento\",\n    labelFileLoadError: \"Errore durante il caricamento\",\n    labelFileProcessing: \"Caricamento\",\n    labelFileProcessingComplete: \"Caricamento completato\",\n    labelFileProcessingAborted: \"Caricamento cancellato\",\n    labelFileProcessingError: \"Errore durante il caricamento\",\n    labelFileProcessingRevertError: \"Errore durante il ripristino\",\n    labelFileRemoveError: \"Errore durante l'eliminazione\",\n    labelTapToCancel: \"tocca per cancellare\",\n    labelTapToRetry: \"tocca per riprovare\",\n    labelTapToUndo: \"tocca per ripristinare\",\n    labelButtonRemoveItem: \"Elimina\",\n    labelButtonAbortItemLoad: \"Cancella\",\n    labelButtonRetryItemLoad: \"Ritenta\",\n    labelButtonAbortItemProcessing: \"Camcella\",\n    labelButtonUndoItemProcessing: \"Indietro\",\n    labelButtonRetryItemProcessing: \"Ritenta\",\n    labelButtonProcessItem: \"Carica\",\n    labelMaxFileSizeExceeded: \"Il peso del file \u00E8 eccessivo\",\n    labelMaxFileSize: \"Il peso massimo del file \u00E8 {filesize}\",\n    labelMaxTotalFileSizeExceeded: \"Dimensione totale massima superata\",\n    labelMaxTotalFileSize: \"La dimensione massima totale del file \u00E8 {filesize}\",\n    labelFileTypeNotAllowed: \"File non supportato\",\n    fileValidateTypeLabelExpectedTypes: \"Aspetta {allButLastType} o {lastType}\",\n    imageValidateSizeLabelFormatError: \"Tipo di immagine non compatibile\",\n    imageValidateSizeLabelImageSizeTooSmall: \"L'immagine \u00E8 troppo piccola\",\n    imageValidateSizeLabelImageSizeTooBig: \"L'immagine \u00E8 troppo grande\",\n    imageValidateSizeLabelExpectedMinSize: \"La dimensione minima \u00E8 {minWidth} \u00D7 {minHeight}\",\n    imageValidateSizeLabelExpectedMaxSize: \"La dimensione massima \u00E8 {maxWidth} \u00D7 {maxHeight}\",\n    imageValidateSizeLabelImageResolutionTooLow: \"La risoluzione \u00E8 troppo bassa\",\n    imageValidateSizeLabelImageResolutionTooHigh: \"La risoluzione \u00E8 troppo alta\",\n    imageValidateSizeLabelExpectedMinResolution: \"La risoluzione minima \u00E8 {minResolution}\",\n    imageValidateSizeLabelExpectedMaxResolution: \"La risoluzione massima \u00E8 {maxResolution}\",\n};\n", "export default {\n    labelIdle: 'Drag & Drop je bestanden of <span class=\"filepond--label-action\"> Bladeren </span>',\n    labelInvalidField: 'Veld bevat ongeldige bestanden',\n    labelFileWaitingForSize: 'Wachten op grootte',\n    labelFileSizeNotAvailable: 'Grootte niet beschikbaar',\n    labelFileLoading: 'Laden',\n    labelFileLoadError: 'Fout tijdens laden',\n    labelFileProcessing: 'Uploaden',\n    labelFileProcessingComplete: 'Upload afgerond',\n    labelFileProcessingAborted: 'Upload geannuleerd',\n    labelFileProcessingError: 'Fout tijdens upload',\n    labelFileProcessingRevertError: 'Fout bij herstellen',\n    labelFileRemoveError: 'Fout bij verwijderen',\n    labelTapToCancel: 'tik om te annuleren',\n    labelTapToRetry: 'tik om opnieuw te proberen',\n    labelTapToUndo: 'tik om ongedaan te maken',\n    labelButtonRemoveItem: 'Verwijderen',\n    labelButtonAbortItemLoad: 'Afbreken',\n    labelButtonRetryItemLoad: 'Opnieuw proberen',\n    labelButtonAbortItemProcessing: 'Annuleren',\n    labelButtonUndoItemProcessing: 'Ongedaan maken',\n    labelButtonRetryItemProcessing: 'Opnieuw proberen',\n    labelButtonProcessItem: 'Upload',\n    labelMaxFileSizeExceeded: 'Bestand is te groot',\n    labelMaxFileSize: 'Maximale bestandsgrootte is {filesize}',\n    labelMaxTotalFileSizeExceeded: 'Maximale totale grootte overschreden',\n    labelMaxTotalFileSize: 'Maximale totale bestandsgrootte is {filesize}',\n    labelFileTypeNotAllowed: 'Ongeldig bestandstype',\n    fileValidateTypeLabelExpectedTypes: 'Verwacht {allButLastType} of {lastType}',\n    imageValidateSizeLabelFormatError: 'Afbeeldingstype niet ondersteund',\n    imageValidateSizeLabelImageSizeTooSmall: 'Afbeelding is te klein',\n    imageValidateSizeLabelImageSizeTooBig: 'Afbeelding is te groot',\n    imageValidateSizeLabelExpectedMinSize: 'Minimale afmeting is {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: 'Maximale afmeting is {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: 'Resolutie is te laag',\n    imageValidateSizeLabelImageResolutionTooHigh: 'Resolution is too high',\n    imageValidateSizeLabelExpectedMinResolution: 'Minimale resolutie is {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: 'Maximale resolutie is {maxResolution}'\n};\n", "export default {\n    labelIdle: 'Przeci\u0105gnij i upu\u015B\u0107 lub <span class=\"filepond--label-action\">wybierz</span> pliki',\n    labelInvalidField: 'Nieprawid\u0142owe pliki',\n    labelFileWaitingForSize: 'Pobieranie rozmiaru',\n    labelFileSizeNotAvailable: 'Nieznany rozmiar',\n    labelFileLoading: 'Wczytywanie',\n    labelFileLoadError: 'B\u0142\u0105d wczytywania',\n    labelFileProcessing: 'Przesy\u0142anie',\n    labelFileProcessingComplete: 'Przes\u0142ano',\n    labelFileProcessingAborted: 'Przerwano',\n    labelFileProcessingError: 'Przesy\u0142anie nie powiod\u0142o si\u0119',\n    labelFileProcessingRevertError: 'Co\u015B posz\u0142o nie tak',\n    labelFileRemoveError: 'Nieudane usuni\u0119cie',\n    labelTapToCancel: 'Anuluj',\n    labelTapToRetry: 'Pon\u00F3w',\n    labelTapToUndo: 'Cofnij',\n    labelButtonRemoveItem: 'Usu\u0144',\n    labelButtonAbortItemLoad: 'Przerwij',\n    labelButtonRetryItemLoad: 'Pon\u00F3w',\n    labelButtonAbortItemProcessing: 'Anuluj',\n    labelButtonUndoItemProcessing: 'Cofnij',\n    labelButtonRetryItemProcessing: 'Pon\u00F3w',\n    labelButtonProcessItem: 'Prze\u015Blij',\n    labelMaxFileSizeExceeded: 'Plik jest zbyt du\u017Cy',\n    labelMaxFileSize: 'Dopuszczalna wielko\u015B\u0107 pliku to {filesize}',\n    labelMaxTotalFileSizeExceeded: 'Przekroczono \u0142\u0105czny rozmiar plik\u00F3w',\n    labelMaxTotalFileSize: '\u0141\u0105czny rozmiar plik\u00F3w nie mo\u017Ce przekroczy\u0107 {filesize}',\n    labelFileTypeNotAllowed: 'Niedozwolony rodzaj pliku',\n    fileValidateTypeLabelExpectedTypes: 'Oczekiwano {allButLastType} lub {lastType}',\n    imageValidateSizeLabelFormatError: 'Nieobs\u0142ugiwany format obrazu',\n    imageValidateSizeLabelImageSizeTooSmall: 'Obraz jest zbyt ma\u0142y',\n    imageValidateSizeLabelImageSizeTooBig: 'Obraz jest zbyt du\u017Cy',\n    imageValidateSizeLabelExpectedMinSize: 'Minimalne wymiary obrazu to {minWidth}\u00D7{minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: 'Maksymalna wymiary obrazu to {maxWidth}\u00D7{maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: 'Rozdzielczo\u015B\u0107 jest zbyt niska',\n    imageValidateSizeLabelImageResolutionTooHigh: 'Rozdzielczo\u015B\u0107 jest zbyt wysoka',\n    imageValidateSizeLabelExpectedMinResolution: 'Minimalna rozdzielczo\u015B\u0107 to {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: 'Maksymalna rozdzielczo\u015B\u0107 to {maxResolution}'\n};\n", "export default {\n    labelIdle: 'Arraste e solte os arquivos ou <span class=\"filepond--label-action\"> Clique aqui </span>',\n    labelInvalidField: 'Arquivos inv\u00E1lidos',\n    labelFileWaitingForSize: 'Calculando o tamanho do arquivo',\n    labelFileSizeNotAvailable: 'Tamanho do arquivo indispon\u00EDvel',\n    labelFileLoading: 'Carregando',\n    labelFileLoadError: 'Erro durante o carregamento',\n    labelFileProcessing: 'Enviando',\n    labelFileProcessingComplete: 'Envio finalizado',\n    labelFileProcessingAborted: 'Envio cancelado',\n    labelFileProcessingError: 'Erro durante o envio',\n    labelFileProcessingRevertError: 'Erro ao reverter o envio',\n    labelFileRemoveError: 'Erro ao remover o arquivo',\n    labelTapToCancel: 'clique para cancelar',\n    labelTapToRetry: 'clique para reenviar',\n    labelTapToUndo: 'clique para desfazer',\n    labelButtonRemoveItem: 'Remover',\n    labelButtonAbortItemLoad: 'Abortar',\n    labelButtonRetryItemLoad: 'Reenviar',\n    labelButtonAbortItemProcessing: 'Cancelar',\n    labelButtonUndoItemProcessing: 'Desfazer',\n    labelButtonRetryItemProcessing: 'Reenviar',\n    labelButtonProcessItem: 'Enviar',\n    labelMaxFileSizeExceeded: 'Arquivo \u00E9 muito grande',\n    labelMaxFileSize: 'O tamanho m\u00E1ximo permitido: {filesize}',\n    labelMaxTotalFileSizeExceeded: 'Tamanho total dos arquivos excedido',\n    labelMaxTotalFileSize: 'Tamanho total permitido: {filesize}',\n    labelFileTypeNotAllowed: 'Tipo de arquivo inv\u00E1lido',\n    fileValidateTypeLabelExpectedTypes: 'Tipos de arquivo suportados s\u00E3o {allButLastType} ou {lastType}',\n    imageValidateSizeLabelFormatError: 'Tipo de imagem inv\u00E1lida',\n    imageValidateSizeLabelImageSizeTooSmall: 'Imagem muito pequena',\n    imageValidateSizeLabelImageSizeTooBig: 'Imagem muito grande',\n    imageValidateSizeLabelExpectedMinSize: 'Tamanho m\u00EDnimo permitida: {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: 'Tamanho m\u00E1ximo permitido: {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: 'Resolu\u00E7\u00E3o muito baixa',\n    imageValidateSizeLabelImageResolutionTooHigh: 'Resolu\u00E7\u00E3o muito alta',\n    imageValidateSizeLabelExpectedMinResolution: 'Resolu\u00E7\u00E3o m\u00EDnima permitida: {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: 'Resolu\u00E7\u00E3o m\u00E1xima permitida: {maxResolution}',\n};\n", "export default {\n    labelIdle: 'Trage \u0219i plaseaz\u0103 fi\u0219iere sau <span class=\"filepond--label-action\"> Caut\u0103-le </span>',\n    labelInvalidField: 'C\u00E2mpul con\u021Bine fi\u0219iere care nu sunt valide',\n    labelFileWaitingForSize: '\u00CEn a\u0219teptarea dimensiunii',\n    labelFileSizeNotAvailable: 'Dimensiunea nu este diponibil\u0103',\n    labelFileLoading: 'Se \u00EEncarc\u0103',\n    labelFileLoadError: 'Eroare la \u00EEnc\u0103rcare',\n    labelFileProcessing: 'Se \u00EEncarc\u0103',\n    labelFileProcessingComplete: '\u00CEnc\u0103rcare finalizat\u0103',\n    labelFileProcessingAborted: '\u00CEnc\u0103rcare anulat\u0103',\n    labelFileProcessingError: 'Eroare la \u00EEnc\u0103rcare',\n    labelFileProcessingRevertError: 'Eroare la anulare',\n    labelFileRemoveError: 'Eroare la \u015Ftergere',\n    labelTapToCancel: 'apas\u0103 pentru a anula',\n    labelTapToRetry: 'apas\u0103 pentru a re\u00EEncerca',\n    labelTapToUndo: 'apas\u0103 pentru a anula',\n    labelButtonRemoveItem: '\u015Eterge',\n    labelButtonAbortItemLoad: 'Anuleaz\u0103',\n    labelButtonRetryItemLoad: 'Re\u00EEncearc\u0103',\n    labelButtonAbortItemProcessing: 'Anuleaz\u0103',\n    labelButtonUndoItemProcessing: 'Anuleaz\u0103',\n    labelButtonRetryItemProcessing: 'Re\u00EEncearc\u0103',\n    labelButtonProcessItem: '\u00CEncarc\u0103',\n    labelMaxFileSizeExceeded: 'Fi\u0219ierul este prea mare',\n    labelMaxFileSize: 'Dimensiunea maxim\u0103 a unui fi\u0219ier este de {filesize}',\n    labelMaxTotalFileSizeExceeded: 'Dimensiunea total\u0103 maxim\u0103 a fost dep\u0103\u0219it\u0103',\n    labelMaxTotalFileSize: 'Dimensiunea total\u0103 maxim\u0103 a fi\u0219ierelor este de {filesize}',\n    labelFileTypeNotAllowed: 'Tipul fi\u0219ierului nu este valid',\n    fileValidateTypeLabelExpectedTypes: 'Se a\u0219teapt\u0103 {allButLastType} sau {lastType}',\n    imageValidateSizeLabelFormatError: 'Formatul imaginii nu este acceptat',\n    imageValidateSizeLabelImageSizeTooSmall: 'Imaginea este prea mic\u0103',\n    imageValidateSizeLabelImageSizeTooBig: 'Imaginea este prea mare',\n    imageValidateSizeLabelExpectedMinSize: 'M\u0103rimea minim\u0103 este de {maxWidth} x {maxHeight}',\n    imageValidateSizeLabelExpectedMaxSize: 'M\u0103rimea maxim\u0103 este de {maxWidth} x {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: 'Rezolu\u021Bia este prea mic\u0103',\n    imageValidateSizeLabelImageResolutionTooHigh: 'Rezolu\u021Bia este prea mare',\n    imageValidateSizeLabelExpectedMinResolution: 'Rezolu\u021Bia minim\u0103 este de {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: 'Rezolu\u021Bia maxim\u0103 este de {maxResolution}'\n};\n", "export default {\n    labelIdle: '\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u044B \u0438\u043B\u0438 <span class=\"filepond--label-action\"> \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 </span>',\n    labelInvalidField: '\u041F\u043E\u043B\u0435 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u0442 \u043D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0435 \u0444\u0430\u0439\u043B\u044B',\n    labelFileWaitingForSize: '\u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u0440\u0430\u0437\u043C\u0435\u0440',\n    labelFileSizeNotAvailable: '\u0420\u0430\u0437\u043C\u0435\u0440 \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044F',\n    labelFileLoading: '\u041E\u0436\u0438\u0434\u0430\u043D\u0438\u0435',\n    labelFileLoadError: '\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0438',\n    labelFileProcessing: '\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430',\n    labelFileProcessingComplete: '\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0430',\n    labelFileProcessingAborted: '\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u043E\u0442\u043C\u0435\u043D\u0435\u043D\u0430',\n    labelFileProcessingError: '\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435',\n    labelFileProcessingRevertError: '\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0432\u043E\u0437\u0432\u0440\u0430\u0442\u0435',\n    labelFileRemoveError: '\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438',\n    labelTapToCancel: '\u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0434\u043B\u044F \u043E\u0442\u043C\u0435\u043D\u044B',\n    labelTapToRetry: '\u043D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C \u043F\u043E\u043F\u044B\u0442\u043A\u0443',\n    labelTapToUndo: '\u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0434\u043B\u044F \u043E\u0442\u043C\u0435\u043D\u044B \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0433\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F',\n    labelButtonRemoveItem: '\u0423\u0434\u0430\u043B\u0438\u0442\u044C',\n    labelButtonAbortItemLoad: '\u041F\u0440\u0435\u043A\u0440\u0430\u0449\u0435\u043D\u043E',\n    labelButtonRetryItemLoad: '\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u043E\u043F\u044B\u0442\u043A\u0443',\n    labelButtonAbortItemProcessing: '\u041E\u0442\u043C\u0435\u043D\u0430',\n    labelButtonUndoItemProcessing: '\u041E\u0442\u043C\u0435\u043D\u0430 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0433\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F',\n    labelButtonRetryItemProcessing: '\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u043E\u043F\u044B\u0442\u043A\u0443',\n    labelButtonProcessItem: '\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430',\n    labelMaxFileSizeExceeded: '\u0424\u0430\u0439\u043B \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0439',\n    labelMaxFileSize: '\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u0444\u0430\u0439\u043B\u0430: {filesize}',\n    labelMaxTotalFileSizeExceeded: '\u041F\u0440\u0435\u0432\u044B\u0448\u0435\u043D \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440',\n    labelMaxTotalFileSize: '\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u0444\u0430\u0439\u043B\u0430: {filesize}',\n    labelFileTypeNotAllowed: '\u0424\u0430\u0439\u043B \u043D\u0435\u0432\u0435\u0440\u043D\u043E\u0433\u043E \u0442\u0438\u043F\u0430',\n    fileValidateTypeLabelExpectedTypes: '\u041E\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044F {allButLastType} \u0438\u043B\u0438 {lastType}',    \n    imageValidateSizeLabelFormatError: '\u0422\u0438\u043F \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044F',\n    imageValidateSizeLabelImageSizeTooSmall: '\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435',\n    imageValidateSizeLabelImageSizeTooBig: '\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435',\n    imageValidateSizeLabelExpectedMinSize: '\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440: {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: '\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440: {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: '\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043D\u0438\u0437\u043A\u043E\u0435',\n    imageValidateSizeLabelImageResolutionTooHigh: '\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0432\u044B\u0441\u043E\u043A\u043E\u0435',\n    imageValidateSizeLabelExpectedMinResolution: '\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435: {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: '\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435: {maxResolution}'\n};\n", "export default {\n    labelIdle: 'Drag och sl\u00E4pp dina filer eller <span class=\"filepond--label-action\"> Bl\u00E4ddra </span>',\n    labelInvalidField: 'F\u00E4ltet inneh\u00E5ller felaktiga filer',\n    labelFileWaitingForSize: 'V\u00E4ntar p\u00E5 storlek',\n    labelFileSizeNotAvailable: 'Storleken finns inte tillg\u00E4nglig',\n    labelFileLoading: 'Laddar',\n    labelFileLoadError: 'Fel under laddning',\n    labelFileProcessing: 'Laddar upp',\n    labelFileProcessingComplete: 'Uppladdning klar',\n    labelFileProcessingAborted: 'Uppladdning avbruten',\n    labelFileProcessingError: 'Fel under uppladdning',\n    labelFileProcessingRevertError: 'Fel under \u00E5terst\u00E4llning',\n    labelFileRemoveError: 'Fel under borttagning',\n    labelTapToCancel: 'tryck f\u00F6r att avbryta',\n    labelTapToRetry: 'tryck f\u00F6r att f\u00F6rs\u00F6ka igen',\n    labelTapToUndo: 'tryck f\u00F6r att \u00E5ngra',\n    labelButtonRemoveItem: 'Tabort',\n    labelButtonAbortItemLoad: 'Avbryt',\n    labelButtonRetryItemLoad: 'F\u00F6rs\u00F6k igen',\n    labelButtonAbortItemProcessing: 'Avbryt',\n    labelButtonUndoItemProcessing: '\u00C5ngra',\n    labelButtonRetryItemProcessing: 'F\u00F6rs\u00F6k igen',\n    labelButtonProcessItem: 'Ladda upp',\n    labelMaxFileSizeExceeded: 'Filen \u00E4r f\u00F6r stor',\n    labelMaxFileSize: 'St\u00F6rsta till\u00E5tna filstorlek \u00E4r {filesize}',\n    labelMaxTotalFileSizeExceeded: 'Maximal uppladdningsstorlek uppn\u00E5d',\n    labelMaxTotalFileSize: 'Maximal uppladdningsstorlek \u00E4r {filesize}',\n    labelFileTypeNotAllowed: 'Felaktig filtyp',\n    fileValidateTypeLabelExpectedTypes: 'Godk\u00E4nda filtyper {allButLastType} eller {lastType}',\n    imageValidateSizeLabelFormatError: 'Bildtypen saknar st\u00F6d',\n    imageValidateSizeLabelImageSizeTooSmall: 'Bilden \u00E4r f\u00F6r liten',\n    imageValidateSizeLabelImageSizeTooBig: 'Bilden \u00E4r f\u00F6r stor',\n    imageValidateSizeLabelExpectedMinSize: 'Minimal storlek \u00E4r {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: 'Maximal storlek \u00E4r {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: 'Uppl\u00F6sningen \u00E4r f\u00F6r l\u00E5g',\n    imageValidateSizeLabelImageResolutionTooHigh: 'Uppl\u00F6sningen \u00E4r f\u00F6r h\u00F6g',\n    imageValidateSizeLabelExpectedMinResolution: 'Minsta till\u00E5tna uppl\u00F6sning \u00E4r {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: 'H\u00F6gsta till\u00E5tna uppl\u00F6sning \u00E4r {maxResolution}'\n};\n", "export default {\n    labelIdle: 'Dosyan\u0131z\u0131 S\u00FCr\u00FCkleyin & B\u0131rak\u0131n ya da <span class=\"filepond--label-action\"> Se\u00E7in </span>',\n    labelInvalidField: 'Alan ge\u00E7ersiz dosyalar i\u00E7eriyor',\n    labelFileWaitingForSize: 'Boyut hesaplan\u0131yor',\n    labelFileSizeNotAvailable: 'Boyut mevcut de\u011Fil',\n    labelFileLoading: 'Y\u00FCkleniyor',\n    labelFileLoadError: 'Y\u00FCkleme s\u0131ras\u0131nda hata olu\u015Ftu',\n    labelFileProcessing: 'Y\u00FCkleniyor',\n    labelFileProcessingComplete: 'Y\u00FCkleme tamamland\u0131',\n    labelFileProcessingAborted: 'Y\u00FCkleme iptal edildi',\n    labelFileProcessingError: 'Y\u00FCklerken hata olu\u015Ftu',\n    labelFileProcessingRevertError: 'Geri \u00E7ekerken hata olu\u015Ftu',\n    labelFileRemoveError: 'Kald\u0131r\u0131rken hata olu\u015Ftu',\n    labelTapToCancel: '\u0130ptal etmek i\u00E7in t\u0131klay\u0131n',\n    labelTapToRetry: 'Tekrar denemek i\u00E7in t\u0131klay\u0131n',\n    labelTapToUndo: 'Geri almak i\u00E7in t\u0131klay\u0131n',\n    labelButtonRemoveItem: 'Kald\u0131r',\n    labelButtonAbortItemLoad: '\u0130ptal Et',\n    labelButtonRetryItemLoad: 'Tekrar dene',\n    labelButtonAbortItemProcessing: '\u0130ptal et',\n    labelButtonUndoItemProcessing: 'Geri Al',\n    labelButtonRetryItemProcessing: 'Tekrar dene',\n    labelButtonProcessItem: 'Y\u00FCkle',\n    labelMaxFileSizeExceeded: 'Dosya \u00E7ok b\u00FCy\u00FCk',\n    labelMaxFileSize: 'En fazla dosya boyutu: {filesize}',\n    labelMaxTotalFileSizeExceeded: 'Maximum boyut a\u015F\u0131ld\u0131',\n    labelMaxTotalFileSize: 'Maximum dosya boyutu :{filesize}',\n    labelFileTypeNotAllowed: 'Ge\u00E7ersiz dosya tipi',\n    fileValidateTypeLabelExpectedTypes: '\u015Eu {allButLastType} ya da \u015Fu dosya olmas\u0131 gerekir: {lastType}',\n    imageValidateSizeLabelFormatError: 'Resim tipi desteklenmiyor',\n    imageValidateSizeLabelImageSizeTooSmall: 'Resim \u00E7ok k\u00FC\u00E7\u00FCk',\n    imageValidateSizeLabelImageSizeTooBig: 'Resim \u00E7ok b\u00FCy\u00FCk',\n    imageValidateSizeLabelExpectedMinSize: 'Minimum boyut {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: 'Maximum boyut {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: '\u00C7\u00F6z\u00FCn\u00FCrl\u00FCk \u00E7ok d\u00FC\u015F\u00FCk',\n    imageValidateSizeLabelImageResolutionTooHigh: '\u00C7\u00F6z\u00FCn\u00FCrl\u00FCk \u00E7ok y\u00FCksek',\n    imageValidateSizeLabelExpectedMinResolution: 'Minimum \u00E7\u00F6z\u00FCn\u00FCrl\u00FCk {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: 'Maximum \u00E7\u00F6z\u00FCn\u00FCrl\u00FCk {maxResolution}'\n};\n", "export default {\n    labelIdle: '\u041F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0444\u0430\u0439\u043B\u0438 \u0430\u0431\u043E <span class=\"filepond--label-action\"> \u0432\u0438\u0431\u0435\u0440\u0456\u0442\u044C </span>',\n    labelInvalidField: '\u041F\u043E\u043B\u0435 \u043C\u0456\u0441\u0442\u0438\u0442\u044C \u043D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u0456 \u0444\u0430\u0439\u043B\u0438',\n    labelFileWaitingForSize: '\u0412\u043A\u0430\u0436\u0456\u0442\u044C \u0440\u043E\u0437\u043C\u0456\u0440',\n    labelFileSizeNotAvailable: '\u0420\u043E\u0437\u043C\u0456\u0440 \u043D\u0435 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0438\u0439',\n    labelFileLoading: '\u041E\u0447\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F',\n    labelFileLoadError: '\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u043E\u0447\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u0456',\n    labelFileProcessing: '\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F',\n    labelFileProcessingComplete: '\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043E',\n    labelFileProcessingAborted: '\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0441\u043A\u0430\u0441\u043E\u0432\u0430\u043D\u043E',\n    labelFileProcessingError: '\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u0456',\n    labelFileProcessingRevertError: '\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u0432\u0456\u0434\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u0456',\n    labelFileRemoveError: '\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u0456',\n    labelTapToCancel: '\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438',\n    labelTapToRetry: '\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438 \u0441\u043F\u0440\u043E\u0431\u0443',\n    labelTapToUndo: '\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0432\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438 \u043E\u0441\u0442\u0430\u043D\u043D\u044E \u0434\u0456\u044E',\n    labelButtonRemoveItem: '\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438',\n    labelButtonAbortItemLoad: '\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438',\n    labelButtonRetryItemLoad: '\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438 \u0441\u043F\u0440\u043E\u0431\u0443',\n    labelButtonAbortItemProcessing: '\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438',\n    labelButtonUndoItemProcessing: '\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438 \u043E\u0441\u0442\u0430\u043D\u043D\u044E \u0434\u0456\u044E',\n    labelButtonRetryItemProcessing: '\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438 \u0441\u043F\u0440\u043E\u0431\u0443',\n    labelButtonProcessItem: '\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F',\n    labelMaxFileSizeExceeded: '\u0424\u0430\u0439\u043B \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0438\u0439',\n    labelMaxFileSize: '\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440 \u0444\u0430\u0439\u043B\u0443: {filesize}',\n    labelMaxTotalFileSizeExceeded: '\u041F\u0435\u0440\u0435\u0432\u0438\u0449\u0435\u043D\u043E \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0437\u0430\u0433\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440',\n    labelMaxTotalFileSize: '\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0437\u0430\u0433\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440: {filesize}',\n    labelFileTypeNotAllowed: '\u0424\u043E\u0440\u043C\u0430\u0442 \u0444\u0430\u0439\u043B\u0443 \u043D\u0435 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u0443\u0454\u0442\u044C\u0441\u044F',\n    fileValidateTypeLabelExpectedTypes: '\u041E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F {allButLastType} \u0430\u0431\u043E {lastType}',\n    imageValidateSizeLabelFormatError: '\u0424\u043E\u0440\u043C\u0430\u0442 \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u043D\u0435 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u0443\u0454\u0442\u044C\u0441\u044F',\n    imageValidateSizeLabelImageSizeTooSmall: '\u0417\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u0435',\n    imageValidateSizeLabelImageSizeTooBig: '\u0417\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435',\n    imageValidateSizeLabelExpectedMinSize: '\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440: {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: '\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440: {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: '\u0420\u043E\u0437\u043C\u0456\u0440\u0438 \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u0456',\n    imageValidateSizeLabelImageResolutionTooHigh: '\u0420\u043E\u0437\u043C\u0456\u0440\u0438 \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0456',\n    imageValidateSizeLabelExpectedMinResolution: '\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0456 \u0440\u043E\u0437\u043C\u0456\u0440\u0438: {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: '\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0456 \u0440\u043E\u0437\u043C\u0456\u0440\u0438: {maxResolution}'\n};\n", "export default {\n    labelIdle: 'K\u00E9o th\u1EA3 t\u1EC7p c\u1EE7a b\u1EA1n ho\u1EB7c <span class=\"filepond--label-action\"> T\u00ECm ki\u1EBFm </span>',\n    labelInvalidField: 'Tr\u01B0\u1EDDng ch\u1EE9a c\u00E1c t\u1EC7p kh\u00F4ng h\u1EE3p l\u1EC7',\n    labelFileWaitingForSize: '\u0110ang ch\u1EDD k\u00EDch th\u01B0\u1EDBc',\n    labelFileSizeNotAvailable: 'K\u00EDch th\u01B0\u1EDBc kh\u00F4ng c\u00F3 s\u1EB5n',\n    labelFileLoading: '\u0110ang t\u1EA3i',\n    labelFileLoadError: 'L\u1ED7i khi t\u1EA3i',\n    labelFileProcessing: '\u0110ang t\u1EA3i l\u00EAn',\n    labelFileProcessingComplete: 'T\u1EA3i l\u00EAn th\u00E0nh c\u00F4ng',\n    labelFileProcessingAborted: '\u0110\u00E3 hu\u1EF7 t\u1EA3i l\u00EAn',\n    labelFileProcessingError: 'L\u1ED7i khi t\u1EA3i l\u00EAn',\n    labelFileProcessingRevertError: 'L\u1ED7i khi ho\u00E0n nguy\u00EAn',\n    labelFileRemoveError: 'L\u1ED7i khi x\u00F3a',\n    labelTapToCancel: 'nh\u1EA5n \u0111\u1EC3 h\u1EE7y',\n    labelTapToRetry: 'nh\u1EA5n \u0111\u1EC3 th\u1EED l\u1EA1i',\n    labelTapToUndo: 'nh\u1EA5n \u0111\u1EC3 ho\u00E0n t\u00E1c',\n    labelButtonRemoveItem: 'Xo\u00E1',\n    labelButtonAbortItemLoad: 'Hu\u1EF7 b\u1ECF',\n    labelButtonRetryItemLoad: 'Th\u1EED l\u1EA1i',\n    labelButtonAbortItemProcessing: 'H\u1EE7y b\u1ECF',\n    labelButtonUndoItemProcessing: 'Ho\u00E0n t\u00E1c',\n    labelButtonRetryItemProcessing: 'Th\u1EED l\u1EA1i',\n    labelButtonProcessItem: 'T\u1EA3i l\u00EAn',\n    labelMaxFileSizeExceeded: 'T\u1EADp tin qu\u00E1 l\u1EDBn',\n    labelMaxFileSize: 'K\u00EDch th\u01B0\u1EDBc t\u1EC7p t\u1ED1i \u0111a l\u00E0 {filesize}',\n    labelMaxTotalFileSizeExceeded: '\u0110\u00E3 v\u01B0\u1EE3t qu\u00E1 t\u1ED5ng k\u00EDch th\u01B0\u1EDBc t\u1ED1i \u0111a',\n    labelMaxTotalFileSize: 'T\u1ED5ng k\u00EDch th\u01B0\u1EDBc t\u1EC7p t\u1ED1i \u0111a l\u00E0 {filesize}',\n    labelFileTypeNotAllowed: 'T\u1EC7p thu\u1ED9c lo\u1EA1i kh\u00F4ng h\u1EE3p l\u1EC7',\n    fileValidateTypeLabelExpectedTypes: 'Ki\u1EC3u t\u1EC7p h\u1EE3p l\u1EC7 l\u00E0 {allButLastType} ho\u1EB7c {lastType}',\n    imageValidateSizeLabelFormatError: 'Lo\u1EA1i h\u00ECnh \u1EA3nh kh\u00F4ng \u0111\u01B0\u1EE3c h\u1ED7 tr\u1EE3',\n    imageValidateSizeLabelImageSizeTooSmall: 'H\u00ECnh \u1EA3nh qu\u00E1 nh\u1ECF',\n    imageValidateSizeLabelImageSizeTooBig: 'H\u00ECnh \u1EA3nh qu\u00E1 l\u1EDBn',\n    imageValidateSizeLabelExpectedMinSize: 'K\u00EDch th\u01B0\u1EDBc t\u1ED1i thi\u1EC3u l\u00E0 {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: 'K\u00EDch th\u01B0\u1EDBc t\u1ED1i \u0111a l\u00E0 {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: '\u0110\u1ED9 ph\u00E2n gi\u1EA3i qu\u00E1 th\u1EA5p',\n    imageValidateSizeLabelImageResolutionTooHigh: '\u0110\u1ED9 ph\u00E2n gi\u1EA3i qu\u00E1 cao',\n    imageValidateSizeLabelExpectedMinResolution: '\u0110\u1ED9 ph\u00E2n gi\u1EA3i t\u1ED1i thi\u1EC3u l\u00E0 {minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: '\u0110\u1ED9 ph\u00E2n gi\u1EA3i t\u1ED1i \u0111a l\u00E0 {maxResolution}'\n};\n", "export default {\n    labelIdle: '\u62D6\u653E\u6587\u4EF6\uFF0C\u6216\u8005 <span class=\"filepond--label-action\"> \u6D4F\u89C8 </span>',\n    labelInvalidField: '\u5B57\u6BB5\u5305\u542B\u65E0\u6548\u6587\u4EF6',\n    labelFileWaitingForSize: '\u8BA1\u7B97\u6587\u4EF6\u5927\u5C0F',\n    labelFileSizeNotAvailable: '\u6587\u4EF6\u5927\u5C0F\u4E0D\u53EF\u7528',\n    labelFileLoading: '\u52A0\u8F7D',\n    labelFileLoadError: '\u52A0\u8F7D\u9519\u8BEF',\n    labelFileProcessing: '\u4E0A\u4F20',\n    labelFileProcessingComplete: '\u5DF2\u4E0A\u4F20',\n    labelFileProcessingAborted: '\u4E0A\u4F20\u5DF2\u53D6\u6D88',\n    labelFileProcessingError: '\u4E0A\u4F20\u51FA\u9519',\n    labelFileProcessingRevertError: '\u8FD8\u539F\u51FA\u9519',\n    labelFileRemoveError: '\u5220\u9664\u51FA\u9519',\n    labelTapToCancel: '\u70B9\u51FB\u53D6\u6D88',\n    labelTapToRetry: '\u70B9\u51FB\u91CD\u8BD5',\n    labelTapToUndo: '\u70B9\u51FB\u64A4\u6D88',\n    labelButtonRemoveItem: '\u5220\u9664',\n    labelButtonAbortItemLoad: '\u4E2D\u6B62',\n    labelButtonRetryItemLoad: '\u91CD\u8BD5',\n    labelButtonAbortItemProcessing: '\u53D6\u6D88',\n    labelButtonUndoItemProcessing: '\u64A4\u6D88',\n    labelButtonRetryItemProcessing: '\u91CD\u8BD5',\n    labelButtonProcessItem: '\u4E0A\u4F20',\n    labelMaxFileSizeExceeded: '\u6587\u4EF6\u592A\u5927',\n    labelMaxFileSize: '\u6700\u5927\u503C: {filesize}',\n    labelMaxTotalFileSizeExceeded: '\u8D85\u8FC7\u6700\u5927\u6587\u4EF6\u5927\u5C0F',\n    labelMaxTotalFileSize: '\u6700\u5927\u6587\u4EF6\u5927\u5C0F\uFF1A{filesize}',\n    labelFileTypeNotAllowed: '\u6587\u4EF6\u7C7B\u578B\u65E0\u6548',\n    fileValidateTypeLabelExpectedTypes: '\u5E94\u4E3A {allButLastType} \u6216 {lastType}',\n    imageValidateSizeLabelFormatError: '\u4E0D\u652F\u6301\u56FE\u50CF\u7C7B\u578B',\n    imageValidateSizeLabelImageSizeTooSmall: '\u56FE\u50CF\u592A\u5C0F',\n    imageValidateSizeLabelImageSizeTooBig: '\u56FE\u50CF\u592A\u5927',\n    imageValidateSizeLabelExpectedMinSize: '\u6700\u5C0F\u503C: {minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: '\u6700\u5927\u503C: {maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: '\u5206\u8FA8\u7387\u592A\u4F4E',\n    imageValidateSizeLabelImageResolutionTooHigh: '\u5206\u8FA8\u7387\u592A\u9AD8',\n    imageValidateSizeLabelExpectedMinResolution: '\u6700\u5C0F\u5206\u8FA8\u7387\uFF1A{minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: '\u6700\u5927\u5206\u8FA8\u7387\uFF1A{maxResolution}'\n  };\n", "export default {\n    labelIdle: '\u62D6\u653E\u6A94\u6848\uFF0C\u6216\u8005 <span class=\"filepond--label-action\"> \u700F\u89BD </span>',\n    labelInvalidField: '\u4E0D\u652F\u63F4\u6B64\u6A94\u6848',\n    labelFileWaitingForSize: '\u6B63\u5728\u8A08\u7B97\u6A94\u6848\u5927\u5C0F',\n    labelFileSizeNotAvailable: '\u6A94\u6848\u5927\u5C0F\u4E0D\u7B26',\n    labelFileLoading: '\u8B80\u53D6\u4E2D',\n    labelFileLoadError: '\u8B80\u53D6\u932F\u8AA4',\n    labelFileProcessing: '\u4E0A\u50B3',\n    labelFileProcessingComplete: '\u5DF2\u4E0A\u50B3',\n    labelFileProcessingAborted: '\u4E0A\u50B3\u5DF2\u53D6\u6D88',\n    labelFileProcessingError: '\u4E0A\u50B3\u767C\u751F\u932F\u8AA4',\n    labelFileProcessingRevertError: '\u9084\u539F\u932F\u8AA4',\n    labelFileRemoveError: '\u522A\u9664\u932F\u8AA4',\n    labelTapToCancel: '\u9EDE\u64CA\u53D6\u6D88',\n    labelTapToRetry: '\u9EDE\u64CA\u91CD\u8A66',\n    labelTapToUndo: '\u9EDE\u64CA\u9084\u539F',\n    labelButtonRemoveItem: '\u522A\u9664',\n    labelButtonAbortItemLoad: '\u505C\u6B62',\n    labelButtonRetryItemLoad: '\u91CD\u8A66',\n    labelButtonAbortItemProcessing: '\u53D6\u6D88',\n    labelButtonUndoItemProcessing: '\u53D6\u6D88',\n    labelButtonRetryItemProcessing: '\u91CD\u8A66',\n    labelButtonProcessItem: '\u4E0A\u50B3',\n    labelMaxFileSizeExceeded: '\u6A94\u6848\u904E\u5927',\n    labelMaxFileSize: '\u6700\u5927\u503C\uFF1A{filesize}',\n    labelMaxTotalFileSizeExceeded: '\u8D85\u904E\u6700\u5927\u53EF\u4E0A\u50B3\u5927\u5C0F',\n    labelMaxTotalFileSize: '\u6700\u5927\u53EF\u4E0A\u50B3\u5927\u5C0F\uFF1A{filesize}',\n    labelFileTypeNotAllowed: '\u4E0D\u652F\u63F4\u6B64\u985E\u578B\u6A94\u6848',\n    fileValidateTypeLabelExpectedTypes: '\u61C9\u70BA {allButLastType} \u6216 {lastType}',\n    imageValidateSizeLabelFormatError: '\u4E0D\u652F\u6301\u6B64\u985E\u5716\u7247\u985E\u578B',\n    imageValidateSizeLabelImageSizeTooSmall: '\u5716\u7247\u904E\u5C0F',\n    imageValidateSizeLabelImageSizeTooBig: '\u5716\u7247\u904E\u5927',\n    imageValidateSizeLabelExpectedMinSize: '\u6700\u5C0F\u5C3A\u5BF8\uFF1A{minWidth} \u00D7 {minHeight}',\n    imageValidateSizeLabelExpectedMaxSize: '\u6700\u5927\u5C3A\u5BF8\uFF1A{maxWidth} \u00D7 {maxHeight}',\n    imageValidateSizeLabelImageResolutionTooLow: '\u89E3\u6790\u5EA6\u904E\u4F4E',\n    imageValidateSizeLabelImageResolutionTooHigh: '\u89E3\u6790\u5EA6\u904E\u9AD8',\n    imageValidateSizeLabelExpectedMinResolution: '\u6700\u4F4E\u89E3\u6790\u5EA6\uFF1A{minResolution}',\n    imageValidateSizeLabelExpectedMaxResolution: '\u6700\u9AD8\u89E3\u6790\u5EA6\uFF1A{maxResolution}'\n  };\n", "import * as FilePond from 'filepond'\nimport FilePondPluginFileValidateSize from 'filepond-plugin-file-validate-size'\nimport FilePondPluginFileValidateType from 'filepond-plugin-file-validate-type'\nimport FilePondPluginImageCrop from 'filepond-plugin-image-crop'\nimport FilePondPluginImageExifOrientation from 'filepond-plugin-image-exif-orientation'\nimport FilePondPluginImagePreview from 'filepond-plugin-image-preview'\nimport FilePondPluginImageResize from 'filepond-plugin-image-resize'\nimport FilePondPluginImageTransform from 'filepond-plugin-image-transform'\nimport FilePondPluginMediaPreview from 'filepond-plugin-media-preview'\n\nFilePond.registerPlugin(FilePondPluginFileValidateSize)\nFilePond.registerPlugin(FilePondPluginFileValidateType)\nFilePond.registerPlugin(FilePondPluginImageCrop)\nFilePond.registerPlugin(FilePondPluginImageExifOrientation)\nFilePond.registerPlugin(FilePondPluginImagePreview)\nFilePond.registerPlugin(FilePondPluginImageResize)\nFilePond.registerPlugin(FilePondPluginImageTransform)\nFilePond.registerPlugin(FilePondPluginMediaPreview)\n\nwindow.FilePond = FilePond\n\nexport default function fileUploadFormComponent({\n    acceptedFileTypes,\n    deleteUploadedFileUsing,\n    getUploadedFilesUsing,\n    imageCropAspectRatio,\n    imagePreviewHeight,\n    imageResizeMode,\n    imageResizeTargetHeight,\n    imageResizeTargetWidth,\n    imageResizeUpscale,\n    isAvatar,\n    isDownloadable,\n    isOpenable,\n    isPreviewable,\n    isReorderable,\n    loadingIndicatorPosition,\n    locale,\n    panelAspectRatio,\n    panelLayout,\n    placeholder,\n    maxSize,\n    minSize,\n    removeUploadedFileButtonPosition,\n    removeUploadedFileUsing,\n    reorderUploadedFilesUsing,\n    shouldAppendFiles,\n    shouldOrientImageFromExif,\n    shouldTransformImage,\n    state,\n    uploadButtonPosition,\n    uploadProgressIndicatorPosition,\n    uploadUsing,\n}) {\n    return {\n        fileKeyIndex: {},\n\n        pond: null,\n\n        shouldUpdateState: true,\n\n        state,\n\n        lastState: null,\n\n        uploadedFileIndex: {},\n\n        init: async function () {\n            FilePond.setOptions(locales[locale] ?? locales['en'])\n\n            this.pond = FilePond.create(this.$refs.input, {\n                acceptedFileTypes,\n                allowImageExifOrientation: shouldOrientImageFromExif,\n                allowPaste: false,\n                allowReorder: isReorderable,\n                allowImagePreview: isPreviewable,\n                allowVideoPreview: isPreviewable,\n                allowAudioPreview: isPreviewable,\n                allowImageTransform: shouldTransformImage,\n                credits: false,\n                files: await this.getFiles(),\n                imageCropAspectRatio,\n                imagePreviewHeight,\n                imageResizeTargetHeight,\n                imageResizeTargetWidth,\n                imageResizeMode,\n                imageResizeUpscale,\n                itemInsertLocation: shouldAppendFiles ? 'after' : 'before',\n                ...(placeholder && { labelIdle: placeholder }),\n                maxFileSize: maxSize,\n                minFileSize: minSize,\n                styleButtonProcessItemPosition: uploadButtonPosition,\n                styleButtonRemoveItemPosition: removeUploadedFileButtonPosition,\n                styleLoadIndicatorPosition: loadingIndicatorPosition,\n                stylePanelAspectRatio: panelAspectRatio,\n                stylePanelLayout: panelLayout,\n                styleProgressIndicatorPosition: uploadProgressIndicatorPosition,\n                server: {\n                    load: async (source, load) => {\n                        let response = await fetch(source, {\n                            cache: 'no-store',\n                        })\n                        let blob = await response.blob()\n\n                        load(blob)\n                    },\n                    process: (\n                        fieldName,\n                        file,\n                        metadata,\n                        load,\n                        error,\n                        progress,\n                    ) => {\n                        this.shouldUpdateState = false\n\n                        let fileKey = (\n                            [1e7] +\n                            -1e3 +\n                            -4e3 +\n                            -8e3 +\n                            -1e11\n                        ).replace(/[018]/g, (c) =>\n                            (\n                                c ^\n                                (crypto.getRandomValues(new Uint8Array(1))[0] &\n                                    (15 >> (c / 4)))\n                            ).toString(16),\n                        )\n\n                        uploadUsing(\n                            fileKey,\n                            file,\n                            (fileKey) => {\n                                this.shouldUpdateState = true\n\n                                load(fileKey)\n                            },\n                            error,\n                            progress,\n                        )\n                    },\n                    remove: async (source, load) => {\n                        let fileKey = this.uploadedFileIndex[source] ?? null\n\n                        if (!fileKey) {\n                            return\n                        }\n\n                        await deleteUploadedFileUsing(fileKey)\n\n                        load()\n                    },\n                    revert: async (uniqueFileId, load) => {\n                        await removeUploadedFileUsing(uniqueFileId)\n\n                        load()\n                    },\n                },\n            })\n\n            this.$watch('state', async () => {\n                if (!this.pond) {\n                    return\n                }\n\n                if (!this.shouldUpdateState) {\n                    return\n                }\n\n                // We don't want to overwrite the files that are already in the input, if they haven't been saved yet.\n                if (\n                    this.state !== null &&\n                    Object.values(this.state).filter((file) =>\n                        file.startsWith('livewire-file:'),\n                    ).length\n                ) {\n                    this.lastState = null\n\n                    return\n                }\n\n                // Don't do anything if the state hasn't changed\n                if (JSON.stringify(this.state) === this.lastState) {\n                    return\n                }\n\n                this.lastState = JSON.stringify(this.state)\n\n                this.pond.files = await this.getFiles()\n            })\n\n            this.pond.on('reorderfiles', async (files) => {\n                const orderedFileKeys = files\n                    .map((file) =>\n                        file.source instanceof File\n                            ? file.serverId\n                            : this.uploadedFileIndex[file.source] ?? null,\n                    ) // file.serverId is null for a file that is not yet uploaded\n                    .filter((fileKey) => fileKey)\n\n                await reorderUploadedFilesUsing(\n                    shouldAppendFiles\n                        ? orderedFileKeys\n                        : orderedFileKeys.reverse(),\n                )\n            })\n\n            this.pond.on('initfile', async (fileItem) => {\n                if (!isDownloadable) {\n                    return\n                }\n\n                if (isAvatar) {\n                    return\n                }\n\n                this.insertDownloadLink(fileItem)\n            })\n\n            this.pond.on('initfile', async (fileItem) => {\n                if (!isOpenable) {\n                    return\n                }\n\n                if (isAvatar) {\n                    return\n                }\n\n                this.insertOpenLink(fileItem)\n            })\n\n            this.pond.on('addfilestart', async (file) => {\n                if (file.status !== FilePond.FileStatus.PROCESSING_QUEUED) {\n                    return\n                }\n\n                this.dispatchFormEvent('file-upload-started')\n            })\n\n            const handleFileProcessing = async () => {\n                if (\n                    this.pond\n                        .getFiles()\n                        .filter(\n                            (file) =>\n                                file.status ===\n                                    FilePond.FileStatus.PROCESSING ||\n                                file.status ===\n                                    FilePond.FileStatus.PROCESSING_QUEUED,\n                        ).length\n                ) {\n                    return\n                }\n\n                this.dispatchFormEvent('file-upload-finished')\n            }\n\n            this.pond.on('processfile', handleFileProcessing)\n\n            this.pond.on('processfileabort', handleFileProcessing)\n\n            this.pond.on('processfilerevert', handleFileProcessing)\n        },\n\n        destroy: function () {\n            FilePond.destroy(this.$refs.input)\n            this.pond = null\n        },\n\n        dispatchFormEvent: function (name) {\n            this.$el.closest('form')?.dispatchEvent(\n                new CustomEvent(name, {\n                    composed: true,\n                    cancelable: true,\n                }),\n            )\n        },\n\n        getUploadedFiles: async function () {\n            const uploadedFiles = await getUploadedFilesUsing()\n\n            this.fileKeyIndex = uploadedFiles ?? {}\n\n            this.uploadedFileIndex = Object.entries(this.fileKeyIndex)\n                .filter(([key, value]) => value?.url)\n                .reduce((obj, [key, value]) => {\n                    obj[value.url] = key\n\n                    return obj\n                }, {})\n        },\n\n        getFiles: async function () {\n            await this.getUploadedFiles()\n\n            let files = []\n\n            for (const uploadedFile of Object.values(this.fileKeyIndex)) {\n                if (!uploadedFile) {\n                    continue\n                }\n\n                files.push({\n                    source: uploadedFile.url,\n                    options: {\n                        type: 'local',\n                        ...(/^image/.test(uploadedFile.type)\n                            ? {}\n                            : {\n                                  file: {\n                                      name: uploadedFile.name,\n                                      size: uploadedFile.size,\n                                      type: uploadedFile.type,\n                                  },\n                              }),\n                    },\n                })\n            }\n\n            return shouldAppendFiles ? files : files.reverse()\n        },\n\n        insertDownloadLink: function (file) {\n            if (file.origin !== FilePond.FileOrigin.LOCAL) {\n                return\n            }\n\n            const anchor = this.getDownloadLink(file)\n\n            if (!anchor) {\n                return\n            }\n\n            document\n                .getElementById(`filepond--item-${file.id}`)\n                .querySelector('.filepond--file-info-main')\n                .prepend(anchor)\n        },\n\n        insertOpenLink: function (file) {\n            if (file.origin !== FilePond.FileOrigin.LOCAL) {\n                return\n            }\n\n            const anchor = this.getOpenLink(file)\n\n            if (!anchor) {\n                return\n            }\n\n            document\n                .getElementById(`filepond--item-${file.id}`)\n                .querySelector('.filepond--file-info-main')\n                .prepend(anchor)\n        },\n\n        getDownloadLink: function (file) {\n            let fileSource = file.source\n\n            if (!fileSource) {\n                return\n            }\n\n            const anchor = document.createElement('a')\n            anchor.className = 'filepond--download-icon'\n            anchor.href = fileSource\n            anchor.download = file.file.name\n\n            return anchor\n        },\n\n        getOpenLink: function (file) {\n            let fileSource = file.source\n\n            if (!fileSource) {\n                return\n            }\n\n            const anchor = document.createElement('a')\n            anchor.className = 'filepond--open-icon'\n            anchor.href = fileSource\n            anchor.target = '_blank'\n\n            return anchor\n        },\n    }\n}\n\nimport ar from 'filepond/locale/ar-ar'\nimport cs from 'filepond/locale/cs-cz'\nimport da from 'filepond/locale/da-dk'\nimport de from 'filepond/locale/de-de'\nimport en from 'filepond/locale/en-en'\nimport es from 'filepond/locale/es-es'\nimport fa from 'filepond/locale/fa_ir'\nimport fi from 'filepond/locale/fi-fi'\nimport fr from 'filepond/locale/fr-fr'\nimport hu from 'filepond/locale/hu-hu'\nimport id from 'filepond/locale/id-id'\nimport it from 'filepond/locale/it-it'\nimport nl from 'filepond/locale/nl-nl'\nimport pl from 'filepond/locale/pl-pl'\nimport pt_BR from 'filepond/locale/pt-br'\nimport pt_PT from 'filepond/locale/pt-br'\nimport ro from 'filepond/locale/ro-ro'\nimport ru from 'filepond/locale/ru-ru'\nimport sv from 'filepond/locale/sv_se'\nimport tr from 'filepond/locale/tr-tr'\nimport uk from 'filepond/locale/uk-ua'\nimport vi from 'filepond/locale/vi-vi'\nimport zh_CN from 'filepond/locale/zh-cn'\nimport zh_TW from 'filepond/locale/zh-tw'\n\nconst locales = {\n    ar,\n    cs,\n    da,\n    de,\n    en,\n    es,\n    fa,\n    fi,\n    fr,\n    hu,\n    id,\n    it,\n    nl,\n    pl,\n    pt_BR,\n    pt_PT,\n    ro,\n    ru,\n    sv,\n    tr,\n    uk,\n    vi,\n    zh_CN,\n    zh_TW,\n}\n"],
  "mappings": "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",
  "names": ["filepond_esm_exports", "__export", "FileOrigin$1", "FileStatus", "OptionTypes", "Status$1", "create$f", "destroy", "find", "getOptions$1", "parse", "registerPlugin", "setOptions$1", "supported", "isNode", "value", "createStore", "initialState", "queries", "actions", "state", "actionQueue", "dispatchQueue", "getState", "processActionQueue", "queue", "processDispatchQueue", "type", "data", "dispatch", "isBlocking", "actionHandlers", "query", "str", "args", "queryHandles", "api", "action", "defineProperty", "obj", "property", "definition", "forin", "cb", "key", "createObject", "attr", "node", "name", "ns", "svgElements", "isSVGElement", "tag", "createElement", "className", "attributes", "element", "appendChild", "parent", "child", "index", "appendChildView", "childViews", "view", "removeChildView", "IS_BROWSER", "isBrowser", "testElement", "getChildCount", "el", "getViewRect", "elementRect", "offset", "scale", "left", "top", "right", "bottom", "rect", "childView", "childViewRect", "expandRect", "calculateRectSize", "isNumber", "thereYet", "position", "destination", "velocity", "errorMargin", "spring", "stiffness", "damping", "mass", "target", "resting", "ts", "skipToEndState", "f", "easeInOutQuad", "t", "tween", "duration", "easing", "delay", "start", "p", "resting", "reverse", "target", "api", "createObject", "ts", "skipToEndState", "value", "animator", "spring", "createAnimator", "definition", "category", "property", "def", "type", "props", "addGetSet", "keys", "obj", "overwrite", "o", "key", "name", "getter", "setter", "animations", "mixinConfig", "viewProps", "viewInternalAPI", "viewExternalAPI", "initialProps", "forin", "animation", "addEvent", "element", "fn", "removeEvent", "listeners", "viewState", "view", "events", "add", "remove", "event", "apis", "isDefined", "defaults", "styles", "currentProps", "getOffset", "getScale", "getRect", "getViewRect", "propsHaveChanged", "applyStyles", "newProps", "prop", "opacity", "perspective", "translateX", "translateY", "scaleX", "scaleY", "rotateX", "rotateY", "rotateZ", "originX", "originY", "width", "height", "transforms", "elementCurrentStyle", "Mixins", "updateRect", "rect", "style", "createView", "tag", "attributes", "read", "write", "create", "destroy", "filterFrameActionsForChild", "child", "actions", "didCreateView", "didWriteView", "ignoreRect", "ignoreRectUpdate", "mixins", "store", "createElement", "frameRect", "isResting", "childViews", "activeMixins", "ref", "state", "writers", "readers", "destroyers", "getElement", "getChildViews", "getReference", "createChildView", "getStyle", "_read", "internalAPI", "reader", "_write", "frameActions", "shouldOptimize", "writer", "mixin", "index", "_destroy", "destroyer", "sharedAPIDefinition", "internalAPIDefinition", "needle", "appendChild", "appendChildView", "removeChildView", "externalAPIDefinition", "mixinAPIDefinition", "a", "b", "mixinAPI", "childCount", "getChildCount", "createPainter", "fps", "painter", "interval", "last", "id", "requestTick", "cancelTick", "setTimerType", "tick", "delta", "createRoute", "routes", "root", "timestamp", "action", "insertBefore", "newNode", "referenceNode", "insertAfter", "isArray", "isEmpty", "trim", "str", "toString", "toArray", "splitter", "isBoolean", "toBoolean", "isString", "toNumber", "isNumber", "toInt", "toFloat", "isInt", "toBytes", "base", "naturalFileSize", "isFunction", "toFunctionReference", "string", "levels", "level", "methods", "createServerAPI", "outline", "createAction", "method", "timeout", "headers", "parts", "toServerAPI", "isNull", "isObject", "isAPI", "getType", "replaceSingleQuotes", "conversionTable", "convertTo", "getValueByType", "newValue", "defaultValue", "valueType", "newValueType", "convertedValue", "createOption", "currentValue", "createOptions", "options", "optionDefinition", "createInitialState", "fromCamels", "separator", "part", "createOptionAPI", "createOptionActions", "dispatch", "query", "createOptionQueries", "InteractionMethod", "getUniqueId", "arrayRemove", "arr", "run", "cb", "sync", "on", "off", "listener", "fire", "args", "copyObjectPropertiesToObject", "src", "excluded", "PRIVATE", "createItemAPI", "item", "removeReleasedItems", "items", "ItemStatus", "FileOrigin", "getNonNumeric", "getDecimalSeparator", "getThousandsSeparator", "decimalSeparator", "thousandsStringWithSeparator", "thousandsStringWithoutSeparator", "Type", "filters", "applyFilterChain", "utils", "resolve", "reject", "matchingFilters", "f", "initialFilter", "current", "next", "error", "applyFilters", "addFilter", "extendDefaultOptions", "additionalOptions", "defaultOptions", "getOptions", "setOptions", "opts", "getItemByQuery", "getNumericAspectRatioFromString", "aspectRatio", "getActiveItems", "Status", "res", "canUpdateFileInput", "dataTransfer", "el", "ITEM_ERROR", "ITEM_BUSY", "ITEM_READY", "isItemInErrorState", "isItemInBusyState", "isItemInReadyState", "isAsync", "queries", "EMPTY", "ERROR", "BUSY", "IDLE", "READY", "option", "status", "hasRoomForItem", "count", "maxFileCount", "limit", "min", "max", "arrayInsert", "insertItem", "isBase64DataURI", "getFilenameFromURL", "url", "getExtensionFromFilename", "guesstimateExtension", "subtype", "leftPad", "padding", "getDateString", "date", "getFileFromBlob", "blob", "filename", "extension", "file", "getBlobBuilder", "createBlob", "arrayBuffer", "mimeType", "BB", "bb", "getBlobFromByteStringWithMimeType", "byteString", "ab", "ia", "i", "getMimeTypeFromBase64DataURI", "dataURI", "getBase64DataFromBase64DataURI", "getByteStringFromBase64DataURI", "getBlobFromBase64DataURI", "getFileFromBase64DataURI", "getFileNameFromHeader", "header", "matches", "getFileSizeFromHeader", "size", "getTranfserIdFromHeader", "getFileInfoFromHeaders", "info", "rows", "source", "createFileLoader", "fetchFn", "getProgress", "abort", "load", "loadURL", "response", "computable", "total", "fileinfo", "isGet", "sendRequest", "data", "aborted", "xhr", "headersReceived", "process", "e", "createResponse", "code", "body", "createTimeoutResponse", "hasQS", "buildURL", "createFetchFunction", "apiUrl", "onload", "onerror", "progress", "request", "ChunkStatus", "processFileChunked", "metadata", "transfer", "chunks", "chunkTransferId", "chunkServer", "chunkSize", "chunkRetryDelays", "ondata", "fd", "requestTransferId", "formData", "requestParams", "requestTransferOffset", "requestUrl", "lastChunkIndex", "offset", "completeProcessingChunks", "canProcessChunk", "chunk", "processChunk", "processChunks", "lengthComputable", "loaded", "updateTotalProgress", "retryProcessChunk", "totalBytesTransfered", "totalSize", "abortChunks", "serverId", "createFileProcessorFunction", "canChunkUpload", "shouldChunkUpload", "willChunkUpload", "createProcessorFunction", "params", "createRevertFunction", "uniqueFileId", "getRandomNumber", "createPerceivedPerformanceUpdater", "tickMin", "tickMax", "runtime", "createFileProcessor", "processFn", "allowMinimumUploadDuration", "progressFn", "completeFn", "transferId", "reset", "getDuration", "getFilenameWithoutExtension", "createFileStub", "isFile", "deepCloneObject", "v", "createItem", "origin", "serverFileReference", "abortProcessingRequestComplete", "setStatus", "getFileExtension", "getFileType", "getFileSize", "getFile", "loader", "meta", "success", "result", "retryLoad", "abortLoad", "processor", "onprocess", "requestProcessing", "abortProcessing", "revert", "revertFileUpload", "forceRevert", "serverTransferId", "setMetadata", "silent", "handler", "itemAPI", "getItemIndexByQuery", "getItemById", "itemId", "fetchBlob", "getDomainFromURL", "isExternalURL", "dynamicLabel", "label", "isMockItem", "listUpdated", "optionalPromise", "sortItems", "compare", "getItemByQueryFromState", "itemHandler", "failure", "files", "activeItems", "change", "shouldPrepareOutput", "beforePrepareFile", "upload", "doUpload", "currentIndex", "interactionMethod", "insertLocation", "totalItems", "ignoredFiles", "isValidFile", "promises", "itemInsertLocation", "mainStatus", "handleAdd", "shouldAdd", "loadComplete", "restore", "fetch", "err", "processNow", "maxParallelUploads", "processNext", "queueEntry", "itemReference", "server", "noop", "shouldRemove", "removeFromView", "handleRevert", "shouldRevert", "requestRemoveResult", "optionKeys", "prioritizedOptionKeys", "PrioritizedOptions", "formatFilename", "createElement$1", "tagName", "text", "node", "textNode", "polarToCartesian", "centerX", "centerY", "radius", "angleInDegrees", "angleInRadians", "describeArc", "x", "y", "startAngle", "endAngle", "arcSweep", "end", "percentageArc", "from", "to", "svg", "ringStrokeWidth", "attr", "ringFrom", "ringTo", "coordinates", "progressIndicator", "create$1", "write$1", "isDisabled", "shouldDisable", "fileActionButton", "toNaturalFileSize", "bytes", "labelBytes", "labelKilobytes", "labelMegabytes", "labelGigabytes", "KB", "MB", "GB", "removeDecimalsWhenZero", "decimalCount", "create$2", "fileName", "fileSize", "updateFile", "updateFileSizeOnError", "fileInfo", "toPercentage", "create$3", "main", "sub", "didSetItemLoadProgress", "title", "didSetItemProcessProgress", "didRequestItemProcessing", "didAbortItemProcessing", "didCompleteItemProcessing", "clear", "fileStatus", "Buttons", "ButtonKeys", "calculateFileInfoOffset", "getRemoveIndicatorAligment", "buttonRect", "calculateButtonWidth", "calculateFileVerticalCenterOffset", "calculateFileHorizontalCenterOffset", "getLoadIndicatorAlignment", "getProcessIndicatorAlignment", "DefaultStyle", "IdleStyle", "ProcessingStyle", "StyleMap", "processingCompleteIndicatorView", "create$4", "LocalButtons", "prev", "curr", "allowRevert", "allowRemove", "allowProcess", "instantUpload", "alignRemoveItemButton", "buttonFilter", "enabledButtons", "map", "buttonView", "loadIndicatorView", "progressIndicatorView", "write$2", "route", "stylesToApply", "defaultStyles", "control", "create$5", "didLoadItem", "fileWrapper", "PANEL_SPRING_PROPS", "create$6", "section", "createSection", "className", "viewConstructor", "write$3", "topRect", "bottomRect", "panel", "createDragHelper", "itemIds", "prevIndex", "ITEM_TRANSLATE_SPRING", "ITEM_SCALE_SPRING", "StateMap", "create$7", "grab", "removedActivateListener", "dragState", "drag", "drop", "route$1", "write$4", "getItemsPerRow", "horizontalSpace", "itemWidth", "getItemIndexByPosition", "children", "positionInView", "l", "itemRect", "itemHorizontalMargin", "itemsPerRow", "childMid", "itemVerticalMargin", "itemHeight", "indexX", "indexY", "offsetX", "offsetY", "itemTop", "itemRight", "itemBottom", "dropAreaDimensions", "val", "create$8", "addItemView", "now", "spawnDate", "cooldown", "dist", "moveItem", "vx", "vy", "introItemView", "removeItemView", "getItemHeight", "getItemWidth", "dragItem", "numItems", "oldIndex", "dragPosition", "dragHeight", "dragWidth", "cols", "location", "visibleChildren", "childView", "idx", "childHeight", "childBottom", "childTop", "route$2", "write$5", "dragCoordinates", "dragIndex", "addIndex", "dragIndexOffset", "removeIndexOffset", "addIndexOffset", "childRect", "dragOffset", "visualHeight", "prevX", "prevY", "visualIndex", "vectorX", "vectorY", "filterSetItemActions", "list", "create$9", "storeDragCoordinates", "clearDragCoordinates", "route$3", "write$6", "newHeight", "listScroller", "attrToggle", "enabledValue", "resetFileInput", "input", "form", "parentNode", "create$a", "setAcceptedFileTypes", "toggleAllowMultiple", "toggleDirectoryFilter", "toggleDisabled", "toggleRequired", "setCaptureMethod", "doesAllowBrowse", "disableField", "updateRequiredStatus", "updateFieldValidityStatus", "browser", "Key", "create$b", "updateLabelValue", "clickable", "dropLabel", "addBlob", "moveBlob", "hideBlob", "explodeBlob", "write$7", "route$4", "drip", "setInputFiles", "create$c", "getField", "syncFieldPositionsWithItems", "didReorderItems", "didAddItem", "shouldUseFileInput", "dataContainer", "didLoadItem$1", "field", "fileItem", "didPrepareOutput", "didSetDisabled", "didRemoveItem", "didDefineValue", "write$8", "getRootNode", "images", "text$1", "guesstimateMimeType", "requestDataTransferItems", "links", "getLinks", "hasFiles", "getFiles", "promisedFiles", "isFileSystemItem", "getFilesFromItem", "returnedFileGroups", "group", "isEntry", "entry", "getAsEntry", "isDirectoryEntry", "getFilesInDirectory", "dirCounter", "fileCounter", "resolveIfDone", "readEntries", "dirEntry", "directoryReader", "readBatch", "entries", "correctedFile", "correctMissingFileType", "getLinksFromTransferMetaData", "getLinksFromTransferURLData", "dragNDropObservers", "eventPosition", "createDragNDropClient", "scopeToObserve", "filterElement", "observer", "getDragNDropObserver", "client", "newObserver", "createDragNDropObserver", "clients", "dragenter", "dragover", "dragleave", "handlers", "createHandler", "elementFromPoint", "point", "isEventTarget", "elementAtPosition", "initialTarget", "setDropEffect", "effect", "onenter", "overDropTarget", "onexit", "ondrag", "allowdrop", "allowsTransfer", "ondrop", "createHopper", "scope", "validateItems", "catchesDropsOnPage", "requiresDropOnElement", "filterItems", "lastState", "currentState", "position", "filteredItems", "listening", "listeners$1", "handlePaste", "activeEl", "inScope", "listen", "unlisten", "createPaster", "create$d", "addFilesNotificationTimeout", "notificationClearTimeout", "filenames", "assist", "message", "clear$1", "listModified", "isUsingFilePond", "itemAdded", "itemRemoved", "itemProcessed", "itemProcessedUndo", "itemError", "assistant", "toCamels", "debounce", "func", "immidiateOnly", "MAX_FILES_LIMIT", "prevent", "create$e", "canHover", "hasPointerEvents", "credits", "frag", "write$9", "route$5", "bounds", "calculateRootBoundingBoxHeight", "hopper", "isMultiItem", "maxItems", "atMaxCapacity", "addAction", "listItemMargin", "calculateListItemMargin", "listHeight", "calculateListHeight", "labelHeight", "currentLabelHeight", "listMarginTop", "listMarginBottom", "boundsHeight", "history", "MAX_BOUNCES", "bottom", "bounces", "listAvailableHeight", "isCappedHeight", "panelHeight", "itemMargin", "visual", "scrollList", "itemList", "newItem", "removedItem", "verticalItemCount", "exceedsMaxFiles", "allowReplace", "allowMultiple", "totalBrowseItems", "getDragIndex", "toggleDrop", "isAllowed", "enabled", "beforeDropFile", "queue", "toggleBrowse", "togglePaste", "createApp", "initialOptions", "originalElement", "createStore", "visibilityHandler", "resizeDoneTimer", "isResizing", "isResizingHorizontally", "initialWindowWidth", "currentWindowWidth", "resizeHandler", "isHidden", "readWriteApi", "routeActionsToEvents", "createEvent", "eventRoutes", "exposeEvent", "detail", "exports", "filtered", "prepareFile", "addFile", "addFiles", "isFilePondFile", "removeFile", "sources", "lastArgument", "processFile", "prepareFiles", "processFiles", "removeFiles", "q", "createAppObject", "customOptions", "lowerCaseFirstLetter", "attributeNameToPropertyName", "attributeName", "mapObject", "object", "propertyMap", "selector", "mapping", "selectorRegExp", "getAttributesAsObject", "attributeMapping", "output", "attribute", "createAppAtElement", "mergedOptions", "attributeOptions", "app", "createApp$1", "isNode", "PRIVATE_METHODS", "createAppAPI", "replaceInString", "replacements", "match", "createWorker", "workerBlob", "workerURL", "worker", "transferList", "loadImage", "img", "renameFile", "renamedFile", "copyFile", "registeredPlugins", "createAppPlugin", "plugin", "pluginOutline", "isOperaMini", "hasPromises", "hasBlobSlice", "hasCreateObjectURL", "hasVisibility", "hasTiming", "hasCSSSupports", "isIE11", "supported", "isSupported", "isBrowser", "Status$1", "FileStatus", "FileOrigin$1", "OptionTypes", "create$f", "parse", "find", "registerPlugin", "getOptions$1", "setOptions$1", "updateOptionTypes", "hook", "indexToRemove", "context", "newHook", "plugins", "plugin", "addFilter", "utils", "Type", "replaceInString", "toNaturalFileSize", "file", "query", "sizeMax", "sizeMin", "resolve", "reject", "fileFilter", "totalSizeMax", "total", "item", "isBrowser", "filepond_plugin_file_validate_size_esm_default", "plugin", "addFilter", "utils", "Type", "isString", "replaceInString", "guesstimateMimeType", "getExtensionFromFilename", "getFilenameFromURL", "mimeTypeMatchesWildCard", "mimeType", "wildcard", "mimeTypeGroup", "wildcardGroup", "isValidMimeType", "acceptedTypes", "userInputType", "acceptedType", "getItemType", "item", "type", "filename", "extension", "validateFile", "acceptedFileTypes", "typeDetector", "resolve", "reject", "detectedType", "applyMimeTypeMap", "map", "acceptedFileType", "file", "query", "validationResult", "handleRejection", "acceptedFileTypesMapped", "label", "acceptedFileTypesMapped_unique", "index", "isBrowser", "filepond_plugin_file_validate_type_esm_default", "isImage", "file", "plugin", "addFilter", "utils", "Type", "isFile", "getNumericAspectRatioFromString", "allowCrop", "item", "query", "isObject", "value", "isNumber", "updateCrop", "obj", "crop", "center", "zoom", "rotation", "flip", "newAspectRatio", "currentCrop", "aspectRatio", "newCrop", "resolve", "reject", "humanAspectRatio", "isBrowser", "filepond_plugin_image_crop_esm_default", "isJPEG", "file", "Marker", "getUint16", "view", "offset", "little", "getUint32", "getImageOrientation", "resolve", "reject", "reader", "e", "length", "marker", "tags", "i", "IS_BROWSER", "isBrowser", "testSrc", "shouldCorrect", "testImage", "shouldCorrectImageExifOrientation", "plugin", "addFilter", "utils", "Type", "isFile", "item", "query", "orientation", "isBrowser$1", "filepond_plugin_image_exif_orientation_esm_default", "isPreviewableImage", "file", "vectorMultiply", "v", "amount", "createVector", "vectorAdd", "a", "b", "vectorNormalize", "l", "vectorRotate", "radians", "origin", "cos", "sin", "t", "x", "y", "getMarkupValue", "value", "size", "scalar", "axis", "getMarkupStyles", "markup", "scale", "lineStyle", "fill", "stroke", "strokeWidth", "lineCap", "lineJoin", "dashes", "opacity", "isDefined", "getMarkupRect", "rect", "left", "top", "width", "height", "right", "bottom", "pointsToPathShape", "points", "point", "index", "setAttributes", "element", "attr", "key", "ns", "svg", "tag", "updateRect", "updateEllipse", "cx", "cy", "rx", "ry", "IMAGE_FIT_STYLE", "updateImage", "TEXT_ANCHOR", "updateText", "fontSize", "fontFamily", "fontWeight", "textAlign", "updateLine", "line", "begin", "end", "target", "arrowBeginRotationPoint", "arrowBeginCenter", "arrowBeginA", "arrowBeginB", "arrowEndRotationPoint", "arrowEndCenter", "arrowEndA", "arrowEndB", "updatePath", "createShape", "node", "createImage", "shape", "createLine", "CREATE_TYPE_ROUTES", "UPDATE_TYPE_ROUTES", "createMarkupByType", "type", "updateMarkupByType", "MARKUP_RECT", "toOptionalFraction", "prepareMarkup", "props", "prev", "curr", "sortMarkupByZIndex", "createMarkupView", "_", "root", "crop", "resize", "viewWidth", "viewHeight", "cropWidth", "cropHeight", "outputWidth", "outputHeight", "outputFit", "outputUpscale", "shouldUpscale", "scalarWidth", "scalarHeight", "markupFilter", "settings", "createVector$1", "vectorDot", "vectorSubtract", "vectorDistanceSquared", "vectorDistance", "getOffsetPointOnEdge", "length", "rotation", "A", "B", "C", "sinA", "sinB", "sinC", "cosC", "ratio", "c", "getRotatedRectSize", "w", "h", "hor", "ver", "tl", "tr", "bl", "calculateCanvasSize", "image", "canvasAspectRatio", "zoom", "imageAspectRatio", "canvasWidth", "canvasHeight", "imgWidth", "imgHeight", "getImageRectZoomFactor", "imageRect", "cropRect", "center", "imageWidth", "imageHeight", "rotatedCropSize", "getCenteredCropRect", "container", "aspectRatio", "getCurrentCropSize", "imageSize", "canvasSize", "canvasCenter", "stage", "shouldLimit", "stageZoomFactor", "IMAGE_SCALE_SPRING_PROPS", "createBitmapView", "createImageCanvasWrapper", "flip", "bitmap", "createClipView", "transparencyIndicator", "shouldOptimize", "dirty", "translation", "cropAspectRatio", "imageView", "createImageView", "clip", "containerWidth", "containerHeight", "fixedPreviewHeight", "minPreviewHeight", "maxPreviewHeight", "panelAspectRatio", "allowMultiple", "clipHeight", "clipWidth", "SVG_MASK", "SVGMaskUniqueId", "createImageOverlayView", "fpAPI", "mask", "url", "BitmapWorker", "ColorMatrixWorker", "imageData", "matrix", "data", "m11", "m12", "m13", "m14", "m15", "m21", "m22", "m23", "m24", "m25", "m31", "m32", "m33", "m34", "m35", "m41", "m42", "m43", "m44", "m45", "r", "g", "getImageSize", "cb", "transforms", "fixImageOrientation", "ctx", "orientation", "createPreviewImage", "canvas", "isBitmap", "MAX_WIDTH", "MAX_HEIGHT", "calculateAverageColor", "i", "averageColor", "cloneCanvas", "cloneImageData", "id", "loadImage", "resolve", "reject", "img", "e", "createImageWrapperView", "OverlayView", "ImageView", "createWorker", "applyFilter", "filter", "worker", "response", "removeImageView", "shiftImage", "pushImage", "item", "background", "didUpdateItemMetadata", "action", "canCreateImageBitmap", "isFirefox", "didCreatePreviewContainer", "fileURL", "drawPreview", "loadPreviewFallback", "previewImageLoaded", "pixelDensityFactor", "scaleFactor", "previewImageRatio", "previewContainerWidth", "previewContainerHeight", "previewImage", "done", "imageBitmap", "didDrawPreview", "restoreOverlay", "didThrowError", "didCompleteProcessing", "create", "viewsToRemove", "plugin", "addFilter", "utils", "Type", "createRoute", "isFile", "imagePreviewView", "viewAPI", "is", "view", "query", "didLoadItem", "supportsCreateImageBitmap", "maxPreviewFileSize", "queue", "rescaleItem", "itemPanelAspectRatio", "fixedHeight", "previewAspectRatio", "previewHeightMax", "itemWidth", "previewHeight", "didResizeView", "didCalculatePreviewSize", "isBrowser", "filepond_plugin_image_preview_esm_default", "isImage", "file", "getImageSize", "url", "cb", "image", "width", "height", "plugin", "addFilter", "utils", "Type", "item", "query", "resolve", "reject", "mode", "upscale", "targetWidth", "targetHeight", "fileURL", "size", "imageWidth", "imageHeight", "orientation", "isBrowser", "filepond_plugin_image_resize_esm_default", "isImage", "file", "getFilenameWithoutExtension", "name", "ExtensionMap", "renameFileToMatchMimeType", "filename", "mimeType", "type", "extension", "getValidOutputMimeType", "isImage$1", "MATRICES", "width", "height", "getImageOrientationMatrix", "orientation", "createVector", "x", "y", "vectorDot", "a", "b", "vectorSubtract", "vectorDistanceSquared", "vectorDistance", "getOffsetPointOnEdge", "length", "rotation", "A", "B", "C", "sinA", "sinB", "sinC", "cosC", "ratio", "c", "getRotatedRectSize", "rect", "w", "h", "hor", "ver", "tl", "tr", "bl", "getImageRectZoomFactor", "imageRect", "cropRect", "center", "cx", "cy", "imageWidth", "imageHeight", "rotatedCropSize", "getCenteredCropRect", "container", "aspectRatio", "calculateCanvasSize", "image", "canvasAspectRatio", "zoom", "imageAspectRatio", "canvasWidth", "canvasHeight", "imgWidth", "imgHeight", "scalar", "canvasRelease", "canvas", "isFlipped", "flip", "getBitmap", "swapped", "ctx", "matrix", "imageToImageData", "imageElement", "crop", "options", "canvasMemoryLimit", "background", "bitmap", "imageSize", "canvasSize", "requiredMemory", "canvasCenter", "stage", "shouldLimit", "scale", "imageOffset", "imageData", "IS_BROWSER", "callback", "quality", "dataURL", "binStr", "len", "arr", "i", "canvasToBlob", "beforeCreateBlob", "resolve", "promisedImage", "vectorMultiply", "v", "amount", "createVector$1", "vectorAdd", "vectorNormalize", "l", "vectorRotate", "radians", "origin", "cos", "sin", "t", "getMarkupValue", "value", "size", "axis", "getMarkupStyles", "markup", "lineStyle", "fill", "stroke", "strokeWidth", "lineCap", "lineJoin", "dashes", "opacity", "isDefined", "getMarkupRect", "left", "top", "right", "bottom", "pointsToPathShape", "points", "point", "index", "setAttributes", "element", "attr", "key", "ns", "svg", "tag", "updateRect", "updateEllipse", "rx", "ry", "IMAGE_FIT_STYLE", "updateImage", "TEXT_ANCHOR", "updateText", "fontSize", "fontFamily", "fontWeight", "textAlign", "updateLine", "line", "begin", "end", "target", "arrowBeginRotationPoint", "arrowBeginCenter", "arrowBeginA", "arrowBeginB", "arrowEndRotationPoint", "arrowEndCenter", "arrowEndA", "arrowEndB", "updatePath", "createShape", "node", "createImage", "shape", "createLine", "CREATE_TYPE_ROUTES", "UPDATE_TYPE_ROUTES", "createMarkupByType", "updateMarkupByType", "sortMarkupByZIndex", "cropSVG", "blob", "fr", "text", "original", "originalNode", "bBox", "titleNode", "viewBoxAttribute", "widthAttribute", "heightAttribute", "widthUnits", "heightUnits", "viewBoxList", "viewBox", "markupSVG", "prev", "el", "cropCenterX", "cropCenterY", "canvasZoomFactor", "cropTransforms", "cropFlipHorizontal", "cropFlipVertical", "flipTransforms", "transformed", "objectToImageData", "obj", "TransformWorker", "TRANSFORMS", "resize", "filter", "applyTransforms", "transforms", "transform", "data", "cb", "filterTransform", "resizeTransform", "e", "response", "br", "bg", "bb", "applyFilterMatrix", "m", "ir", "ig", "ib", "ia", "mr", "mg", "mb", "ma", "or", "og", "ob", "identityMatrix", "isIdentityMatrix", "m11", "m12", "m13", "m14", "m15", "m21", "m22", "m23", "m24", "m25", "m31", "m32", "m33", "m34", "m35", "m41", "m42", "m43", "m44", "m45", "r", "g", "mode", "upscale", "scalarWidth", "scalarHeight", "originWidth", "originHeight", "targetWidth", "targetHeight", "inputData", "outputData", "ratioWidth", "ratioHeight", "ratioWidthHalf", "ratioHeightHalf", "j", "x2", "weight", "weights", "weightsAlpha", "centerY", "yy", "dy", "centerX", "w0", "xx", "dx", "ref", "correctOrientation", "view", "offset", "intelByteAligned", "tags", "readData", "marker", "markerLength", "orientationCorrected", "getImageHead", "reader", "getBlobBuilder", "createBlob", "arrayBuffer", "BB", "getUniqueId", "createWorker", "fn", "workerBlob", "workerURL", "worker", "trips", "message", "transferList", "id", "loadImage", "url", "reject", "img", "chain", "funcs", "promise", "func", "result", "canvasApplyMarkup", "drawers", "item", "TYPE_DRAW_ROUTES", "applyMarkupStyles", "styles", "drawMarkupStyles", "drawRect", "drawEllipse", "kappa", "ox", "oy", "xe", "ye", "xm", "ym", "drawImage", "done", "ar", "drawText", "drawPath", "drawLine", "imageDataToCanvas", "transformImage", "instructions", "stripImageHead", "afterCreateBlob", "output", "qualityAsPercentage", "resolveWithBlob", "promisedBlob", "toBlob", "promisedCanvas", "imageHead", "outputFormat", "MARKUP_RECT", "toOptionalFraction", "prepareMarkup", "props", "curr", "getImageSize", "measure", "intervalId", "err", "isBrowser", "isIOS", "plugin", "addFilter", "utils", "Type", "forin", "getFileFromBlob", "isFile", "TRANSFORM_LIST", "createVariantCreator", "updateMetadata", "metadata", "isDefaultCrop", "shouldPrepareOutput", "query", "shouldTransformFile", "filterResult", "dispatch", "shouldTransform", "variants", "variantsDefinition", "createVariant", "qualityMode", "clientTransforms", "filteredMetadata", "instruction", "exif", "willChangeType", "canChangeQuality", "willChangeQuality", "out", "variantPromises", "create", "files", "filepond_plugin_image_transform_esm_default", "isPreviewableVideo", "file", "isPreviewableAudio", "AudioPlayer", "mediaEl", "audioElems", "playPercent", "event", "newMargLeft", "el", "createMediaView", "_", "root", "props", "id", "item", "tagName", "docfrag", "URL", "blob", "height", "containerWidth", "factor", "createMediaWrapperView", "didCreatePreviewContainer", "create", "media", "plugin", "fpAPI", "addFilter", "utils", "Type", "createRoute", "mediaWrapperView", "viewAPI", "is", "view", "query", "didLoadItem", "allowVideoPreview", "allowAudioPreview", "isBrowser", "ar_ar_default", "cs_cz_default", "da_dk_default", "de_de_default", "en_en_default", "es_es_default", "fa_ir_default", "fi_fi_default", "fr_fr_default", "hu_hu_default", "id_id_default", "it_it_default", "nl_nl_default", "pl_pl_default", "pt_br_default", "ro_ro_default", "ru_ru_default", "sv_se_default", "tr_tr_default", "uk_ua_default", "vi_vi_default", "zh_cn_default", "zh_tw_default", "registerPlugin", "filepond_plugin_file_validate_size_esm_default", "filepond_plugin_file_validate_type_esm_default", "filepond_plugin_image_crop_esm_default", "filepond_plugin_image_exif_orientation_esm_default", "filepond_plugin_image_preview_esm_default", "filepond_plugin_image_resize_esm_default", "filepond_plugin_image_transform_esm_default", "plugin", "filepond_esm_exports", "fileUploadFormComponent", "acceptedFileTypes", "deleteUploadedFileUsing", "getUploadedFilesUsing", "imageCropAspectRatio", "imagePreviewHeight", "imageResizeMode", "imageResizeTargetHeight", "imageResizeTargetWidth", "imageResizeUpscale", "isAvatar", "isDownloadable", "isOpenable", "isPreviewable", "isReorderable", "loadingIndicatorPosition", "locale", "panelAspectRatio", "panelLayout", "placeholder", "maxSize", "minSize", "removeUploadedFileButtonPosition", "removeUploadedFileUsing", "reorderUploadedFilesUsing", "shouldAppendFiles", "shouldOrientImageFromExif", "shouldTransformImage", "state", "uploadButtonPosition", "uploadProgressIndicatorPosition", "uploadUsing", "setOptions$1", "locales", "create$f", "source", "load", "blob", "fieldName", "file", "metadata", "error", "progress", "fileKey", "c", "uniqueFileId", "files", "orderedFileKeys", "fileItem", "FileStatus", "handleFileProcessing", "destroy", "name", "uploadedFiles", "key", "value", "obj", "uploadedFile", "FileOrigin$1", "anchor", "fileSource", "ar_ar_default", "cs_cz_default", "da_dk_default", "de_de_default", "en_en_default", "es_es_default", "fa_ir_default", "fi_fi_default", "fr_fr_default", "hu_hu_default", "id_id_default", "it_it_default", "nl_nl_default", "pl_pl_default", "pt_br_default", "ro_ro_default", "ru_ru_default", "sv_se_default", "tr_tr_default", "uk_ua_default", "vi_vi_default", "zh_cn_default", "zh_tw_default"]
}
