var __defProp = Object.defineProperty;
var __export = (target, all) => {
  for (var name2 in all)
    __defProp(target, name2, { get: all[name2], enumerable: true });
};

// node_modules/filepond/dist/filepond.esm.js
var filepond_esm_exports = {};
__export(filepond_esm_exports, {
  FileOrigin: () => FileOrigin$1,
  FileStatus: () => FileStatus,
  OptionTypes: () => OptionTypes,
  Status: () => Status$1,
  create: () => create$f,
  destroy: () => destroy,
  find: () => find,
  getOptions: () => getOptions$1,
  parse: () => parse,
  registerPlugin: () => registerPlugin,
  setOptions: () => setOptions$1,
  supported: () => supported
});
var isNode = (value) => value instanceof HTMLElement;
var createStore = (initialState, queries2 = [], actions2 = []) => {
  const state2 = {
    ...initialState
  };
  const actionQueue = [];
  const dispatchQueue = [];
  const getState = () => ({ ...state2 });
  const processActionQueue = () => {
    const queue = [...actionQueue];
    actionQueue.length = 0;
    return queue;
  };
  const processDispatchQueue = () => {
    const queue = [...dispatchQueue];
    dispatchQueue.length = 0;
    queue.forEach(({ type, data: data3 }) => {
      dispatch(type, data3);
    });
  };
  const dispatch = (type, data3, isBlocking) => {
    if (isBlocking && !document.hidden) {
      dispatchQueue.push({ type, data: data3 });
      return;
    }
    if (actionHandlers[type]) {
      actionHandlers[type](data3);
    }
    actionQueue.push({
      type,
      data: data3
    });
  };
  const query = (str, ...args) => queryHandles[str] ? queryHandles[str](...args) : null;
  const api = {
    getState,
    processActionQueue,
    processDispatchQueue,
    dispatch,
    query
  };
  let queryHandles = {};
  queries2.forEach((query2) => {
    queryHandles = {
      ...query2(state2),
      ...queryHandles
    };
  });
  let actionHandlers = {};
  actions2.forEach((action) => {
    actionHandlers = {
      ...action(dispatch, query, state2),
      ...actionHandlers
    };
  });
  return api;
};
var defineProperty = (obj, property, definition) => {
  if (typeof definition === "function") {
    obj[property] = definition;
    return;
  }
  Object.defineProperty(obj, property, { ...definition });
};
var forin = (obj, cb) => {
  for (const key in obj) {
    if (!obj.hasOwnProperty(key)) {
      continue;
    }
    cb(key, obj[key]);
  }
};
var createObject = (definition) => {
  const obj = {};
  forin(definition, (property) => {
    defineProperty(obj, property, definition[property]);
  });
  return obj;
};
var attr = (node, name2, value = null) => {
  if (value === null) {
    return node.getAttribute(name2) || node.hasAttribute(name2);
  }
  node.setAttribute(name2, value);
};
var ns = "http://www.w3.org/2000/svg";
var svgElements = ["svg", "path"];
var isSVGElement = (tag) => svgElements.includes(tag);
var createElement = (tag, className, attributes = {}) => {
  if (typeof className === "object") {
    attributes = className;
    className = null;
  }
  const element = isSVGElement(tag) ? document.createElementNS(ns, tag) : document.createElement(tag);
  if (className) {
    if (isSVGElement(tag)) {
      attr(element, "class", className);
    } else {
      element.className = className;
    }
  }
  forin(attributes, (name2, value) => {
    attr(element, name2, value);
  });
  return element;
};
var appendChild = (parent) => (child, index) => {
  if (typeof index !== "undefined" && parent.children[index]) {
    parent.insertBefore(child, parent.children[index]);
  } else {
    parent.appendChild(child);
  }
};
var appendChildView = (parent, childViews) => (view, index) => {
  if (typeof index !== "undefined") {
    childViews.splice(index, 0, view);
  } else {
    childViews.push(view);
  }
  return view;
};
var removeChildView = (parent, childViews) => (view) => {
  childViews.splice(childViews.indexOf(view), 1);
  if (view.element.parentNode) {
    parent.removeChild(view.element);
  }
  return view;
};
var IS_BROWSER = (() => typeof window !== "undefined" && typeof window.document !== "undefined")();
var isBrowser = () => IS_BROWSER;
var testElement = isBrowser() ? createElement("svg") : {};
var getChildCount = "children" in testElement ? (el) => el.children.length : (el) => el.childNodes.length;
var getViewRect = (elementRect, childViews, offset, scale) => {
  const left = offset[0] || elementRect.left;
  const top = offset[1] || elementRect.top;
  const right = left + elementRect.width;
  const bottom = top + elementRect.height * (scale[1] || 1);
  const rect = {
    // the rectangle of the element itself
    element: {
      ...elementRect
    },
    // the rectangle of the element expanded to contain its children, does not include any margins
    inner: {
      left: elementRect.left,
      top: elementRect.top,
      right: elementRect.right,
      bottom: elementRect.bottom
    },
    // the rectangle of the element expanded to contain its children including own margin and child margins
    // margins will be added after we've recalculated the size
    outer: {
      left,
      top,
      right,
      bottom
    }
  };
  childViews.filter((childView) => !childView.isRectIgnored()).map((childView) => childView.rect).forEach((childViewRect) => {
    expandRect(rect.inner, { ...childViewRect.inner });
    expandRect(rect.outer, { ...childViewRect.outer });
  });
  calculateRectSize(rect.inner);
  rect.outer.bottom += rect.element.marginBottom;
  rect.outer.right += rect.element.marginRight;
  calculateRectSize(rect.outer);
  return rect;
};
var expandRect = (parent, child) => {
  child.top += parent.top;
  child.right += parent.left;
  child.bottom += parent.top;
  child.left += parent.left;
  if (child.bottom > parent.bottom) {
    parent.bottom = child.bottom;
  }
  if (child.right > parent.right) {
    parent.right = child.right;
  }
};
var calculateRectSize = (rect) => {
  rect.width = rect.right - rect.left;
  rect.height = rect.bottom - rect.top;
};
var isNumber = (value) => typeof value === "number";
var thereYet = (position, destination, velocity, errorMargin = 1e-3) => {
  return Math.abs(position - destination) < errorMargin && Math.abs(velocity) < errorMargin;
};
var spring = (
  // default options
  ({ stiffness = 0.5, damping = 0.75, mass = 10 } = {}) => {
    let target = null;
    let position = null;
    let velocity = 0;
    let resting = false;
    const interpolate = (ts, skipToEndState) => {
      if (resting)
        return;
      if (!(isNumber(target) && isNumber(position))) {
        resting = true;
        velocity = 0;
        return;
      }
      const f = -(position - target) * stiffness;
      velocity += f / mass;
      position += velocity;
      velocity *= damping;
      if (thereYet(position, target, velocity) || skipToEndState) {
        position = target;
        velocity = 0;
        resting = true;
        api.onupdate(position);
        api.oncomplete(position);
      } else {
        api.onupdate(position);
      }
    };
    const setTarget = (value) => {
      if (isNumber(value) && !isNumber(position)) {
        position = value;
      }
      if (target === null) {
        target = value;
        position = value;
      }
      target = value;
      if (position === target || typeof target === "undefined") {
        resting = true;
        velocity = 0;
        api.onupdate(position);
        api.oncomplete(position);
        return;
      }
      resting = false;
    };
    const api = createObject({
      interpolate,
      target: {
        set: setTarget,
        get: () => target
      },
      resting: {
        get: () => resting
      },
      onupdate: (value) => {
      },
      oncomplete: (value) => {
      }
    });
    return api;
  }
);
var easeInOutQuad = (t) => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
var tween = (
  // default values
  ({ duration = 500, easing = easeInOutQuad, delay = 0 } = {}) => {
    let start = null;
    let t;
    let p;
    let resting = true;
    let reverse = false;
    let target = null;
    const interpolate = (ts, skipToEndState) => {
      if (resting || target === null)
        return;
      if (start === null) {
        start = ts;
      }
      if (ts - start < delay)
        return;
      t = ts - start - delay;
      if (t >= duration || skipToEndState) {
        t = 1;
        p = reverse ? 0 : 1;
        api.onupdate(p * target);
        api.oncomplete(p * target);
        resting = true;
      } else {
        p = t / duration;
        api.onupdate((t >= 0 ? easing(reverse ? 1 - p : p) : 0) * target);
      }
    };
    const api = createObject({
      interpolate,
      target: {
        get: () => reverse ? 0 : target,
        set: (value) => {
          if (target === null) {
            target = value;
            api.onupdate(value);
            api.oncomplete(value);
            return;
          }
          if (value < target) {
            target = 1;
            reverse = true;
          } else {
            reverse = false;
            target = value;
          }
          resting = false;
          start = null;
        }
      },
      resting: {
        get: () => resting
      },
      onupdate: (value) => {
      },
      oncomplete: (value) => {
      }
    });
    return api;
  }
);
var animator = {
  spring,
  tween
};
var createAnimator = (definition, category, property) => {
  const def = definition[category] && typeof definition[category][property] === "object" ? definition[category][property] : definition[category] || definition;
  const type = typeof def === "string" ? def : def.type;
  const props = typeof def === "object" ? { ...def } : {};
  return animator[type] ? animator[type](props) : null;
};
var addGetSet = (keys, obj, props, overwrite = false) => {
  obj = Array.isArray(obj) ? obj : [obj];
  obj.forEach((o) => {
    keys.forEach((key) => {
      let name2 = key;
      let getter = () => props[key];
      let setter = (value) => props[key] = value;
      if (typeof key === "object") {
        name2 = key.key;
        getter = key.getter || getter;
        setter = key.setter || setter;
      }
      if (o[name2] && !overwrite) {
        return;
      }
      o[name2] = {
        get: getter,
        set: setter
      };
    });
  });
};
var animations = ({ mixinConfig, viewProps, viewInternalAPI, viewExternalAPI }) => {
  const initialProps = { ...viewProps };
  const animations2 = [];
  forin(mixinConfig, (property, animation) => {
    const animator2 = createAnimator(animation);
    if (!animator2) {
      return;
    }
    animator2.onupdate = (value) => {
      viewProps[property] = value;
    };
    animator2.target = initialProps[property];
    const prop = {
      key: property,
      setter: (value) => {
        if (animator2.target === value) {
          return;
        }
        animator2.target = value;
      },
      getter: () => viewProps[property]
    };
    addGetSet([prop], [viewInternalAPI, viewExternalAPI], viewProps, true);
    animations2.push(animator2);
  });
  return {
    write: (ts) => {
      let skipToEndState = document.hidden;
      let resting = true;
      animations2.forEach((animation) => {
        if (!animation.resting)
          resting = false;
        animation.interpolate(ts, skipToEndState);
      });
      return resting;
    },
    destroy: () => {
    }
  };
};
var addEvent = (element) => (type, fn2) => {
  element.addEventListener(type, fn2);
};
var removeEvent = (element) => (type, fn2) => {
  element.removeEventListener(type, fn2);
};
var listeners = ({
  mixinConfig,
  viewProps,
  viewInternalAPI,
  viewExternalAPI,
  viewState,
  view
}) => {
  const events = [];
  const add = addEvent(view.element);
  const remove = removeEvent(view.element);
  viewExternalAPI.on = (type, fn2) => {
    events.push({
      type,
      fn: fn2
    });
    add(type, fn2);
  };
  viewExternalAPI.off = (type, fn2) => {
    events.splice(events.findIndex((event) => event.type === type && event.fn === fn2), 1);
    remove(type, fn2);
  };
  return {
    write: () => {
      return true;
    },
    destroy: () => {
      events.forEach((event) => {
        remove(event.type, event.fn);
      });
    }
  };
};
var apis = ({ mixinConfig, viewProps, viewExternalAPI }) => {
  addGetSet(mixinConfig, viewExternalAPI, viewProps);
};
var isDefined = (value) => value != null;
var defaults = {
  opacity: 1,
  scaleX: 1,
  scaleY: 1,
  translateX: 0,
  translateY: 0,
  rotateX: 0,
  rotateY: 0,
  rotateZ: 0,
  originX: 0,
  originY: 0
};
var styles = ({ mixinConfig, viewProps, viewInternalAPI, viewExternalAPI, view }) => {
  const initialProps = { ...viewProps };
  const currentProps = {};
  addGetSet(mixinConfig, [viewInternalAPI, viewExternalAPI], viewProps);
  const getOffset = () => [viewProps["translateX"] || 0, viewProps["translateY"] || 0];
  const getScale = () => [viewProps["scaleX"] || 0, viewProps["scaleY"] || 0];
  const getRect = () => view.rect ? getViewRect(view.rect, view.childViews, getOffset(), getScale()) : null;
  viewInternalAPI.rect = { get: getRect };
  viewExternalAPI.rect = { get: getRect };
  mixinConfig.forEach((key) => {
    viewProps[key] = typeof initialProps[key] === "undefined" ? defaults[key] : initialProps[key];
  });
  return {
    write: () => {
      if (!propsHaveChanged(currentProps, viewProps)) {
        return;
      }
      applyStyles(view.element, viewProps);
      Object.assign(currentProps, { ...viewProps });
      return true;
    },
    destroy: () => {
    }
  };
};
var propsHaveChanged = (currentProps, newProps) => {
  if (Object.keys(currentProps).length !== Object.keys(newProps).length) {
    return true;
  }
  for (const prop in newProps) {
    if (newProps[prop] !== currentProps[prop]) {
      return true;
    }
  }
  return false;
};
var applyStyles = (element, {
  opacity,
  perspective,
  translateX,
  translateY,
  scaleX,
  scaleY,
  rotateX,
  rotateY,
  rotateZ,
  originX,
  originY,
  width,
  height
}) => {
  let transforms2 = "";
  let styles2 = "";
  if (isDefined(originX) || isDefined(originY)) {
    styles2 += `transform-origin: ${originX || 0}px ${originY || 0}px;`;
  }
  if (isDefined(perspective)) {
    transforms2 += `perspective(${perspective}px) `;
  }
  if (isDefined(translateX) || isDefined(translateY)) {
    transforms2 += `translate3d(${translateX || 0}px, ${translateY || 0}px, 0) `;
  }
  if (isDefined(scaleX) || isDefined(scaleY)) {
    transforms2 += `scale3d(${isDefined(scaleX) ? scaleX : 1}, ${isDefined(scaleY) ? scaleY : 1}, 1) `;
  }
  if (isDefined(rotateZ)) {
    transforms2 += `rotateZ(${rotateZ}rad) `;
  }
  if (isDefined(rotateX)) {
    transforms2 += `rotateX(${rotateX}rad) `;
  }
  if (isDefined(rotateY)) {
    transforms2 += `rotateY(${rotateY}rad) `;
  }
  if (transforms2.length) {
    styles2 += `transform:${transforms2};`;
  }
  if (isDefined(opacity)) {
    styles2 += `opacity:${opacity};`;
    if (opacity === 0) {
      styles2 += `visibility:hidden;`;
    }
    if (opacity < 1) {
      styles2 += `pointer-events:none;`;
    }
  }
  if (isDefined(height)) {
    styles2 += `height:${height}px;`;
  }
  if (isDefined(width)) {
    styles2 += `width:${width}px;`;
  }
  const elementCurrentStyle = element.elementCurrentStyle || "";
  if (styles2.length !== elementCurrentStyle.length || styles2 !== elementCurrentStyle) {
    element.style.cssText = styles2;
    element.elementCurrentStyle = styles2;
  }
};
var Mixins = {
  styles,
  listeners,
  animations,
  apis
};
var updateRect = (rect = {}, element = {}, style = {}) => {
  if (!element.layoutCalculated) {
    rect.paddingTop = parseInt(style.paddingTop, 10) || 0;
    rect.marginTop = parseInt(style.marginTop, 10) || 0;
    rect.marginRight = parseInt(style.marginRight, 10) || 0;
    rect.marginBottom = parseInt(style.marginBottom, 10) || 0;
    rect.marginLeft = parseInt(style.marginLeft, 10) || 0;
    element.layoutCalculated = true;
  }
  rect.left = element.offsetLeft || 0;
  rect.top = element.offsetTop || 0;
  rect.width = element.offsetWidth || 0;
  rect.height = element.offsetHeight || 0;
  rect.right = rect.left + rect.width;
  rect.bottom = rect.top + rect.height;
  rect.scrollTop = element.scrollTop;
  rect.hidden = element.offsetParent === null;
  return rect;
};
var createView = (
  // default view definition
  ({
    // element definition
    tag = "div",
    name: name2 = null,
    attributes = {},
    // view interaction
    read = () => {
    },
    write: write2 = () => {
    },
    create: create2 = () => {
    },
    destroy: destroy2 = () => {
    },
    // hooks
    filterFrameActionsForChild = (child, actions2) => actions2,
    didCreateView = () => {
    },
    didWriteView = () => {
    },
    // rect related
    ignoreRect = false,
    ignoreRectUpdate = false,
    // mixins
    mixins = []
  } = {}) => (store, props = {}) => {
    const element = createElement(tag, `filepond--${name2}`, attributes);
    const style = window.getComputedStyle(element, null);
    const rect = updateRect();
    let frameRect = null;
    let isResting = false;
    const childViews = [];
    const activeMixins = [];
    const ref = {};
    const state2 = {};
    const writers = [
      write2
      // default writer
    ];
    const readers = [
      read
      // default reader
    ];
    const destroyers = [
      destroy2
      // default destroy
    ];
    const getElement = () => element;
    const getChildViews = () => childViews.concat();
    const getReference = () => ref;
    const createChildView = (store2) => (view, props2) => view(store2, props2);
    const getRect = () => {
      if (frameRect) {
        return frameRect;
      }
      frameRect = getViewRect(rect, childViews, [0, 0], [1, 1]);
      return frameRect;
    };
    const getStyle = () => style;
    const _read = () => {
      frameRect = null;
      childViews.forEach((child) => child._read());
      const shouldUpdate = !(ignoreRectUpdate && rect.width && rect.height);
      if (shouldUpdate) {
        updateRect(rect, element, style);
      }
      const api = { root: internalAPI, props, rect };
      readers.forEach((reader) => reader(api));
    };
    const _write = (ts, frameActions, shouldOptimize) => {
      let resting = frameActions.length === 0;
      writers.forEach((writer) => {
        const writerResting = writer({
          props,
          root: internalAPI,
          actions: frameActions,
          timestamp: ts,
          shouldOptimize
        });
        if (writerResting === false) {
          resting = false;
        }
      });
      activeMixins.forEach((mixin) => {
        const mixinResting = mixin.write(ts);
        if (mixinResting === false) {
          resting = false;
        }
      });
      childViews.filter((child) => !!child.element.parentNode).forEach((child) => {
        const childResting = child._write(
          ts,
          filterFrameActionsForChild(child, frameActions),
          shouldOptimize
        );
        if (!childResting) {
          resting = false;
        }
      });
      childViews.forEach((child, index) => {
        if (child.element.parentNode) {
          return;
        }
        internalAPI.appendChild(child.element, index);
        child._read();
        child._write(
          ts,
          filterFrameActionsForChild(child, frameActions),
          shouldOptimize
        );
        resting = false;
      });
      isResting = resting;
      didWriteView({
        props,
        root: internalAPI,
        actions: frameActions,
        timestamp: ts
      });
      return resting;
    };
    const _destroy = () => {
      activeMixins.forEach((mixin) => mixin.destroy());
      destroyers.forEach((destroyer) => {
        destroyer({ root: internalAPI, props });
      });
      childViews.forEach((child) => child._destroy());
    };
    const sharedAPIDefinition = {
      element: {
        get: getElement
      },
      style: {
        get: getStyle
      },
      childViews: {
        get: getChildViews
      }
    };
    const internalAPIDefinition = {
      ...sharedAPIDefinition,
      rect: {
        get: getRect
      },
      // access to custom children references
      ref: {
        get: getReference
      },
      // dom modifiers
      is: (needle) => name2 === needle,
      appendChild: appendChild(element),
      createChildView: createChildView(store),
      linkView: (view) => {
        childViews.push(view);
        return view;
      },
      unlinkView: (view) => {
        childViews.splice(childViews.indexOf(view), 1);
      },
      appendChildView: appendChildView(element, childViews),
      removeChildView: removeChildView(element, childViews),
      registerWriter: (writer) => writers.push(writer),
      registerReader: (reader) => readers.push(reader),
      registerDestroyer: (destroyer) => destroyers.push(destroyer),
      invalidateLayout: () => element.layoutCalculated = false,
      // access to data store
      dispatch: store.dispatch,
      query: store.query
    };
    const externalAPIDefinition = {
      element: {
        get: getElement
      },
      childViews: {
        get: getChildViews
      },
      rect: {
        get: getRect
      },
      resting: {
        get: () => isResting
      },
      isRectIgnored: () => ignoreRect,
      _read,
      _write,
      _destroy
    };
    const mixinAPIDefinition = {
      ...sharedAPIDefinition,
      rect: {
        get: () => rect
      }
    };
    Object.keys(mixins).sort((a, b) => {
      if (a === "styles") {
        return 1;
      } else if (b === "styles") {
        return -1;
      }
      return 0;
    }).forEach((key) => {
      const mixinAPI = Mixins[key]({
        mixinConfig: mixins[key],
        viewProps: props,
        viewState: state2,
        viewInternalAPI: internalAPIDefinition,
        viewExternalAPI: externalAPIDefinition,
        view: createObject(mixinAPIDefinition)
      });
      if (mixinAPI) {
        activeMixins.push(mixinAPI);
      }
    });
    const internalAPI = createObject(internalAPIDefinition);
    create2({
      root: internalAPI,
      props
    });
    const childCount = getChildCount(element);
    childViews.forEach((child, index) => {
      internalAPI.appendChild(child.element, childCount + index);
    });
    didCreateView(internalAPI);
    return createObject(externalAPIDefinition);
  }
);
var createPainter = (read, write2, fps = 60) => {
  const name2 = "__framePainter";
  if (window[name2]) {
    window[name2].readers.push(read);
    window[name2].writers.push(write2);
    return;
  }
  window[name2] = {
    readers: [read],
    writers: [write2]
  };
  const painter = window[name2];
  const interval = 1e3 / fps;
  let last = null;
  let id = null;
  let requestTick = null;
  let cancelTick = null;
  const setTimerType = () => {
    if (document.hidden) {
      requestTick = () => window.setTimeout(() => tick(performance.now()), interval);
      cancelTick = () => window.clearTimeout(id);
    } else {
      requestTick = () => window.requestAnimationFrame(tick);
      cancelTick = () => window.cancelAnimationFrame(id);
    }
  };
  document.addEventListener("visibilitychange", () => {
    if (cancelTick)
      cancelTick();
    setTimerType();
    tick(performance.now());
  });
  const tick = (ts) => {
    id = requestTick(tick);
    if (!last) {
      last = ts;
    }
    const delta = ts - last;
    if (delta <= interval) {
      return;
    }
    last = ts - delta % interval;
    painter.readers.forEach((read2) => read2());
    painter.writers.forEach((write3) => write3(ts));
  };
  setTimerType();
  tick(performance.now());
  return {
    pause: () => {
      cancelTick(id);
    }
  };
};
var createRoute = (routes, fn2) => ({ root: root2, props, actions: actions2 = [], timestamp, shouldOptimize }) => {
  actions2.filter((action) => routes[action.type]).forEach(
    (action) => routes[action.type]({ root: root2, props, action: action.data, timestamp, shouldOptimize })
  );
  if (fn2) {
    fn2({ root: root2, props, actions: actions2, timestamp, shouldOptimize });
  }
};
var insertBefore = (newNode, referenceNode) => referenceNode.parentNode.insertBefore(newNode, referenceNode);
var insertAfter = (newNode, referenceNode) => {
  return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);
};
var isArray = (value) => Array.isArray(value);
var isEmpty = (value) => value == null;
var trim = (str) => str.trim();
var toString = (value) => "" + value;
var toArray = (value, splitter = ",") => {
  if (isEmpty(value)) {
    return [];
  }
  if (isArray(value)) {
    return value;
  }
  return toString(value).split(splitter).map(trim).filter((str) => str.length);
};
var isBoolean = (value) => typeof value === "boolean";
var toBoolean = (value) => isBoolean(value) ? value : value === "true";
var isString = (value) => typeof value === "string";
var toNumber = (value) => isNumber(value) ? value : isString(value) ? toString(value).replace(/[a-z]+/gi, "") : 0;
var toInt = (value) => parseInt(toNumber(value), 10);
var toFloat = (value) => parseFloat(toNumber(value));
var isInt = (value) => isNumber(value) && isFinite(value) && Math.floor(value) === value;
var toBytes = (value, base = 1e3) => {
  if (isInt(value)) {
    return value;
  }
  let naturalFileSize = toString(value).trim();
  if (/MB$/i.test(naturalFileSize)) {
    naturalFileSize = naturalFileSize.replace(/MB$i/, "").trim();
    return toInt(naturalFileSize) * base * base;
  }
  if (/KB/i.test(naturalFileSize)) {
    naturalFileSize = naturalFileSize.replace(/KB$i/, "").trim();
    return toInt(naturalFileSize) * base;
  }
  return toInt(naturalFileSize);
};
var isFunction = (value) => typeof value === "function";
var toFunctionReference = (string) => {
  let ref = self;
  let levels = string.split(".");
  let level = null;
  while (level = levels.shift()) {
    ref = ref[level];
    if (!ref) {
      return null;
    }
  }
  return ref;
};
var methods = {
  process: "POST",
  patch: "PATCH",
  revert: "DELETE",
  fetch: "GET",
  restore: "GET",
  load: "GET"
};
var createServerAPI = (outline) => {
  const api = {};
  api.url = isString(outline) ? outline : outline.url || "";
  api.timeout = outline.timeout ? parseInt(outline.timeout, 10) : 0;
  api.headers = outline.headers ? outline.headers : {};
  forin(methods, (key) => {
    api[key] = createAction(key, outline[key], methods[key], api.timeout, api.headers);
  });
  api.process = outline.process || isString(outline) || outline.url ? api.process : null;
  api.remove = outline.remove || null;
  delete api.headers;
  return api;
};
var createAction = (name2, outline, method, timeout, headers) => {
  if (outline === null) {
    return null;
  }
  if (typeof outline === "function") {
    return outline;
  }
  const action = {
    url: method === "GET" || method === "PATCH" ? `?${name2}=` : "",
    method,
    headers,
    withCredentials: false,
    timeout,
    onload: null,
    ondata: null,
    onerror: null
  };
  if (isString(outline)) {
    action.url = outline;
    return action;
  }
  Object.assign(action, outline);
  if (isString(action.headers)) {
    const parts = action.headers.split(/:(.+)/);
    action.headers = {
      header: parts[0],
      value: parts[1]
    };
  }
  action.withCredentials = toBoolean(action.withCredentials);
  return action;
};
var toServerAPI = (value) => createServerAPI(value);
var isNull = (value) => value === null;
var isObject = (value) => typeof value === "object" && value !== null;
var isAPI = (value) => {
  return isObject(value) && isString(value.url) && isObject(value.process) && isObject(value.revert) && isObject(value.restore) && isObject(value.fetch);
};
var getType = (value) => {
  if (isArray(value)) {
    return "array";
  }
  if (isNull(value)) {
    return "null";
  }
  if (isInt(value)) {
    return "int";
  }
  if (/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(value)) {
    return "bytes";
  }
  if (isAPI(value)) {
    return "api";
  }
  return typeof value;
};
var replaceSingleQuotes = (str) => str.replace(/{\s*'/g, '{"').replace(/'\s*}/g, '"}').replace(/'\s*:/g, '":').replace(/:\s*'/g, ':"').replace(/,\s*'/g, ',"').replace(/'\s*,/g, '",');
var conversionTable = {
  array: toArray,
  boolean: toBoolean,
  int: (value) => getType(value) === "bytes" ? toBytes(value) : toInt(value),
  number: toFloat,
  float: toFloat,
  bytes: toBytes,
  string: (value) => isFunction(value) ? value : toString(value),
  function: (value) => toFunctionReference(value),
  serverapi: toServerAPI,
  object: (value) => {
    try {
      return JSON.parse(replaceSingleQuotes(value));
    } catch (e) {
      return null;
    }
  }
};
var convertTo = (value, type) => conversionTable[type](value);
var getValueByType = (newValue, defaultValue, valueType) => {
  if (newValue === defaultValue) {
    return newValue;
  }
  let newValueType = getType(newValue);
  if (newValueType !== valueType) {
    const convertedValue = convertTo(newValue, valueType);
    newValueType = getType(convertedValue);
    if (convertedValue === null) {
      throw `Trying to assign value with incorrect type to "${option}", allowed type: "${valueType}"`;
    } else {
      newValue = convertedValue;
    }
  }
  return newValue;
};
var createOption = (defaultValue, valueType) => {
  let currentValue = defaultValue;
  return {
    enumerable: true,
    get: () => currentValue,
    set: (newValue) => {
      currentValue = getValueByType(newValue, defaultValue, valueType);
    }
  };
};
var createOptions = (options) => {
  const obj = {};
  forin(options, (prop) => {
    const optionDefinition = options[prop];
    obj[prop] = createOption(optionDefinition[0], optionDefinition[1]);
  });
  return createObject(obj);
};
var createInitialState = (options) => ({
  // model
  items: [],
  // timeout used for calling update items
  listUpdateTimeout: null,
  // timeout used for stacking metadata updates
  itemUpdateTimeout: null,
  // queue of items waiting to be processed
  processingQueue: [],
  // options
  options: createOptions(options)
});
var fromCamels = (string, separator = "-") => string.split(/(?=[A-Z])/).map((part) => part.toLowerCase()).join(separator);
var createOptionAPI = (store, options) => {
  const obj = {};
  forin(options, (key) => {
    obj[key] = {
      get: () => store.getState().options[key],
      set: (value) => {
        store.dispatch(`SET_${fromCamels(key, "_").toUpperCase()}`, {
          value
        });
      }
    };
  });
  return obj;
};
var createOptionActions = (options) => (dispatch, query, state2) => {
  const obj = {};
  forin(options, (key) => {
    const name2 = fromCamels(key, "_").toUpperCase();
    obj[`SET_${name2}`] = (action) => {
      try {
        state2.options[key] = action.value;
      } catch (e) {
      }
      dispatch(`DID_SET_${name2}`, { value: state2.options[key] });
    };
  });
  return obj;
};
var createOptionQueries = (options) => (state2) => {
  const obj = {};
  forin(options, (key) => {
    obj[`GET_${fromCamels(key, "_").toUpperCase()}`] = (action) => state2.options[key];
  });
  return obj;
};
var InteractionMethod = {
  API: 1,
  DROP: 2,
  BROWSE: 3,
  PASTE: 4,
  NONE: 5
};
var getUniqueId = () => Math.random().toString(36).substring(2, 11);
var arrayRemove = (arr, index) => arr.splice(index, 1);
var run = (cb, sync) => {
  if (sync) {
    cb();
  } else if (document.hidden) {
    Promise.resolve(1).then(cb);
  } else {
    setTimeout(cb, 0);
  }
};
var on = () => {
  const listeners2 = [];
  const off = (event, cb) => {
    arrayRemove(
      listeners2,
      listeners2.findIndex((listener) => listener.event === event && (listener.cb === cb || !cb))
    );
  };
  const fire = (event, args, sync) => {
    listeners2.filter((listener) => listener.event === event).map((listener) => listener.cb).forEach((cb) => run(() => cb(...args), sync));
  };
  return {
    fireSync: (event, ...args) => {
      fire(event, args, true);
    },
    fire: (event, ...args) => {
      fire(event, args, false);
    },
    on: (event, cb) => {
      listeners2.push({ event, cb });
    },
    onOnce: (event, cb) => {
      listeners2.push({
        event,
        cb: (...args) => {
          off(event, cb);
          cb(...args);
        }
      });
    },
    off
  };
};
var copyObjectPropertiesToObject = (src, target, excluded) => {
  Object.getOwnPropertyNames(src).filter((property) => !excluded.includes(property)).forEach(
    (key) => Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(src, key))
  );
};
var PRIVATE = [
  "fire",
  "process",
  "revert",
  "load",
  "on",
  "off",
  "onOnce",
  "retryLoad",
  "extend",
  "archive",
  "archived",
  "release",
  "released",
  "requestProcessing",
  "freeze"
];
var createItemAPI = (item2) => {
  const api = {};
  copyObjectPropertiesToObject(item2, api, PRIVATE);
  return api;
};
var removeReleasedItems = (items) => {
  items.forEach((item2, index) => {
    if (item2.released) {
      arrayRemove(items, index);
    }
  });
};
var ItemStatus = {
  INIT: 1,
  IDLE: 2,
  PROCESSING_QUEUED: 9,
  PROCESSING: 3,
  PROCESSING_COMPLETE: 5,
  PROCESSING_ERROR: 6,
  PROCESSING_REVERT_ERROR: 10,
  LOADING: 7,
  LOAD_ERROR: 8
};
var FileOrigin = {
  INPUT: 1,
  LIMBO: 2,
  LOCAL: 3
};
var getNonNumeric = (str) => /[^0-9]+/.exec(str);
var getDecimalSeparator = () => getNonNumeric(1.1.toLocaleString())[0];
var getThousandsSeparator = () => {
  const decimalSeparator = getDecimalSeparator();
  const thousandsStringWithSeparator = 1e3.toLocaleString();
  const thousandsStringWithoutSeparator = 1e3.toString();
  if (thousandsStringWithSeparator !== thousandsStringWithoutSeparator) {
    return getNonNumeric(thousandsStringWithSeparator)[0];
  }
  return decimalSeparator === "." ? "," : ".";
};
var Type = {
  BOOLEAN: "boolean",
  INT: "int",
  NUMBER: "number",
  STRING: "string",
  ARRAY: "array",
  OBJECT: "object",
  FUNCTION: "function",
  ACTION: "action",
  SERVER_API: "serverapi",
  REGEX: "regex"
};
var filters = [];
var applyFilterChain = (key, value, utils) => new Promise((resolve, reject) => {
  const matchingFilters = filters.filter((f) => f.key === key).map((f) => f.cb);
  if (matchingFilters.length === 0) {
    resolve(value);
    return;
  }
  const initialFilter = matchingFilters.shift();
  matchingFilters.reduce(
    // loop over promises passing value to next promise
    (current, next) => current.then((value2) => next(value2, utils)),
    // call initial filter, will return a promise
    initialFilter(value, utils)
    // all executed
  ).then((value2) => resolve(value2)).catch((error2) => reject(error2));
});
var applyFilters = (key, value, utils) => filters.filter((f) => f.key === key).map((f) => f.cb(value, utils));
var addFilter = (key, cb) => filters.push({ key, cb });
var extendDefaultOptions = (additionalOptions) => Object.assign(defaultOptions, additionalOptions);
var getOptions = () => ({ ...defaultOptions });
var setOptions = (opts) => {
  forin(opts, (key, value) => {
    if (!defaultOptions[key]) {
      return;
    }
    defaultOptions[key][0] = getValueByType(
      value,
      defaultOptions[key][0],
      defaultOptions[key][1]
    );
  });
};
var defaultOptions = {
  // the id to add to the root element
  id: [null, Type.STRING],
  // input field name to use
  name: ["filepond", Type.STRING],
  // disable the field
  disabled: [false, Type.BOOLEAN],
  // classname to put on wrapper
  className: [null, Type.STRING],
  // is the field required
  required: [false, Type.BOOLEAN],
  // Allow media capture when value is set
  captureMethod: [null, Type.STRING],
  // - "camera", "microphone" or "camcorder",
  // - Does not work with multiple on apple devices
  // - If set, acceptedFileTypes must be made to match with media wildcard "image/*", "audio/*" or "video/*"
  // sync `acceptedFileTypes` property with `accept` attribute
  allowSyncAcceptAttribute: [true, Type.BOOLEAN],
  // Feature toggles
  allowDrop: [true, Type.BOOLEAN],
  // Allow dropping of files
  allowBrowse: [true, Type.BOOLEAN],
  // Allow browsing the file system
  allowPaste: [true, Type.BOOLEAN],
  // Allow pasting files
  allowMultiple: [false, Type.BOOLEAN],
  // Allow multiple files (disabled by default, as multiple attribute is also required on input to allow multiple)
  allowReplace: [true, Type.BOOLEAN],
  // Allow dropping a file on other file to replace it (only works when multiple is set to false)
  allowRevert: [true, Type.BOOLEAN],
  // Allows user to revert file upload
  allowRemove: [true, Type.BOOLEAN],
  // Allow user to remove a file
  allowProcess: [true, Type.BOOLEAN],
  // Allows user to process a file, when set to false, this removes the file upload button
  allowReorder: [false, Type.BOOLEAN],
  // Allow reordering of files
  allowDirectoriesOnly: [false, Type.BOOLEAN],
  // Allow only selecting directories with browse (no support for filtering dnd at this point)
  // Try store file if `server` not set
  storeAsFile: [false, Type.BOOLEAN],
  // Revert mode
  forceRevert: [false, Type.BOOLEAN],
  // Set to 'force' to require the file to be reverted before removal
  // Input requirements
  maxFiles: [null, Type.INT],
  // Max number of files
  checkValidity: [false, Type.BOOLEAN],
  // Enables custom validity messages
  // Where to put file
  itemInsertLocationFreedom: [true, Type.BOOLEAN],
  // Set to false to always add items to begin or end of list
  itemInsertLocation: ["before", Type.STRING],
  // Default index in list to add items that have been dropped at the top of the list
  itemInsertInterval: [75, Type.INT],
  // Drag 'n Drop related
  dropOnPage: [false, Type.BOOLEAN],
  // Allow dropping of files anywhere on page (prevents browser from opening file if dropped outside of Up)
  dropOnElement: [true, Type.BOOLEAN],
  // Drop needs to happen on element (set to false to also load drops outside of Up)
  dropValidation: [false, Type.BOOLEAN],
  // Enable or disable validating files on drop
  ignoredFiles: [[".ds_store", "thumbs.db", "desktop.ini"], Type.ARRAY],
  // Upload related
  instantUpload: [true, Type.BOOLEAN],
  // Should upload files immediately on drop
  maxParallelUploads: [2, Type.INT],
  // Maximum files to upload in parallel
  allowMinimumUploadDuration: [true, Type.BOOLEAN],
  // if true uploads take at least 750 ms, this ensures the user sees the upload progress giving trust the upload actually happened
  // Chunks
  chunkUploads: [false, Type.BOOLEAN],
  // Enable chunked uploads
  chunkForce: [false, Type.BOOLEAN],
  // Force use of chunk uploads even for files smaller than chunk size
  chunkSize: [5e6, Type.INT],
  // Size of chunks (5MB default)
  chunkRetryDelays: [[500, 1e3, 3e3], Type.ARRAY],
  // Amount of times to retry upload of a chunk when it fails
  // The server api end points to use for uploading (see docs)
  server: [null, Type.SERVER_API],
  // File size calculations, can set to 1024, this is only used for display, properties use file size base 1000
  fileSizeBase: [1e3, Type.INT],
  // Labels and status messages
  labelFileSizeBytes: ["bytes", Type.STRING],
  labelFileSizeKilobytes: ["KB", Type.STRING],
  labelFileSizeMegabytes: ["MB", Type.STRING],
  labelFileSizeGigabytes: ["GB", Type.STRING],
  labelDecimalSeparator: [getDecimalSeparator(), Type.STRING],
  // Default is locale separator
  labelThousandsSeparator: [getThousandsSeparator(), Type.STRING],
  // Default is locale separator
  labelIdle: [
    'Drag & Drop your files or <span class="filepond--label-action">Browse</span>',
    Type.STRING
  ],
  labelInvalidField: ["Field contains invalid files", Type.STRING],
  labelFileWaitingForSize: ["Waiting for size", Type.STRING],
  labelFileSizeNotAvailable: ["Size not available", Type.STRING],
  labelFileCountSingular: ["file in list", Type.STRING],
  labelFileCountPlural: ["files in list", Type.STRING],
  labelFileLoading: ["Loading", Type.STRING],
  labelFileAdded: ["Added", Type.STRING],
  // assistive only
  labelFileLoadError: ["Error during load", Type.STRING],
  labelFileRemoved: ["Removed", Type.STRING],
  // assistive only
  labelFileRemoveError: ["Error during remove", Type.STRING],
  labelFileProcessing: ["Uploading", Type.STRING],
  labelFileProcessingComplete: ["Upload complete", Type.STRING],
  labelFileProcessingAborted: ["Upload cancelled", Type.STRING],
  labelFileProcessingError: ["Error during upload", Type.STRING],
  labelFileProcessingRevertError: ["Error during revert", Type.STRING],
  labelTapToCancel: ["tap to cancel", Type.STRING],
  labelTapToRetry: ["tap to retry", Type.STRING],
  labelTapToUndo: ["tap to undo", Type.STRING],
  labelButtonRemoveItem: ["Remove", Type.STRING],
  labelButtonAbortItemLoad: ["Abort", Type.STRING],
  labelButtonRetryItemLoad: ["Retry", Type.STRING],
  labelButtonAbortItemProcessing: ["Cancel", Type.STRING],
  labelButtonUndoItemProcessing: ["Undo", Type.STRING],
  labelButtonRetryItemProcessing: ["Retry", Type.STRING],
  labelButtonProcessItem: ["Upload", Type.STRING],
  // make sure width and height plus viewpox are even numbers so icons are nicely centered
  iconRemove: [
    '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',
    Type.STRING
  ],
  iconProcess: [
    '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',
    Type.STRING
  ],
  iconRetry: [
    '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',
    Type.STRING
  ],
  iconUndo: [
    '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',
    Type.STRING
  ],
  iconDone: [
    '<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',
    Type.STRING
  ],
  // event handlers
  oninit: [null, Type.FUNCTION],
  onwarning: [null, Type.FUNCTION],
  onerror: [null, Type.FUNCTION],
  onactivatefile: [null, Type.FUNCTION],
  oninitfile: [null, Type.FUNCTION],
  onaddfilestart: [null, Type.FUNCTION],
  onaddfileprogress: [null, Type.FUNCTION],
  onaddfile: [null, Type.FUNCTION],
  onprocessfilestart: [null, Type.FUNCTION],
  onprocessfileprogress: [null, Type.FUNCTION],
  onprocessfileabort: [null, Type.FUNCTION],
  onprocessfilerevert: [null, Type.FUNCTION],
  onprocessfile: [null, Type.FUNCTION],
  onprocessfiles: [null, Type.FUNCTION],
  onremovefile: [null, Type.FUNCTION],
  onpreparefile: [null, Type.FUNCTION],
  onupdatefiles: [null, Type.FUNCTION],
  onreorderfiles: [null, Type.FUNCTION],
  // hooks
  beforeDropFile: [null, Type.FUNCTION],
  beforeAddFile: [null, Type.FUNCTION],
  beforeRemoveFile: [null, Type.FUNCTION],
  beforePrepareFile: [null, Type.FUNCTION],
  // styles
  stylePanelLayout: [null, Type.STRING],
  // null 'integrated', 'compact', 'circle'
  stylePanelAspectRatio: [null, Type.STRING],
  // null or '3:2' or 1
  styleItemPanelAspectRatio: [null, Type.STRING],
  styleButtonRemoveItemPosition: ["left", Type.STRING],
  styleButtonProcessItemPosition: ["right", Type.STRING],
  styleLoadIndicatorPosition: ["right", Type.STRING],
  styleProgressIndicatorPosition: ["right", Type.STRING],
  styleButtonRemoveItemAlign: [false, Type.BOOLEAN],
  // custom initial files array
  files: [[], Type.ARRAY],
  // show support by displaying credits
  credits: [["https://pqina.nl/", "Powered by PQINA"], Type.ARRAY]
};
var getItemByQuery = (items, query) => {
  if (isEmpty(query)) {
    return items[0] || null;
  }
  if (isInt(query)) {
    return items[query] || null;
  }
  if (typeof query === "object") {
    query = query.id;
  }
  return items.find((item2) => item2.id === query) || null;
};
var getNumericAspectRatioFromString = (aspectRatio) => {
  if (isEmpty(aspectRatio)) {
    return aspectRatio;
  }
  if (/:/.test(aspectRatio)) {
    const parts = aspectRatio.split(":");
    return parts[1] / parts[0];
  }
  return parseFloat(aspectRatio);
};
var getActiveItems = (items) => items.filter((item2) => !item2.archived);
var Status = {
  EMPTY: 0,
  IDLE: 1,
  // waiting
  ERROR: 2,
  // a file is in error state
  BUSY: 3,
  // busy processing or loading
  READY: 4
  // all files uploaded
};
var res = null;
var canUpdateFileInput = () => {
  if (res === null) {
    try {
      const dataTransfer = new DataTransfer();
      dataTransfer.items.add(new File(["hello world"], "This_Works.txt"));
      const el = document.createElement("input");
      el.setAttribute("type", "file");
      el.files = dataTransfer.files;
      res = el.files.length === 1;
    } catch (err) {
      res = false;
    }
  }
  return res;
};
var ITEM_ERROR = [
  ItemStatus.LOAD_ERROR,
  ItemStatus.PROCESSING_ERROR,
  ItemStatus.PROCESSING_REVERT_ERROR
];
var ITEM_BUSY = [
  ItemStatus.LOADING,
  ItemStatus.PROCESSING,
  ItemStatus.PROCESSING_QUEUED,
  ItemStatus.INIT
];
var ITEM_READY = [ItemStatus.PROCESSING_COMPLETE];
var isItemInErrorState = (item2) => ITEM_ERROR.includes(item2.status);
var isItemInBusyState = (item2) => ITEM_BUSY.includes(item2.status);
var isItemInReadyState = (item2) => ITEM_READY.includes(item2.status);
var isAsync = (state2) => isObject(state2.options.server) && (isObject(state2.options.server.process) || isFunction(state2.options.server.process));
var queries = (state2) => ({
  GET_STATUS: () => {
    const items = getActiveItems(state2.items);
    const { EMPTY, ERROR, BUSY, IDLE, READY } = Status;
    if (items.length === 0)
      return EMPTY;
    if (items.some(isItemInErrorState))
      return ERROR;
    if (items.some(isItemInBusyState))
      return BUSY;
    if (items.some(isItemInReadyState))
      return READY;
    return IDLE;
  },
  GET_ITEM: (query) => getItemByQuery(state2.items, query),
  GET_ACTIVE_ITEM: (query) => getItemByQuery(getActiveItems(state2.items), query),
  GET_ACTIVE_ITEMS: () => getActiveItems(state2.items),
  GET_ITEMS: () => state2.items,
  GET_ITEM_NAME: (query) => {
    const item2 = getItemByQuery(state2.items, query);
    return item2 ? item2.filename : null;
  },
  GET_ITEM_SIZE: (query) => {
    const item2 = getItemByQuery(state2.items, query);
    return item2 ? item2.fileSize : null;
  },
  GET_STYLES: () => Object.keys(state2.options).filter((key) => /^style/.test(key)).map((option2) => ({
    name: option2,
    value: state2.options[option2]
  })),
  GET_PANEL_ASPECT_RATIO: () => {
    const isShapeCircle = /circle/.test(state2.options.stylePanelLayout);
    const aspectRatio = isShapeCircle ? 1 : getNumericAspectRatioFromString(state2.options.stylePanelAspectRatio);
    return aspectRatio;
  },
  GET_ITEM_PANEL_ASPECT_RATIO: () => state2.options.styleItemPanelAspectRatio,
  GET_ITEMS_BY_STATUS: (status) => getActiveItems(state2.items).filter((item2) => item2.status === status),
  GET_TOTAL_ITEMS: () => getActiveItems(state2.items).length,
  SHOULD_UPDATE_FILE_INPUT: () => state2.options.storeAsFile && canUpdateFileInput() && !isAsync(state2),
  IS_ASYNC: () => isAsync(state2),
  GET_FILE_SIZE_LABELS: (query) => ({
    labelBytes: query("GET_LABEL_FILE_SIZE_BYTES") || void 0,
    labelKilobytes: query("GET_LABEL_FILE_SIZE_KILOBYTES") || void 0,
    labelMegabytes: query("GET_LABEL_FILE_SIZE_MEGABYTES") || void 0,
    labelGigabytes: query("GET_LABEL_FILE_SIZE_GIGABYTES") || void 0
  })
});
var hasRoomForItem = (state2) => {
  const count = getActiveItems(state2.items).length;
  if (!state2.options.allowMultiple) {
    return count === 0;
  }
  const maxFileCount = state2.options.maxFiles;
  if (maxFileCount === null) {
    return true;
  }
  if (count < maxFileCount) {
    return true;
  }
  return false;
};
var limit = (value, min, max) => Math.max(Math.min(max, value), min);
var arrayInsert = (arr, index, item2) => arr.splice(index, 0, item2);
var insertItem = (items, item2, index) => {
  if (isEmpty(item2)) {
    return null;
  }
  if (typeof index === "undefined") {
    items.push(item2);
    return item2;
  }
  index = limit(index, 0, items.length);
  arrayInsert(items, index, item2);
  return item2;
};
var isBase64DataURI = (str) => /^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(
  str
);
var getFilenameFromURL = (url) => url.split("/").pop().split("?").shift();
var getExtensionFromFilename = (name2) => name2.split(".").pop();
var guesstimateExtension = (type) => {
  if (typeof type !== "string") {
    return "";
  }
  const subtype = type.split("/").pop();
  if (/svg/.test(subtype)) {
    return "svg";
  }
  if (/zip|compressed/.test(subtype)) {
    return "zip";
  }
  if (/plain/.test(subtype)) {
    return "txt";
  }
  if (/msword/.test(subtype)) {
    return "doc";
  }
  if (/[a-z]+/.test(subtype)) {
    if (subtype === "jpeg") {
      return "jpg";
    }
    return subtype;
  }
  return "";
};
var leftPad = (value, padding = "") => (padding + value).slice(-padding.length);
var getDateString = (date = /* @__PURE__ */ new Date()) => `${date.getFullYear()}-${leftPad(date.getMonth() + 1, "00")}-${leftPad(
  date.getDate(),
  "00"
)}_${leftPad(date.getHours(), "00")}-${leftPad(date.getMinutes(), "00")}-${leftPad(
  date.getSeconds(),
  "00"
)}`;
var getFileFromBlob = (blob2, filename, type = null, extension = null) => {
  const file2 = typeof type === "string" ? blob2.slice(0, blob2.size, type) : blob2.slice(0, blob2.size, blob2.type);
  file2.lastModifiedDate = /* @__PURE__ */ new Date();
  if (blob2._relativePath)
    file2._relativePath = blob2._relativePath;
  if (!isString(filename)) {
    filename = getDateString();
  }
  if (filename && extension === null && getExtensionFromFilename(filename)) {
    file2.name = filename;
  } else {
    extension = extension || guesstimateExtension(file2.type);
    file2.name = filename + (extension ? "." + extension : "");
  }
  return file2;
};
var getBlobBuilder = () => {
  return window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;
};
var createBlob = (arrayBuffer, mimeType) => {
  const BB = getBlobBuilder();
  if (BB) {
    const bb = new BB();
    bb.append(arrayBuffer);
    return bb.getBlob(mimeType);
  }
  return new Blob([arrayBuffer], {
    type: mimeType
  });
};
var getBlobFromByteStringWithMimeType = (byteString, mimeType) => {
  const ab = new ArrayBuffer(byteString.length);
  const ia = new Uint8Array(ab);
  for (let i = 0; i < byteString.length; i++) {
    ia[i] = byteString.charCodeAt(i);
  }
  return createBlob(ab, mimeType);
};
var getMimeTypeFromBase64DataURI = (dataURI) => {
  return (/^data:(.+);/.exec(dataURI) || [])[1] || null;
};
var getBase64DataFromBase64DataURI = (dataURI) => {
  const data3 = dataURI.split(",")[1];
  return data3.replace(/\s/g, "");
};
var getByteStringFromBase64DataURI = (dataURI) => {
  return atob(getBase64DataFromBase64DataURI(dataURI));
};
var getBlobFromBase64DataURI = (dataURI) => {
  const mimeType = getMimeTypeFromBase64DataURI(dataURI);
  const byteString = getByteStringFromBase64DataURI(dataURI);
  return getBlobFromByteStringWithMimeType(byteString, mimeType);
};
var getFileFromBase64DataURI = (dataURI, filename, extension) => {
  return getFileFromBlob(getBlobFromBase64DataURI(dataURI), filename, null, extension);
};
var getFileNameFromHeader = (header) => {
  if (!/^content-disposition:/i.test(header))
    return null;
  const matches = header.split(/filename=|filename\*=.+''/).splice(1).map((name2) => name2.trim().replace(/^["']|[;"']{0,2}$/g, "")).filter((name2) => name2.length);
  return matches.length ? decodeURI(matches[matches.length - 1]) : null;
};
var getFileSizeFromHeader = (header) => {
  if (/content-length:/i.test(header)) {
    const size = header.match(/[0-9]+/)[0];
    return size ? parseInt(size, 10) : null;
  }
  return null;
};
var getTranfserIdFromHeader = (header) => {
  if (/x-content-transfer-id:/i.test(header)) {
    const id = (header.split(":")[1] || "").trim();
    return id || null;
  }
  return null;
};
var getFileInfoFromHeaders = (headers) => {
  const info = {
    source: null,
    name: null,
    size: null
  };
  const rows = headers.split("\n");
  for (let header of rows) {
    const name2 = getFileNameFromHeader(header);
    if (name2) {
      info.name = name2;
      continue;
    }
    const size = getFileSizeFromHeader(header);
    if (size) {
      info.size = size;
      continue;
    }
    const source = getTranfserIdFromHeader(header);
    if (source) {
      info.source = source;
      continue;
    }
  }
  return info;
};
var createFileLoader = (fetchFn) => {
  const state2 = {
    source: null,
    complete: false,
    progress: 0,
    size: null,
    timestamp: null,
    duration: 0,
    request: null
  };
  const getProgress = () => state2.progress;
  const abort = () => {
    if (state2.request && state2.request.abort) {
      state2.request.abort();
    }
  };
  const load = () => {
    const source = state2.source;
    api.fire("init", source);
    if (source instanceof File) {
      api.fire("load", source);
    } else if (source instanceof Blob) {
      api.fire("load", getFileFromBlob(source, source.name));
    } else if (isBase64DataURI(source)) {
      api.fire("load", getFileFromBase64DataURI(source));
    } else {
      loadURL(source);
    }
  };
  const loadURL = (url) => {
    if (!fetchFn) {
      api.fire("error", {
        type: "error",
        body: "Can't load URL",
        code: 400
      });
      return;
    }
    state2.timestamp = Date.now();
    state2.request = fetchFn(
      url,
      (response) => {
        state2.duration = Date.now() - state2.timestamp;
        state2.complete = true;
        if (response instanceof Blob) {
          response = getFileFromBlob(response, response.name || getFilenameFromURL(url));
        }
        api.fire(
          "load",
          // if has received blob, we go with blob, if no response, we return null
          response instanceof Blob ? response : response ? response.body : null
        );
      },
      (error2) => {
        api.fire(
          "error",
          typeof error2 === "string" ? {
            type: "error",
            code: 0,
            body: error2
          } : error2
        );
      },
      (computable, current, total) => {
        if (total) {
          state2.size = total;
        }
        state2.duration = Date.now() - state2.timestamp;
        if (!computable) {
          state2.progress = null;
          return;
        }
        state2.progress = current / total;
        api.fire("progress", state2.progress);
      },
      () => {
        api.fire("abort");
      },
      (response) => {
        const fileinfo = getFileInfoFromHeaders(
          typeof response === "string" ? response : response.headers
        );
        api.fire("meta", {
          size: state2.size || fileinfo.size,
          filename: fileinfo.name,
          source: fileinfo.source
        });
      }
    );
  };
  const api = {
    ...on(),
    setSource: (source) => state2.source = source,
    getProgress,
    // file load progress
    abort,
    // abort file load
    load
    // start load
  };
  return api;
};
var isGet = (method) => /GET|HEAD/.test(method);
var sendRequest = (data3, url, options) => {
  const api = {
    onheaders: () => {
    },
    onprogress: () => {
    },
    onload: () => {
    },
    ontimeout: () => {
    },
    onerror: () => {
    },
    onabort: () => {
    },
    abort: () => {
      aborted = true;
      xhr.abort();
    }
  };
  let aborted = false;
  let headersReceived = false;
  options = {
    method: "POST",
    headers: {},
    withCredentials: false,
    ...options
  };
  url = encodeURI(url);
  if (isGet(options.method) && data3) {
    url = `${url}${encodeURIComponent(typeof data3 === "string" ? data3 : JSON.stringify(data3))}`;
  }
  const xhr = new XMLHttpRequest();
  const process = isGet(options.method) ? xhr : xhr.upload;
  process.onprogress = (e) => {
    if (aborted) {
      return;
    }
    api.onprogress(e.lengthComputable, e.loaded, e.total);
  };
  xhr.onreadystatechange = () => {
    if (xhr.readyState < 2) {
      return;
    }
    if (xhr.readyState === 4 && xhr.status === 0) {
      return;
    }
    if (headersReceived) {
      return;
    }
    headersReceived = true;
    api.onheaders(xhr);
  };
  xhr.onload = () => {
    if (xhr.status >= 200 && xhr.status < 300) {
      api.onload(xhr);
    } else {
      api.onerror(xhr);
    }
  };
  xhr.onerror = () => api.onerror(xhr);
  xhr.onabort = () => {
    aborted = true;
    api.onabort();
  };
  xhr.ontimeout = () => api.ontimeout(xhr);
  xhr.open(options.method, url, true);
  if (isInt(options.timeout)) {
    xhr.timeout = options.timeout;
  }
  Object.keys(options.headers).forEach((key) => {
    const value = unescape(encodeURIComponent(options.headers[key]));
    xhr.setRequestHeader(key, value);
  });
  if (options.responseType) {
    xhr.responseType = options.responseType;
  }
  if (options.withCredentials) {
    xhr.withCredentials = true;
  }
  xhr.send(data3);
  return api;
};
var createResponse = (type, code, body, headers) => ({
  type,
  code,
  body,
  headers
});
var createTimeoutResponse = (cb) => (xhr) => {
  cb(createResponse("error", 0, "Timeout", xhr.getAllResponseHeaders()));
};
var hasQS = (str) => /\?/.test(str);
var buildURL = (...parts) => {
  let url = "";
  parts.forEach((part) => {
    url += hasQS(url) && hasQS(part) ? part.replace(/\?/, "&") : part;
  });
  return url;
};
var createFetchFunction = (apiUrl = "", action) => {
  if (typeof action === "function") {
    return action;
  }
  if (!action || !isString(action.url)) {
    return null;
  }
  const onload = action.onload || ((res2) => res2);
  const onerror = action.onerror || ((res2) => null);
  return (url, load, error2, progress, abort, headers) => {
    const request = sendRequest(url, buildURL(apiUrl, action.url), {
      ...action,
      responseType: "blob"
    });
    request.onload = (xhr) => {
      const headers2 = xhr.getAllResponseHeaders();
      const filename = getFileInfoFromHeaders(headers2).name || getFilenameFromURL(url);
      load(
        createResponse(
          "load",
          xhr.status,
          action.method === "HEAD" ? null : getFileFromBlob(onload(xhr.response), filename),
          headers2
        )
      );
    };
    request.onerror = (xhr) => {
      error2(
        createResponse(
          "error",
          xhr.status,
          onerror(xhr.response) || xhr.statusText,
          xhr.getAllResponseHeaders()
        )
      );
    };
    request.onheaders = (xhr) => {
      headers(createResponse("headers", xhr.status, null, xhr.getAllResponseHeaders()));
    };
    request.ontimeout = createTimeoutResponse(error2);
    request.onprogress = progress;
    request.onabort = abort;
    return request;
  };
};
var ChunkStatus = {
  QUEUED: 0,
  COMPLETE: 1,
  PROCESSING: 2,
  ERROR: 3,
  WAITING: 4
};
var processFileChunked = (apiUrl, action, name2, file2, metadata, load, error2, progress, abort, transfer, options) => {
  const chunks = [];
  const { chunkTransferId, chunkServer, chunkSize, chunkRetryDelays } = options;
  const state2 = {
    serverId: chunkTransferId,
    aborted: false
  };
  const ondata = action.ondata || ((fd) => fd);
  const onload = action.onload || ((xhr, method) => method === "HEAD" ? xhr.getResponseHeader("Upload-Offset") : xhr.response);
  const onerror = action.onerror || ((res2) => null);
  const requestTransferId = (cb) => {
    const formData = new FormData();
    if (isObject(metadata))
      formData.append(name2, JSON.stringify(metadata));
    const headers = typeof action.headers === "function" ? action.headers(file2, metadata) : {
      ...action.headers,
      "Upload-Length": file2.size
    };
    const requestParams = {
      ...action,
      headers
    };
    const request = sendRequest(ondata(formData), buildURL(apiUrl, action.url), requestParams);
    request.onload = (xhr) => cb(onload(xhr, requestParams.method));
    request.onerror = (xhr) => error2(
      createResponse(
        "error",
        xhr.status,
        onerror(xhr.response) || xhr.statusText,
        xhr.getAllResponseHeaders()
      )
    );
    request.ontimeout = createTimeoutResponse(error2);
  };
  const requestTransferOffset = (cb) => {
    const requestUrl = buildURL(apiUrl, chunkServer.url, state2.serverId);
    const headers = typeof action.headers === "function" ? action.headers(state2.serverId) : {
      ...action.headers
    };
    const requestParams = {
      headers,
      method: "HEAD"
    };
    const request = sendRequest(null, requestUrl, requestParams);
    request.onload = (xhr) => cb(onload(xhr, requestParams.method));
    request.onerror = (xhr) => error2(
      createResponse(
        "error",
        xhr.status,
        onerror(xhr.response) || xhr.statusText,
        xhr.getAllResponseHeaders()
      )
    );
    request.ontimeout = createTimeoutResponse(error2);
  };
  const lastChunkIndex = Math.floor(file2.size / chunkSize);
  for (let i = 0; i <= lastChunkIndex; i++) {
    const offset = i * chunkSize;
    const data3 = file2.slice(offset, offset + chunkSize, "application/offset+octet-stream");
    chunks[i] = {
      index: i,
      size: data3.size,
      offset,
      data: data3,
      file: file2,
      progress: 0,
      retries: [...chunkRetryDelays],
      status: ChunkStatus.QUEUED,
      error: null,
      request: null,
      timeout: null
    };
  }
  const completeProcessingChunks = () => load(state2.serverId);
  const canProcessChunk = (chunk) => chunk.status === ChunkStatus.QUEUED || chunk.status === ChunkStatus.ERROR;
  const processChunk = (chunk) => {
    if (state2.aborted)
      return;
    chunk = chunk || chunks.find(canProcessChunk);
    if (!chunk) {
      if (chunks.every((chunk2) => chunk2.status === ChunkStatus.COMPLETE)) {
        completeProcessingChunks();
      }
      return;
    }
    chunk.status = ChunkStatus.PROCESSING;
    chunk.progress = null;
    const ondata2 = chunkServer.ondata || ((fd) => fd);
    const onerror2 = chunkServer.onerror || ((res2) => null);
    const requestUrl = buildURL(apiUrl, chunkServer.url, state2.serverId);
    const headers = typeof chunkServer.headers === "function" ? chunkServer.headers(chunk) : {
      ...chunkServer.headers,
      "Content-Type": "application/offset+octet-stream",
      "Upload-Offset": chunk.offset,
      "Upload-Length": file2.size,
      "Upload-Name": file2.name
    };
    const request = chunk.request = sendRequest(ondata2(chunk.data), requestUrl, {
      ...chunkServer,
      headers
    });
    request.onload = () => {
      chunk.status = ChunkStatus.COMPLETE;
      chunk.request = null;
      processChunks();
    };
    request.onprogress = (lengthComputable, loaded, total) => {
      chunk.progress = lengthComputable ? loaded : null;
      updateTotalProgress();
    };
    request.onerror = (xhr) => {
      chunk.status = ChunkStatus.ERROR;
      chunk.request = null;
      chunk.error = onerror2(xhr.response) || xhr.statusText;
      if (!retryProcessChunk(chunk)) {
        error2(
          createResponse(
            "error",
            xhr.status,
            onerror2(xhr.response) || xhr.statusText,
            xhr.getAllResponseHeaders()
          )
        );
      }
    };
    request.ontimeout = (xhr) => {
      chunk.status = ChunkStatus.ERROR;
      chunk.request = null;
      if (!retryProcessChunk(chunk)) {
        createTimeoutResponse(error2)(xhr);
      }
    };
    request.onabort = () => {
      chunk.status = ChunkStatus.QUEUED;
      chunk.request = null;
      abort();
    };
  };
  const retryProcessChunk = (chunk) => {
    if (chunk.retries.length === 0)
      return false;
    chunk.status = ChunkStatus.WAITING;
    clearTimeout(chunk.timeout);
    chunk.timeout = setTimeout(() => {
      processChunk(chunk);
    }, chunk.retries.shift());
    return true;
  };
  const updateTotalProgress = () => {
    const totalBytesTransfered = chunks.reduce((p, chunk) => {
      if (p === null || chunk.progress === null)
        return null;
      return p + chunk.progress;
    }, 0);
    if (totalBytesTransfered === null)
      return progress(false, 0, 0);
    const totalSize = chunks.reduce((total, chunk) => total + chunk.size, 0);
    progress(true, totalBytesTransfered, totalSize);
  };
  const processChunks = () => {
    const totalProcessing = chunks.filter((chunk) => chunk.status === ChunkStatus.PROCESSING).length;
    if (totalProcessing >= 1)
      return;
    processChunk();
  };
  const abortChunks = () => {
    chunks.forEach((chunk) => {
      clearTimeout(chunk.timeout);
      if (chunk.request) {
        chunk.request.abort();
      }
    });
  };
  if (!state2.serverId) {
    requestTransferId((serverId) => {
      if (state2.aborted)
        return;
      transfer(serverId);
      state2.serverId = serverId;
      processChunks();
    });
  } else {
    requestTransferOffset((offset) => {
      if (state2.aborted)
        return;
      chunks.filter((chunk) => chunk.offset < offset).forEach((chunk) => {
        chunk.status = ChunkStatus.COMPLETE;
        chunk.progress = chunk.size;
      });
      processChunks();
    });
  }
  return {
    abort: () => {
      state2.aborted = true;
      abortChunks();
    }
  };
};
var createFileProcessorFunction = (apiUrl, action, name2, options) => (file2, metadata, load, error2, progress, abort, transfer) => {
  if (!file2)
    return;
  const canChunkUpload = options.chunkUploads;
  const shouldChunkUpload = canChunkUpload && file2.size > options.chunkSize;
  const willChunkUpload = canChunkUpload && (shouldChunkUpload || options.chunkForce);
  if (file2 instanceof Blob && willChunkUpload)
    return processFileChunked(
      apiUrl,
      action,
      name2,
      file2,
      metadata,
      load,
      error2,
      progress,
      abort,
      transfer,
      options
    );
  const ondata = action.ondata || ((fd) => fd);
  const onload = action.onload || ((res2) => res2);
  const onerror = action.onerror || ((res2) => null);
  const headers = typeof action.headers === "function" ? action.headers(file2, metadata) || {} : {
    ...action.headers
  };
  const requestParams = {
    ...action,
    headers
  };
  var formData = new FormData();
  if (isObject(metadata)) {
    formData.append(name2, JSON.stringify(metadata));
  }
  (file2 instanceof Blob ? [{ name: null, file: file2 }] : file2).forEach((item2) => {
    formData.append(
      name2,
      item2.file,
      item2.name === null ? item2.file.name : `${item2.name}${item2.file.name}`
    );
  });
  const request = sendRequest(ondata(formData), buildURL(apiUrl, action.url), requestParams);
  request.onload = (xhr) => {
    load(createResponse("load", xhr.status, onload(xhr.response), xhr.getAllResponseHeaders()));
  };
  request.onerror = (xhr) => {
    error2(
      createResponse(
        "error",
        xhr.status,
        onerror(xhr.response) || xhr.statusText,
        xhr.getAllResponseHeaders()
      )
    );
  };
  request.ontimeout = createTimeoutResponse(error2);
  request.onprogress = progress;
  request.onabort = abort;
  return request;
};
var createProcessorFunction = (apiUrl = "", action, name2, options) => {
  if (typeof action === "function")
    return (...params) => action(name2, ...params, options);
  if (!action || !isString(action.url))
    return null;
  return createFileProcessorFunction(apiUrl, action, name2, options);
};
var createRevertFunction = (apiUrl = "", action) => {
  if (typeof action === "function") {
    return action;
  }
  if (!action || !isString(action.url)) {
    return (uniqueFileId, load) => load();
  }
  const onload = action.onload || ((res2) => res2);
  const onerror = action.onerror || ((res2) => null);
  return (uniqueFileId, load, error2) => {
    const request = sendRequest(
      uniqueFileId,
      apiUrl + action.url,
      action
      // contains method, headers and withCredentials properties
    );
    request.onload = (xhr) => {
      load(
        createResponse(
          "load",
          xhr.status,
          onload(xhr.response),
          xhr.getAllResponseHeaders()
        )
      );
    };
    request.onerror = (xhr) => {
      error2(
        createResponse(
          "error",
          xhr.status,
          onerror(xhr.response) || xhr.statusText,
          xhr.getAllResponseHeaders()
        )
      );
    };
    request.ontimeout = createTimeoutResponse(error2);
    return request;
  };
};
var getRandomNumber = (min = 0, max = 1) => min + Math.random() * (max - min);
var createPerceivedPerformanceUpdater = (cb, duration = 1e3, offset = 0, tickMin = 25, tickMax = 250) => {
  let timeout = null;
  const start = Date.now();
  const tick = () => {
    let runtime = Date.now() - start;
    let delay = getRandomNumber(tickMin, tickMax);
    if (runtime + delay > duration) {
      delay = runtime + delay - duration;
    }
    let progress = runtime / duration;
    if (progress >= 1 || document.hidden) {
      cb(1);
      return;
    }
    cb(progress);
    timeout = setTimeout(tick, delay);
  };
  if (duration > 0)
    tick();
  return {
    clear: () => {
      clearTimeout(timeout);
    }
  };
};
var createFileProcessor = (processFn, options) => {
  const state2 = {
    complete: false,
    perceivedProgress: 0,
    perceivedPerformanceUpdater: null,
    progress: null,
    timestamp: null,
    perceivedDuration: 0,
    duration: 0,
    request: null,
    response: null
  };
  const { allowMinimumUploadDuration } = options;
  const process = (file2, metadata) => {
    const progressFn = () => {
      if (state2.duration === 0 || state2.progress === null)
        return;
      api.fire("progress", api.getProgress());
    };
    const completeFn = () => {
      state2.complete = true;
      api.fire("load-perceived", state2.response.body);
    };
    api.fire("start");
    state2.timestamp = Date.now();
    state2.perceivedPerformanceUpdater = createPerceivedPerformanceUpdater(
      (progress) => {
        state2.perceivedProgress = progress;
        state2.perceivedDuration = Date.now() - state2.timestamp;
        progressFn();
        if (state2.response && state2.perceivedProgress === 1 && !state2.complete) {
          completeFn();
        }
      },
      // random delay as in a list of files you start noticing
      // files uploading at the exact same speed
      allowMinimumUploadDuration ? getRandomNumber(750, 1500) : 0
    );
    state2.request = processFn(
      // the file to process
      file2,
      // the metadata to send along
      metadata,
      // callbacks (load, error, progress, abort, transfer)
      // load expects the body to be a server id if
      // you want to make use of revert
      (response) => {
        state2.response = isObject(response) ? response : {
          type: "load",
          code: 200,
          body: `${response}`,
          headers: {}
        };
        state2.duration = Date.now() - state2.timestamp;
        state2.progress = 1;
        api.fire("load", state2.response.body);
        if (!allowMinimumUploadDuration || allowMinimumUploadDuration && state2.perceivedProgress === 1) {
          completeFn();
        }
      },
      // error is expected to be an object with type, code, body
      (error2) => {
        state2.perceivedPerformanceUpdater.clear();
        api.fire(
          "error",
          isObject(error2) ? error2 : {
            type: "error",
            code: 0,
            body: `${error2}`
          }
        );
      },
      // actual processing progress
      (computable, current, total) => {
        state2.duration = Date.now() - state2.timestamp;
        state2.progress = computable ? current / total : null;
        progressFn();
      },
      // abort does not expect a value
      () => {
        state2.perceivedPerformanceUpdater.clear();
        api.fire("abort", state2.response ? state2.response.body : null);
      },
      // register the id for this transfer
      (transferId) => {
        api.fire("transfer", transferId);
      }
    );
  };
  const abort = () => {
    if (!state2.request)
      return;
    state2.perceivedPerformanceUpdater.clear();
    if (state2.request.abort)
      state2.request.abort();
    state2.complete = true;
  };
  const reset = () => {
    abort();
    state2.complete = false;
    state2.perceivedProgress = 0;
    state2.progress = 0;
    state2.timestamp = null;
    state2.perceivedDuration = 0;
    state2.duration = 0;
    state2.request = null;
    state2.response = null;
  };
  const getProgress = allowMinimumUploadDuration ? () => state2.progress ? Math.min(state2.progress, state2.perceivedProgress) : null : () => state2.progress || null;
  const getDuration = allowMinimumUploadDuration ? () => Math.min(state2.duration, state2.perceivedDuration) : () => state2.duration;
  const api = {
    ...on(),
    process,
    // start processing file
    abort,
    // abort active process request
    getProgress,
    getDuration,
    reset
  };
  return api;
};
var getFilenameWithoutExtension = (name2) => name2.substring(0, name2.lastIndexOf(".")) || name2;
var createFileStub = (source) => {
  let data3 = [source.name, source.size, source.type];
  if (source instanceof Blob || isBase64DataURI(source)) {
    data3[0] = source.name || getDateString();
  } else if (isBase64DataURI(source)) {
    data3[1] = source.length;
    data3[2] = getMimeTypeFromBase64DataURI(source);
  } else if (isString(source)) {
    data3[0] = getFilenameFromURL(source);
    data3[1] = 0;
    data3[2] = "application/octet-stream";
  }
  return {
    name: data3[0],
    size: data3[1],
    type: data3[2]
  };
};
var isFile = (value) => !!(value instanceof File || value instanceof Blob && value.name);
var deepCloneObject = (src) => {
  if (!isObject(src))
    return src;
  const target = isArray(src) ? [] : {};
  for (const key in src) {
    if (!src.hasOwnProperty(key))
      continue;
    const v = src[key];
    target[key] = v && isObject(v) ? deepCloneObject(v) : v;
  }
  return target;
};
var createItem = (origin = null, serverFileReference = null, file2 = null) => {
  const id = getUniqueId();
  const state2 = {
    // is archived
    archived: false,
    // if is frozen, no longer fires events
    frozen: false,
    // removed from view
    released: false,
    // original source
    source: null,
    // file model reference
    file: file2,
    // id of file on server
    serverFileReference,
    // id of file transfer on server
    transferId: null,
    // is aborted
    processingAborted: false,
    // current item status
    status: serverFileReference ? ItemStatus.PROCESSING_COMPLETE : ItemStatus.INIT,
    // active processes
    activeLoader: null,
    activeProcessor: null
  };
  let abortProcessingRequestComplete = null;
  const metadata = {};
  const setStatus = (status) => state2.status = status;
  const fire = (event, ...params) => {
    if (state2.released || state2.frozen)
      return;
    api.fire(event, ...params);
  };
  const getFileExtension = () => getExtensionFromFilename(state2.file.name);
  const getFileType = () => state2.file.type;
  const getFileSize = () => state2.file.size;
  const getFile = () => state2.file;
  const load = (source, loader, onload) => {
    state2.source = source;
    api.fireSync("init");
    if (state2.file) {
      api.fireSync("load-skip");
      return;
    }
    state2.file = createFileStub(source);
    loader.on("init", () => {
      fire("load-init");
    });
    loader.on("meta", (meta) => {
      state2.file.size = meta.size;
      state2.file.filename = meta.filename;
      if (meta.source) {
        origin = FileOrigin.LIMBO;
        state2.serverFileReference = meta.source;
        state2.status = ItemStatus.PROCESSING_COMPLETE;
      }
      fire("load-meta");
    });
    loader.on("progress", (progress) => {
      setStatus(ItemStatus.LOADING);
      fire("load-progress", progress);
    });
    loader.on("error", (error2) => {
      setStatus(ItemStatus.LOAD_ERROR);
      fire("load-request-error", error2);
    });
    loader.on("abort", () => {
      setStatus(ItemStatus.INIT);
      fire("load-abort");
    });
    loader.on("load", (file3) => {
      state2.activeLoader = null;
      const success = (result) => {
        state2.file = isFile(result) ? result : state2.file;
        if (origin === FileOrigin.LIMBO && state2.serverFileReference) {
          setStatus(ItemStatus.PROCESSING_COMPLETE);
        } else {
          setStatus(ItemStatus.IDLE);
        }
        fire("load");
      };
      const error2 = (result) => {
        state2.file = file3;
        fire("load-meta");
        setStatus(ItemStatus.LOAD_ERROR);
        fire("load-file-error", result);
      };
      if (state2.serverFileReference) {
        success(file3);
        return;
      }
      onload(file3, success, error2);
    });
    loader.setSource(source);
    state2.activeLoader = loader;
    loader.load();
  };
  const retryLoad = () => {
    if (!state2.activeLoader) {
      return;
    }
    state2.activeLoader.load();
  };
  const abortLoad = () => {
    if (state2.activeLoader) {
      state2.activeLoader.abort();
      return;
    }
    setStatus(ItemStatus.INIT);
    fire("load-abort");
  };
  const process = (processor, onprocess) => {
    if (state2.processingAborted) {
      state2.processingAborted = false;
      return;
    }
    setStatus(ItemStatus.PROCESSING);
    abortProcessingRequestComplete = null;
    if (!(state2.file instanceof Blob)) {
      api.on("load", () => {
        process(processor, onprocess);
      });
      return;
    }
    processor.on("load", (serverFileReference2) => {
      state2.transferId = null;
      state2.serverFileReference = serverFileReference2;
    });
    processor.on("transfer", (transferId) => {
      state2.transferId = transferId;
    });
    processor.on("load-perceived", (serverFileReference2) => {
      state2.activeProcessor = null;
      state2.transferId = null;
      state2.serverFileReference = serverFileReference2;
      setStatus(ItemStatus.PROCESSING_COMPLETE);
      fire("process-complete", serverFileReference2);
    });
    processor.on("start", () => {
      fire("process-start");
    });
    processor.on("error", (error3) => {
      state2.activeProcessor = null;
      setStatus(ItemStatus.PROCESSING_ERROR);
      fire("process-error", error3);
    });
    processor.on("abort", (serverFileReference2) => {
      state2.activeProcessor = null;
      state2.serverFileReference = serverFileReference2;
      setStatus(ItemStatus.IDLE);
      fire("process-abort");
      if (abortProcessingRequestComplete) {
        abortProcessingRequestComplete();
      }
    });
    processor.on("progress", (progress) => {
      fire("process-progress", progress);
    });
    const success = (file3) => {
      if (state2.archived)
        return;
      processor.process(file3, { ...metadata });
    };
    const error2 = console.error;
    onprocess(state2.file, success, error2);
    state2.activeProcessor = processor;
  };
  const requestProcessing = () => {
    state2.processingAborted = false;
    setStatus(ItemStatus.PROCESSING_QUEUED);
  };
  const abortProcessing = () => new Promise((resolve) => {
    if (!state2.activeProcessor) {
      state2.processingAborted = true;
      setStatus(ItemStatus.IDLE);
      fire("process-abort");
      resolve();
      return;
    }
    abortProcessingRequestComplete = () => {
      resolve();
    };
    state2.activeProcessor.abort();
  });
  const revert = (revertFileUpload, forceRevert) => new Promise((resolve, reject) => {
    const serverTransferId = state2.serverFileReference !== null ? state2.serverFileReference : state2.transferId;
    if (serverTransferId === null) {
      resolve();
      return;
    }
    revertFileUpload(
      serverTransferId,
      () => {
        state2.serverFileReference = null;
        state2.transferId = null;
        resolve();
      },
      (error2) => {
        if (!forceRevert) {
          resolve();
          return;
        }
        setStatus(ItemStatus.PROCESSING_REVERT_ERROR);
        fire("process-revert-error");
        reject(error2);
      }
    );
    setStatus(ItemStatus.IDLE);
    fire("process-revert");
  });
  const setMetadata = (key, value, silent) => {
    const keys = key.split(".");
    const root2 = keys[0];
    const last = keys.pop();
    let data3 = metadata;
    keys.forEach((key2) => data3 = data3[key2]);
    if (JSON.stringify(data3[last]) === JSON.stringify(value))
      return;
    data3[last] = value;
    fire("metadata-update", {
      key: root2,
      value: metadata[root2],
      silent
    });
  };
  const getMetadata = (key) => deepCloneObject(key ? metadata[key] : metadata);
  const api = {
    id: { get: () => id },
    origin: { get: () => origin, set: (value) => origin = value },
    serverId: { get: () => state2.serverFileReference },
    transferId: { get: () => state2.transferId },
    status: { get: () => state2.status },
    filename: { get: () => state2.file.name },
    filenameWithoutExtension: { get: () => getFilenameWithoutExtension(state2.file.name) },
    fileExtension: { get: getFileExtension },
    fileType: { get: getFileType },
    fileSize: { get: getFileSize },
    file: { get: getFile },
    relativePath: { get: () => state2.file._relativePath },
    source: { get: () => state2.source },
    getMetadata,
    setMetadata: (key, value, silent) => {
      if (isObject(key)) {
        const data3 = key;
        Object.keys(data3).forEach((key2) => {
          setMetadata(key2, data3[key2], value);
        });
        return key;
      }
      setMetadata(key, value, silent);
      return value;
    },
    extend: (name2, handler) => itemAPI[name2] = handler,
    abortLoad,
    retryLoad,
    requestProcessing,
    abortProcessing,
    load,
    process,
    revert,
    ...on(),
    freeze: () => state2.frozen = true,
    release: () => state2.released = true,
    released: { get: () => state2.released },
    archive: () => state2.archived = true,
    archived: { get: () => state2.archived }
  };
  const itemAPI = createObject(api);
  return itemAPI;
};
var getItemIndexByQuery = (items, query) => {
  if (isEmpty(query)) {
    return 0;
  }
  if (!isString(query)) {
    return -1;
  }
  return items.findIndex((item2) => item2.id === query);
};
var getItemById = (items, itemId) => {
  const index = getItemIndexByQuery(items, itemId);
  if (index < 0) {
    return;
  }
  return items[index] || null;
};
var fetchBlob = (url, load, error2, progress, abort, headers) => {
  const request = sendRequest(null, url, {
    method: "GET",
    responseType: "blob"
  });
  request.onload = (xhr) => {
    const headers2 = xhr.getAllResponseHeaders();
    const filename = getFileInfoFromHeaders(headers2).name || getFilenameFromURL(url);
    load(createResponse("load", xhr.status, getFileFromBlob(xhr.response, filename), headers2));
  };
  request.onerror = (xhr) => {
    error2(createResponse("error", xhr.status, xhr.statusText, xhr.getAllResponseHeaders()));
  };
  request.onheaders = (xhr) => {
    headers(createResponse("headers", xhr.status, null, xhr.getAllResponseHeaders()));
  };
  request.ontimeout = createTimeoutResponse(error2);
  request.onprogress = progress;
  request.onabort = abort;
  return request;
};
var getDomainFromURL = (url) => {
  if (url.indexOf("//") === 0) {
    url = location.protocol + url;
  }
  return url.toLowerCase().replace("blob:", "").replace(/([a-z])?:\/\//, "$1").split("/")[0];
};
var isExternalURL = (url) => (url.indexOf(":") > -1 || url.indexOf("//") > -1) && getDomainFromURL(location.href) !== getDomainFromURL(url);
var dynamicLabel = (label) => (...params) => isFunction(label) ? label(...params) : label;
var isMockItem = (item2) => !isFile(item2.file);
var listUpdated = (dispatch, state2) => {
  clearTimeout(state2.listUpdateTimeout);
  state2.listUpdateTimeout = setTimeout(() => {
    dispatch("DID_UPDATE_ITEMS", { items: getActiveItems(state2.items) });
  }, 0);
};
var optionalPromise = (fn2, ...params) => new Promise((resolve) => {
  if (!fn2) {
    return resolve(true);
  }
  const result = fn2(...params);
  if (result == null) {
    return resolve(true);
  }
  if (typeof result === "boolean") {
    return resolve(result);
  }
  if (typeof result.then === "function") {
    result.then(resolve);
  }
});
var sortItems = (state2, compare) => {
  state2.items.sort((a, b) => compare(createItemAPI(a), createItemAPI(b)));
};
var getItemByQueryFromState = (state2, itemHandler) => ({
  query,
  success = () => {
  },
  failure = () => {
  },
  ...options
} = {}) => {
  const item2 = getItemByQuery(state2.items, query);
  if (!item2) {
    failure({
      error: createResponse("error", 0, "Item not found"),
      file: null
    });
    return;
  }
  itemHandler(item2, success, failure, options || {});
};
var actions = (dispatch, query, state2) => ({
  /**
   * Aborts all ongoing processes
   */
  ABORT_ALL: () => {
    getActiveItems(state2.items).forEach((item2) => {
      item2.freeze();
      item2.abortLoad();
      item2.abortProcessing();
    });
  },
  /**
   * Sets initial files
   */
  DID_SET_FILES: ({ value = [] }) => {
    const files = value.map((file2) => ({
      source: file2.source ? file2.source : file2,
      options: file2.options
    }));
    let activeItems = getActiveItems(state2.items);
    activeItems.forEach((item2) => {
      if (!files.find((file2) => file2.source === item2.source || file2.source === item2.file)) {
        dispatch("REMOVE_ITEM", { query: item2, remove: false });
      }
    });
    activeItems = getActiveItems(state2.items);
    files.forEach((file2, index) => {
      if (activeItems.find((item2) => item2.source === file2.source || item2.file === file2.source))
        return;
      dispatch("ADD_ITEM", {
        ...file2,
        interactionMethod: InteractionMethod.NONE,
        index
      });
    });
  },
  DID_UPDATE_ITEM_METADATA: ({ id, action, change }) => {
    if (change.silent)
      return;
    clearTimeout(state2.itemUpdateTimeout);
    state2.itemUpdateTimeout = setTimeout(() => {
      const item2 = getItemById(state2.items, id);
      if (!query("IS_ASYNC")) {
        applyFilterChain("SHOULD_PREPARE_OUTPUT", false, {
          item: item2,
          query,
          action,
          change
        }).then((shouldPrepareOutput) => {
          const beforePrepareFile = query("GET_BEFORE_PREPARE_FILE");
          if (beforePrepareFile)
            shouldPrepareOutput = beforePrepareFile(item2, shouldPrepareOutput);
          if (!shouldPrepareOutput)
            return;
          dispatch(
            "REQUEST_PREPARE_OUTPUT",
            {
              query: id,
              item: item2,
              success: (file2) => {
                dispatch("DID_PREPARE_OUTPUT", { id, file: file2 });
              }
            },
            true
          );
        });
        return;
      }
      if (item2.origin === FileOrigin.LOCAL) {
        dispatch("DID_LOAD_ITEM", {
          id: item2.id,
          error: null,
          serverFileReference: item2.source
        });
      }
      const upload = () => {
        setTimeout(() => {
          dispatch("REQUEST_ITEM_PROCESSING", { query: id });
        }, 32);
      };
      const revert = (doUpload) => {
        item2.revert(
          createRevertFunction(state2.options.server.url, state2.options.server.revert),
          query("GET_FORCE_REVERT")
        ).then(doUpload ? upload : () => {
        }).catch(() => {
        });
      };
      const abort = (doUpload) => {
        item2.abortProcessing().then(doUpload ? upload : () => {
        });
      };
      if (item2.status === ItemStatus.PROCESSING_COMPLETE) {
        return revert(state2.options.instantUpload);
      }
      if (item2.status === ItemStatus.PROCESSING) {
        return abort(state2.options.instantUpload);
      }
      if (state2.options.instantUpload) {
        upload();
      }
    }, 0);
  },
  MOVE_ITEM: ({ query: query2, index }) => {
    const item2 = getItemByQuery(state2.items, query2);
    if (!item2)
      return;
    const currentIndex = state2.items.indexOf(item2);
    index = limit(index, 0, state2.items.length - 1);
    if (currentIndex === index)
      return;
    state2.items.splice(index, 0, state2.items.splice(currentIndex, 1)[0]);
  },
  SORT: ({ compare }) => {
    sortItems(state2, compare);
    dispatch("DID_SORT_ITEMS", {
      items: query("GET_ACTIVE_ITEMS")
    });
  },
  ADD_ITEMS: ({ items, index, interactionMethod, success = () => {
  }, failure = () => {
  } }) => {
    let currentIndex = index;
    if (index === -1 || typeof index === "undefined") {
      const insertLocation = query("GET_ITEM_INSERT_LOCATION");
      const totalItems = query("GET_TOTAL_ITEMS");
      currentIndex = insertLocation === "before" ? 0 : totalItems;
    }
    const ignoredFiles = query("GET_IGNORED_FILES");
    const isValidFile = (source) => isFile(source) ? !ignoredFiles.includes(source.name.toLowerCase()) : !isEmpty(source);
    const validItems = items.filter(isValidFile);
    const promises = validItems.map(
      (source) => new Promise((resolve, reject) => {
        dispatch("ADD_ITEM", {
          interactionMethod,
          source: source.source || source,
          success: resolve,
          failure: reject,
          index: currentIndex++,
          options: source.options || {}
        });
      })
    );
    Promise.all(promises).then(success).catch(failure);
  },
  /**
   * @param source
   * @param index
   * @param interactionMethod
   */
  ADD_ITEM: ({
    source,
    index = -1,
    interactionMethod,
    success = () => {
    },
    failure = () => {
    },
    options = {}
  }) => {
    if (isEmpty(source)) {
      failure({
        error: createResponse("error", 0, "No source"),
        file: null
      });
      return;
    }
    if (isFile(source) && state2.options.ignoredFiles.includes(source.name.toLowerCase())) {
      return;
    }
    if (!hasRoomForItem(state2)) {
      if (state2.options.allowMultiple || !state2.options.allowMultiple && !state2.options.allowReplace) {
        const error2 = createResponse("warning", 0, "Max files");
        dispatch("DID_THROW_MAX_FILES", {
          source,
          error: error2
        });
        failure({ error: error2, file: null });
        return;
      }
      const item3 = getActiveItems(state2.items)[0];
      if (item3.status === ItemStatus.PROCESSING_COMPLETE || item3.status === ItemStatus.PROCESSING_REVERT_ERROR) {
        const forceRevert = query("GET_FORCE_REVERT");
        item3.revert(
          createRevertFunction(state2.options.server.url, state2.options.server.revert),
          forceRevert
        ).then(() => {
          if (!forceRevert)
            return;
          dispatch("ADD_ITEM", {
            source,
            index,
            interactionMethod,
            success,
            failure,
            options
          });
        }).catch(() => {
        });
        if (forceRevert)
          return;
      }
      dispatch("REMOVE_ITEM", { query: item3.id });
    }
    const origin = options.type === "local" ? FileOrigin.LOCAL : options.type === "limbo" ? FileOrigin.LIMBO : FileOrigin.INPUT;
    const item2 = createItem(
      // where did this file come from
      origin,
      // an input file never has a server file reference
      origin === FileOrigin.INPUT ? null : source,
      // file mock data, if defined
      options.file
    );
    Object.keys(options.metadata || {}).forEach((key) => {
      item2.setMetadata(key, options.metadata[key]);
    });
    applyFilters("DID_CREATE_ITEM", item2, { query, dispatch });
    const itemInsertLocation = query("GET_ITEM_INSERT_LOCATION");
    if (!state2.options.itemInsertLocationFreedom) {
      index = itemInsertLocation === "before" ? -1 : state2.items.length;
    }
    insertItem(state2.items, item2, index);
    if (isFunction(itemInsertLocation) && source) {
      sortItems(state2, itemInsertLocation);
    }
    const id = item2.id;
    item2.on("init", () => {
      dispatch("DID_INIT_ITEM", { id });
    });
    item2.on("load-init", () => {
      dispatch("DID_START_ITEM_LOAD", { id });
    });
    item2.on("load-meta", () => {
      dispatch("DID_UPDATE_ITEM_META", { id });
    });
    item2.on("load-progress", (progress) => {
      dispatch("DID_UPDATE_ITEM_LOAD_PROGRESS", { id, progress });
    });
    item2.on("load-request-error", (error2) => {
      const mainStatus = dynamicLabel(state2.options.labelFileLoadError)(error2);
      if (error2.code >= 400 && error2.code < 500) {
        dispatch("DID_THROW_ITEM_INVALID", {
          id,
          error: error2,
          status: {
            main: mainStatus,
            sub: `${error2.code} (${error2.body})`
          }
        });
        failure({ error: error2, file: createItemAPI(item2) });
        return;
      }
      dispatch("DID_THROW_ITEM_LOAD_ERROR", {
        id,
        error: error2,
        status: {
          main: mainStatus,
          sub: state2.options.labelTapToRetry
        }
      });
    });
    item2.on("load-file-error", (error2) => {
      dispatch("DID_THROW_ITEM_INVALID", {
        id,
        error: error2.status,
        status: error2.status
      });
      failure({ error: error2.status, file: createItemAPI(item2) });
    });
    item2.on("load-abort", () => {
      dispatch("REMOVE_ITEM", { query: id });
    });
    item2.on("load-skip", () => {
      dispatch("COMPLETE_LOAD_ITEM", {
        query: id,
        item: item2,
        data: {
          source,
          success
        }
      });
    });
    item2.on("load", () => {
      const handleAdd = (shouldAdd) => {
        if (!shouldAdd) {
          dispatch("REMOVE_ITEM", {
            query: id
          });
          return;
        }
        item2.on("metadata-update", (change) => {
          dispatch("DID_UPDATE_ITEM_METADATA", { id, change });
        });
        applyFilterChain("SHOULD_PREPARE_OUTPUT", false, { item: item2, query }).then(
          (shouldPrepareOutput) => {
            const beforePrepareFile = query("GET_BEFORE_PREPARE_FILE");
            if (beforePrepareFile)
              shouldPrepareOutput = beforePrepareFile(item2, shouldPrepareOutput);
            const loadComplete = () => {
              dispatch("COMPLETE_LOAD_ITEM", {
                query: id,
                item: item2,
                data: {
                  source,
                  success
                }
              });
              listUpdated(dispatch, state2);
            };
            if (shouldPrepareOutput) {
              dispatch(
                "REQUEST_PREPARE_OUTPUT",
                {
                  query: id,
                  item: item2,
                  success: (file2) => {
                    dispatch("DID_PREPARE_OUTPUT", { id, file: file2 });
                    loadComplete();
                  }
                },
                true
              );
              return;
            }
            loadComplete();
          }
        );
      };
      applyFilterChain("DID_LOAD_ITEM", item2, { query, dispatch }).then(() => {
        optionalPromise(query("GET_BEFORE_ADD_FILE"), createItemAPI(item2)).then(
          handleAdd
        );
      }).catch((e) => {
        if (!e || !e.error || !e.status)
          return handleAdd(false);
        dispatch("DID_THROW_ITEM_INVALID", {
          id,
          error: e.error,
          status: e.status
        });
      });
    });
    item2.on("process-start", () => {
      dispatch("DID_START_ITEM_PROCESSING", { id });
    });
    item2.on("process-progress", (progress) => {
      dispatch("DID_UPDATE_ITEM_PROCESS_PROGRESS", { id, progress });
    });
    item2.on("process-error", (error2) => {
      dispatch("DID_THROW_ITEM_PROCESSING_ERROR", {
        id,
        error: error2,
        status: {
          main: dynamicLabel(state2.options.labelFileProcessingError)(error2),
          sub: state2.options.labelTapToRetry
        }
      });
    });
    item2.on("process-revert-error", (error2) => {
      dispatch("DID_THROW_ITEM_PROCESSING_REVERT_ERROR", {
        id,
        error: error2,
        status: {
          main: dynamicLabel(state2.options.labelFileProcessingRevertError)(error2),
          sub: state2.options.labelTapToRetry
        }
      });
    });
    item2.on("process-complete", (serverFileReference) => {
      dispatch("DID_COMPLETE_ITEM_PROCESSING", {
        id,
        error: null,
        serverFileReference
      });
      dispatch("DID_DEFINE_VALUE", { id, value: serverFileReference });
    });
    item2.on("process-abort", () => {
      dispatch("DID_ABORT_ITEM_PROCESSING", { id });
    });
    item2.on("process-revert", () => {
      dispatch("DID_REVERT_ITEM_PROCESSING", { id });
      dispatch("DID_DEFINE_VALUE", { id, value: null });
    });
    dispatch("DID_ADD_ITEM", { id, index, interactionMethod });
    listUpdated(dispatch, state2);
    const { url, load, restore, fetch: fetch2 } = state2.options.server || {};
    item2.load(
      source,
      // this creates a function that loads the file based on the type of file (string, base64, blob, file) and location of file (local, remote, limbo)
      createFileLoader(
        origin === FileOrigin.INPUT ? (
          // input, if is remote, see if should use custom fetch, else use default fetchBlob
          isString(source) && isExternalURL(source) ? fetch2 ? createFetchFunction(url, fetch2) : fetchBlob : fetchBlob
        ) : (
          // limbo or local
          origin === FileOrigin.LIMBO ? createFetchFunction(url, restore) : createFetchFunction(url, load)
        )
        // local
      ),
      // called when the file is loaded so it can be piped through the filters
      (file2, success2, error2) => {
        applyFilterChain("LOAD_FILE", file2, { query }).then(success2).catch(error2);
      }
    );
  },
  REQUEST_PREPARE_OUTPUT: ({ item: item2, success, failure = () => {
  } }) => {
    const err = {
      error: createResponse("error", 0, "Item not found"),
      file: null
    };
    if (item2.archived)
      return failure(err);
    applyFilterChain("PREPARE_OUTPUT", item2.file, { query, item: item2 }).then((result) => {
      applyFilterChain("COMPLETE_PREPARE_OUTPUT", result, { query, item: item2 }).then((result2) => {
        if (item2.archived)
          return failure(err);
        success(result2);
      });
    });
  },
  COMPLETE_LOAD_ITEM: ({ item: item2, data: data3 }) => {
    const { success, source } = data3;
    const itemInsertLocation = query("GET_ITEM_INSERT_LOCATION");
    if (isFunction(itemInsertLocation) && source) {
      sortItems(state2, itemInsertLocation);
    }
    dispatch("DID_LOAD_ITEM", {
      id: item2.id,
      error: null,
      serverFileReference: item2.origin === FileOrigin.INPUT ? null : source
    });
    success(createItemAPI(item2));
    if (item2.origin === FileOrigin.LOCAL) {
      dispatch("DID_LOAD_LOCAL_ITEM", { id: item2.id });
      return;
    }
    if (item2.origin === FileOrigin.LIMBO) {
      dispatch("DID_COMPLETE_ITEM_PROCESSING", {
        id: item2.id,
        error: null,
        serverFileReference: source
      });
      dispatch("DID_DEFINE_VALUE", {
        id: item2.id,
        value: item2.serverId || source
      });
      return;
    }
    if (query("IS_ASYNC") && state2.options.instantUpload) {
      dispatch("REQUEST_ITEM_PROCESSING", { query: item2.id });
    }
  },
  RETRY_ITEM_LOAD: getItemByQueryFromState(state2, (item2) => {
    item2.retryLoad();
  }),
  REQUEST_ITEM_PREPARE: getItemByQueryFromState(state2, (item2, success, failure) => {
    dispatch(
      "REQUEST_PREPARE_OUTPUT",
      {
        query: item2.id,
        item: item2,
        success: (file2) => {
          dispatch("DID_PREPARE_OUTPUT", { id: item2.id, file: file2 });
          success({
            file: item2,
            output: file2
          });
        },
        failure
      },
      true
    );
  }),
  REQUEST_ITEM_PROCESSING: getItemByQueryFromState(state2, (item2, success, failure) => {
    const itemCanBeQueuedForProcessing = (
      // waiting for something
      item2.status === ItemStatus.IDLE || // processing went wrong earlier
      item2.status === ItemStatus.PROCESSING_ERROR
    );
    if (!itemCanBeQueuedForProcessing) {
      const processNow = () => dispatch("REQUEST_ITEM_PROCESSING", { query: item2, success, failure });
      const process = () => document.hidden ? processNow() : setTimeout(processNow, 32);
      if (item2.status === ItemStatus.PROCESSING_COMPLETE || item2.status === ItemStatus.PROCESSING_REVERT_ERROR) {
        item2.revert(
          createRevertFunction(state2.options.server.url, state2.options.server.revert),
          query("GET_FORCE_REVERT")
        ).then(process).catch(() => {
        });
      } else if (item2.status === ItemStatus.PROCESSING) {
        item2.abortProcessing().then(process);
      }
      return;
    }
    if (item2.status === ItemStatus.PROCESSING_QUEUED)
      return;
    item2.requestProcessing();
    dispatch("DID_REQUEST_ITEM_PROCESSING", { id: item2.id });
    dispatch("PROCESS_ITEM", { query: item2, success, failure }, true);
  }),
  PROCESS_ITEM: getItemByQueryFromState(state2, (item2, success, failure) => {
    const maxParallelUploads = query("GET_MAX_PARALLEL_UPLOADS");
    const totalCurrentUploads = query("GET_ITEMS_BY_STATUS", ItemStatus.PROCESSING).length;
    if (totalCurrentUploads === maxParallelUploads) {
      state2.processingQueue.push({
        id: item2.id,
        success,
        failure
      });
      return;
    }
    if (item2.status === ItemStatus.PROCESSING)
      return;
    const processNext = () => {
      const queueEntry = state2.processingQueue.shift();
      if (!queueEntry)
        return;
      const { id, success: success2, failure: failure2 } = queueEntry;
      const itemReference = getItemByQuery(state2.items, id);
      if (!itemReference || itemReference.archived) {
        processNext();
        return;
      }
      dispatch("PROCESS_ITEM", { query: id, success: success2, failure: failure2 }, true);
    };
    item2.onOnce("process-complete", () => {
      success(createItemAPI(item2));
      processNext();
      const server = state2.options.server;
      const instantUpload = state2.options.instantUpload;
      if (instantUpload && item2.origin === FileOrigin.LOCAL && isFunction(server.remove)) {
        const noop = () => {
        };
        item2.origin = FileOrigin.LIMBO;
        state2.options.server.remove(item2.source, noop, noop);
      }
      const allItemsProcessed = query("GET_ITEMS_BY_STATUS", ItemStatus.PROCESSING_COMPLETE).length === state2.items.length;
      if (allItemsProcessed) {
        dispatch("DID_COMPLETE_ITEM_PROCESSING_ALL");
      }
    });
    item2.onOnce("process-error", (error2) => {
      failure({ error: error2, file: createItemAPI(item2) });
      processNext();
    });
    const options = state2.options;
    item2.process(
      createFileProcessor(
        createProcessorFunction(options.server.url, options.server.process, options.name, {
          chunkTransferId: item2.transferId,
          chunkServer: options.server.patch,
          chunkUploads: options.chunkUploads,
          chunkForce: options.chunkForce,
          chunkSize: options.chunkSize,
          chunkRetryDelays: options.chunkRetryDelays
        }),
        {
          allowMinimumUploadDuration: query("GET_ALLOW_MINIMUM_UPLOAD_DURATION")
        }
      ),
      // called when the file is about to be processed so it can be piped through the transform filters
      (file2, success2, error2) => {
        applyFilterChain("PREPARE_OUTPUT", file2, { query, item: item2 }).then((file3) => {
          dispatch("DID_PREPARE_OUTPUT", { id: item2.id, file: file3 });
          success2(file3);
        }).catch(error2);
      }
    );
  }),
  RETRY_ITEM_PROCESSING: getItemByQueryFromState(state2, (item2) => {
    dispatch("REQUEST_ITEM_PROCESSING", { query: item2 });
  }),
  REQUEST_REMOVE_ITEM: getItemByQueryFromState(state2, (item2) => {
    optionalPromise(query("GET_BEFORE_REMOVE_FILE"), createItemAPI(item2)).then((shouldRemove) => {
      if (!shouldRemove) {
        return;
      }
      dispatch("REMOVE_ITEM", { query: item2 });
    });
  }),
  RELEASE_ITEM: getItemByQueryFromState(state2, (item2) => {
    item2.release();
  }),
  REMOVE_ITEM: getItemByQueryFromState(state2, (item2, success, failure, options) => {
    const removeFromView = () => {
      const id = item2.id;
      getItemById(state2.items, id).archive();
      dispatch("DID_REMOVE_ITEM", { error: null, id, item: item2 });
      listUpdated(dispatch, state2);
      success(createItemAPI(item2));
    };
    const server = state2.options.server;
    if (item2.origin === FileOrigin.LOCAL && server && isFunction(server.remove) && options.remove !== false) {
      dispatch("DID_START_ITEM_REMOVE", { id: item2.id });
      server.remove(
        item2.source,
        () => removeFromView(),
        (status) => {
          dispatch("DID_THROW_ITEM_REMOVE_ERROR", {
            id: item2.id,
            error: createResponse("error", 0, status, null),
            status: {
              main: dynamicLabel(state2.options.labelFileRemoveError)(status),
              sub: state2.options.labelTapToRetry
            }
          });
        }
      );
    } else {
      if (options.revert && item2.origin !== FileOrigin.LOCAL && item2.serverId !== null || // if chunked uploads are enabled and we're uploading in chunks for this specific file
      // or if the file isn't big enough for chunked uploads but chunkForce is set then call
      // revert before removing from the view...
      state2.options.chunkUploads && item2.file.size > state2.options.chunkSize || state2.options.chunkUploads && state2.options.chunkForce) {
        item2.revert(
          createRevertFunction(state2.options.server.url, state2.options.server.revert),
          query("GET_FORCE_REVERT")
        );
      }
      removeFromView();
    }
  }),
  ABORT_ITEM_LOAD: getItemByQueryFromState(state2, (item2) => {
    item2.abortLoad();
  }),
  ABORT_ITEM_PROCESSING: getItemByQueryFromState(state2, (item2) => {
    if (item2.serverId) {
      dispatch("REVERT_ITEM_PROCESSING", { id: item2.id });
      return;
    }
    item2.abortProcessing().then(() => {
      const shouldRemove = state2.options.instantUpload;
      if (shouldRemove) {
        dispatch("REMOVE_ITEM", { query: item2.id });
      }
    });
  }),
  REQUEST_REVERT_ITEM_PROCESSING: getItemByQueryFromState(state2, (item2) => {
    if (!state2.options.instantUpload) {
      dispatch("REVERT_ITEM_PROCESSING", { query: item2 });
      return;
    }
    const handleRevert2 = (shouldRevert) => {
      if (!shouldRevert)
        return;
      dispatch("REVERT_ITEM_PROCESSING", { query: item2 });
    };
    const fn2 = query("GET_BEFORE_REMOVE_FILE");
    if (!fn2) {
      return handleRevert2(true);
    }
    const requestRemoveResult = fn2(createItemAPI(item2));
    if (requestRemoveResult == null) {
      return handleRevert2(true);
    }
    if (typeof requestRemoveResult === "boolean") {
      return handleRevert2(requestRemoveResult);
    }
    if (typeof requestRemoveResult.then === "function") {
      requestRemoveResult.then(handleRevert2);
    }
  }),
  REVERT_ITEM_PROCESSING: getItemByQueryFromState(state2, (item2) => {
    item2.revert(
      createRevertFunction(state2.options.server.url, state2.options.server.revert),
      query("GET_FORCE_REVERT")
    ).then(() => {
      const shouldRemove = state2.options.instantUpload || isMockItem(item2);
      if (shouldRemove) {
        dispatch("REMOVE_ITEM", { query: item2.id });
      }
    }).catch(() => {
    });
  }),
  SET_OPTIONS: ({ options }) => {
    const optionKeys = Object.keys(options);
    const prioritizedOptionKeys = PrioritizedOptions.filter((key) => optionKeys.includes(key));
    const orderedOptionKeys = [
      // add prioritized first if passed to options, else remove
      ...prioritizedOptionKeys,
      // prevent duplicate keys
      ...Object.keys(options).filter((key) => !prioritizedOptionKeys.includes(key))
    ];
    orderedOptionKeys.forEach((key) => {
      dispatch(`SET_${fromCamels(key, "_").toUpperCase()}`, {
        value: options[key]
      });
    });
  }
});
var PrioritizedOptions = [
  "server"
  // must be processed before "files"
];
var formatFilename = (name2) => name2;
var createElement$1 = (tagName) => {
  return document.createElement(tagName);
};
var text = (node, value) => {
  let textNode = node.childNodes[0];
  if (!textNode) {
    textNode = document.createTextNode(value);
    node.appendChild(textNode);
  } else if (value !== textNode.nodeValue) {
    textNode.nodeValue = value;
  }
};
var polarToCartesian = (centerX, centerY, radius, angleInDegrees) => {
  const angleInRadians = (angleInDegrees % 360 - 90) * Math.PI / 180;
  return {
    x: centerX + radius * Math.cos(angleInRadians),
    y: centerY + radius * Math.sin(angleInRadians)
  };
};
var describeArc = (x, y, radius, startAngle, endAngle, arcSweep) => {
  const start = polarToCartesian(x, y, radius, endAngle);
  const end = polarToCartesian(x, y, radius, startAngle);
  return ["M", start.x, start.y, "A", radius, radius, 0, arcSweep, 0, end.x, end.y].join(" ");
};
var percentageArc = (x, y, radius, from, to) => {
  let arcSweep = 1;
  if (to > from && to - from <= 0.5) {
    arcSweep = 0;
  }
  if (from > to && from - to >= 0.5) {
    arcSweep = 0;
  }
  return describeArc(
    x,
    y,
    radius,
    Math.min(0.9999, from) * 360,
    Math.min(0.9999, to) * 360,
    arcSweep
  );
};
var create = ({ root: root2, props }) => {
  props.spin = false;
  props.progress = 0;
  props.opacity = 0;
  const svg3 = createElement("svg");
  root2.ref.path = createElement("path", {
    "stroke-width": 2,
    "stroke-linecap": "round"
  });
  svg3.appendChild(root2.ref.path);
  root2.ref.svg = svg3;
  root2.appendChild(svg3);
};
var write = ({ root: root2, props }) => {
  if (props.opacity === 0) {
    return;
  }
  if (props.align) {
    root2.element.dataset.align = props.align;
  }
  const ringStrokeWidth = parseInt(attr(root2.ref.path, "stroke-width"), 10);
  const size = root2.rect.element.width * 0.5;
  let ringFrom = 0;
  let ringTo = 0;
  if (props.spin) {
    ringFrom = 0;
    ringTo = 0.5;
  } else {
    ringFrom = 0;
    ringTo = props.progress;
  }
  const coordinates = percentageArc(size, size, size - ringStrokeWidth, ringFrom, ringTo);
  attr(root2.ref.path, "d", coordinates);
  attr(root2.ref.path, "stroke-opacity", props.spin || props.progress > 0 ? 1 : 0);
};
var progressIndicator = createView({
  tag: "div",
  name: "progress-indicator",
  ignoreRectUpdate: true,
  ignoreRect: true,
  create,
  write,
  mixins: {
    apis: ["progress", "spin", "align"],
    styles: ["opacity"],
    animations: {
      opacity: { type: "tween", duration: 500 },
      progress: {
        type: "spring",
        stiffness: 0.95,
        damping: 0.65,
        mass: 10
      }
    }
  }
});
var create$1 = ({ root: root2, props }) => {
  root2.element.innerHTML = (props.icon || "") + `<span>${props.label}</span>`;
  props.isDisabled = false;
};
var write$1 = ({ root: root2, props }) => {
  const { isDisabled } = props;
  const shouldDisable = root2.query("GET_DISABLED") || props.opacity === 0;
  if (shouldDisable && !isDisabled) {
    props.isDisabled = true;
    attr(root2.element, "disabled", "disabled");
  } else if (!shouldDisable && isDisabled) {
    props.isDisabled = false;
    root2.element.removeAttribute("disabled");
  }
};
var fileActionButton = createView({
  tag: "button",
  attributes: {
    type: "button"
  },
  ignoreRect: true,
  ignoreRectUpdate: true,
  name: "file-action-button",
  mixins: {
    apis: ["label"],
    styles: ["translateX", "translateY", "scaleX", "scaleY", "opacity"],
    animations: {
      scaleX: "spring",
      scaleY: "spring",
      translateX: "spring",
      translateY: "spring",
      opacity: { type: "tween", duration: 250 }
    },
    listeners: true
  },
  create: create$1,
  write: write$1
});
var toNaturalFileSize = (bytes, decimalSeparator = ".", base = 1e3, options = {}) => {
  const {
    labelBytes = "bytes",
    labelKilobytes = "KB",
    labelMegabytes = "MB",
    labelGigabytes = "GB"
  } = options;
  bytes = Math.round(Math.abs(bytes));
  const KB = base;
  const MB = base * base;
  const GB = base * base * base;
  if (bytes < KB) {
    return `${bytes} ${labelBytes}`;
  }
  if (bytes < MB) {
    return `${Math.floor(bytes / KB)} ${labelKilobytes}`;
  }
  if (bytes < GB) {
    return `${removeDecimalsWhenZero(bytes / MB, 1, decimalSeparator)} ${labelMegabytes}`;
  }
  return `${removeDecimalsWhenZero(bytes / GB, 2, decimalSeparator)} ${labelGigabytes}`;
};
var removeDecimalsWhenZero = (value, decimalCount, separator) => {
  return value.toFixed(decimalCount).split(".").filter((part) => part !== "0").join(separator);
};
var create$2 = ({ root: root2, props }) => {
  const fileName = createElement$1("span");
  fileName.className = "filepond--file-info-main";
  attr(fileName, "aria-hidden", "true");
  root2.appendChild(fileName);
  root2.ref.fileName = fileName;
  const fileSize = createElement$1("span");
  fileSize.className = "filepond--file-info-sub";
  root2.appendChild(fileSize);
  root2.ref.fileSize = fileSize;
  text(fileSize, root2.query("GET_LABEL_FILE_WAITING_FOR_SIZE"));
  text(fileName, formatFilename(root2.query("GET_ITEM_NAME", props.id)));
};
var updateFile = ({ root: root2, props }) => {
  text(
    root2.ref.fileSize,
    toNaturalFileSize(
      root2.query("GET_ITEM_SIZE", props.id),
      ".",
      root2.query("GET_FILE_SIZE_BASE"),
      root2.query("GET_FILE_SIZE_LABELS", root2.query)
    )
  );
  text(root2.ref.fileName, formatFilename(root2.query("GET_ITEM_NAME", props.id)));
};
var updateFileSizeOnError = ({ root: root2, props }) => {
  if (isInt(root2.query("GET_ITEM_SIZE", props.id))) {
    updateFile({ root: root2, props });
    return;
  }
  text(root2.ref.fileSize, root2.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"));
};
var fileInfo = createView({
  name: "file-info",
  ignoreRect: true,
  ignoreRectUpdate: true,
  write: createRoute({
    DID_LOAD_ITEM: updateFile,
    DID_UPDATE_ITEM_META: updateFile,
    DID_THROW_ITEM_LOAD_ERROR: updateFileSizeOnError,
    DID_THROW_ITEM_INVALID: updateFileSizeOnError
  }),
  didCreateView: (root2) => {
    applyFilters("CREATE_VIEW", { ...root2, view: root2 });
  },
  create: create$2,
  mixins: {
    styles: ["translateX", "translateY"],
    animations: {
      translateX: "spring",
      translateY: "spring"
    }
  }
});
var toPercentage = (value) => Math.round(value * 100);
var create$3 = ({ root: root2 }) => {
  const main = createElement$1("span");
  main.className = "filepond--file-status-main";
  root2.appendChild(main);
  root2.ref.main = main;
  const sub = createElement$1("span");
  sub.className = "filepond--file-status-sub";
  root2.appendChild(sub);
  root2.ref.sub = sub;
  didSetItemLoadProgress({ root: root2, action: { progress: null } });
};
var didSetItemLoadProgress = ({ root: root2, action }) => {
  const title = action.progress === null ? root2.query("GET_LABEL_FILE_LOADING") : `${root2.query("GET_LABEL_FILE_LOADING")} ${toPercentage(action.progress)}%`;
  text(root2.ref.main, title);
  text(root2.ref.sub, root2.query("GET_LABEL_TAP_TO_CANCEL"));
};
var didSetItemProcessProgress = ({ root: root2, action }) => {
  const title = action.progress === null ? root2.query("GET_LABEL_FILE_PROCESSING") : `${root2.query("GET_LABEL_FILE_PROCESSING")} ${toPercentage(action.progress)}%`;
  text(root2.ref.main, title);
  text(root2.ref.sub, root2.query("GET_LABEL_TAP_TO_CANCEL"));
};
var didRequestItemProcessing = ({ root: root2 }) => {
  text(root2.ref.main, root2.query("GET_LABEL_FILE_PROCESSING"));
  text(root2.ref.sub, root2.query("GET_LABEL_TAP_TO_CANCEL"));
};
var didAbortItemProcessing = ({ root: root2 }) => {
  text(root2.ref.main, root2.query("GET_LABEL_FILE_PROCESSING_ABORTED"));
  text(root2.ref.sub, root2.query("GET_LABEL_TAP_TO_RETRY"));
};
var didCompleteItemProcessing = ({ root: root2 }) => {
  text(root2.ref.main, root2.query("GET_LABEL_FILE_PROCESSING_COMPLETE"));
  text(root2.ref.sub, root2.query("GET_LABEL_TAP_TO_UNDO"));
};
var clear = ({ root: root2 }) => {
  text(root2.ref.main, "");
  text(root2.ref.sub, "");
};
var error = ({ root: root2, action }) => {
  text(root2.ref.main, action.status.main);
  text(root2.ref.sub, action.status.sub);
};
var fileStatus = createView({
  name: "file-status",
  ignoreRect: true,
  ignoreRectUpdate: true,
  write: createRoute({
    DID_LOAD_ITEM: clear,
    DID_REVERT_ITEM_PROCESSING: clear,
    DID_REQUEST_ITEM_PROCESSING: didRequestItemProcessing,
    DID_ABORT_ITEM_PROCESSING: didAbortItemProcessing,
    DID_COMPLETE_ITEM_PROCESSING: didCompleteItemProcessing,
    DID_UPDATE_ITEM_PROCESS_PROGRESS: didSetItemProcessProgress,
    DID_UPDATE_ITEM_LOAD_PROGRESS: didSetItemLoadProgress,
    DID_THROW_ITEM_LOAD_ERROR: error,
    DID_THROW_ITEM_INVALID: error,
    DID_THROW_ITEM_PROCESSING_ERROR: error,
    DID_THROW_ITEM_PROCESSING_REVERT_ERROR: error,
    DID_THROW_ITEM_REMOVE_ERROR: error
  }),
  didCreateView: (root2) => {
    applyFilters("CREATE_VIEW", { ...root2, view: root2 });
  },
  create: create$3,
  mixins: {
    styles: ["translateX", "translateY", "opacity"],
    animations: {
      opacity: { type: "tween", duration: 250 },
      translateX: "spring",
      translateY: "spring"
    }
  }
});
var Buttons = {
  AbortItemLoad: {
    label: "GET_LABEL_BUTTON_ABORT_ITEM_LOAD",
    action: "ABORT_ITEM_LOAD",
    className: "filepond--action-abort-item-load",
    align: "LOAD_INDICATOR_POSITION"
    // right
  },
  RetryItemLoad: {
    label: "GET_LABEL_BUTTON_RETRY_ITEM_LOAD",
    action: "RETRY_ITEM_LOAD",
    icon: "GET_ICON_RETRY",
    className: "filepond--action-retry-item-load",
    align: "BUTTON_PROCESS_ITEM_POSITION"
    // right
  },
  RemoveItem: {
    label: "GET_LABEL_BUTTON_REMOVE_ITEM",
    action: "REQUEST_REMOVE_ITEM",
    icon: "GET_ICON_REMOVE",
    className: "filepond--action-remove-item",
    align: "BUTTON_REMOVE_ITEM_POSITION"
    // left
  },
  ProcessItem: {
    label: "GET_LABEL_BUTTON_PROCESS_ITEM",
    action: "REQUEST_ITEM_PROCESSING",
    icon: "GET_ICON_PROCESS",
    className: "filepond--action-process-item",
    align: "BUTTON_PROCESS_ITEM_POSITION"
    // right
  },
  AbortItemProcessing: {
    label: "GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",
    action: "ABORT_ITEM_PROCESSING",
    className: "filepond--action-abort-item-processing",
    align: "BUTTON_PROCESS_ITEM_POSITION"
    // right
  },
  RetryItemProcessing: {
    label: "GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",
    action: "RETRY_ITEM_PROCESSING",
    icon: "GET_ICON_RETRY",
    className: "filepond--action-retry-item-processing",
    align: "BUTTON_PROCESS_ITEM_POSITION"
    // right
  },
  RevertItemProcessing: {
    label: "GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",
    action: "REQUEST_REVERT_ITEM_PROCESSING",
    icon: "GET_ICON_UNDO",
    className: "filepond--action-revert-item-processing",
    align: "BUTTON_PROCESS_ITEM_POSITION"
    // right
  }
};
var ButtonKeys = [];
forin(Buttons, (key) => {
  ButtonKeys.push(key);
});
var calculateFileInfoOffset = (root2) => {
  if (getRemoveIndicatorAligment(root2) === "right")
    return 0;
  const buttonRect = root2.ref.buttonRemoveItem.rect.element;
  return buttonRect.hidden ? null : buttonRect.width + buttonRect.left;
};
var calculateButtonWidth = (root2) => {
  const buttonRect = root2.ref.buttonAbortItemLoad.rect.element;
  return buttonRect.width;
};
var calculateFileVerticalCenterOffset = (root2) => Math.floor(root2.ref.buttonRemoveItem.rect.element.height / 4);
var calculateFileHorizontalCenterOffset = (root2) => Math.floor(root2.ref.buttonRemoveItem.rect.element.left / 2);
var getLoadIndicatorAlignment = (root2) => root2.query("GET_STYLE_LOAD_INDICATOR_POSITION");
var getProcessIndicatorAlignment = (root2) => root2.query("GET_STYLE_PROGRESS_INDICATOR_POSITION");
var getRemoveIndicatorAligment = (root2) => root2.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION");
var DefaultStyle = {
  buttonAbortItemLoad: { opacity: 0 },
  buttonRetryItemLoad: { opacity: 0 },
  buttonRemoveItem: { opacity: 0 },
  buttonProcessItem: { opacity: 0 },
  buttonAbortItemProcessing: { opacity: 0 },
  buttonRetryItemProcessing: { opacity: 0 },
  buttonRevertItemProcessing: { opacity: 0 },
  loadProgressIndicator: { opacity: 0, align: getLoadIndicatorAlignment },
  processProgressIndicator: { opacity: 0, align: getProcessIndicatorAlignment },
  processingCompleteIndicator: { opacity: 0, scaleX: 0.75, scaleY: 0.75 },
  info: { translateX: 0, translateY: 0, opacity: 0 },
  status: { translateX: 0, translateY: 0, opacity: 0 }
};
var IdleStyle = {
  buttonRemoveItem: { opacity: 1 },
  buttonProcessItem: { opacity: 1 },
  info: { translateX: calculateFileInfoOffset },
  status: { translateX: calculateFileInfoOffset }
};
var ProcessingStyle = {
  buttonAbortItemProcessing: { opacity: 1 },
  processProgressIndicator: { opacity: 1 },
  status: { opacity: 1 }
};
var StyleMap = {
  DID_THROW_ITEM_INVALID: {
    buttonRemoveItem: { opacity: 1 },
    info: { translateX: calculateFileInfoOffset },
    status: { translateX: calculateFileInfoOffset, opacity: 1 }
  },
  DID_START_ITEM_LOAD: {
    buttonAbortItemLoad: { opacity: 1 },
    loadProgressIndicator: { opacity: 1 },
    status: { opacity: 1 }
  },
  DID_THROW_ITEM_LOAD_ERROR: {
    buttonRetryItemLoad: { opacity: 1 },
    buttonRemoveItem: { opacity: 1 },
    info: { translateX: calculateFileInfoOffset },
    status: { opacity: 1 }
  },
  DID_START_ITEM_REMOVE: {
    processProgressIndicator: { opacity: 1, align: getRemoveIndicatorAligment },
    info: { translateX: calculateFileInfoOffset },
    status: { opacity: 0 }
  },
  DID_THROW_ITEM_REMOVE_ERROR: {
    processProgressIndicator: { opacity: 0, align: getRemoveIndicatorAligment },
    buttonRemoveItem: { opacity: 1 },
    info: { translateX: calculateFileInfoOffset },
    status: { opacity: 1, translateX: calculateFileInfoOffset }
  },
  DID_LOAD_ITEM: IdleStyle,
  DID_LOAD_LOCAL_ITEM: {
    buttonRemoveItem: { opacity: 1 },
    info: { translateX: calculateFileInfoOffset },
    status: { translateX: calculateFileInfoOffset }
  },
  DID_START_ITEM_PROCESSING: ProcessingStyle,
  DID_REQUEST_ITEM_PROCESSING: ProcessingStyle,
  DID_UPDATE_ITEM_PROCESS_PROGRESS: ProcessingStyle,
  DID_COMPLETE_ITEM_PROCESSING: {
    buttonRevertItemProcessing: { opacity: 1 },
    info: { opacity: 1 },
    status: { opacity: 1 }
  },
  DID_THROW_ITEM_PROCESSING_ERROR: {
    buttonRemoveItem: { opacity: 1 },
    buttonRetryItemProcessing: { opacity: 1 },
    status: { opacity: 1 },
    info: { translateX: calculateFileInfoOffset }
  },
  DID_THROW_ITEM_PROCESSING_REVERT_ERROR: {
    buttonRevertItemProcessing: { opacity: 1 },
    status: { opacity: 1 },
    info: { opacity: 1 }
  },
  DID_ABORT_ITEM_PROCESSING: {
    buttonRemoveItem: { opacity: 1 },
    buttonProcessItem: { opacity: 1 },
    info: { translateX: calculateFileInfoOffset },
    status: { opacity: 1 }
  },
  DID_REVERT_ITEM_PROCESSING: IdleStyle
};
var processingCompleteIndicatorView = createView({
  create: ({ root: root2 }) => {
    root2.element.innerHTML = root2.query("GET_ICON_DONE");
  },
  name: "processing-complete-indicator",
  ignoreRect: true,
  mixins: {
    styles: ["scaleX", "scaleY", "opacity"],
    animations: {
      scaleX: "spring",
      scaleY: "spring",
      opacity: { type: "tween", duration: 250 }
    }
  }
});
var create$4 = ({ root: root2, props }) => {
  const LocalButtons = Object.keys(Buttons).reduce((prev, curr) => {
    prev[curr] = { ...Buttons[curr] };
    return prev;
  }, {});
  const { id } = props;
  const allowRevert = root2.query("GET_ALLOW_REVERT");
  const allowRemove = root2.query("GET_ALLOW_REMOVE");
  const allowProcess = root2.query("GET_ALLOW_PROCESS");
  const instantUpload = root2.query("GET_INSTANT_UPLOAD");
  const isAsync2 = root2.query("IS_ASYNC");
  const alignRemoveItemButton = root2.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");
  let buttonFilter;
  if (isAsync2) {
    if (allowProcess && !allowRevert) {
      buttonFilter = (key) => !/RevertItemProcessing/.test(key);
    } else if (!allowProcess && allowRevert) {
      buttonFilter = (key) => !/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(key);
    } else if (!allowProcess && !allowRevert) {
      buttonFilter = (key) => !/Process/.test(key);
    }
  } else {
    buttonFilter = (key) => !/Process/.test(key);
  }
  const enabledButtons = buttonFilter ? ButtonKeys.filter(buttonFilter) : ButtonKeys.concat();
  if (instantUpload && allowRevert) {
    LocalButtons["RevertItemProcessing"].label = "GET_LABEL_BUTTON_REMOVE_ITEM";
    LocalButtons["RevertItemProcessing"].icon = "GET_ICON_REMOVE";
  }
  if (isAsync2 && !allowRevert) {
    const map2 = StyleMap["DID_COMPLETE_ITEM_PROCESSING"];
    map2.info.translateX = calculateFileHorizontalCenterOffset;
    map2.info.translateY = calculateFileVerticalCenterOffset;
    map2.status.translateY = calculateFileVerticalCenterOffset;
    map2.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };
  }
  if (isAsync2 && !allowProcess) {
    [
      "DID_START_ITEM_PROCESSING",
      "DID_REQUEST_ITEM_PROCESSING",
      "DID_UPDATE_ITEM_PROCESS_PROGRESS",
      "DID_THROW_ITEM_PROCESSING_ERROR"
    ].forEach((key) => {
      StyleMap[key].status.translateY = calculateFileVerticalCenterOffset;
    });
    StyleMap["DID_THROW_ITEM_PROCESSING_ERROR"].status.translateX = calculateButtonWidth;
  }
  if (alignRemoveItemButton && allowRevert) {
    LocalButtons["RevertItemProcessing"].align = "BUTTON_REMOVE_ITEM_POSITION";
    const map2 = StyleMap["DID_COMPLETE_ITEM_PROCESSING"];
    map2.info.translateX = calculateFileInfoOffset;
    map2.status.translateY = calculateFileVerticalCenterOffset;
    map2.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };
  }
  if (!allowRemove) {
    LocalButtons["RemoveItem"].disabled = true;
  }
  forin(LocalButtons, (key, definition) => {
    const buttonView = root2.createChildView(fileActionButton, {
      label: root2.query(definition.label),
      icon: root2.query(definition.icon),
      opacity: 0
    });
    if (enabledButtons.includes(key)) {
      root2.appendChildView(buttonView);
    }
    if (definition.disabled) {
      buttonView.element.setAttribute("disabled", "disabled");
      buttonView.element.setAttribute("hidden", "hidden");
    }
    buttonView.element.dataset.align = root2.query(`GET_STYLE_${definition.align}`);
    buttonView.element.classList.add(definition.className);
    buttonView.on("click", (e) => {
      e.stopPropagation();
      if (definition.disabled)
        return;
      root2.dispatch(definition.action, { query: id });
    });
    root2.ref[`button${key}`] = buttonView;
  });
  root2.ref.processingCompleteIndicator = root2.appendChildView(
    root2.createChildView(processingCompleteIndicatorView)
  );
  root2.ref.processingCompleteIndicator.element.dataset.align = root2.query(
    `GET_STYLE_BUTTON_PROCESS_ITEM_POSITION`
  );
  root2.ref.info = root2.appendChildView(root2.createChildView(fileInfo, { id }));
  root2.ref.status = root2.appendChildView(root2.createChildView(fileStatus, { id }));
  const loadIndicatorView = root2.appendChildView(
    root2.createChildView(progressIndicator, {
      opacity: 0,
      align: root2.query(`GET_STYLE_LOAD_INDICATOR_POSITION`)
    })
  );
  loadIndicatorView.element.classList.add("filepond--load-indicator");
  root2.ref.loadProgressIndicator = loadIndicatorView;
  const progressIndicatorView = root2.appendChildView(
    root2.createChildView(progressIndicator, {
      opacity: 0,
      align: root2.query(`GET_STYLE_PROGRESS_INDICATOR_POSITION`)
    })
  );
  progressIndicatorView.element.classList.add("filepond--process-indicator");
  root2.ref.processProgressIndicator = progressIndicatorView;
  root2.ref.activeStyles = [];
};
var write$2 = ({ root: root2, actions: actions2, props }) => {
  route({ root: root2, actions: actions2, props });
  let action = actions2.concat().filter((action2) => /^DID_/.test(action2.type)).reverse().find((action2) => StyleMap[action2.type]);
  if (action) {
    root2.ref.activeStyles = [];
    const stylesToApply = StyleMap[action.type];
    forin(DefaultStyle, (name2, defaultStyles) => {
      const control = root2.ref[name2];
      forin(defaultStyles, (key, defaultValue) => {
        const value = stylesToApply[name2] && typeof stylesToApply[name2][key] !== "undefined" ? stylesToApply[name2][key] : defaultValue;
        root2.ref.activeStyles.push({ control, key, value });
      });
    });
  }
  root2.ref.activeStyles.forEach(({ control, key, value }) => {
    control[key] = typeof value === "function" ? value(root2) : value;
  });
};
var route = createRoute({
  DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING: ({ root: root2, action }) => {
    root2.ref.buttonAbortItemProcessing.label = action.value;
  },
  DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD: ({ root: root2, action }) => {
    root2.ref.buttonAbortItemLoad.label = action.value;
  },
  DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL: ({ root: root2, action }) => {
    root2.ref.buttonAbortItemRemoval.label = action.value;
  },
  DID_REQUEST_ITEM_PROCESSING: ({ root: root2 }) => {
    root2.ref.processProgressIndicator.spin = true;
    root2.ref.processProgressIndicator.progress = 0;
  },
  DID_START_ITEM_LOAD: ({ root: root2 }) => {
    root2.ref.loadProgressIndicator.spin = true;
    root2.ref.loadProgressIndicator.progress = 0;
  },
  DID_START_ITEM_REMOVE: ({ root: root2 }) => {
    root2.ref.processProgressIndicator.spin = true;
    root2.ref.processProgressIndicator.progress = 0;
  },
  DID_UPDATE_ITEM_LOAD_PROGRESS: ({ root: root2, action }) => {
    root2.ref.loadProgressIndicator.spin = false;
    root2.ref.loadProgressIndicator.progress = action.progress;
  },
  DID_UPDATE_ITEM_PROCESS_PROGRESS: ({ root: root2, action }) => {
    root2.ref.processProgressIndicator.spin = false;
    root2.ref.processProgressIndicator.progress = action.progress;
  }
});
var file = createView({
  create: create$4,
  write: write$2,
  didCreateView: (root2) => {
    applyFilters("CREATE_VIEW", { ...root2, view: root2 });
  },
  name: "file"
});
var create$5 = ({ root: root2, props }) => {
  root2.ref.fileName = createElement$1("legend");
  root2.appendChild(root2.ref.fileName);
  root2.ref.file = root2.appendChildView(root2.createChildView(file, { id: props.id }));
  root2.ref.data = false;
};
var didLoadItem = ({ root: root2, props }) => {
  text(root2.ref.fileName, formatFilename(root2.query("GET_ITEM_NAME", props.id)));
};
var fileWrapper = createView({
  create: create$5,
  ignoreRect: true,
  write: createRoute({
    DID_LOAD_ITEM: didLoadItem
  }),
  didCreateView: (root2) => {
    applyFilters("CREATE_VIEW", { ...root2, view: root2 });
  },
  tag: "fieldset",
  name: "file-wrapper"
});
var PANEL_SPRING_PROPS = { type: "spring", damping: 0.6, mass: 7 };
var create$6 = ({ root: root2, props }) => {
  [
    {
      name: "top"
    },
    {
      name: "center",
      props: {
        translateY: null,
        scaleY: null
      },
      mixins: {
        animations: {
          scaleY: PANEL_SPRING_PROPS
        },
        styles: ["translateY", "scaleY"]
      }
    },
    {
      name: "bottom",
      props: {
        translateY: null
      },
      mixins: {
        animations: {
          translateY: PANEL_SPRING_PROPS
        },
        styles: ["translateY"]
      }
    }
  ].forEach((section) => {
    createSection(root2, section, props.name);
  });
  root2.element.classList.add(`filepond--${props.name}`);
  root2.ref.scalable = null;
};
var createSection = (root2, section, className) => {
  const viewConstructor = createView({
    name: `panel-${section.name} filepond--${className}`,
    mixins: section.mixins,
    ignoreRectUpdate: true
  });
  const view = root2.createChildView(viewConstructor, section.props);
  root2.ref[section.name] = root2.appendChildView(view);
};
var write$3 = ({ root: root2, props }) => {
  if (root2.ref.scalable === null || props.scalable !== root2.ref.scalable) {
    root2.ref.scalable = isBoolean(props.scalable) ? props.scalable : true;
    root2.element.dataset.scalable = root2.ref.scalable;
  }
  if (!props.height)
    return;
  const topRect = root2.ref.top.rect.element;
  const bottomRect = root2.ref.bottom.rect.element;
  const height = Math.max(topRect.height + bottomRect.height, props.height);
  root2.ref.center.translateY = topRect.height;
  root2.ref.center.scaleY = (height - topRect.height - bottomRect.height) / 100;
  root2.ref.bottom.translateY = height - bottomRect.height;
};
var panel = createView({
  name: "panel",
  read: ({ root: root2, props }) => props.heightCurrent = root2.ref.bottom.translateY,
  write: write$3,
  create: create$6,
  ignoreRect: true,
  mixins: {
    apis: ["height", "heightCurrent", "scalable"]
  }
});
var createDragHelper = (items) => {
  const itemIds = items.map((item2) => item2.id);
  let prevIndex = void 0;
  return {
    setIndex: (index) => {
      prevIndex = index;
    },
    getIndex: () => prevIndex,
    getItemIndex: (item2) => itemIds.indexOf(item2.id)
  };
};
var ITEM_TRANSLATE_SPRING = {
  type: "spring",
  stiffness: 0.75,
  damping: 0.45,
  mass: 10
};
var ITEM_SCALE_SPRING = "spring";
var StateMap = {
  DID_START_ITEM_LOAD: "busy",
  DID_UPDATE_ITEM_LOAD_PROGRESS: "loading",
  DID_THROW_ITEM_INVALID: "load-invalid",
  DID_THROW_ITEM_LOAD_ERROR: "load-error",
  DID_LOAD_ITEM: "idle",
  DID_THROW_ITEM_REMOVE_ERROR: "remove-error",
  DID_START_ITEM_REMOVE: "busy",
  DID_START_ITEM_PROCESSING: "busy processing",
  DID_REQUEST_ITEM_PROCESSING: "busy processing",
  DID_UPDATE_ITEM_PROCESS_PROGRESS: "processing",
  DID_COMPLETE_ITEM_PROCESSING: "processing-complete",
  DID_THROW_ITEM_PROCESSING_ERROR: "processing-error",
  DID_THROW_ITEM_PROCESSING_REVERT_ERROR: "processing-revert-error",
  DID_ABORT_ITEM_PROCESSING: "cancelled",
  DID_REVERT_ITEM_PROCESSING: "idle"
};
var create$7 = ({ root: root2, props }) => {
  root2.ref.handleClick = (e) => root2.dispatch("DID_ACTIVATE_ITEM", { id: props.id });
  root2.element.id = `filepond--item-${props.id}`;
  root2.element.addEventListener("click", root2.ref.handleClick);
  root2.ref.container = root2.appendChildView(root2.createChildView(fileWrapper, { id: props.id }));
  root2.ref.panel = root2.appendChildView(root2.createChildView(panel, { name: "item-panel" }));
  root2.ref.panel.height = null;
  props.markedForRemoval = false;
  if (!root2.query("GET_ALLOW_REORDER"))
    return;
  root2.element.dataset.dragState = "idle";
  const grab = (e) => {
    if (!e.isPrimary)
      return;
    let removedActivateListener = false;
    const origin = {
      x: e.pageX,
      y: e.pageY
    };
    props.dragOrigin = {
      x: root2.translateX,
      y: root2.translateY
    };
    props.dragCenter = {
      x: e.offsetX,
      y: e.offsetY
    };
    const dragState = createDragHelper(root2.query("GET_ACTIVE_ITEMS"));
    root2.dispatch("DID_GRAB_ITEM", { id: props.id, dragState });
    const drag = (e2) => {
      if (!e2.isPrimary)
        return;
      e2.stopPropagation();
      e2.preventDefault();
      props.dragOffset = {
        x: e2.pageX - origin.x,
        y: e2.pageY - origin.y
      };
      const dist = props.dragOffset.x * props.dragOffset.x + props.dragOffset.y * props.dragOffset.y;
      if (dist > 16 && !removedActivateListener) {
        removedActivateListener = true;
        root2.element.removeEventListener("click", root2.ref.handleClick);
      }
      root2.dispatch("DID_DRAG_ITEM", { id: props.id, dragState });
    };
    const drop2 = (e2) => {
      if (!e2.isPrimary)
        return;
      document.removeEventListener("pointermove", drag);
      document.removeEventListener("pointerup", drop2);
      props.dragOffset = {
        x: e2.pageX - origin.x,
        y: e2.pageY - origin.y
      };
      root2.dispatch("DID_DROP_ITEM", { id: props.id, dragState });
      if (removedActivateListener) {
        setTimeout(() => root2.element.addEventListener("click", root2.ref.handleClick), 0);
      }
    };
    document.addEventListener("pointermove", drag);
    document.addEventListener("pointerup", drop2);
  };
  root2.element.addEventListener("pointerdown", grab);
};
var route$1 = createRoute({
  DID_UPDATE_PANEL_HEIGHT: ({ root: root2, action }) => {
    root2.height = action.height;
  }
});
var write$4 = createRoute(
  {
    DID_GRAB_ITEM: ({ root: root2, props }) => {
      props.dragOrigin = {
        x: root2.translateX,
        y: root2.translateY
      };
    },
    DID_DRAG_ITEM: ({ root: root2 }) => {
      root2.element.dataset.dragState = "drag";
    },
    DID_DROP_ITEM: ({ root: root2, props }) => {
      props.dragOffset = null;
      props.dragOrigin = null;
      root2.element.dataset.dragState = "drop";
    }
  },
  ({ root: root2, actions: actions2, props, shouldOptimize }) => {
    if (root2.element.dataset.dragState === "drop") {
      if (root2.scaleX <= 1) {
        root2.element.dataset.dragState = "idle";
      }
    }
    let action = actions2.concat().filter((action2) => /^DID_/.test(action2.type)).reverse().find((action2) => StateMap[action2.type]);
    if (action && action.type !== props.currentState) {
      props.currentState = action.type;
      root2.element.dataset.filepondItemState = StateMap[props.currentState] || "";
    }
    const aspectRatio = root2.query("GET_ITEM_PANEL_ASPECT_RATIO") || root2.query("GET_PANEL_ASPECT_RATIO");
    if (!aspectRatio) {
      route$1({ root: root2, actions: actions2, props });
      if (!root2.height && root2.ref.container.rect.element.height > 0) {
        root2.height = root2.ref.container.rect.element.height;
      }
    } else if (!shouldOptimize) {
      root2.height = root2.rect.element.width * aspectRatio;
    }
    if (shouldOptimize) {
      root2.ref.panel.height = null;
    }
    root2.ref.panel.height = root2.height;
  }
);
var item = createView({
  create: create$7,
  write: write$4,
  destroy: ({ root: root2, props }) => {
    root2.element.removeEventListener("click", root2.ref.handleClick);
    root2.dispatch("RELEASE_ITEM", { query: props.id });
  },
  tag: "li",
  name: "item",
  mixins: {
    apis: [
      "id",
      "interactionMethod",
      "markedForRemoval",
      "spawnDate",
      "dragCenter",
      "dragOrigin",
      "dragOffset"
    ],
    styles: ["translateX", "translateY", "scaleX", "scaleY", "opacity", "height"],
    animations: {
      scaleX: ITEM_SCALE_SPRING,
      scaleY: ITEM_SCALE_SPRING,
      translateX: ITEM_TRANSLATE_SPRING,
      translateY: ITEM_TRANSLATE_SPRING,
      opacity: { type: "tween", duration: 150 }
    }
  }
});
var getItemsPerRow = (horizontalSpace, itemWidth) => {
  return Math.max(1, Math.floor((horizontalSpace + 1) / itemWidth));
};
var getItemIndexByPosition = (view, children, positionInView) => {
  if (!positionInView)
    return;
  const horizontalSpace = view.rect.element.width;
  const l = children.length;
  let last = null;
  if (l === 0 || positionInView.top < children[0].rect.element.top)
    return -1;
  const item2 = children[0];
  const itemRect = item2.rect.element;
  const itemHorizontalMargin = itemRect.marginLeft + itemRect.marginRight;
  const itemWidth = itemRect.width + itemHorizontalMargin;
  const itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);
  if (itemsPerRow === 1) {
    for (let index = 0; index < l; index++) {
      const child = children[index];
      const childMid = child.rect.outer.top + child.rect.element.height * 0.5;
      if (positionInView.top < childMid) {
        return index;
      }
    }
    return l;
  }
  const itemVerticalMargin = itemRect.marginTop + itemRect.marginBottom;
  const itemHeight = itemRect.height + itemVerticalMargin;
  for (let index = 0; index < l; index++) {
    const indexX = index % itemsPerRow;
    const indexY = Math.floor(index / itemsPerRow);
    const offsetX = indexX * itemWidth;
    const offsetY = indexY * itemHeight;
    const itemTop = offsetY - itemRect.marginTop;
    const itemRight = offsetX + itemWidth;
    const itemBottom = offsetY + itemHeight + itemRect.marginBottom;
    if (positionInView.top < itemBottom && positionInView.top > itemTop) {
      if (positionInView.left < itemRight) {
        return index;
      } else if (index !== l - 1) {
        last = index;
      } else {
        last = null;
      }
    }
  }
  if (last !== null) {
    return last;
  }
  return l;
};
var dropAreaDimensions = {
  height: 0,
  width: 0,
  get getHeight() {
    return this.height;
  },
  set setHeight(val) {
    if (this.height === 0 || val === 0)
      this.height = val;
  },
  get getWidth() {
    return this.width;
  },
  set setWidth(val) {
    if (this.width === 0 || val === 0)
      this.width = val;
  },
  setDimensions: function(height, width) {
    if (this.height === 0 || height === 0)
      this.height = height;
    if (this.width === 0 || width === 0)
      this.width = width;
  }
};
var create$8 = ({ root: root2 }) => {
  attr(root2.element, "role", "list");
  root2.ref.lastItemSpanwDate = Date.now();
};
var addItemView = ({ root: root2, action }) => {
  const { id, index, interactionMethod } = action;
  root2.ref.addIndex = index;
  const now = Date.now();
  let spawnDate = now;
  let opacity = 1;
  if (interactionMethod !== InteractionMethod.NONE) {
    opacity = 0;
    const cooldown = root2.query("GET_ITEM_INSERT_INTERVAL");
    const dist = now - root2.ref.lastItemSpanwDate;
    spawnDate = dist < cooldown ? now + (cooldown - dist) : now;
  }
  root2.ref.lastItemSpanwDate = spawnDate;
  root2.appendChildView(
    root2.createChildView(
      // view type
      item,
      // props
      {
        spawnDate,
        id,
        opacity,
        interactionMethod
      }
    ),
    index
  );
};
var moveItem = (item2, x, y, vx = 0, vy = 1) => {
  if (item2.dragOffset) {
    item2.translateX = null;
    item2.translateY = null;
    item2.translateX = item2.dragOrigin.x + item2.dragOffset.x;
    item2.translateY = item2.dragOrigin.y + item2.dragOffset.y;
    item2.scaleX = 1.025;
    item2.scaleY = 1.025;
  } else {
    item2.translateX = x;
    item2.translateY = y;
    if (Date.now() > item2.spawnDate) {
      if (item2.opacity === 0) {
        introItemView(item2, x, y, vx, vy);
      }
      item2.scaleX = 1;
      item2.scaleY = 1;
      item2.opacity = 1;
    }
  }
};
var introItemView = (item2, x, y, vx, vy) => {
  if (item2.interactionMethod === InteractionMethod.NONE) {
    item2.translateX = null;
    item2.translateX = x;
    item2.translateY = null;
    item2.translateY = y;
  } else if (item2.interactionMethod === InteractionMethod.DROP) {
    item2.translateX = null;
    item2.translateX = x - vx * 20;
    item2.translateY = null;
    item2.translateY = y - vy * 10;
    item2.scaleX = 0.8;
    item2.scaleY = 0.8;
  } else if (item2.interactionMethod === InteractionMethod.BROWSE) {
    item2.translateY = null;
    item2.translateY = y - 30;
  } else if (item2.interactionMethod === InteractionMethod.API) {
    item2.translateX = null;
    item2.translateX = x - 30;
    item2.translateY = null;
  }
};
var removeItemView = ({ root: root2, action }) => {
  const { id } = action;
  const view = root2.childViews.find((child) => child.id === id);
  if (!view) {
    return;
  }
  view.scaleX = 0.9;
  view.scaleY = 0.9;
  view.opacity = 0;
  view.markedForRemoval = true;
};
var getItemHeight = (child) => child.rect.element.height + child.rect.element.marginBottom * 0.5 + child.rect.element.marginTop * 0.5;
var getItemWidth = (child) => child.rect.element.width + child.rect.element.marginLeft * 0.5 + child.rect.element.marginRight * 0.5;
var dragItem = ({ root: root2, action }) => {
  const { id, dragState } = action;
  const item2 = root2.query("GET_ITEM", { id });
  const view = root2.childViews.find((child) => child.id === id);
  const numItems = root2.childViews.length;
  const oldIndex = dragState.getItemIndex(item2);
  if (!view)
    return;
  const dragPosition = {
    x: view.dragOrigin.x + view.dragOffset.x + view.dragCenter.x,
    y: view.dragOrigin.y + view.dragOffset.y + view.dragCenter.y
  };
  const dragHeight = getItemHeight(view);
  const dragWidth = getItemWidth(view);
  let cols = Math.floor(root2.rect.outer.width / dragWidth);
  if (cols > numItems)
    cols = numItems;
  const rows = Math.floor(numItems / cols + 1);
  dropAreaDimensions.setHeight = dragHeight * rows;
  dropAreaDimensions.setWidth = dragWidth * cols;
  var location2 = {
    y: Math.floor(dragPosition.y / dragHeight),
    x: Math.floor(dragPosition.x / dragWidth),
    getGridIndex: function getGridIndex() {
      if (dragPosition.y > dropAreaDimensions.getHeight || dragPosition.y < 0 || dragPosition.x > dropAreaDimensions.getWidth || dragPosition.x < 0)
        return oldIndex;
      return this.y * cols + this.x;
    },
    getColIndex: function getColIndex() {
      const items = root2.query("GET_ACTIVE_ITEMS");
      const visibleChildren = root2.childViews.filter((child) => child.rect.element.height);
      const children = items.map(
        (item3) => visibleChildren.find((childView) => childView.id === item3.id)
      );
      const currentIndex2 = children.findIndex((child) => child === view);
      const dragHeight2 = getItemHeight(view);
      const l = children.length;
      let idx = l;
      let childHeight = 0;
      let childBottom = 0;
      let childTop = 0;
      for (let i = 0; i < l; i++) {
        childHeight = getItemHeight(children[i]);
        childTop = childBottom;
        childBottom = childTop + childHeight;
        if (dragPosition.y < childBottom) {
          if (currentIndex2 > i) {
            if (dragPosition.y < childTop + dragHeight2) {
              idx = i;
              break;
            }
            continue;
          }
          idx = i;
          break;
        }
      }
      return idx;
    }
  };
  const index = cols > 1 ? location2.getGridIndex() : location2.getColIndex();
  root2.dispatch("MOVE_ITEM", { query: view, index });
  const currentIndex = dragState.getIndex();
  if (currentIndex === void 0 || currentIndex !== index) {
    dragState.setIndex(index);
    if (currentIndex === void 0)
      return;
    root2.dispatch("DID_REORDER_ITEMS", {
      items: root2.query("GET_ACTIVE_ITEMS"),
      origin: oldIndex,
      target: index
    });
  }
};
var route$2 = createRoute({
  DID_ADD_ITEM: addItemView,
  DID_REMOVE_ITEM: removeItemView,
  DID_DRAG_ITEM: dragItem
});
var write$5 = ({ root: root2, props, actions: actions2, shouldOptimize }) => {
  route$2({ root: root2, props, actions: actions2 });
  const { dragCoordinates } = props;
  const horizontalSpace = root2.rect.element.width;
  const visibleChildren = root2.childViews.filter((child) => child.rect.element.height);
  const children = root2.query("GET_ACTIVE_ITEMS").map((item2) => visibleChildren.find((child) => child.id === item2.id)).filter((item2) => item2);
  const dragIndex = dragCoordinates ? getItemIndexByPosition(root2, children, dragCoordinates) : null;
  const addIndex = root2.ref.addIndex || null;
  root2.ref.addIndex = null;
  let dragIndexOffset = 0;
  let removeIndexOffset = 0;
  let addIndexOffset = 0;
  if (children.length === 0)
    return;
  const childRect = children[0].rect.element;
  const itemVerticalMargin = childRect.marginTop + childRect.marginBottom;
  const itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;
  const itemWidth = childRect.width + itemHorizontalMargin;
  const itemHeight = childRect.height + itemVerticalMargin;
  const itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);
  if (itemsPerRow === 1) {
    let offsetY = 0;
    let dragOffset = 0;
    children.forEach((child, index) => {
      if (dragIndex) {
        let dist = index - dragIndex;
        if (dist === -2) {
          dragOffset = -itemVerticalMargin * 0.25;
        } else if (dist === -1) {
          dragOffset = -itemVerticalMargin * 0.75;
        } else if (dist === 0) {
          dragOffset = itemVerticalMargin * 0.75;
        } else if (dist === 1) {
          dragOffset = itemVerticalMargin * 0.25;
        } else {
          dragOffset = 0;
        }
      }
      if (shouldOptimize) {
        child.translateX = null;
        child.translateY = null;
      }
      if (!child.markedForRemoval) {
        moveItem(child, 0, offsetY + dragOffset);
      }
      let itemHeight2 = child.rect.element.height + itemVerticalMargin;
      let visualHeight = itemHeight2 * (child.markedForRemoval ? child.opacity : 1);
      offsetY += visualHeight;
    });
  } else {
    let prevX = 0;
    let prevY = 0;
    children.forEach((child, index) => {
      if (index === dragIndex) {
        dragIndexOffset = 1;
      }
      if (index === addIndex) {
        addIndexOffset += 1;
      }
      if (child.markedForRemoval && child.opacity < 0.5) {
        removeIndexOffset -= 1;
      }
      const visualIndex = index + addIndexOffset + dragIndexOffset + removeIndexOffset;
      const indexX = visualIndex % itemsPerRow;
      const indexY = Math.floor(visualIndex / itemsPerRow);
      const offsetX = indexX * itemWidth;
      const offsetY = indexY * itemHeight;
      const vectorX = Math.sign(offsetX - prevX);
      const vectorY = Math.sign(offsetY - prevY);
      prevX = offsetX;
      prevY = offsetY;
      if (child.markedForRemoval)
        return;
      if (shouldOptimize) {
        child.translateX = null;
        child.translateY = null;
      }
      moveItem(child, offsetX, offsetY, vectorX, vectorY);
    });
  }
};
var filterSetItemActions = (child, actions2) => actions2.filter((action) => {
  if (action.data && action.data.id) {
    return child.id === action.data.id;
  }
  return true;
});
var list = createView({
  create: create$8,
  write: write$5,
  tag: "ul",
  name: "list",
  didWriteView: ({ root: root2 }) => {
    root2.childViews.filter((view) => view.markedForRemoval && view.opacity === 0 && view.resting).forEach((view) => {
      view._destroy();
      root2.removeChildView(view);
    });
  },
  filterFrameActionsForChild: filterSetItemActions,
  mixins: {
    apis: ["dragCoordinates"]
  }
});
var create$9 = ({ root: root2, props }) => {
  root2.ref.list = root2.appendChildView(root2.createChildView(list));
  props.dragCoordinates = null;
  props.overflowing = false;
};
var storeDragCoordinates = ({ root: root2, props, action }) => {
  if (!root2.query("GET_ITEM_INSERT_LOCATION_FREEDOM"))
    return;
  props.dragCoordinates = {
    left: action.position.scopeLeft - root2.ref.list.rect.element.left,
    top: action.position.scopeTop - (root2.rect.outer.top + root2.rect.element.marginTop + root2.rect.element.scrollTop)
  };
};
var clearDragCoordinates = ({ props }) => {
  props.dragCoordinates = null;
};
var route$3 = createRoute({
  DID_DRAG: storeDragCoordinates,
  DID_END_DRAG: clearDragCoordinates
});
var write$6 = ({ root: root2, props, actions: actions2 }) => {
  route$3({ root: root2, props, actions: actions2 });
  root2.ref.list.dragCoordinates = props.dragCoordinates;
  if (props.overflowing && !props.overflow) {
    props.overflowing = false;
    root2.element.dataset.state = "";
    root2.height = null;
  }
  if (props.overflow) {
    const newHeight = Math.round(props.overflow);
    if (newHeight !== root2.height) {
      props.overflowing = true;
      root2.element.dataset.state = "overflow";
      root2.height = newHeight;
    }
  }
};
var listScroller = createView({
  create: create$9,
  write: write$6,
  name: "list-scroller",
  mixins: {
    apis: ["overflow", "dragCoordinates"],
    styles: ["height", "translateY"],
    animations: {
      translateY: "spring"
    }
  }
});
var attrToggle = (element, name2, state2, enabledValue = "") => {
  if (state2) {
    attr(element, name2, enabledValue);
  } else {
    element.removeAttribute(name2);
  }
};
var resetFileInput = (input) => {
  if (!input || input.value === "") {
    return;
  }
  try {
    input.value = "";
  } catch (err) {
  }
  if (input.value) {
    const form = createElement$1("form");
    const parentNode = input.parentNode;
    const ref = input.nextSibling;
    form.appendChild(input);
    form.reset();
    if (ref) {
      parentNode.insertBefore(input, ref);
    } else {
      parentNode.appendChild(input);
    }
  }
};
var create$a = ({ root: root2, props }) => {
  root2.element.id = `filepond--browser-${props.id}`;
  attr(root2.element, "name", root2.query("GET_NAME"));
  attr(root2.element, "aria-controls", `filepond--assistant-${props.id}`);
  attr(root2.element, "aria-labelledby", `filepond--drop-label-${props.id}`);
  setAcceptedFileTypes({ root: root2, action: { value: root2.query("GET_ACCEPTED_FILE_TYPES") } });
  toggleAllowMultiple({ root: root2, action: { value: root2.query("GET_ALLOW_MULTIPLE") } });
  toggleDirectoryFilter({ root: root2, action: { value: root2.query("GET_ALLOW_DIRECTORIES_ONLY") } });
  toggleDisabled({ root: root2 });
  toggleRequired({ root: root2, action: { value: root2.query("GET_REQUIRED") } });
  setCaptureMethod({ root: root2, action: { value: root2.query("GET_CAPTURE_METHOD") } });
  root2.ref.handleChange = (e) => {
    if (!root2.element.value) {
      return;
    }
    const files = Array.from(root2.element.files).map((file2) => {
      file2._relativePath = file2.webkitRelativePath;
      return file2;
    });
    setTimeout(() => {
      props.onload(files);
      resetFileInput(root2.element);
    }, 250);
  };
  root2.element.addEventListener("change", root2.ref.handleChange);
};
var setAcceptedFileTypes = ({ root: root2, action }) => {
  if (!root2.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE"))
    return;
  attrToggle(root2.element, "accept", !!action.value, action.value ? action.value.join(",") : "");
};
var toggleAllowMultiple = ({ root: root2, action }) => {
  attrToggle(root2.element, "multiple", action.value);
};
var toggleDirectoryFilter = ({ root: root2, action }) => {
  attrToggle(root2.element, "webkitdirectory", action.value);
};
var toggleDisabled = ({ root: root2 }) => {
  const isDisabled = root2.query("GET_DISABLED");
  const doesAllowBrowse = root2.query("GET_ALLOW_BROWSE");
  const disableField = isDisabled || !doesAllowBrowse;
  attrToggle(root2.element, "disabled", disableField);
};
var toggleRequired = ({ root: root2, action }) => {
  if (!action.value) {
    attrToggle(root2.element, "required", false);
  } else if (root2.query("GET_TOTAL_ITEMS") === 0) {
    attrToggle(root2.element, "required", true);
  }
};
var setCaptureMethod = ({ root: root2, action }) => {
  attrToggle(root2.element, "capture", !!action.value, action.value === true ? "" : action.value);
};
var updateRequiredStatus = ({ root: root2 }) => {
  const { element } = root2;
  if (root2.query("GET_TOTAL_ITEMS") > 0) {
    attrToggle(element, "required", false);
    attrToggle(element, "name", false);
  } else {
    attrToggle(element, "name", true, root2.query("GET_NAME"));
    const shouldCheckValidity = root2.query("GET_CHECK_VALIDITY");
    if (shouldCheckValidity) {
      element.setCustomValidity("");
    }
    if (root2.query("GET_REQUIRED")) {
      attrToggle(element, "required", true);
    }
  }
};
var updateFieldValidityStatus = ({ root: root2 }) => {
  const shouldCheckValidity = root2.query("GET_CHECK_VALIDITY");
  if (!shouldCheckValidity)
    return;
  root2.element.setCustomValidity(root2.query("GET_LABEL_INVALID_FIELD"));
};
var browser = createView({
  tag: "input",
  name: "browser",
  ignoreRect: true,
  ignoreRectUpdate: true,
  attributes: {
    type: "file"
  },
  create: create$a,
  destroy: ({ root: root2 }) => {
    root2.element.removeEventListener("change", root2.ref.handleChange);
  },
  write: createRoute({
    DID_LOAD_ITEM: updateRequiredStatus,
    DID_REMOVE_ITEM: updateRequiredStatus,
    DID_THROW_ITEM_INVALID: updateFieldValidityStatus,
    DID_SET_DISABLED: toggleDisabled,
    DID_SET_ALLOW_BROWSE: toggleDisabled,
    DID_SET_ALLOW_DIRECTORIES_ONLY: toggleDirectoryFilter,
    DID_SET_ALLOW_MULTIPLE: toggleAllowMultiple,
    DID_SET_ACCEPTED_FILE_TYPES: setAcceptedFileTypes,
    DID_SET_CAPTURE_METHOD: setCaptureMethod,
    DID_SET_REQUIRED: toggleRequired
  })
});
var Key = {
  ENTER: 13,
  SPACE: 32
};
var create$b = ({ root: root2, props }) => {
  const label = createElement$1("label");
  attr(label, "for", `filepond--browser-${props.id}`);
  attr(label, "id", `filepond--drop-label-${props.id}`);
  attr(label, "aria-hidden", "true");
  root2.ref.handleKeyDown = (e) => {
    const isActivationKey = e.keyCode === Key.ENTER || e.keyCode === Key.SPACE;
    if (!isActivationKey)
      return;
    e.preventDefault();
    root2.ref.label.click();
  };
  root2.ref.handleClick = (e) => {
    const isLabelClick = e.target === label || label.contains(e.target);
    if (isLabelClick)
      return;
    root2.ref.label.click();
  };
  label.addEventListener("keydown", root2.ref.handleKeyDown);
  root2.element.addEventListener("click", root2.ref.handleClick);
  updateLabelValue(label, props.caption);
  root2.appendChild(label);
  root2.ref.label = label;
};
var updateLabelValue = (label, value) => {
  label.innerHTML = value;
  const clickable = label.querySelector(".filepond--label-action");
  if (clickable) {
    attr(clickable, "tabindex", "0");
  }
  return value;
};
var dropLabel = createView({
  name: "drop-label",
  ignoreRect: true,
  create: create$b,
  destroy: ({ root: root2 }) => {
    root2.ref.label.addEventListener("keydown", root2.ref.handleKeyDown);
    root2.element.removeEventListener("click", root2.ref.handleClick);
  },
  write: createRoute({
    DID_SET_LABEL_IDLE: ({ root: root2, action }) => {
      updateLabelValue(root2.ref.label, action.value);
    }
  }),
  mixins: {
    styles: ["opacity", "translateX", "translateY"],
    animations: {
      opacity: { type: "tween", duration: 150 },
      translateX: "spring",
      translateY: "spring"
    }
  }
});
var blob = createView({
  name: "drip-blob",
  ignoreRect: true,
  mixins: {
    styles: ["translateX", "translateY", "scaleX", "scaleY", "opacity"],
    animations: {
      scaleX: "spring",
      scaleY: "spring",
      translateX: "spring",
      translateY: "spring",
      opacity: { type: "tween", duration: 250 }
    }
  }
});
var addBlob = ({ root: root2 }) => {
  const centerX = root2.rect.element.width * 0.5;
  const centerY = root2.rect.element.height * 0.5;
  root2.ref.blob = root2.appendChildView(
    root2.createChildView(blob, {
      opacity: 0,
      scaleX: 2.5,
      scaleY: 2.5,
      translateX: centerX,
      translateY: centerY
    })
  );
};
var moveBlob = ({ root: root2, action }) => {
  if (!root2.ref.blob) {
    addBlob({ root: root2 });
    return;
  }
  root2.ref.blob.translateX = action.position.scopeLeft;
  root2.ref.blob.translateY = action.position.scopeTop;
  root2.ref.blob.scaleX = 1;
  root2.ref.blob.scaleY = 1;
  root2.ref.blob.opacity = 1;
};
var hideBlob = ({ root: root2 }) => {
  if (!root2.ref.blob) {
    return;
  }
  root2.ref.blob.opacity = 0;
};
var explodeBlob = ({ root: root2 }) => {
  if (!root2.ref.blob) {
    return;
  }
  root2.ref.blob.scaleX = 2.5;
  root2.ref.blob.scaleY = 2.5;
  root2.ref.blob.opacity = 0;
};
var write$7 = ({ root: root2, props, actions: actions2 }) => {
  route$4({ root: root2, props, actions: actions2 });
  const { blob: blob2 } = root2.ref;
  if (actions2.length === 0 && blob2 && blob2.opacity === 0) {
    root2.removeChildView(blob2);
    root2.ref.blob = null;
  }
};
var route$4 = createRoute({
  DID_DRAG: moveBlob,
  DID_DROP: explodeBlob,
  DID_END_DRAG: hideBlob
});
var drip = createView({
  ignoreRect: true,
  ignoreRectUpdate: true,
  name: "drip",
  write: write$7
});
var setInputFiles = (element, files) => {
  try {
    const dataTransfer = new DataTransfer();
    files.forEach((file2) => {
      if (file2 instanceof File) {
        dataTransfer.items.add(file2);
      } else {
        dataTransfer.items.add(
          new File([file2], file2.name, {
            type: file2.type
          })
        );
      }
    });
    element.files = dataTransfer.files;
  } catch (err) {
    return false;
  }
  return true;
};
var create$c = ({ root: root2 }) => root2.ref.fields = {};
var getField = (root2, id) => root2.ref.fields[id];
var syncFieldPositionsWithItems = (root2) => {
  root2.query("GET_ACTIVE_ITEMS").forEach((item2) => {
    if (!root2.ref.fields[item2.id])
      return;
    root2.element.appendChild(root2.ref.fields[item2.id]);
  });
};
var didReorderItems = ({ root: root2 }) => syncFieldPositionsWithItems(root2);
var didAddItem = ({ root: root2, action }) => {
  const fileItem = root2.query("GET_ITEM", action.id);
  const isLocalFile = fileItem.origin === FileOrigin.LOCAL;
  const shouldUseFileInput = !isLocalFile && root2.query("SHOULD_UPDATE_FILE_INPUT");
  const dataContainer = createElement$1("input");
  dataContainer.type = shouldUseFileInput ? "file" : "hidden";
  dataContainer.name = root2.query("GET_NAME");
  dataContainer.disabled = root2.query("GET_DISABLED");
  root2.ref.fields[action.id] = dataContainer;
  syncFieldPositionsWithItems(root2);
};
var didLoadItem$1 = ({ root: root2, action }) => {
  const field = getField(root2, action.id);
  if (!field)
    return;
  if (action.serverFileReference !== null)
    field.value = action.serverFileReference;
  if (!root2.query("SHOULD_UPDATE_FILE_INPUT"))
    return;
  const fileItem = root2.query("GET_ITEM", action.id);
  setInputFiles(field, [fileItem.file]);
};
var didPrepareOutput = ({ root: root2, action }) => {
  if (!root2.query("SHOULD_UPDATE_FILE_INPUT"))
    return;
  setTimeout(() => {
    const field = getField(root2, action.id);
    if (!field)
      return;
    setInputFiles(field, [action.file]);
  }, 0);
};
var didSetDisabled = ({ root: root2 }) => {
  root2.element.disabled = root2.query("GET_DISABLED");
};
var didRemoveItem = ({ root: root2, action }) => {
  const field = getField(root2, action.id);
  if (!field)
    return;
  if (field.parentNode)
    field.parentNode.removeChild(field);
  delete root2.ref.fields[action.id];
};
var didDefineValue = ({ root: root2, action }) => {
  const field = getField(root2, action.id);
  if (!field)
    return;
  if (action.value === null) {
    field.removeAttribute("value");
  } else {
    field.value = action.value;
  }
  syncFieldPositionsWithItems(root2);
};
var write$8 = createRoute({
  DID_SET_DISABLED: didSetDisabled,
  DID_ADD_ITEM: didAddItem,
  DID_LOAD_ITEM: didLoadItem$1,
  DID_REMOVE_ITEM: didRemoveItem,
  DID_DEFINE_VALUE: didDefineValue,
  DID_PREPARE_OUTPUT: didPrepareOutput,
  DID_REORDER_ITEMS: didReorderItems,
  DID_SORT_ITEMS: didReorderItems
});
var data2 = createView({
  tag: "fieldset",
  name: "data",
  create: create$c,
  write: write$8,
  ignoreRect: true
});
var getRootNode = (element) => "getRootNode" in element ? element.getRootNode() : document;
var images = ["jpg", "jpeg", "png", "gif", "bmp", "webp", "svg", "tiff"];
var text$1 = ["css", "csv", "html", "txt"];
var map = {
  zip: "zip|compressed",
  epub: "application/epub+zip"
};
var guesstimateMimeType = (extension = "") => {
  extension = extension.toLowerCase();
  if (images.includes(extension)) {
    return "image/" + (extension === "jpg" ? "jpeg" : extension === "svg" ? "svg+xml" : extension);
  }
  if (text$1.includes(extension)) {
    return "text/" + extension;
  }
  return map[extension] || "";
};
var requestDataTransferItems = (dataTransfer) => new Promise((resolve, reject) => {
  const links = getLinks(dataTransfer);
  if (links.length && !hasFiles(dataTransfer)) {
    return resolve(links);
  }
  getFiles(dataTransfer).then(resolve);
});
var hasFiles = (dataTransfer) => {
  if (dataTransfer.files)
    return dataTransfer.files.length > 0;
  return false;
};
var getFiles = (dataTransfer) => new Promise((resolve, reject) => {
  const promisedFiles = (dataTransfer.items ? Array.from(dataTransfer.items) : []).filter((item2) => isFileSystemItem(item2)).map((item2) => getFilesFromItem(item2));
  if (!promisedFiles.length) {
    resolve(dataTransfer.files ? Array.from(dataTransfer.files) : []);
    return;
  }
  Promise.all(promisedFiles).then((returnedFileGroups) => {
    const files = [];
    returnedFileGroups.forEach((group) => {
      files.push.apply(files, group);
    });
    resolve(
      files.filter((file2) => file2).map((file2) => {
        if (!file2._relativePath)
          file2._relativePath = file2.webkitRelativePath;
        return file2;
      })
    );
  }).catch(console.error);
});
var isFileSystemItem = (item2) => {
  if (isEntry(item2)) {
    const entry = getAsEntry(item2);
    if (entry) {
      return entry.isFile || entry.isDirectory;
    }
  }
  return item2.kind === "file";
};
var getFilesFromItem = (item2) => new Promise((resolve, reject) => {
  if (isDirectoryEntry(item2)) {
    getFilesInDirectory(getAsEntry(item2)).then(resolve).catch(reject);
    return;
  }
  resolve([item2.getAsFile()]);
});
var getFilesInDirectory = (entry) => new Promise((resolve, reject) => {
  const files = [];
  let dirCounter = 0;
  let fileCounter = 0;
  const resolveIfDone = () => {
    if (fileCounter === 0 && dirCounter === 0) {
      resolve(files);
    }
  };
  const readEntries = (dirEntry) => {
    dirCounter++;
    const directoryReader = dirEntry.createReader();
    const readBatch = () => {
      directoryReader.readEntries((entries) => {
        if (entries.length === 0) {
          dirCounter--;
          resolveIfDone();
          return;
        }
        entries.forEach((entry2) => {
          if (entry2.isDirectory) {
            readEntries(entry2);
          } else {
            fileCounter++;
            entry2.file((file2) => {
              const correctedFile = correctMissingFileType(file2);
              if (entry2.fullPath)
                correctedFile._relativePath = entry2.fullPath;
              files.push(correctedFile);
              fileCounter--;
              resolveIfDone();
            });
          }
        });
        readBatch();
      }, reject);
    };
    readBatch();
  };
  readEntries(entry);
});
var correctMissingFileType = (file2) => {
  if (file2.type.length)
    return file2;
  const date = file2.lastModifiedDate;
  const name2 = file2.name;
  const type = guesstimateMimeType(getExtensionFromFilename(file2.name));
  if (!type.length)
    return file2;
  file2 = file2.slice(0, file2.size, type);
  file2.name = name2;
  file2.lastModifiedDate = date;
  return file2;
};
var isDirectoryEntry = (item2) => isEntry(item2) && (getAsEntry(item2) || {}).isDirectory;
var isEntry = (item2) => "webkitGetAsEntry" in item2;
var getAsEntry = (item2) => item2.webkitGetAsEntry();
var getLinks = (dataTransfer) => {
  let links = [];
  try {
    links = getLinksFromTransferMetaData(dataTransfer);
    if (links.length) {
      return links;
    }
    links = getLinksFromTransferURLData(dataTransfer);
  } catch (e) {
  }
  return links;
};
var getLinksFromTransferURLData = (dataTransfer) => {
  let data3 = dataTransfer.getData("url");
  if (typeof data3 === "string" && data3.length) {
    return [data3];
  }
  return [];
};
var getLinksFromTransferMetaData = (dataTransfer) => {
  let data3 = dataTransfer.getData("text/html");
  if (typeof data3 === "string" && data3.length) {
    const matches = data3.match(/src\s*=\s*"(.+?)"/);
    if (matches) {
      return [matches[1]];
    }
  }
  return [];
};
var dragNDropObservers = [];
var eventPosition = (e) => ({
  pageLeft: e.pageX,
  pageTop: e.pageY,
  scopeLeft: e.offsetX || e.layerX,
  scopeTop: e.offsetY || e.layerY
});
var createDragNDropClient = (element, scopeToObserve, filterElement) => {
  const observer = getDragNDropObserver(scopeToObserve);
  const client = {
    element,
    filterElement,
    state: null,
    ondrop: () => {
    },
    onenter: () => {
    },
    ondrag: () => {
    },
    onexit: () => {
    },
    onload: () => {
    },
    allowdrop: () => {
    }
  };
  client.destroy = observer.addListener(client);
  return client;
};
var getDragNDropObserver = (element) => {
  const observer = dragNDropObservers.find((item2) => item2.element === element);
  if (observer) {
    return observer;
  }
  const newObserver = createDragNDropObserver(element);
  dragNDropObservers.push(newObserver);
  return newObserver;
};
var createDragNDropObserver = (element) => {
  const clients = [];
  const routes = {
    dragenter,
    dragover,
    dragleave,
    drop
  };
  const handlers = {};
  forin(routes, (event, createHandler) => {
    handlers[event] = createHandler(element, clients);
    element.addEventListener(event, handlers[event], false);
  });
  const observer = {
    element,
    addListener: (client) => {
      clients.push(client);
      return () => {
        clients.splice(clients.indexOf(client), 1);
        if (clients.length === 0) {
          dragNDropObservers.splice(dragNDropObservers.indexOf(observer), 1);
          forin(routes, (event) => {
            element.removeEventListener(event, handlers[event], false);
          });
        }
      };
    }
  };
  return observer;
};
var elementFromPoint = (root2, point) => {
  if (!("elementFromPoint" in root2)) {
    root2 = document;
  }
  return root2.elementFromPoint(point.x, point.y);
};
var isEventTarget = (e, target) => {
  const root2 = getRootNode(target);
  const elementAtPosition = elementFromPoint(root2, {
    x: e.pageX - window.pageXOffset,
    y: e.pageY - window.pageYOffset
  });
  return elementAtPosition === target || target.contains(elementAtPosition);
};
var initialTarget = null;
var setDropEffect = (dataTransfer, effect) => {
  try {
    dataTransfer.dropEffect = effect;
  } catch (e) {
  }
};
var dragenter = (root2, clients) => (e) => {
  e.preventDefault();
  initialTarget = e.target;
  clients.forEach((client) => {
    const { element, onenter } = client;
    if (isEventTarget(e, element)) {
      client.state = "enter";
      onenter(eventPosition(e));
    }
  });
};
var dragover = (root2, clients) => (e) => {
  e.preventDefault();
  const dataTransfer = e.dataTransfer;
  requestDataTransferItems(dataTransfer).then((items) => {
    let overDropTarget = false;
    clients.some((client) => {
      const { filterElement, element, onenter, onexit, ondrag, allowdrop } = client;
      setDropEffect(dataTransfer, "copy");
      const allowsTransfer = allowdrop(items);
      if (!allowsTransfer) {
        setDropEffect(dataTransfer, "none");
        return;
      }
      if (isEventTarget(e, element)) {
        overDropTarget = true;
        if (client.state === null) {
          client.state = "enter";
          onenter(eventPosition(e));
          return;
        }
        client.state = "over";
        if (filterElement && !allowsTransfer) {
          setDropEffect(dataTransfer, "none");
          return;
        }
        ondrag(eventPosition(e));
      } else {
        if (filterElement && !overDropTarget) {
          setDropEffect(dataTransfer, "none");
        }
        if (client.state) {
          client.state = null;
          onexit(eventPosition(e));
        }
      }
    });
  });
};
var drop = (root2, clients) => (e) => {
  e.preventDefault();
  const dataTransfer = e.dataTransfer;
  requestDataTransferItems(dataTransfer).then((items) => {
    clients.forEach((client) => {
      const { filterElement, element, ondrop, onexit, allowdrop } = client;
      client.state = null;
      if (filterElement && !isEventTarget(e, element))
        return;
      if (!allowdrop(items))
        return onexit(eventPosition(e));
      ondrop(eventPosition(e), items);
    });
  });
};
var dragleave = (root2, clients) => (e) => {
  if (initialTarget !== e.target) {
    return;
  }
  clients.forEach((client) => {
    const { onexit } = client;
    client.state = null;
    onexit(eventPosition(e));
  });
};
var createHopper = (scope, validateItems, options) => {
  scope.classList.add("filepond--hopper");
  const { catchesDropsOnPage, requiresDropOnElement, filterItems = (items) => items } = options;
  const client = createDragNDropClient(
    scope,
    catchesDropsOnPage ? document.documentElement : scope,
    requiresDropOnElement
  );
  let lastState = "";
  let currentState = "";
  client.allowdrop = (items) => {
    return validateItems(filterItems(items));
  };
  client.ondrop = (position, items) => {
    const filteredItems = filterItems(items);
    if (!validateItems(filteredItems)) {
      api.ondragend(position);
      return;
    }
    currentState = "drag-drop";
    api.onload(filteredItems, position);
  };
  client.ondrag = (position) => {
    api.ondrag(position);
  };
  client.onenter = (position) => {
    currentState = "drag-over";
    api.ondragstart(position);
  };
  client.onexit = (position) => {
    currentState = "drag-exit";
    api.ondragend(position);
  };
  const api = {
    updateHopperState: () => {
      if (lastState !== currentState) {
        scope.dataset.hopperState = currentState;
        lastState = currentState;
      }
    },
    onload: () => {
    },
    ondragstart: () => {
    },
    ondrag: () => {
    },
    ondragend: () => {
    },
    destroy: () => {
      client.destroy();
    }
  };
  return api;
};
var listening = false;
var listeners$1 = [];
var handlePaste = (e) => {
  const activeEl = document.activeElement;
  if (activeEl && /textarea|input/i.test(activeEl.nodeName)) {
    let inScope = false;
    let element = activeEl;
    while (element !== document.body) {
      if (element.classList.contains("filepond--root")) {
        inScope = true;
        break;
      }
      element = element.parentNode;
    }
    if (!inScope)
      return;
  }
  requestDataTransferItems(e.clipboardData).then((files) => {
    if (!files.length) {
      return;
    }
    listeners$1.forEach((listener) => listener(files));
  });
};
var listen = (cb) => {
  if (listeners$1.includes(cb)) {
    return;
  }
  listeners$1.push(cb);
  if (listening) {
    return;
  }
  listening = true;
  document.addEventListener("paste", handlePaste);
};
var unlisten = (listener) => {
  arrayRemove(listeners$1, listeners$1.indexOf(listener));
  if (listeners$1.length === 0) {
    document.removeEventListener("paste", handlePaste);
    listening = false;
  }
};
var createPaster = () => {
  const cb = (files) => {
    api.onload(files);
  };
  const api = {
    destroy: () => {
      unlisten(cb);
    },
    onload: () => {
    }
  };
  listen(cb);
  return api;
};
var create$d = ({ root: root2, props }) => {
  root2.element.id = `filepond--assistant-${props.id}`;
  attr(root2.element, "role", "status");
  attr(root2.element, "aria-live", "polite");
  attr(root2.element, "aria-relevant", "additions");
};
var addFilesNotificationTimeout = null;
var notificationClearTimeout = null;
var filenames = [];
var assist = (root2, message) => {
  root2.element.textContent = message;
};
var clear$1 = (root2) => {
  root2.element.textContent = "";
};
var listModified = (root2, filename, label) => {
  const total = root2.query("GET_TOTAL_ITEMS");
  assist(
    root2,
    `${label} ${filename}, ${total} ${total === 1 ? root2.query("GET_LABEL_FILE_COUNT_SINGULAR") : root2.query("GET_LABEL_FILE_COUNT_PLURAL")}`
  );
  clearTimeout(notificationClearTimeout);
  notificationClearTimeout = setTimeout(() => {
    clear$1(root2);
  }, 1500);
};
var isUsingFilePond = (root2) => root2.element.parentNode.contains(document.activeElement);
var itemAdded = ({ root: root2, action }) => {
  if (!isUsingFilePond(root2)) {
    return;
  }
  root2.element.textContent = "";
  const item2 = root2.query("GET_ITEM", action.id);
  filenames.push(item2.filename);
  clearTimeout(addFilesNotificationTimeout);
  addFilesNotificationTimeout = setTimeout(() => {
    listModified(root2, filenames.join(", "), root2.query("GET_LABEL_FILE_ADDED"));
    filenames.length = 0;
  }, 750);
};
var itemRemoved = ({ root: root2, action }) => {
  if (!isUsingFilePond(root2)) {
    return;
  }
  const item2 = action.item;
  listModified(root2, item2.filename, root2.query("GET_LABEL_FILE_REMOVED"));
};
var itemProcessed = ({ root: root2, action }) => {
  const item2 = root2.query("GET_ITEM", action.id);
  const filename = item2.filename;
  const label = root2.query("GET_LABEL_FILE_PROCESSING_COMPLETE");
  assist(root2, `${filename} ${label}`);
};
var itemProcessedUndo = ({ root: root2, action }) => {
  const item2 = root2.query("GET_ITEM", action.id);
  const filename = item2.filename;
  const label = root2.query("GET_LABEL_FILE_PROCESSING_ABORTED");
  assist(root2, `${filename} ${label}`);
};
var itemError = ({ root: root2, action }) => {
  const item2 = root2.query("GET_ITEM", action.id);
  const filename = item2.filename;
  assist(root2, `${action.status.main} ${filename} ${action.status.sub}`);
};
var assistant = createView({
  create: create$d,
  ignoreRect: true,
  ignoreRectUpdate: true,
  write: createRoute({
    DID_LOAD_ITEM: itemAdded,
    DID_REMOVE_ITEM: itemRemoved,
    DID_COMPLETE_ITEM_PROCESSING: itemProcessed,
    DID_ABORT_ITEM_PROCESSING: itemProcessedUndo,
    DID_REVERT_ITEM_PROCESSING: itemProcessedUndo,
    DID_THROW_ITEM_REMOVE_ERROR: itemError,
    DID_THROW_ITEM_LOAD_ERROR: itemError,
    DID_THROW_ITEM_INVALID: itemError,
    DID_THROW_ITEM_PROCESSING_ERROR: itemError
  }),
  tag: "span",
  name: "assistant"
});
var toCamels = (string, separator = "-") => string.replace(new RegExp(`${separator}.`, "g"), (sub) => sub.charAt(1).toUpperCase());
var debounce = (func, interval = 16, immidiateOnly = true) => {
  let last = Date.now();
  let timeout = null;
  return (...args) => {
    clearTimeout(timeout);
    const dist = Date.now() - last;
    const fn2 = () => {
      last = Date.now();
      func(...args);
    };
    if (dist < interval) {
      if (!immidiateOnly) {
        timeout = setTimeout(fn2, interval - dist);
      }
    } else {
      fn2();
    }
  };
};
var MAX_FILES_LIMIT = 1e6;
var prevent = (e) => e.preventDefault();
var create$e = ({ root: root2, props }) => {
  const id = root2.query("GET_ID");
  if (id) {
    root2.element.id = id;
  }
  const className = root2.query("GET_CLASS_NAME");
  if (className) {
    className.split(" ").filter((name2) => name2.length).forEach((name2) => {
      root2.element.classList.add(name2);
    });
  }
  root2.ref.label = root2.appendChildView(
    root2.createChildView(dropLabel, {
      ...props,
      translateY: null,
      caption: root2.query("GET_LABEL_IDLE")
    })
  );
  root2.ref.list = root2.appendChildView(root2.createChildView(listScroller, { translateY: null }));
  root2.ref.panel = root2.appendChildView(root2.createChildView(panel, { name: "panel-root" }));
  root2.ref.assistant = root2.appendChildView(root2.createChildView(assistant, { ...props }));
  root2.ref.data = root2.appendChildView(root2.createChildView(data2, { ...props }));
  root2.ref.measure = createElement$1("div");
  root2.ref.measure.style.height = "100%";
  root2.element.appendChild(root2.ref.measure);
  root2.ref.bounds = null;
  root2.query("GET_STYLES").filter((style) => !isEmpty(style.value)).map(({ name: name2, value }) => {
    root2.element.dataset[name2] = value;
  });
  root2.ref.widthPrevious = null;
  root2.ref.widthUpdated = debounce(() => {
    root2.ref.updateHistory = [];
    root2.dispatch("DID_RESIZE_ROOT");
  }, 250);
  root2.ref.previousAspectRatio = null;
  root2.ref.updateHistory = [];
  const canHover = window.matchMedia("(pointer: fine) and (hover: hover)").matches;
  const hasPointerEvents = "PointerEvent" in window;
  if (root2.query("GET_ALLOW_REORDER") && hasPointerEvents && !canHover) {
    root2.element.addEventListener("touchmove", prevent, { passive: false });
    root2.element.addEventListener("gesturestart", prevent);
  }
  const credits = root2.query("GET_CREDITS");
  const hasCredits = credits.length === 2;
  if (hasCredits) {
    const frag = document.createElement("a");
    frag.className = "filepond--credits";
    frag.setAttribute("aria-hidden", "true");
    frag.href = credits[0];
    frag.tabindex = -1;
    frag.target = "_blank";
    frag.rel = "noopener noreferrer";
    frag.textContent = credits[1];
    root2.element.appendChild(frag);
    root2.ref.credits = frag;
  }
};
var write$9 = ({ root: root2, props, actions: actions2 }) => {
  route$5({ root: root2, props, actions: actions2 });
  actions2.filter((action) => /^DID_SET_STYLE_/.test(action.type)).filter((action) => !isEmpty(action.data.value)).map(({ type, data: data3 }) => {
    const name2 = toCamels(type.substring(8).toLowerCase(), "_");
    root2.element.dataset[name2] = data3.value;
    root2.invalidateLayout();
  });
  if (root2.rect.element.hidden)
    return;
  if (root2.rect.element.width !== root2.ref.widthPrevious) {
    root2.ref.widthPrevious = root2.rect.element.width;
    root2.ref.widthUpdated();
  }
  let bounds = root2.ref.bounds;
  if (!bounds) {
    bounds = root2.ref.bounds = calculateRootBoundingBoxHeight(root2);
    root2.element.removeChild(root2.ref.measure);
    root2.ref.measure = null;
  }
  const { hopper, label, list: list2, panel: panel2 } = root2.ref;
  if (hopper) {
    hopper.updateHopperState();
  }
  const aspectRatio = root2.query("GET_PANEL_ASPECT_RATIO");
  const isMultiItem = root2.query("GET_ALLOW_MULTIPLE");
  const totalItems = root2.query("GET_TOTAL_ITEMS");
  const maxItems = isMultiItem ? root2.query("GET_MAX_FILES") || MAX_FILES_LIMIT : 1;
  const atMaxCapacity = totalItems === maxItems;
  const addAction = actions2.find((action) => action.type === "DID_ADD_ITEM");
  if (atMaxCapacity && addAction) {
    const interactionMethod = addAction.data.interactionMethod;
    label.opacity = 0;
    if (isMultiItem) {
      label.translateY = -40;
    } else {
      if (interactionMethod === InteractionMethod.API) {
        label.translateX = 40;
      } else if (interactionMethod === InteractionMethod.BROWSE) {
        label.translateY = 40;
      } else {
        label.translateY = 30;
      }
    }
  } else if (!atMaxCapacity) {
    label.opacity = 1;
    label.translateX = 0;
    label.translateY = 0;
  }
  const listItemMargin = calculateListItemMargin(root2);
  const listHeight = calculateListHeight(root2);
  const labelHeight = label.rect.element.height;
  const currentLabelHeight = !isMultiItem || atMaxCapacity ? 0 : labelHeight;
  const listMarginTop = atMaxCapacity ? list2.rect.element.marginTop : 0;
  const listMarginBottom = totalItems === 0 ? 0 : list2.rect.element.marginBottom;
  const visualHeight = currentLabelHeight + listMarginTop + listHeight.visual + listMarginBottom;
  const boundsHeight = currentLabelHeight + listMarginTop + listHeight.bounds + listMarginBottom;
  list2.translateY = Math.max(0, currentLabelHeight - list2.rect.element.marginTop) - listItemMargin.top;
  if (aspectRatio) {
    const width = root2.rect.element.width;
    const height = width * aspectRatio;
    if (aspectRatio !== root2.ref.previousAspectRatio) {
      root2.ref.previousAspectRatio = aspectRatio;
      root2.ref.updateHistory = [];
    }
    const history = root2.ref.updateHistory;
    history.push(width);
    const MAX_BOUNCES = 2;
    if (history.length > MAX_BOUNCES * 2) {
      const l = history.length;
      const bottom = l - 10;
      let bounces = 0;
      for (let i = l; i >= bottom; i--) {
        if (history[i] === history[i - 2]) {
          bounces++;
        }
        if (bounces >= MAX_BOUNCES) {
          return;
        }
      }
    }
    panel2.scalable = false;
    panel2.height = height;
    const listAvailableHeight = (
      // the height of the panel minus the label height
      height - currentLabelHeight - // the room we leave open between the end of the list and the panel bottom
      (listMarginBottom - listItemMargin.bottom) - // if we're full we need to leave some room between the top of the panel and the list
      (atMaxCapacity ? listMarginTop : 0)
    );
    if (listHeight.visual > listAvailableHeight) {
      list2.overflow = listAvailableHeight;
    } else {
      list2.overflow = null;
    }
    root2.height = height;
  } else if (bounds.fixedHeight) {
    panel2.scalable = false;
    const listAvailableHeight = (
      // the height of the panel minus the label height
      bounds.fixedHeight - currentLabelHeight - // the room we leave open between the end of the list and the panel bottom
      (listMarginBottom - listItemMargin.bottom) - // if we're full we need to leave some room between the top of the panel and the list
      (atMaxCapacity ? listMarginTop : 0)
    );
    if (listHeight.visual > listAvailableHeight) {
      list2.overflow = listAvailableHeight;
    } else {
      list2.overflow = null;
    }
  } else if (bounds.cappedHeight) {
    const isCappedHeight = visualHeight >= bounds.cappedHeight;
    const panelHeight = Math.min(bounds.cappedHeight, visualHeight);
    panel2.scalable = true;
    panel2.height = isCappedHeight ? panelHeight : panelHeight - listItemMargin.top - listItemMargin.bottom;
    const listAvailableHeight = (
      // the height of the panel minus the label height
      panelHeight - currentLabelHeight - // the room we leave open between the end of the list and the panel bottom
      (listMarginBottom - listItemMargin.bottom) - // if we're full we need to leave some room between the top of the panel and the list
      (atMaxCapacity ? listMarginTop : 0)
    );
    if (visualHeight > bounds.cappedHeight && listHeight.visual > listAvailableHeight) {
      list2.overflow = listAvailableHeight;
    } else {
      list2.overflow = null;
    }
    root2.height = Math.min(
      bounds.cappedHeight,
      boundsHeight - listItemMargin.top - listItemMargin.bottom
    );
  } else {
    const itemMargin = totalItems > 0 ? listItemMargin.top + listItemMargin.bottom : 0;
    panel2.scalable = true;
    panel2.height = Math.max(labelHeight, visualHeight - itemMargin);
    root2.height = Math.max(labelHeight, boundsHeight - itemMargin);
  }
  if (root2.ref.credits && panel2.heightCurrent)
    root2.ref.credits.style.transform = `translateY(${panel2.heightCurrent}px)`;
};
var calculateListItemMargin = (root2) => {
  const item2 = root2.ref.list.childViews[0].childViews[0];
  return item2 ? {
    top: item2.rect.element.marginTop,
    bottom: item2.rect.element.marginBottom
  } : {
    top: 0,
    bottom: 0
  };
};
var calculateListHeight = (root2) => {
  let visual = 0;
  let bounds = 0;
  const scrollList = root2.ref.list;
  const itemList = scrollList.childViews[0];
  const visibleChildren = itemList.childViews.filter((child) => child.rect.element.height);
  const children = root2.query("GET_ACTIVE_ITEMS").map((item2) => visibleChildren.find((child) => child.id === item2.id)).filter((item2) => item2);
  if (children.length === 0)
    return { visual, bounds };
  const horizontalSpace = itemList.rect.element.width;
  const dragIndex = getItemIndexByPosition(itemList, children, scrollList.dragCoordinates);
  const childRect = children[0].rect.element;
  const itemVerticalMargin = childRect.marginTop + childRect.marginBottom;
  const itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;
  const itemWidth = childRect.width + itemHorizontalMargin;
  const itemHeight = childRect.height + itemVerticalMargin;
  const newItem = typeof dragIndex !== "undefined" && dragIndex >= 0 ? 1 : 0;
  const removedItem = children.find((child) => child.markedForRemoval && child.opacity < 0.45) ? -1 : 0;
  const verticalItemCount = children.length + newItem + removedItem;
  const itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);
  if (itemsPerRow === 1) {
    children.forEach((item2) => {
      const height = item2.rect.element.height + itemVerticalMargin;
      bounds += height;
      visual += height * item2.opacity;
    });
  } else {
    bounds = Math.ceil(verticalItemCount / itemsPerRow) * itemHeight;
    visual = bounds;
  }
  return { visual, bounds };
};
var calculateRootBoundingBoxHeight = (root2) => {
  const height = root2.ref.measureHeight || null;
  const cappedHeight = parseInt(root2.style.maxHeight, 10) || null;
  const fixedHeight = height === 0 ? null : height;
  return {
    cappedHeight,
    fixedHeight
  };
};
var exceedsMaxFiles = (root2, items) => {
  const allowReplace = root2.query("GET_ALLOW_REPLACE");
  const allowMultiple = root2.query("GET_ALLOW_MULTIPLE");
  const totalItems = root2.query("GET_TOTAL_ITEMS");
  let maxItems = root2.query("GET_MAX_FILES");
  const totalBrowseItems = items.length;
  if (!allowMultiple && totalBrowseItems > 1) {
    root2.dispatch("DID_THROW_MAX_FILES", {
      source: items,
      error: createResponse("warning", 0, "Max files")
    });
    return true;
  }
  maxItems = allowMultiple ? maxItems : 1;
  if (!allowMultiple && allowReplace) {
    return false;
  }
  const hasMaxItems = isInt(maxItems);
  if (hasMaxItems && totalItems + totalBrowseItems > maxItems) {
    root2.dispatch("DID_THROW_MAX_FILES", {
      source: items,
      error: createResponse("warning", 0, "Max files")
    });
    return true;
  }
  return false;
};
var getDragIndex = (list2, children, position) => {
  const itemList = list2.childViews[0];
  return getItemIndexByPosition(itemList, children, {
    left: position.scopeLeft - itemList.rect.element.left,
    top: position.scopeTop - (list2.rect.outer.top + list2.rect.element.marginTop + list2.rect.element.scrollTop)
  });
};
var toggleDrop = (root2) => {
  const isAllowed = root2.query("GET_ALLOW_DROP");
  const isDisabled = root2.query("GET_DISABLED");
  const enabled = isAllowed && !isDisabled;
  if (enabled && !root2.ref.hopper) {
    const hopper = createHopper(
      root2.element,
      (items) => {
        const beforeDropFile = root2.query("GET_BEFORE_DROP_FILE") || (() => true);
        const dropValidation = root2.query("GET_DROP_VALIDATION");
        return dropValidation ? items.every(
          (item2) => applyFilters("ALLOW_HOPPER_ITEM", item2, {
            query: root2.query
          }).every((result) => result === true) && beforeDropFile(item2)
        ) : true;
      },
      {
        filterItems: (items) => {
          const ignoredFiles = root2.query("GET_IGNORED_FILES");
          return items.filter((item2) => {
            if (isFile(item2)) {
              return !ignoredFiles.includes(item2.name.toLowerCase());
            }
            return true;
          });
        },
        catchesDropsOnPage: root2.query("GET_DROP_ON_PAGE"),
        requiresDropOnElement: root2.query("GET_DROP_ON_ELEMENT")
      }
    );
    hopper.onload = (items, position) => {
      const list2 = root2.ref.list.childViews[0];
      const visibleChildren = list2.childViews.filter((child) => child.rect.element.height);
      const children = root2.query("GET_ACTIVE_ITEMS").map((item2) => visibleChildren.find((child) => child.id === item2.id)).filter((item2) => item2);
      applyFilterChain("ADD_ITEMS", items, { dispatch: root2.dispatch }).then((queue) => {
        if (exceedsMaxFiles(root2, queue))
          return false;
        root2.dispatch("ADD_ITEMS", {
          items: queue,
          index: getDragIndex(root2.ref.list, children, position),
          interactionMethod: InteractionMethod.DROP
        });
      });
      root2.dispatch("DID_DROP", { position });
      root2.dispatch("DID_END_DRAG", { position });
    };
    hopper.ondragstart = (position) => {
      root2.dispatch("DID_START_DRAG", { position });
    };
    hopper.ondrag = debounce((position) => {
      root2.dispatch("DID_DRAG", { position });
    });
    hopper.ondragend = (position) => {
      root2.dispatch("DID_END_DRAG", { position });
    };
    root2.ref.hopper = hopper;
    root2.ref.drip = root2.appendChildView(root2.createChildView(drip));
  } else if (!enabled && root2.ref.hopper) {
    root2.ref.hopper.destroy();
    root2.ref.hopper = null;
    root2.removeChildView(root2.ref.drip);
  }
};
var toggleBrowse = (root2, props) => {
  const isAllowed = root2.query("GET_ALLOW_BROWSE");
  const isDisabled = root2.query("GET_DISABLED");
  const enabled = isAllowed && !isDisabled;
  if (enabled && !root2.ref.browser) {
    root2.ref.browser = root2.appendChildView(
      root2.createChildView(browser, {
        ...props,
        onload: (items) => {
          applyFilterChain("ADD_ITEMS", items, {
            dispatch: root2.dispatch
          }).then((queue) => {
            if (exceedsMaxFiles(root2, queue))
              return false;
            root2.dispatch("ADD_ITEMS", {
              items: queue,
              index: -1,
              interactionMethod: InteractionMethod.BROWSE
            });
          });
        }
      }),
      0
    );
  } else if (!enabled && root2.ref.browser) {
    root2.removeChildView(root2.ref.browser);
    root2.ref.browser = null;
  }
};
var togglePaste = (root2) => {
  const isAllowed = root2.query("GET_ALLOW_PASTE");
  const isDisabled = root2.query("GET_DISABLED");
  const enabled = isAllowed && !isDisabled;
  if (enabled && !root2.ref.paster) {
    root2.ref.paster = createPaster();
    root2.ref.paster.onload = (items) => {
      applyFilterChain("ADD_ITEMS", items, { dispatch: root2.dispatch }).then((queue) => {
        if (exceedsMaxFiles(root2, queue))
          return false;
        root2.dispatch("ADD_ITEMS", {
          items: queue,
          index: -1,
          interactionMethod: InteractionMethod.PASTE
        });
      });
    };
  } else if (!enabled && root2.ref.paster) {
    root2.ref.paster.destroy();
    root2.ref.paster = null;
  }
};
var route$5 = createRoute({
  DID_SET_ALLOW_BROWSE: ({ root: root2, props }) => {
    toggleBrowse(root2, props);
  },
  DID_SET_ALLOW_DROP: ({ root: root2 }) => {
    toggleDrop(root2);
  },
  DID_SET_ALLOW_PASTE: ({ root: root2 }) => {
    togglePaste(root2);
  },
  DID_SET_DISABLED: ({ root: root2, props }) => {
    toggleDrop(root2);
    togglePaste(root2);
    toggleBrowse(root2, props);
    const isDisabled = root2.query("GET_DISABLED");
    if (isDisabled) {
      root2.element.dataset.disabled = "disabled";
    } else {
      root2.element.removeAttribute("data-disabled");
    }
  }
});
var root = createView({
  name: "root",
  read: ({ root: root2 }) => {
    if (root2.ref.measure) {
      root2.ref.measureHeight = root2.ref.measure.offsetHeight;
    }
  },
  create: create$e,
  write: write$9,
  destroy: ({ root: root2 }) => {
    if (root2.ref.paster) {
      root2.ref.paster.destroy();
    }
    if (root2.ref.hopper) {
      root2.ref.hopper.destroy();
    }
    root2.element.removeEventListener("touchmove", prevent);
    root2.element.removeEventListener("gesturestart", prevent);
  },
  mixins: {
    styles: ["height"]
  }
});
var createApp = (initialOptions = {}) => {
  let originalElement = null;
  const defaultOptions2 = getOptions();
  const store = createStore(
    // initial state (should be serializable)
    createInitialState(defaultOptions2),
    // queries
    [queries, createOptionQueries(defaultOptions2)],
    // action handlers
    [actions, createOptionActions(defaultOptions2)]
  );
  store.dispatch("SET_OPTIONS", { options: initialOptions });
  const visibilityHandler = () => {
    if (document.hidden)
      return;
    store.dispatch("KICK");
  };
  document.addEventListener("visibilitychange", visibilityHandler);
  let resizeDoneTimer = null;
  let isResizing = false;
  let isResizingHorizontally = false;
  let initialWindowWidth = null;
  let currentWindowWidth = null;
  const resizeHandler = () => {
    if (!isResizing) {
      isResizing = true;
    }
    clearTimeout(resizeDoneTimer);
    resizeDoneTimer = setTimeout(() => {
      isResizing = false;
      initialWindowWidth = null;
      currentWindowWidth = null;
      if (isResizingHorizontally) {
        isResizingHorizontally = false;
        store.dispatch("DID_STOP_RESIZE");
      }
    }, 500);
  };
  window.addEventListener("resize", resizeHandler);
  const view = root(store, { id: getUniqueId() });
  let isResting = false;
  let isHidden = false;
  const readWriteApi = {
    // necessary for update loop
    /**
     * Reads from dom (never call manually)
     * @private
     */
    _read: () => {
      if (isResizing) {
        currentWindowWidth = window.innerWidth;
        if (!initialWindowWidth) {
          initialWindowWidth = currentWindowWidth;
        }
        if (!isResizingHorizontally && currentWindowWidth !== initialWindowWidth) {
          store.dispatch("DID_START_RESIZE");
          isResizingHorizontally = true;
        }
      }
      if (isHidden && isResting) {
        isResting = view.element.offsetParent === null;
      }
      if (isResting)
        return;
      view._read();
      isHidden = view.rect.element.hidden;
    },
    /**
     * Writes to dom (never call manually)
     * @private
     */
    _write: (ts) => {
      const actions2 = store.processActionQueue().filter((action) => !/^SET_/.test(action.type));
      if (isResting && !actions2.length)
        return;
      routeActionsToEvents(actions2);
      isResting = view._write(ts, actions2, isResizingHorizontally);
      removeReleasedItems(store.query("GET_ITEMS"));
      if (isResting) {
        store.processDispatchQueue();
      }
    }
  };
  const createEvent = (name2) => (data3) => {
    const event = {
      type: name2
    };
    if (!data3) {
      return event;
    }
    if (data3.hasOwnProperty("error")) {
      event.error = data3.error ? { ...data3.error } : null;
    }
    if (data3.status) {
      event.status = { ...data3.status };
    }
    if (data3.file) {
      event.output = data3.file;
    }
    if (data3.source) {
      event.file = data3.source;
    } else if (data3.item || data3.id) {
      const item2 = data3.item ? data3.item : store.query("GET_ITEM", data3.id);
      event.file = item2 ? createItemAPI(item2) : null;
    }
    if (data3.items) {
      event.items = data3.items.map(createItemAPI);
    }
    if (/progress/.test(name2)) {
      event.progress = data3.progress;
    }
    if (data3.hasOwnProperty("origin") && data3.hasOwnProperty("target")) {
      event.origin = data3.origin;
      event.target = data3.target;
    }
    return event;
  };
  const eventRoutes = {
    DID_DESTROY: createEvent("destroy"),
    DID_INIT: createEvent("init"),
    DID_THROW_MAX_FILES: createEvent("warning"),
    DID_INIT_ITEM: createEvent("initfile"),
    DID_START_ITEM_LOAD: createEvent("addfilestart"),
    DID_UPDATE_ITEM_LOAD_PROGRESS: createEvent("addfileprogress"),
    DID_LOAD_ITEM: createEvent("addfile"),
    DID_THROW_ITEM_INVALID: [createEvent("error"), createEvent("addfile")],
    DID_THROW_ITEM_LOAD_ERROR: [createEvent("error"), createEvent("addfile")],
    DID_THROW_ITEM_REMOVE_ERROR: [createEvent("error"), createEvent("removefile")],
    DID_PREPARE_OUTPUT: createEvent("preparefile"),
    DID_START_ITEM_PROCESSING: createEvent("processfilestart"),
    DID_UPDATE_ITEM_PROCESS_PROGRESS: createEvent("processfileprogress"),
    DID_ABORT_ITEM_PROCESSING: createEvent("processfileabort"),
    DID_COMPLETE_ITEM_PROCESSING: createEvent("processfile"),
    DID_COMPLETE_ITEM_PROCESSING_ALL: createEvent("processfiles"),
    DID_REVERT_ITEM_PROCESSING: createEvent("processfilerevert"),
    DID_THROW_ITEM_PROCESSING_ERROR: [createEvent("error"), createEvent("processfile")],
    DID_REMOVE_ITEM: createEvent("removefile"),
    DID_UPDATE_ITEMS: createEvent("updatefiles"),
    DID_ACTIVATE_ITEM: createEvent("activatefile"),
    DID_REORDER_ITEMS: createEvent("reorderfiles")
  };
  const exposeEvent = (event) => {
    const detail = { pond: exports, ...event };
    delete detail.type;
    view.element.dispatchEvent(
      new CustomEvent(`FilePond:${event.type}`, {
        // event info
        detail,
        // event behaviour
        bubbles: true,
        cancelable: true,
        composed: true
        // triggers listeners outside of shadow root
      })
    );
    const params = [];
    if (event.hasOwnProperty("error")) {
      params.push(event.error);
    }
    if (event.hasOwnProperty("file")) {
      params.push(event.file);
    }
    const filtered = ["type", "error", "file"];
    Object.keys(event).filter((key) => !filtered.includes(key)).forEach((key) => params.push(event[key]));
    exports.fire(event.type, ...params);
    const handler = store.query(`GET_ON${event.type.toUpperCase()}`);
    if (handler) {
      handler(...params);
    }
  };
  const routeActionsToEvents = (actions2) => {
    if (!actions2.length)
      return;
    actions2.filter((action) => eventRoutes[action.type]).forEach((action) => {
      const routes = eventRoutes[action.type];
      (Array.isArray(routes) ? routes : [routes]).forEach((route2) => {
        if (action.type === "DID_INIT_ITEM") {
          exposeEvent(route2(action.data));
        } else {
          setTimeout(() => {
            exposeEvent(route2(action.data));
          }, 0);
        }
      });
    });
  };
  const setOptions2 = (options) => store.dispatch("SET_OPTIONS", { options });
  const getFile = (query) => store.query("GET_ACTIVE_ITEM", query);
  const prepareFile = (query) => new Promise((resolve, reject) => {
    store.dispatch("REQUEST_ITEM_PREPARE", {
      query,
      success: (item2) => {
        resolve(item2);
      },
      failure: (error2) => {
        reject(error2);
      }
    });
  });
  const addFile = (source, options = {}) => new Promise((resolve, reject) => {
    addFiles([{ source, options }], { index: options.index }).then((items) => resolve(items && items[0])).catch(reject);
  });
  const isFilePondFile = (obj) => obj.file && obj.id;
  const removeFile = (query, options) => {
    if (typeof query === "object" && !isFilePondFile(query) && !options) {
      options = query;
      query = void 0;
    }
    store.dispatch("REMOVE_ITEM", { ...options, query });
    return store.query("GET_ACTIVE_ITEM", query) === null;
  };
  const addFiles = (...args) => new Promise((resolve, reject) => {
    const sources = [];
    const options = {};
    if (isArray(args[0])) {
      sources.push.apply(sources, args[0]);
      Object.assign(options, args[1] || {});
    } else {
      const lastArgument = args[args.length - 1];
      if (typeof lastArgument === "object" && !(lastArgument instanceof Blob)) {
        Object.assign(options, args.pop());
      }
      sources.push(...args);
    }
    store.dispatch("ADD_ITEMS", {
      items: sources,
      index: options.index,
      interactionMethod: InteractionMethod.API,
      success: resolve,
      failure: reject
    });
  });
  const getFiles2 = () => store.query("GET_ACTIVE_ITEMS");
  const processFile = (query) => new Promise((resolve, reject) => {
    store.dispatch("REQUEST_ITEM_PROCESSING", {
      query,
      success: (item2) => {
        resolve(item2);
      },
      failure: (error2) => {
        reject(error2);
      }
    });
  });
  const prepareFiles = (...args) => {
    const queries2 = Array.isArray(args[0]) ? args[0] : args;
    const items = queries2.length ? queries2 : getFiles2();
    return Promise.all(items.map(prepareFile));
  };
  const processFiles = (...args) => {
    const queries2 = Array.isArray(args[0]) ? args[0] : args;
    if (!queries2.length) {
      const files = getFiles2().filter(
        (item2) => !(item2.status === ItemStatus.IDLE && item2.origin === FileOrigin.LOCAL) && item2.status !== ItemStatus.PROCESSING && item2.status !== ItemStatus.PROCESSING_COMPLETE && item2.status !== ItemStatus.PROCESSING_REVERT_ERROR
      );
      return Promise.all(files.map(processFile));
    }
    return Promise.all(queries2.map(processFile));
  };
  const removeFiles = (...args) => {
    const queries2 = Array.isArray(args[0]) ? args[0] : args;
    let options;
    if (typeof queries2[queries2.length - 1] === "object") {
      options = queries2.pop();
    } else if (Array.isArray(args[0])) {
      options = args[1];
    }
    const files = getFiles2();
    if (!queries2.length)
      return Promise.all(files.map((file2) => removeFile(file2, options)));
    const mappedQueries = queries2.map((query) => isNumber(query) ? files[query] ? files[query].id : null : query).filter((query) => query);
    return mappedQueries.map((q) => removeFile(q, options));
  };
  const exports = {
    // supports events
    ...on(),
    // inject private api methods
    ...readWriteApi,
    // inject all getters and setters
    ...createOptionAPI(store, defaultOptions2),
    /**
     * Override options defined in options object
     * @param options
     */
    setOptions: setOptions2,
    /**
     * Load the given file
     * @param source - the source of the file (either a File, base64 data uri or url)
     * @param options - object, { index: 0 }
     */
    addFile,
    /**
     * Load the given files
     * @param sources - the sources of the files to load
     * @param options - object, { index: 0 }
     */
    addFiles,
    /**
     * Returns the file objects matching the given query
     * @param query { string, number, null }
     */
    getFile,
    /**
     * Upload file with given name
     * @param query { string, number, null  }
     */
    processFile,
    /**
     * Request prepare output for file with given name
     * @param query { string, number, null  }
     */
    prepareFile,
    /**
     * Removes a file by its name
     * @param query { string, number, null  }
     */
    removeFile,
    /**
     * Moves a file to a new location in the files list
     */
    moveFile: (query, index) => store.dispatch("MOVE_ITEM", { query, index }),
    /**
     * Returns all files (wrapped in public api)
     */
    getFiles: getFiles2,
    /**
     * Starts uploading all files
     */
    processFiles,
    /**
     * Clears all files from the files list
     */
    removeFiles,
    /**
     * Starts preparing output of all files
     */
    prepareFiles,
    /**
     * Sort list of files
     */
    sort: (compare) => store.dispatch("SORT", { compare }),
    /**
     * Browse the file system for a file
     */
    browse: () => {
      var input = view.element.querySelector("input[type=file]");
      if (input) {
        input.click();
      }
    },
    /**
     * Destroys the app
     */
    destroy: () => {
      exports.fire("destroy", view.element);
      store.dispatch("ABORT_ALL");
      view._destroy();
      window.removeEventListener("resize", resizeHandler);
      document.removeEventListener("visibilitychange", visibilityHandler);
      store.dispatch("DID_DESTROY");
    },
    /**
     * Inserts the plugin before the target element
     */
    insertBefore: (element) => insertBefore(view.element, element),
    /**
     * Inserts the plugin after the target element
     */
    insertAfter: (element) => insertAfter(view.element, element),
    /**
     * Appends the plugin to the target element
     */
    appendTo: (element) => element.appendChild(view.element),
    /**
     * Replaces an element with the app
     */
    replaceElement: (element) => {
      insertBefore(view.element, element);
      element.parentNode.removeChild(element);
      originalElement = element;
    },
    /**
     * Restores the original element
     */
    restoreElement: () => {
      if (!originalElement) {
        return;
      }
      insertAfter(originalElement, view.element);
      view.element.parentNode.removeChild(view.element);
      originalElement = null;
    },
    /**
     * Returns true if the app root is attached to given element
     * @param element
     */
    isAttachedTo: (element) => view.element === element || originalElement === element,
    /**
     * Returns the root element
     */
    element: {
      get: () => view.element
    },
    /**
     * Returns the current pond status
     */
    status: {
      get: () => store.query("GET_STATUS")
    }
  };
  store.dispatch("DID_INIT");
  return createObject(exports);
};
var createAppObject = (customOptions = {}) => {
  const defaultOptions2 = {};
  forin(getOptions(), (key, value) => {
    defaultOptions2[key] = value[0];
  });
  const app = createApp({
    // default options
    ...defaultOptions2,
    // custom options
    ...customOptions
  });
  return app;
};
var lowerCaseFirstLetter = (string) => string.charAt(0).toLowerCase() + string.slice(1);
var attributeNameToPropertyName = (attributeName) => toCamels(attributeName.replace(/^data-/, ""));
var mapObject = (object, propertyMap) => {
  forin(propertyMap, (selector, mapping) => {
    forin(object, (property, value) => {
      const selectorRegExp = new RegExp(selector);
      const matches = selectorRegExp.test(property);
      if (!matches) {
        return;
      }
      delete object[property];
      if (mapping === false) {
        return;
      }
      if (isString(mapping)) {
        object[mapping] = value;
        return;
      }
      const group = mapping.group;
      if (isObject(mapping) && !object[group]) {
        object[group] = {};
      }
      object[group][lowerCaseFirstLetter(property.replace(selectorRegExp, ""))] = value;
    });
    if (mapping.mapping) {
      mapObject(object[mapping.group], mapping.mapping);
    }
  });
};
var getAttributesAsObject = (node, attributeMapping = {}) => {
  const attributes = [];
  forin(node.attributes, (index) => {
    attributes.push(node.attributes[index]);
  });
  const output = attributes.filter((attribute) => attribute.name).reduce((obj, attribute) => {
    const value = attr(node, attribute.name);
    obj[attributeNameToPropertyName(attribute.name)] = value === attribute.name ? true : value;
    return obj;
  }, {});
  mapObject(output, attributeMapping);
  return output;
};
var createAppAtElement = (element, options = {}) => {
  const attributeMapping = {
    // translate to other name
    "^class$": "className",
    "^multiple$": "allowMultiple",
    "^capture$": "captureMethod",
    "^webkitdirectory$": "allowDirectoriesOnly",
    // group under single property
    "^server": {
      group: "server",
      mapping: {
        "^process": {
          group: "process"
        },
        "^revert": {
          group: "revert"
        },
        "^fetch": {
          group: "fetch"
        },
        "^restore": {
          group: "restore"
        },
        "^load": {
          group: "load"
        }
      }
    },
    // don't include in object
    "^type$": false,
    "^files$": false
  };
  applyFilters("SET_ATTRIBUTE_TO_OPTION_MAP", attributeMapping);
  const mergedOptions = {
    ...options
  };
  const attributeOptions = getAttributesAsObject(
    element.nodeName === "FIELDSET" ? element.querySelector("input[type=file]") : element,
    attributeMapping
  );
  Object.keys(attributeOptions).forEach((key) => {
    if (isObject(attributeOptions[key])) {
      if (!isObject(mergedOptions[key])) {
        mergedOptions[key] = {};
      }
      Object.assign(mergedOptions[key], attributeOptions[key]);
    } else {
      mergedOptions[key] = attributeOptions[key];
    }
  });
  mergedOptions.files = (options.files || []).concat(
    Array.from(element.querySelectorAll("input:not([type=file])")).map((input) => ({
      source: input.value,
      options: {
        type: input.dataset.type
      }
    }))
  );
  const app = createAppObject(mergedOptions);
  if (element.files) {
    Array.from(element.files).forEach((file2) => {
      app.addFile(file2);
    });
  }
  app.replaceElement(element);
  return app;
};
var createApp$1 = (...args) => isNode(args[0]) ? createAppAtElement(...args) : createAppObject(...args);
var PRIVATE_METHODS = ["fire", "_read", "_write"];
var createAppAPI = (app) => {
  const api = {};
  copyObjectPropertiesToObject(app, api, PRIVATE_METHODS);
  return api;
};
var replaceInString = (string, replacements) => string.replace(/(?:{([a-zA-Z]+)})/g, (match, group) => replacements[group]);
var createWorker = (fn2) => {
  const workerBlob = new Blob(["(", fn2.toString(), ")()"], {
    type: "application/javascript"
  });
  const workerURL = URL.createObjectURL(workerBlob);
  const worker = new Worker(workerURL);
  return {
    transfer: (message, cb) => {
    },
    post: (message, cb, transferList) => {
      const id = getUniqueId();
      worker.onmessage = (e) => {
        if (e.data.id === id) {
          cb(e.data.message);
        }
      };
      worker.postMessage(
        {
          id,
          message
        },
        transferList
      );
    },
    terminate: () => {
      worker.terminate();
      URL.revokeObjectURL(workerURL);
    }
  };
};
var loadImage = (url) => new Promise((resolve, reject) => {
  const img = new Image();
  img.onload = () => {
    resolve(img);
  };
  img.onerror = (e) => {
    reject(e);
  };
  img.src = url;
});
var renameFile = (file2, name2) => {
  const renamedFile = file2.slice(0, file2.size, file2.type);
  renamedFile.lastModifiedDate = file2.lastModifiedDate;
  renamedFile.name = name2;
  return renamedFile;
};
var copyFile = (file2) => renameFile(file2, file2.name);
var registeredPlugins = [];
var createAppPlugin = (plugin9) => {
  if (registeredPlugins.includes(plugin9)) {
    return;
  }
  registeredPlugins.push(plugin9);
  const pluginOutline = plugin9({
    addFilter,
    utils: {
      Type,
      forin,
      isString,
      isFile,
      toNaturalFileSize,
      replaceInString,
      getExtensionFromFilename,
      getFilenameWithoutExtension,
      guesstimateMimeType,
      getFileFromBlob,
      getFilenameFromURL,
      createRoute,
      createWorker,
      createView,
      createItemAPI,
      loadImage,
      copyFile,
      renameFile,
      createBlob,
      applyFilterChain,
      text,
      getNumericAspectRatioFromString
    },
    views: {
      fileActionButton
    }
  });
  extendDefaultOptions(pluginOutline.options);
};
var isOperaMini = () => Object.prototype.toString.call(window.operamini) === "[object OperaMini]";
var hasPromises = () => "Promise" in window;
var hasBlobSlice = () => "slice" in Blob.prototype;
var hasCreateObjectURL = () => "URL" in window && "createObjectURL" in window.URL;
var hasVisibility = () => "visibilityState" in document;
var hasTiming = () => "performance" in window;
var hasCSSSupports = () => "supports" in (window.CSS || {});
var isIE11 = () => /MSIE|Trident/.test(window.navigator.userAgent);
var supported = (() => {
  const isSupported = (
    // Has to be a browser
    isBrowser() && // Can't run on Opera Mini due to lack of everything
    !isOperaMini() && // Require these APIs to feature detect a modern browser
    hasVisibility() && hasPromises() && hasBlobSlice() && hasCreateObjectURL() && hasTiming() && // doesn't need CSSSupports but is a good way to detect Safari 9+ (we do want to support IE11 though)
    (hasCSSSupports() || isIE11())
  );
  return () => isSupported;
})();
var state = {
  // active app instances, used to redraw the apps and to find the later
  apps: []
};
var name = "filepond";
var fn = () => {
};
var Status$1 = {};
var FileStatus = {};
var FileOrigin$1 = {};
var OptionTypes = {};
var create$f = fn;
var destroy = fn;
var parse = fn;
var find = fn;
var registerPlugin = fn;
var getOptions$1 = fn;
var setOptions$1 = fn;
if (supported()) {
  createPainter(
    () => {
      state.apps.forEach((app) => app._read());
    },
    (ts) => {
      state.apps.forEach((app) => app._write(ts));
    }
  );
  const dispatch = () => {
    document.dispatchEvent(
      new CustomEvent("FilePond:loaded", {
        detail: {
          supported,
          create: create$f,
          destroy,
          parse,
          find,
          registerPlugin,
          setOptions: setOptions$1
        }
      })
    );
    document.removeEventListener("DOMContentLoaded", dispatch);
  };
  if (document.readyState !== "loading") {
    setTimeout(() => dispatch(), 0);
  } else {
    document.addEventListener("DOMContentLoaded", dispatch);
  }
  const updateOptionTypes = () => forin(getOptions(), (key, value) => {
    OptionTypes[key] = value[1];
  });
  Status$1 = { ...Status };
  FileOrigin$1 = { ...FileOrigin };
  FileStatus = { ...ItemStatus };
  OptionTypes = {};
  updateOptionTypes();
  create$f = (...args) => {
    const app = createApp$1(...args);
    app.on("destroy", destroy);
    state.apps.push(app);
    return createAppAPI(app);
  };
  destroy = (hook) => {
    const indexToRemove = state.apps.findIndex((app) => app.isAttachedTo(hook));
    if (indexToRemove >= 0) {
      const app = state.apps.splice(indexToRemove, 1)[0];
      app.restoreElement();
      return true;
    }
    return false;
  };
  parse = (context) => {
    const matchedHooks = Array.from(context.querySelectorAll(`.${name}`));
    const newHooks = matchedHooks.filter(
      (newHook) => !state.apps.find((app) => app.isAttachedTo(newHook))
    );
    return newHooks.map((hook) => create$f(hook));
  };
  find = (hook) => {
    const app = state.apps.find((app2) => app2.isAttachedTo(hook));
    if (!app) {
      return null;
    }
    return createAppAPI(app);
  };
  registerPlugin = (...plugins) => {
    plugins.forEach(createAppPlugin);
    updateOptionTypes();
  };
  getOptions$1 = () => {
    const opts = {};
    forin(getOptions(), (key, value) => {
      opts[key] = value[0];
    });
    return opts;
  };
  setOptions$1 = (opts) => {
    if (isObject(opts)) {
      state.apps.forEach((app) => {
        app.setOptions(opts);
      });
      setOptions(opts);
    }
    return getOptions$1();
  };
}

// node_modules/filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.esm.js
var plugin = ({ addFilter: addFilter2, utils }) => {
  const { Type: Type2, replaceInString: replaceInString2, toNaturalFileSize: toNaturalFileSize2 } = utils;
  addFilter2("ALLOW_HOPPER_ITEM", (file2, { query }) => {
    if (!query("GET_ALLOW_FILE_SIZE_VALIDATION")) {
      return true;
    }
    const sizeMax = query("GET_MAX_FILE_SIZE");
    if (sizeMax !== null && file2.size > sizeMax) {
      return false;
    }
    const sizeMin = query("GET_MIN_FILE_SIZE");
    if (sizeMin !== null && file2.size < sizeMin) {
      return false;
    }
    return true;
  });
  addFilter2(
    "LOAD_FILE",
    (file2, { query }) => new Promise((resolve, reject) => {
      if (!query("GET_ALLOW_FILE_SIZE_VALIDATION")) {
        return resolve(file2);
      }
      const fileFilter = query("GET_FILE_VALIDATE_SIZE_FILTER");
      if (fileFilter && !fileFilter(file2)) {
        return resolve(file2);
      }
      const sizeMax = query("GET_MAX_FILE_SIZE");
      if (sizeMax !== null && file2.size > sizeMax) {
        reject({
          status: {
            main: query("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),
            sub: replaceInString2(query("GET_LABEL_MAX_FILE_SIZE"), {
              filesize: toNaturalFileSize2(
                sizeMax,
                ".",
                query("GET_FILE_SIZE_BASE"),
                query("GET_FILE_SIZE_LABELS", query)
              )
            })
          }
        });
        return;
      }
      const sizeMin = query("GET_MIN_FILE_SIZE");
      if (sizeMin !== null && file2.size < sizeMin) {
        reject({
          status: {
            main: query("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),
            sub: replaceInString2(query("GET_LABEL_MIN_FILE_SIZE"), {
              filesize: toNaturalFileSize2(
                sizeMin,
                ".",
                query("GET_FILE_SIZE_BASE"),
                query("GET_FILE_SIZE_LABELS", query)
              )
            })
          }
        });
        return;
      }
      const totalSizeMax = query("GET_MAX_TOTAL_FILE_SIZE");
      if (totalSizeMax !== null) {
        const currentTotalSize = query("GET_ACTIVE_ITEMS").reduce((total, item2) => {
          return total + item2.fileSize;
        }, 0);
        if (currentTotalSize > totalSizeMax) {
          reject({
            status: {
              main: query("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),
              sub: replaceInString2(query("GET_LABEL_MAX_TOTAL_FILE_SIZE"), {
                filesize: toNaturalFileSize2(
                  totalSizeMax,
                  ".",
                  query("GET_FILE_SIZE_BASE"),
                  query("GET_FILE_SIZE_LABELS", query)
                )
              })
            }
          });
          return;
        }
      }
      resolve(file2);
    })
  );
  return {
    options: {
      // Enable or disable file type validation
      allowFileSizeValidation: [true, Type2.BOOLEAN],
      // Max individual file size in bytes
      maxFileSize: [null, Type2.INT],
      // Min individual file size in bytes
      minFileSize: [null, Type2.INT],
      // Max total file size in bytes
      maxTotalFileSize: [null, Type2.INT],
      // Filter the files that need to be validated for size
      fileValidateSizeFilter: [null, Type2.FUNCTION],
      // error labels
      labelMinFileSizeExceeded: ["File is too small", Type2.STRING],
      labelMinFileSize: ["Minimum file size is {filesize}", Type2.STRING],
      labelMaxFileSizeExceeded: ["File is too large", Type2.STRING],
      labelMaxFileSize: ["Maximum file size is {filesize}", Type2.STRING],
      labelMaxTotalFileSizeExceeded: ["Maximum total size exceeded", Type2.STRING],
      labelMaxTotalFileSize: ["Maximum total file size is {filesize}", Type2.STRING]
    }
  };
};
var isBrowser2 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser2) {
  document.dispatchEvent(new CustomEvent("FilePond:pluginloaded", { detail: plugin }));
}
var filepond_plugin_file_validate_size_esm_default = plugin;

// node_modules/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.esm.js
var plugin2 = ({ addFilter: addFilter2, utils }) => {
  const {
    Type: Type2,
    isString: isString2,
    replaceInString: replaceInString2,
    guesstimateMimeType: guesstimateMimeType2,
    getExtensionFromFilename: getExtensionFromFilename2,
    getFilenameFromURL: getFilenameFromURL2
  } = utils;
  const mimeTypeMatchesWildCard = (mimeType, wildcard) => {
    const mimeTypeGroup = (/^[^/]+/.exec(mimeType) || []).pop();
    const wildcardGroup = wildcard.slice(0, -2);
    return mimeTypeGroup === wildcardGroup;
  };
  const isValidMimeType = (acceptedTypes, userInputType) => acceptedTypes.some((acceptedType) => {
    if (/\*$/.test(acceptedType)) {
      return mimeTypeMatchesWildCard(userInputType, acceptedType);
    }
    return acceptedType === userInputType;
  });
  const getItemType = (item2) => {
    let type = "";
    if (isString2(item2)) {
      const filename = getFilenameFromURL2(item2);
      const extension = getExtensionFromFilename2(filename);
      if (extension) {
        type = guesstimateMimeType2(extension);
      }
    } else {
      type = item2.type;
    }
    return type;
  };
  const validateFile = (item2, acceptedFileTypes, typeDetector) => {
    if (acceptedFileTypes.length === 0) {
      return true;
    }
    const type = getItemType(item2);
    if (!typeDetector) {
      return isValidMimeType(acceptedFileTypes, type);
    }
    return new Promise((resolve, reject) => {
      typeDetector(item2, type).then((detectedType) => {
        if (isValidMimeType(acceptedFileTypes, detectedType)) {
          resolve();
        } else {
          reject();
        }
      }).catch(reject);
    });
  };
  const applyMimeTypeMap = (map2) => (acceptedFileType) => map2[acceptedFileType] === null ? false : map2[acceptedFileType] || acceptedFileType;
  addFilter2(
    "SET_ATTRIBUTE_TO_OPTION_MAP",
    (map2) => Object.assign(map2, {
      accept: "acceptedFileTypes"
    })
  );
  addFilter2("ALLOW_HOPPER_ITEM", (file2, { query }) => {
    if (!query("GET_ALLOW_FILE_TYPE_VALIDATION")) {
      return true;
    }
    return validateFile(file2, query("GET_ACCEPTED_FILE_TYPES"));
  });
  addFilter2(
    "LOAD_FILE",
    (file2, { query }) => new Promise((resolve, reject) => {
      if (!query("GET_ALLOW_FILE_TYPE_VALIDATION")) {
        resolve(file2);
        return;
      }
      const acceptedFileTypes = query("GET_ACCEPTED_FILE_TYPES");
      const typeDetector = query("GET_FILE_VALIDATE_TYPE_DETECT_TYPE");
      const validationResult = validateFile(
        file2,
        acceptedFileTypes,
        typeDetector
      );
      const handleRejection = () => {
        const acceptedFileTypesMapped = acceptedFileTypes.map(
          applyMimeTypeMap(
            query("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP")
          )
        ).filter((label) => label !== false);
        const acceptedFileTypesMapped_unique = acceptedFileTypesMapped.filter(
          function(item2, index) {
            return acceptedFileTypesMapped.indexOf(item2) === index;
          }
        );
        reject({
          status: {
            main: query("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),
            sub: replaceInString2(
              query("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),
              {
                allTypes: acceptedFileTypesMapped_unique.join(", "),
                allButLastType: acceptedFileTypesMapped_unique.slice(0, -1).join(", "),
                lastType: acceptedFileTypesMapped_unique[acceptedFileTypesMapped.length - 1]
              }
            )
          }
        });
      };
      if (typeof validationResult === "boolean") {
        if (!validationResult) {
          return handleRejection();
        }
        return resolve(file2);
      }
      validationResult.then(() => {
        resolve(file2);
      }).catch(handleRejection);
    })
  );
  return {
    // default options
    options: {
      // Enable or disable file type validation
      allowFileTypeValidation: [true, Type2.BOOLEAN],
      // What file types to accept
      acceptedFileTypes: [[], Type2.ARRAY],
      // - must be comma separated
      // - mime types: image/png, image/jpeg, image/gif
      // - extensions: .png, .jpg, .jpeg ( not enabled yet )
      // - wildcards: image/*
      // label to show when a type is not allowed
      labelFileTypeNotAllowed: ["File is of invalid type", Type2.STRING],
      // nicer label
      fileValidateTypeLabelExpectedTypes: [
        "Expects {allButLastType} or {lastType}",
        Type2.STRING
      ],
      // map mime types to extensions
      fileValidateTypeLabelExpectedTypesMap: [{}, Type2.OBJECT],
      // Custom function to detect type of file
      fileValidateTypeDetectType: [null, Type2.FUNCTION]
    }
  };
};
var isBrowser3 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser3) {
  document.dispatchEvent(
    new CustomEvent("FilePond:pluginloaded", { detail: plugin2 })
  );
}
var filepond_plugin_file_validate_type_esm_default = plugin2;

// node_modules/filepond-plugin-image-crop/dist/filepond-plugin-image-crop.esm.js
var isImage = (file2) => /^image/.test(file2.type);
var plugin3 = ({ addFilter: addFilter2, utils }) => {
  const { Type: Type2, isFile: isFile2, getNumericAspectRatioFromString: getNumericAspectRatioFromString2 } = utils;
  const allowCrop = (item2, query) => !(!isImage(item2.file) || !query("GET_ALLOW_IMAGE_CROP"));
  const isObject2 = (value) => typeof value === "object";
  const isNumber2 = (value) => typeof value === "number";
  const updateCrop = (item2, obj) => item2.setMetadata("crop", Object.assign({}, item2.getMetadata("crop"), obj));
  addFilter2("DID_CREATE_ITEM", (item2, { query }) => {
    item2.extend("setImageCrop", (crop) => {
      if (!allowCrop(item2, query) || !isObject2(center))
        return;
      item2.setMetadata("crop", crop);
      return crop;
    });
    item2.extend("setImageCropCenter", (center2) => {
      if (!allowCrop(item2, query) || !isObject2(center2))
        return;
      return updateCrop(item2, { center: center2 });
    });
    item2.extend("setImageCropZoom", (zoom) => {
      if (!allowCrop(item2, query) || !isNumber2(zoom))
        return;
      return updateCrop(item2, { zoom: Math.max(1, zoom) });
    });
    item2.extend("setImageCropRotation", (rotation) => {
      if (!allowCrop(item2, query) || !isNumber2(rotation))
        return;
      return updateCrop(item2, { rotation });
    });
    item2.extend("setImageCropFlip", (flip) => {
      if (!allowCrop(item2, query) || !isObject2(flip))
        return;
      return updateCrop(item2, { flip });
    });
    item2.extend("setImageCropAspectRatio", (newAspectRatio) => {
      if (!allowCrop(item2, query) || typeof newAspectRatio === "undefined")
        return;
      const currentCrop = item2.getMetadata("crop");
      const aspectRatio = getNumericAspectRatioFromString2(newAspectRatio);
      const newCrop = {
        center: {
          x: 0.5,
          y: 0.5
        },
        flip: currentCrop ? Object.assign({}, currentCrop.flip) : {
          horizontal: false,
          vertical: false
        },
        rotation: 0,
        zoom: 1,
        aspectRatio
      };
      item2.setMetadata("crop", newCrop);
      return newCrop;
    });
  });
  addFilter2(
    "DID_LOAD_ITEM",
    (item2, { query }) => new Promise((resolve, reject) => {
      const file2 = item2.file;
      if (!isFile2(file2) || !isImage(file2) || !query("GET_ALLOW_IMAGE_CROP")) {
        return resolve(item2);
      }
      const crop = item2.getMetadata("crop");
      if (crop) {
        return resolve(item2);
      }
      const humanAspectRatio = query("GET_IMAGE_CROP_ASPECT_RATIO");
      item2.setMetadata("crop", {
        center: {
          x: 0.5,
          y: 0.5
        },
        flip: {
          horizontal: false,
          vertical: false
        },
        rotation: 0,
        zoom: 1,
        aspectRatio: humanAspectRatio ? getNumericAspectRatioFromString2(humanAspectRatio) : null
      });
      resolve(item2);
    })
  );
  return {
    options: {
      // enable or disable image cropping
      allowImageCrop: [true, Type2.BOOLEAN],
      // the aspect ratio of the crop ('1:1', '16:9', etc)
      imageCropAspectRatio: [null, Type2.STRING]
    }
  };
};
var isBrowser4 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser4) {
  document.dispatchEvent(
    new CustomEvent("FilePond:pluginloaded", { detail: plugin3 })
  );
}
var filepond_plugin_image_crop_esm_default = plugin3;

// node_modules/filepond-plugin-image-exif-orientation/dist/filepond-plugin-image-exif-orientation.esm.js
var isJPEG = (file2) => /^image\/jpeg/.test(file2.type);
var Marker = {
  JPEG: 65496,
  APP1: 65505,
  EXIF: 1165519206,
  TIFF: 18761,
  Orientation: 274,
  Unknown: 65280
};
var getUint16 = (view, offset, little = false) => view.getUint16(offset, little);
var getUint32 = (view, offset, little = false) => view.getUint32(offset, little);
var getImageOrientation = (file2) => new Promise((resolve, reject) => {
  const reader = new FileReader();
  reader.onload = function(e) {
    const view = new DataView(e.target.result);
    if (getUint16(view, 0) !== Marker.JPEG) {
      resolve(-1);
      return;
    }
    const length = view.byteLength;
    let offset = 2;
    while (offset < length) {
      const marker = getUint16(view, offset);
      offset += 2;
      if (marker === Marker.APP1) {
        if (getUint32(view, offset += 2) !== Marker.EXIF) {
          break;
        }
        const little = getUint16(view, offset += 6) === Marker.TIFF;
        offset += getUint32(view, offset + 4, little);
        const tags = getUint16(view, offset, little);
        offset += 2;
        for (let i = 0; i < tags; i++) {
          if (getUint16(view, offset + i * 12, little) === Marker.Orientation) {
            resolve(getUint16(view, offset + i * 12 + 8, little));
            return;
          }
        }
      } else if ((marker & Marker.Unknown) !== Marker.Unknown) {
        break;
      } else {
        offset += getUint16(view, offset);
      }
    }
    resolve(-1);
  };
  reader.readAsArrayBuffer(file2.slice(0, 64 * 1024));
});
var IS_BROWSER2 = (() => typeof window !== "undefined" && typeof window.document !== "undefined")();
var isBrowser5 = () => IS_BROWSER2;
var testSrc = "data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";
var shouldCorrect = void 0;
var testImage = isBrowser5() ? new Image() : {};
testImage.onload = () => shouldCorrect = testImage.naturalWidth > testImage.naturalHeight;
testImage.src = testSrc;
var shouldCorrectImageExifOrientation = () => shouldCorrect;
var plugin4 = ({ addFilter: addFilter2, utils }) => {
  const { Type: Type2, isFile: isFile2 } = utils;
  addFilter2(
    "DID_LOAD_ITEM",
    (item2, { query }) => new Promise((resolve, reject) => {
      const file2 = item2.file;
      if (!isFile2(file2) || !isJPEG(file2) || !query("GET_ALLOW_IMAGE_EXIF_ORIENTATION") || !shouldCorrectImageExifOrientation()) {
        return resolve(item2);
      }
      getImageOrientation(file2).then((orientation) => {
        item2.setMetadata("exif", { orientation });
        resolve(item2);
      });
    })
  );
  return {
    options: {
      // Enable or disable image orientation reading
      allowImageExifOrientation: [true, Type2.BOOLEAN]
    }
  };
};
var isBrowser$1 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser$1) {
  document.dispatchEvent(
    new CustomEvent("FilePond:pluginloaded", { detail: plugin4 })
  );
}
var filepond_plugin_image_exif_orientation_esm_default = plugin4;

// node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.esm.js
var isPreviewableImage = (file2) => /^image/.test(file2.type);
var vectorMultiply = (v, amount) => createVector(v.x * amount, v.y * amount);
var vectorAdd = (a, b) => createVector(a.x + b.x, a.y + b.y);
var vectorNormalize = (v) => {
  const l = Math.sqrt(v.x * v.x + v.y * v.y);
  if (l === 0) {
    return {
      x: 0,
      y: 0
    };
  }
  return createVector(v.x / l, v.y / l);
};
var vectorRotate = (v, radians, origin) => {
  const cos = Math.cos(radians);
  const sin = Math.sin(radians);
  const t = createVector(v.x - origin.x, v.y - origin.y);
  return createVector(
    origin.x + cos * t.x - sin * t.y,
    origin.y + sin * t.x + cos * t.y
  );
};
var createVector = (x = 0, y = 0) => ({ x, y });
var getMarkupValue = (value, size, scalar = 1, axis) => {
  if (typeof value === "string") {
    return parseFloat(value) * scalar;
  }
  if (typeof value === "number") {
    return value * (axis ? size[axis] : Math.min(size.width, size.height));
  }
  return;
};
var getMarkupStyles = (markup, size, scale) => {
  const lineStyle = markup.borderStyle || markup.lineStyle || "solid";
  const fill = markup.backgroundColor || markup.fontColor || "transparent";
  const stroke = markup.borderColor || markup.lineColor || "transparent";
  const strokeWidth = getMarkupValue(
    markup.borderWidth || markup.lineWidth,
    size,
    scale
  );
  const lineCap = markup.lineCap || "round";
  const lineJoin = markup.lineJoin || "round";
  const dashes = typeof lineStyle === "string" ? "" : lineStyle.map((v) => getMarkupValue(v, size, scale)).join(",");
  const opacity = markup.opacity || 1;
  return {
    "stroke-linecap": lineCap,
    "stroke-linejoin": lineJoin,
    "stroke-width": strokeWidth || 0,
    "stroke-dasharray": dashes,
    stroke,
    fill,
    opacity
  };
};
var isDefined2 = (value) => value != null;
var getMarkupRect = (rect, size, scalar = 1) => {
  let left = getMarkupValue(rect.x, size, scalar, "width") || getMarkupValue(rect.left, size, scalar, "width");
  let top = getMarkupValue(rect.y, size, scalar, "height") || getMarkupValue(rect.top, size, scalar, "height");
  let width = getMarkupValue(rect.width, size, scalar, "width");
  let height = getMarkupValue(rect.height, size, scalar, "height");
  let right = getMarkupValue(rect.right, size, scalar, "width");
  let bottom = getMarkupValue(rect.bottom, size, scalar, "height");
  if (!isDefined2(top)) {
    if (isDefined2(height) && isDefined2(bottom)) {
      top = size.height - height - bottom;
    } else {
      top = bottom;
    }
  }
  if (!isDefined2(left)) {
    if (isDefined2(width) && isDefined2(right)) {
      left = size.width - width - right;
    } else {
      left = right;
    }
  }
  if (!isDefined2(width)) {
    if (isDefined2(left) && isDefined2(right)) {
      width = size.width - left - right;
    } else {
      width = 0;
    }
  }
  if (!isDefined2(height)) {
    if (isDefined2(top) && isDefined2(bottom)) {
      height = size.height - top - bottom;
    } else {
      height = 0;
    }
  }
  return {
    x: left || 0,
    y: top || 0,
    width: width || 0,
    height: height || 0
  };
};
var pointsToPathShape = (points) => points.map((point, index) => `${index === 0 ? "M" : "L"} ${point.x} ${point.y}`).join(" ");
var setAttributes = (element, attr2) => Object.keys(attr2).forEach((key) => element.setAttribute(key, attr2[key]));
var ns2 = "http://www.w3.org/2000/svg";
var svg = (tag, attr2) => {
  const element = document.createElementNS(ns2, tag);
  if (attr2) {
    setAttributes(element, attr2);
  }
  return element;
};
var updateRect2 = (element) => setAttributes(element, {
  ...element.rect,
  ...element.styles
});
var updateEllipse = (element) => {
  const cx = element.rect.x + element.rect.width * 0.5;
  const cy = element.rect.y + element.rect.height * 0.5;
  const rx = element.rect.width * 0.5;
  const ry = element.rect.height * 0.5;
  return setAttributes(element, {
    cx,
    cy,
    rx,
    ry,
    ...element.styles
  });
};
var IMAGE_FIT_STYLE = {
  contain: "xMidYMid meet",
  cover: "xMidYMid slice"
};
var updateImage = (element, markup) => {
  setAttributes(element, {
    ...element.rect,
    ...element.styles,
    preserveAspectRatio: IMAGE_FIT_STYLE[markup.fit] || "none"
  });
};
var TEXT_ANCHOR = {
  left: "start",
  center: "middle",
  right: "end"
};
var updateText = (element, markup, size, scale) => {
  const fontSize = getMarkupValue(markup.fontSize, size, scale);
  const fontFamily = markup.fontFamily || "sans-serif";
  const fontWeight = markup.fontWeight || "normal";
  const textAlign = TEXT_ANCHOR[markup.textAlign] || "start";
  setAttributes(element, {
    ...element.rect,
    ...element.styles,
    "stroke-width": 0,
    "font-weight": fontWeight,
    "font-size": fontSize,
    "font-family": fontFamily,
    "text-anchor": textAlign
  });
  if (element.text !== markup.text) {
    element.text = markup.text;
    element.textContent = markup.text.length ? markup.text : " ";
  }
};
var updateLine = (element, markup, size, scale) => {
  setAttributes(element, {
    ...element.rect,
    ...element.styles,
    fill: "none"
  });
  const line = element.childNodes[0];
  const begin = element.childNodes[1];
  const end = element.childNodes[2];
  const origin = element.rect;
  const target = {
    x: element.rect.x + element.rect.width,
    y: element.rect.y + element.rect.height
  };
  setAttributes(line, {
    x1: origin.x,
    y1: origin.y,
    x2: target.x,
    y2: target.y
  });
  if (!markup.lineDecoration)
    return;
  begin.style.display = "none";
  end.style.display = "none";
  const v = vectorNormalize({
    x: target.x - origin.x,
    y: target.y - origin.y
  });
  const l = getMarkupValue(0.05, size, scale);
  if (markup.lineDecoration.indexOf("arrow-begin") !== -1) {
    const arrowBeginRotationPoint = vectorMultiply(v, l);
    const arrowBeginCenter = vectorAdd(origin, arrowBeginRotationPoint);
    const arrowBeginA = vectorRotate(origin, 2, arrowBeginCenter);
    const arrowBeginB = vectorRotate(origin, -2, arrowBeginCenter);
    setAttributes(begin, {
      style: "display:block;",
      d: `M${arrowBeginA.x},${arrowBeginA.y} L${origin.x},${origin.y} L${arrowBeginB.x},${arrowBeginB.y}`
    });
  }
  if (markup.lineDecoration.indexOf("arrow-end") !== -1) {
    const arrowEndRotationPoint = vectorMultiply(v, -l);
    const arrowEndCenter = vectorAdd(target, arrowEndRotationPoint);
    const arrowEndA = vectorRotate(target, 2, arrowEndCenter);
    const arrowEndB = vectorRotate(target, -2, arrowEndCenter);
    setAttributes(end, {
      style: "display:block;",
      d: `M${arrowEndA.x},${arrowEndA.y} L${target.x},${target.y} L${arrowEndB.x},${arrowEndB.y}`
    });
  }
};
var updatePath = (element, markup, size, scale) => {
  setAttributes(element, {
    ...element.styles,
    fill: "none",
    d: pointsToPathShape(
      markup.points.map((point) => ({
        x: getMarkupValue(point.x, size, scale, "width"),
        y: getMarkupValue(point.y, size, scale, "height")
      }))
    )
  });
};
var createShape = (node) => (markup) => svg(node, { id: markup.id });
var createImage = (markup) => {
  const shape = svg("image", {
    id: markup.id,
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    opacity: "0"
  });
  shape.onload = () => {
    shape.setAttribute("opacity", markup.opacity || 1);
  };
  shape.setAttributeNS(
    "http://www.w3.org/1999/xlink",
    "xlink:href",
    markup.src
  );
  return shape;
};
var createLine = (markup) => {
  const shape = svg("g", {
    id: markup.id,
    "stroke-linecap": "round",
    "stroke-linejoin": "round"
  });
  const line = svg("line");
  shape.appendChild(line);
  const begin = svg("path");
  shape.appendChild(begin);
  const end = svg("path");
  shape.appendChild(end);
  return shape;
};
var CREATE_TYPE_ROUTES = {
  image: createImage,
  rect: createShape("rect"),
  ellipse: createShape("ellipse"),
  text: createShape("text"),
  path: createShape("path"),
  line: createLine
};
var UPDATE_TYPE_ROUTES = {
  rect: updateRect2,
  ellipse: updateEllipse,
  image: updateImage,
  text: updateText,
  path: updatePath,
  line: updateLine
};
var createMarkupByType = (type, markup) => CREATE_TYPE_ROUTES[type](markup);
var updateMarkupByType = (element, type, markup, size, scale) => {
  if (type !== "path") {
    element.rect = getMarkupRect(markup, size, scale);
  }
  element.styles = getMarkupStyles(markup, size, scale);
  UPDATE_TYPE_ROUTES[type](element, markup, size, scale);
};
var MARKUP_RECT = [
  "x",
  "y",
  "left",
  "top",
  "right",
  "bottom",
  "width",
  "height"
];
var toOptionalFraction = (value) => typeof value === "string" && /%/.test(value) ? parseFloat(value) / 100 : value;
var prepareMarkup = (markup) => {
  const [type, props] = markup;
  const rect = props.points ? {} : MARKUP_RECT.reduce((prev, curr) => {
    prev[curr] = toOptionalFraction(props[curr]);
    return prev;
  }, {});
  return [
    type,
    {
      zIndex: 0,
      ...props,
      ...rect
    }
  ];
};
var sortMarkupByZIndex = (a, b) => {
  if (a[1].zIndex > b[1].zIndex) {
    return 1;
  }
  if (a[1].zIndex < b[1].zIndex) {
    return -1;
  }
  return 0;
};
var createMarkupView = (_) => _.utils.createView({
  name: "image-preview-markup",
  tag: "svg",
  ignoreRect: true,
  mixins: {
    apis: ["width", "height", "crop", "markup", "resize", "dirty"]
  },
  write: ({ root: root2, props }) => {
    if (!props.dirty)
      return;
    const { crop, resize, markup } = props;
    const viewWidth = props.width;
    const viewHeight = props.height;
    let cropWidth = crop.width;
    let cropHeight = crop.height;
    if (resize) {
      const { size: size2 } = resize;
      let outputWidth = size2 && size2.width;
      let outputHeight = size2 && size2.height;
      const outputFit = resize.mode;
      const outputUpscale = resize.upscale;
      if (outputWidth && !outputHeight)
        outputHeight = outputWidth;
      if (outputHeight && !outputWidth)
        outputWidth = outputHeight;
      const shouldUpscale = cropWidth < outputWidth && cropHeight < outputHeight;
      if (!shouldUpscale || shouldUpscale && outputUpscale) {
        let scalarWidth = outputWidth / cropWidth;
        let scalarHeight = outputHeight / cropHeight;
        if (outputFit === "force") {
          cropWidth = outputWidth;
          cropHeight = outputHeight;
        } else {
          let scalar;
          if (outputFit === "cover") {
            scalar = Math.max(scalarWidth, scalarHeight);
          } else if (outputFit === "contain") {
            scalar = Math.min(scalarWidth, scalarHeight);
          }
          cropWidth = cropWidth * scalar;
          cropHeight = cropHeight * scalar;
        }
      }
    }
    const size = {
      width: viewWidth,
      height: viewHeight
    };
    root2.element.setAttribute("width", size.width);
    root2.element.setAttribute("height", size.height);
    const scale = Math.min(viewWidth / cropWidth, viewHeight / cropHeight);
    root2.element.innerHTML = "";
    const markupFilter = root2.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");
    markup.filter(markupFilter).map(prepareMarkup).sort(sortMarkupByZIndex).forEach((markup2) => {
      const [type, settings] = markup2;
      const element = createMarkupByType(type, settings);
      updateMarkupByType(element, type, settings, size, scale);
      root2.element.appendChild(element);
    });
  }
});
var createVector$1 = (x, y) => ({ x, y });
var vectorDot = (a, b) => a.x * b.x + a.y * b.y;
var vectorSubtract = (a, b) => createVector$1(a.x - b.x, a.y - b.y);
var vectorDistanceSquared = (a, b) => vectorDot(vectorSubtract(a, b), vectorSubtract(a, b));
var vectorDistance = (a, b) => Math.sqrt(vectorDistanceSquared(a, b));
var getOffsetPointOnEdge = (length, rotation) => {
  const a = length;
  const A = 1.5707963267948966;
  const B = rotation;
  const C = 1.5707963267948966 - rotation;
  const sinA = Math.sin(A);
  const sinB = Math.sin(B);
  const sinC = Math.sin(C);
  const cosC = Math.cos(C);
  const ratio = a / sinA;
  const b = ratio * sinB;
  const c = ratio * sinC;
  return createVector$1(cosC * b, cosC * c);
};
var getRotatedRectSize = (rect, rotation) => {
  const w = rect.width;
  const h = rect.height;
  const hor = getOffsetPointOnEdge(w, rotation);
  const ver = getOffsetPointOnEdge(h, rotation);
  const tl = createVector$1(rect.x + Math.abs(hor.x), rect.y - Math.abs(hor.y));
  const tr = createVector$1(
    rect.x + rect.width + Math.abs(ver.y),
    rect.y + Math.abs(ver.x)
  );
  const bl = createVector$1(
    rect.x - Math.abs(ver.y),
    rect.y + rect.height - Math.abs(ver.x)
  );
  return {
    width: vectorDistance(tl, tr),
    height: vectorDistance(tl, bl)
  };
};
var calculateCanvasSize = (image, canvasAspectRatio, zoom = 1) => {
  const imageAspectRatio = image.height / image.width;
  let canvasWidth = 1;
  let canvasHeight = canvasAspectRatio;
  let imgWidth = 1;
  let imgHeight = imageAspectRatio;
  if (imgHeight > canvasHeight) {
    imgHeight = canvasHeight;
    imgWidth = imgHeight / imageAspectRatio;
  }
  const scalar = Math.max(canvasWidth / imgWidth, canvasHeight / imgHeight);
  const width = image.width / (zoom * scalar * imgWidth);
  const height = width * canvasAspectRatio;
  return {
    width,
    height
  };
};
var getImageRectZoomFactor = (imageRect, cropRect, rotation, center2) => {
  const cx = center2.x > 0.5 ? 1 - center2.x : center2.x;
  const cy = center2.y > 0.5 ? 1 - center2.y : center2.y;
  const imageWidth = cx * 2 * imageRect.width;
  const imageHeight = cy * 2 * imageRect.height;
  const rotatedCropSize = getRotatedRectSize(cropRect, rotation);
  return Math.max(
    rotatedCropSize.width / imageWidth,
    rotatedCropSize.height / imageHeight
  );
};
var getCenteredCropRect = (container, aspectRatio) => {
  let width = container.width;
  let height = width * aspectRatio;
  if (height > container.height) {
    height = container.height;
    width = height / aspectRatio;
  }
  const x = (container.width - width) * 0.5;
  const y = (container.height - height) * 0.5;
  return {
    x,
    y,
    width,
    height
  };
};
var getCurrentCropSize = (imageSize, crop = {}) => {
  let { zoom, rotation, center: center2, aspectRatio } = crop;
  if (!aspectRatio)
    aspectRatio = imageSize.height / imageSize.width;
  const canvasSize = calculateCanvasSize(imageSize, aspectRatio, zoom);
  const canvasCenter = {
    x: canvasSize.width * 0.5,
    y: canvasSize.height * 0.5
  };
  const stage = {
    x: 0,
    y: 0,
    width: canvasSize.width,
    height: canvasSize.height,
    center: canvasCenter
  };
  const shouldLimit = typeof crop.scaleToFit === "undefined" || crop.scaleToFit;
  const stageZoomFactor = getImageRectZoomFactor(
    imageSize,
    getCenteredCropRect(stage, aspectRatio),
    rotation,
    shouldLimit ? center2 : { x: 0.5, y: 0.5 }
  );
  const scale = zoom * stageZoomFactor;
  return {
    widthFloat: canvasSize.width / scale,
    heightFloat: canvasSize.height / scale,
    width: Math.round(canvasSize.width / scale),
    height: Math.round(canvasSize.height / scale)
  };
};
var IMAGE_SCALE_SPRING_PROPS = {
  type: "spring",
  stiffness: 0.5,
  damping: 0.45,
  mass: 10
};
var createBitmapView = (_) => _.utils.createView({
  name: "image-bitmap",
  ignoreRect: true,
  mixins: { styles: ["scaleX", "scaleY"] },
  create: ({ root: root2, props }) => {
    root2.appendChild(props.image);
  }
});
var createImageCanvasWrapper = (_) => _.utils.createView({
  name: "image-canvas-wrapper",
  tag: "div",
  ignoreRect: true,
  mixins: {
    apis: ["crop", "width", "height"],
    styles: [
      "originX",
      "originY",
      "translateX",
      "translateY",
      "scaleX",
      "scaleY",
      "rotateZ"
    ],
    animations: {
      originX: IMAGE_SCALE_SPRING_PROPS,
      originY: IMAGE_SCALE_SPRING_PROPS,
      scaleX: IMAGE_SCALE_SPRING_PROPS,
      scaleY: IMAGE_SCALE_SPRING_PROPS,
      translateX: IMAGE_SCALE_SPRING_PROPS,
      translateY: IMAGE_SCALE_SPRING_PROPS,
      rotateZ: IMAGE_SCALE_SPRING_PROPS
    }
  },
  create: ({ root: root2, props }) => {
    props.width = props.image.width;
    props.height = props.image.height;
    root2.ref.bitmap = root2.appendChildView(
      root2.createChildView(createBitmapView(_), { image: props.image })
    );
  },
  write: ({ root: root2, props }) => {
    const { flip } = props.crop;
    const { bitmap } = root2.ref;
    bitmap.scaleX = flip.horizontal ? -1 : 1;
    bitmap.scaleY = flip.vertical ? -1 : 1;
  }
});
var createClipView = (_) => _.utils.createView({
  name: "image-clip",
  tag: "div",
  ignoreRect: true,
  mixins: {
    apis: [
      "crop",
      "markup",
      "resize",
      "width",
      "height",
      "dirty",
      "background"
    ],
    styles: ["width", "height", "opacity"],
    animations: {
      opacity: { type: "tween", duration: 250 }
    }
  },
  didWriteView: function({ root: root2, props }) {
    if (!props.background)
      return;
    root2.element.style.backgroundColor = props.background;
  },
  create: ({ root: root2, props }) => {
    root2.ref.image = root2.appendChildView(
      root2.createChildView(
        createImageCanvasWrapper(_),
        Object.assign({}, props)
      )
    );
    root2.ref.createMarkup = () => {
      if (root2.ref.markup)
        return;
      root2.ref.markup = root2.appendChildView(
        root2.createChildView(createMarkupView(_), Object.assign({}, props))
      );
    };
    root2.ref.destroyMarkup = () => {
      if (!root2.ref.markup)
        return;
      root2.removeChildView(root2.ref.markup);
      root2.ref.markup = null;
    };
    const transparencyIndicator = root2.query(
      "GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR"
    );
    if (transparencyIndicator === null)
      return;
    if (transparencyIndicator === "grid") {
      root2.element.dataset.transparencyIndicator = transparencyIndicator;
    } else {
      root2.element.dataset.transparencyIndicator = "color";
    }
  },
  write: ({ root: root2, props, shouldOptimize }) => {
    const { crop, markup, resize, dirty, width, height } = props;
    root2.ref.image.crop = crop;
    const stage = {
      x: 0,
      y: 0,
      width,
      height,
      center: {
        x: width * 0.5,
        y: height * 0.5
      }
    };
    const image = {
      width: root2.ref.image.width,
      height: root2.ref.image.height
    };
    const origin = {
      x: crop.center.x * image.width,
      y: crop.center.y * image.height
    };
    const translation = {
      x: stage.center.x - image.width * crop.center.x,
      y: stage.center.y - image.height * crop.center.y
    };
    const rotation = Math.PI * 2 + crop.rotation % (Math.PI * 2);
    const cropAspectRatio = crop.aspectRatio || image.height / image.width;
    const shouldLimit = typeof crop.scaleToFit === "undefined" || crop.scaleToFit;
    const stageZoomFactor = getImageRectZoomFactor(
      image,
      getCenteredCropRect(stage, cropAspectRatio),
      rotation,
      shouldLimit ? crop.center : { x: 0.5, y: 0.5 }
    );
    const scale = crop.zoom * stageZoomFactor;
    if (markup && markup.length) {
      root2.ref.createMarkup();
      root2.ref.markup.width = width;
      root2.ref.markup.height = height;
      root2.ref.markup.resize = resize;
      root2.ref.markup.dirty = dirty;
      root2.ref.markup.markup = markup;
      root2.ref.markup.crop = getCurrentCropSize(image, crop);
    } else if (root2.ref.markup) {
      root2.ref.destroyMarkup();
    }
    const imageView = root2.ref.image;
    if (shouldOptimize) {
      imageView.originX = null;
      imageView.originY = null;
      imageView.translateX = null;
      imageView.translateY = null;
      imageView.rotateZ = null;
      imageView.scaleX = null;
      imageView.scaleY = null;
      return;
    }
    imageView.originX = origin.x;
    imageView.originY = origin.y;
    imageView.translateX = translation.x;
    imageView.translateY = translation.y;
    imageView.rotateZ = rotation;
    imageView.scaleX = scale;
    imageView.scaleY = scale;
  }
});
var createImageView = (_) => _.utils.createView({
  name: "image-preview",
  tag: "div",
  ignoreRect: true,
  mixins: {
    apis: ["image", "crop", "markup", "resize", "dirty", "background"],
    styles: ["translateY", "scaleX", "scaleY", "opacity"],
    animations: {
      scaleX: IMAGE_SCALE_SPRING_PROPS,
      scaleY: IMAGE_SCALE_SPRING_PROPS,
      translateY: IMAGE_SCALE_SPRING_PROPS,
      opacity: { type: "tween", duration: 400 }
    }
  },
  create: ({ root: root2, props }) => {
    root2.ref.clip = root2.appendChildView(
      root2.createChildView(createClipView(_), {
        id: props.id,
        image: props.image,
        crop: props.crop,
        markup: props.markup,
        resize: props.resize,
        dirty: props.dirty,
        background: props.background
      })
    );
  },
  write: ({ root: root2, props, shouldOptimize }) => {
    const { clip } = root2.ref;
    const { image, crop, markup, resize, dirty } = props;
    clip.crop = crop;
    clip.markup = markup;
    clip.resize = resize;
    clip.dirty = dirty;
    clip.opacity = shouldOptimize ? 0 : 1;
    if (shouldOptimize || root2.rect.element.hidden)
      return;
    const imageAspectRatio = image.height / image.width;
    let aspectRatio = crop.aspectRatio || imageAspectRatio;
    const containerWidth = root2.rect.inner.width;
    const containerHeight = root2.rect.inner.height;
    let fixedPreviewHeight = root2.query("GET_IMAGE_PREVIEW_HEIGHT");
    const minPreviewHeight = root2.query("GET_IMAGE_PREVIEW_MIN_HEIGHT");
    const maxPreviewHeight = root2.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");
    const panelAspectRatio = root2.query("GET_PANEL_ASPECT_RATIO");
    const allowMultiple = root2.query("GET_ALLOW_MULTIPLE");
    if (panelAspectRatio && !allowMultiple) {
      fixedPreviewHeight = containerWidth * panelAspectRatio;
      aspectRatio = panelAspectRatio;
    }
    let clipHeight = fixedPreviewHeight !== null ? fixedPreviewHeight : Math.max(
      minPreviewHeight,
      Math.min(containerWidth * aspectRatio, maxPreviewHeight)
    );
    let clipWidth = clipHeight / aspectRatio;
    if (clipWidth > containerWidth) {
      clipWidth = containerWidth;
      clipHeight = clipWidth * aspectRatio;
    }
    if (clipHeight > containerHeight) {
      clipHeight = containerHeight;
      clipWidth = containerHeight / aspectRatio;
    }
    clip.width = clipWidth;
    clip.height = clipHeight;
  }
});
var SVG_MASK = `<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`;
var SVGMaskUniqueId = 0;
var createImageOverlayView = (fpAPI) => fpAPI.utils.createView({
  name: "image-preview-overlay",
  tag: "div",
  ignoreRect: true,
  create: ({ root: root2, props }) => {
    let mask = SVG_MASK;
    if (document.querySelector("base")) {
      const url = new URL(
        window.location.href.replace(window.location.hash, "")
      ).href;
      mask = mask.replace(/url\(\#/g, "url(" + url + "#");
    }
    SVGMaskUniqueId++;
    root2.element.classList.add(
      `filepond--image-preview-overlay-${props.status}`
    );
    root2.element.innerHTML = mask.replace(/__UID__/g, SVGMaskUniqueId);
  },
  mixins: {
    styles: ["opacity"],
    animations: {
      opacity: { type: "spring", mass: 25 }
    }
  }
});
var BitmapWorker = function() {
  self.onmessage = (e) => {
    createImageBitmap(e.data.message.file).then((bitmap) => {
      self.postMessage({ id: e.data.id, message: bitmap }, [bitmap]);
    });
  };
};
var ColorMatrixWorker = function() {
  self.onmessage = (e) => {
    const imageData = e.data.message.imageData;
    const matrix = e.data.message.colorMatrix;
    const data3 = imageData.data;
    const l = data3.length;
    const m11 = matrix[0];
    const m12 = matrix[1];
    const m13 = matrix[2];
    const m14 = matrix[3];
    const m15 = matrix[4];
    const m21 = matrix[5];
    const m22 = matrix[6];
    const m23 = matrix[7];
    const m24 = matrix[8];
    const m25 = matrix[9];
    const m31 = matrix[10];
    const m32 = matrix[11];
    const m33 = matrix[12];
    const m34 = matrix[13];
    const m35 = matrix[14];
    const m41 = matrix[15];
    const m42 = matrix[16];
    const m43 = matrix[17];
    const m44 = matrix[18];
    const m45 = matrix[19];
    let index = 0, r = 0, g = 0, b = 0, a = 0;
    for (; index < l; index += 4) {
      r = data3[index] / 255;
      g = data3[index + 1] / 255;
      b = data3[index + 2] / 255;
      a = data3[index + 3] / 255;
      data3[index] = Math.max(
        0,
        Math.min((r * m11 + g * m12 + b * m13 + a * m14 + m15) * 255, 255)
      );
      data3[index + 1] = Math.max(
        0,
        Math.min((r * m21 + g * m22 + b * m23 + a * m24 + m25) * 255, 255)
      );
      data3[index + 2] = Math.max(
        0,
        Math.min((r * m31 + g * m32 + b * m33 + a * m34 + m35) * 255, 255)
      );
      data3[index + 3] = Math.max(
        0,
        Math.min((r * m41 + g * m42 + b * m43 + a * m44 + m45) * 255, 255)
      );
    }
    self.postMessage({ id: e.data.id, message: imageData }, [
      imageData.data.buffer
    ]);
  };
};
var getImageSize = (url, cb) => {
  let image = new Image();
  image.onload = () => {
    const width = image.naturalWidth;
    const height = image.naturalHeight;
    image = null;
    cb(width, height);
  };
  image.src = url;
};
var transforms = {
  1: () => [1, 0, 0, 1, 0, 0],
  2: (width) => [-1, 0, 0, 1, width, 0],
  3: (width, height) => [-1, 0, 0, -1, width, height],
  4: (width, height) => [1, 0, 0, -1, 0, height],
  5: () => [0, 1, 1, 0, 0, 0],
  6: (width, height) => [0, 1, -1, 0, height, 0],
  7: (width, height) => [0, -1, -1, 0, height, width],
  8: (width) => [0, -1, 1, 0, 0, width]
};
var fixImageOrientation = (ctx, width, height, orientation) => {
  if (orientation === -1) {
    return;
  }
  ctx.transform.apply(ctx, transforms[orientation](width, height));
};
var createPreviewImage = (data3, width, height, orientation) => {
  width = Math.round(width);
  height = Math.round(height);
  const canvas = document.createElement("canvas");
  canvas.width = width;
  canvas.height = height;
  const ctx = canvas.getContext("2d");
  if (orientation >= 5 && orientation <= 8) {
    [width, height] = [height, width];
  }
  fixImageOrientation(ctx, width, height, orientation);
  ctx.drawImage(data3, 0, 0, width, height);
  return canvas;
};
var isBitmap = (file2) => /^image/.test(file2.type) && !/svg/.test(file2.type);
var MAX_WIDTH = 10;
var MAX_HEIGHT = 10;
var calculateAverageColor = (image) => {
  const scalar = Math.min(MAX_WIDTH / image.width, MAX_HEIGHT / image.height);
  const canvas = document.createElement("canvas");
  const ctx = canvas.getContext("2d");
  const width = canvas.width = Math.ceil(image.width * scalar);
  const height = canvas.height = Math.ceil(image.height * scalar);
  ctx.drawImage(image, 0, 0, width, height);
  let data3 = null;
  try {
    data3 = ctx.getImageData(0, 0, width, height).data;
  } catch (e) {
    return null;
  }
  const l = data3.length;
  let r = 0;
  let g = 0;
  let b = 0;
  let i = 0;
  for (; i < l; i += 4) {
    r += data3[i] * data3[i];
    g += data3[i + 1] * data3[i + 1];
    b += data3[i + 2] * data3[i + 2];
  }
  r = averageColor(r, l);
  g = averageColor(g, l);
  b = averageColor(b, l);
  return { r, g, b };
};
var averageColor = (c, l) => Math.floor(Math.sqrt(c / (l / 4)));
var cloneCanvas = (origin, target) => {
  target = target || document.createElement("canvas");
  target.width = origin.width;
  target.height = origin.height;
  const ctx = target.getContext("2d");
  ctx.drawImage(origin, 0, 0);
  return target;
};
var cloneImageData = (imageData) => {
  let id;
  try {
    id = new ImageData(imageData.width, imageData.height);
  } catch (e) {
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    id = ctx.createImageData(imageData.width, imageData.height);
  }
  id.data.set(new Uint8ClampedArray(imageData.data));
  return id;
};
var loadImage2 = (url) => new Promise((resolve, reject) => {
  const img = new Image();
  img.crossOrigin = "Anonymous";
  img.onload = () => {
    resolve(img);
  };
  img.onerror = (e) => {
    reject(e);
  };
  img.src = url;
});
var createImageWrapperView = (_) => {
  const OverlayView = createImageOverlayView(_);
  const ImageView = createImageView(_);
  const { createWorker: createWorker3 } = _.utils;
  const applyFilter = (root2, filter, target) => new Promise((resolve) => {
    if (!root2.ref.imageData) {
      root2.ref.imageData = target.getContext("2d").getImageData(0, 0, target.width, target.height);
    }
    const imageData = cloneImageData(root2.ref.imageData);
    if (!filter || filter.length !== 20) {
      target.getContext("2d").putImageData(imageData, 0, 0);
      return resolve();
    }
    const worker = createWorker3(ColorMatrixWorker);
    worker.post(
      {
        imageData,
        colorMatrix: filter
      },
      (response) => {
        target.getContext("2d").putImageData(response, 0, 0);
        worker.terminate();
        resolve();
      },
      [imageData.data.buffer]
    );
  });
  const removeImageView = (root2, imageView) => {
    root2.removeChildView(imageView);
    imageView.image.width = 1;
    imageView.image.height = 1;
    imageView._destroy();
  };
  const shiftImage = ({ root: root2 }) => {
    const imageView = root2.ref.images.shift();
    imageView.opacity = 0;
    imageView.translateY = -15;
    root2.ref.imageViewBin.push(imageView);
    return imageView;
  };
  const pushImage = ({ root: root2, props, image }) => {
    const id = props.id;
    const item2 = root2.query("GET_ITEM", { id });
    if (!item2)
      return;
    const crop = item2.getMetadata("crop") || {
      center: {
        x: 0.5,
        y: 0.5
      },
      flip: {
        horizontal: false,
        vertical: false
      },
      zoom: 1,
      rotation: 0,
      aspectRatio: null
    };
    const background = root2.query(
      "GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"
    );
    let markup;
    let resize;
    let dirty = false;
    if (root2.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")) {
      markup = item2.getMetadata("markup") || [];
      resize = item2.getMetadata("resize");
      dirty = true;
    }
    const imageView = root2.appendChildView(
      root2.createChildView(ImageView, {
        id,
        image,
        crop,
        resize,
        markup,
        dirty,
        background,
        opacity: 0,
        scaleX: 1.15,
        scaleY: 1.15,
        translateY: 15
      }),
      root2.childViews.length
    );
    root2.ref.images.push(imageView);
    imageView.opacity = 1;
    imageView.scaleX = 1;
    imageView.scaleY = 1;
    imageView.translateY = 0;
    setTimeout(() => {
      root2.dispatch("DID_IMAGE_PREVIEW_SHOW", { id });
    }, 250);
  };
  const updateImage3 = ({ root: root2, props }) => {
    const item2 = root2.query("GET_ITEM", { id: props.id });
    if (!item2)
      return;
    const imageView = root2.ref.images[root2.ref.images.length - 1];
    imageView.crop = item2.getMetadata("crop");
    imageView.background = root2.query(
      "GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"
    );
    if (root2.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")) {
      imageView.dirty = true;
      imageView.resize = item2.getMetadata("resize");
      imageView.markup = item2.getMetadata("markup");
    }
  };
  const didUpdateItemMetadata = ({ root: root2, props, action }) => {
    if (!/crop|filter|markup|resize/.test(action.change.key))
      return;
    if (!root2.ref.images.length)
      return;
    const item2 = root2.query("GET_ITEM", { id: props.id });
    if (!item2)
      return;
    if (/filter/.test(action.change.key)) {
      const imageView = root2.ref.images[root2.ref.images.length - 1];
      applyFilter(root2, action.change.value, imageView.image);
      return;
    }
    if (/crop|markup|resize/.test(action.change.key)) {
      const crop = item2.getMetadata("crop");
      const image = root2.ref.images[root2.ref.images.length - 1];
      if (crop && crop.aspectRatio && image.crop && image.crop.aspectRatio && Math.abs(crop.aspectRatio - image.crop.aspectRatio) > 1e-5) {
        const imageView = shiftImage({ root: root2 });
        pushImage({ root: root2, props, image: cloneCanvas(imageView.image) });
      } else {
        updateImage3({ root: root2, props });
      }
    }
  };
  const canCreateImageBitmap = (file2) => {
    const userAgent = window.navigator.userAgent;
    const isFirefox = userAgent.match(/Firefox\/([0-9]+)\./);
    const firefoxVersion = isFirefox ? parseInt(isFirefox[1]) : null;
    if (firefoxVersion <= 58)
      return false;
    return "createImageBitmap" in window && isBitmap(file2);
  };
  const didCreatePreviewContainer = ({ root: root2, props }) => {
    const { id } = props;
    const item2 = root2.query("GET_ITEM", id);
    if (!item2)
      return;
    const fileURL = URL.createObjectURL(item2.file);
    getImageSize(fileURL, (width, height) => {
      root2.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE", {
        id,
        width,
        height
      });
    });
  };
  const drawPreview = ({ root: root2, props }) => {
    const { id } = props;
    const item2 = root2.query("GET_ITEM", id);
    if (!item2)
      return;
    const fileURL = URL.createObjectURL(item2.file);
    const loadPreviewFallback = () => {
      loadImage2(fileURL).then(previewImageLoaded);
    };
    const previewImageLoaded = (imageData) => {
      URL.revokeObjectURL(fileURL);
      const exif = item2.getMetadata("exif") || {};
      const orientation = exif.orientation || -1;
      let { width, height } = imageData;
      if (!width || !height)
        return;
      if (orientation >= 5 && orientation <= 8) {
        [width, height] = [height, width];
      }
      const pixelDensityFactor = Math.max(1, window.devicePixelRatio * 0.75);
      const zoomFactor = root2.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR");
      const scaleFactor = zoomFactor * pixelDensityFactor;
      const previewImageRatio = height / width;
      const previewContainerWidth = root2.rect.element.width;
      const previewContainerHeight = root2.rect.element.height;
      let imageWidth = previewContainerWidth;
      let imageHeight = imageWidth * previewImageRatio;
      if (previewImageRatio > 1) {
        imageWidth = Math.min(width, previewContainerWidth * scaleFactor);
        imageHeight = imageWidth * previewImageRatio;
      } else {
        imageHeight = Math.min(height, previewContainerHeight * scaleFactor);
        imageWidth = imageHeight / previewImageRatio;
      }
      const previewImage = createPreviewImage(
        imageData,
        imageWidth,
        imageHeight,
        orientation
      );
      const done = () => {
        const averageColor2 = root2.query(
          "GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR"
        ) ? calculateAverageColor(data) : null;
        item2.setMetadata("color", averageColor2, true);
        if ("close" in imageData) {
          imageData.close();
        }
        root2.ref.overlayShadow.opacity = 1;
        pushImage({ root: root2, props, image: previewImage });
      };
      const filter = item2.getMetadata("filter");
      if (filter) {
        applyFilter(root2, filter, previewImage).then(done);
      } else {
        done();
      }
    };
    if (canCreateImageBitmap(item2.file)) {
      const worker = createWorker3(BitmapWorker);
      worker.post(
        {
          file: item2.file
        },
        (imageBitmap) => {
          worker.terminate();
          if (!imageBitmap) {
            loadPreviewFallback();
            return;
          }
          previewImageLoaded(imageBitmap);
        }
      );
    } else {
      loadPreviewFallback();
    }
  };
  const didDrawPreview = ({ root: root2 }) => {
    const image = root2.ref.images[root2.ref.images.length - 1];
    image.translateY = 0;
    image.scaleX = 1;
    image.scaleY = 1;
    image.opacity = 1;
  };
  const restoreOverlay = ({ root: root2 }) => {
    root2.ref.overlayShadow.opacity = 1;
    root2.ref.overlayError.opacity = 0;
    root2.ref.overlaySuccess.opacity = 0;
  };
  const didThrowError = ({ root: root2 }) => {
    root2.ref.overlayShadow.opacity = 0.25;
    root2.ref.overlayError.opacity = 1;
  };
  const didCompleteProcessing = ({ root: root2 }) => {
    root2.ref.overlayShadow.opacity = 0.25;
    root2.ref.overlaySuccess.opacity = 1;
  };
  const create2 = ({ root: root2 }) => {
    root2.ref.images = [];
    root2.ref.imageData = null;
    root2.ref.imageViewBin = [];
    root2.ref.overlayShadow = root2.appendChildView(
      root2.createChildView(OverlayView, {
        opacity: 0,
        status: "idle"
      })
    );
    root2.ref.overlaySuccess = root2.appendChildView(
      root2.createChildView(OverlayView, {
        opacity: 0,
        status: "success"
      })
    );
    root2.ref.overlayError = root2.appendChildView(
      root2.createChildView(OverlayView, {
        opacity: 0,
        status: "failure"
      })
    );
  };
  return _.utils.createView({
    name: "image-preview-wrapper",
    create: create2,
    styles: ["height"],
    apis: ["height"],
    destroy: ({ root: root2 }) => {
      root2.ref.images.forEach((imageView) => {
        imageView.image.width = 1;
        imageView.image.height = 1;
      });
    },
    didWriteView: ({ root: root2 }) => {
      root2.ref.images.forEach((imageView) => {
        imageView.dirty = false;
      });
    },
    write: _.utils.createRoute(
      {
        // image preview stated
        DID_IMAGE_PREVIEW_DRAW: didDrawPreview,
        DID_IMAGE_PREVIEW_CONTAINER_CREATE: didCreatePreviewContainer,
        DID_FINISH_CALCULATE_PREVIEWSIZE: drawPreview,
        DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata,
        // file states
        DID_THROW_ITEM_LOAD_ERROR: didThrowError,
        DID_THROW_ITEM_PROCESSING_ERROR: didThrowError,
        DID_THROW_ITEM_INVALID: didThrowError,
        DID_COMPLETE_ITEM_PROCESSING: didCompleteProcessing,
        DID_START_ITEM_PROCESSING: restoreOverlay,
        DID_REVERT_ITEM_PROCESSING: restoreOverlay
      },
      ({ root: root2 }) => {
        const viewsToRemove = root2.ref.imageViewBin.filter(
          (imageView) => imageView.opacity === 0
        );
        root2.ref.imageViewBin = root2.ref.imageViewBin.filter(
          (imageView) => imageView.opacity > 0
        );
        viewsToRemove.forEach((imageView) => removeImageView(root2, imageView));
        viewsToRemove.length = 0;
      }
    )
  });
};
var plugin5 = (fpAPI) => {
  const { addFilter: addFilter2, utils } = fpAPI;
  const { Type: Type2, createRoute: createRoute2, isFile: isFile2 } = utils;
  const imagePreviewView = createImageWrapperView(fpAPI);
  addFilter2("CREATE_VIEW", (viewAPI) => {
    const { is, view, query } = viewAPI;
    if (!is("file") || !query("GET_ALLOW_IMAGE_PREVIEW"))
      return;
    const didLoadItem2 = ({ root: root2, props }) => {
      const { id } = props;
      const item2 = query("GET_ITEM", id);
      if (!item2 || !isFile2(item2.file) || item2.archived)
        return;
      const file2 = item2.file;
      if (!isPreviewableImage(file2))
        return;
      if (!query("GET_IMAGE_PREVIEW_FILTER_ITEM")(item2))
        return;
      const supportsCreateImageBitmap = "createImageBitmap" in (window || {});
      const maxPreviewFileSize = query("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");
      if (!supportsCreateImageBitmap && (maxPreviewFileSize && file2.size > maxPreviewFileSize))
        return;
      root2.ref.imagePreview = view.appendChildView(
        view.createChildView(imagePreviewView, { id })
      );
      const fixedPreviewHeight = root2.query("GET_IMAGE_PREVIEW_HEIGHT");
      if (fixedPreviewHeight) {
        root2.dispatch("DID_UPDATE_PANEL_HEIGHT", {
          id: item2.id,
          height: fixedPreviewHeight
        });
      }
      const queue = !supportsCreateImageBitmap && file2.size > query("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");
      root2.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE", { id }, queue);
    };
    const rescaleItem = (root2, props) => {
      if (!root2.ref.imagePreview)
        return;
      let { id } = props;
      const item2 = root2.query("GET_ITEM", { id });
      if (!item2)
        return;
      const panelAspectRatio = root2.query("GET_PANEL_ASPECT_RATIO");
      const itemPanelAspectRatio = root2.query("GET_ITEM_PANEL_ASPECT_RATIO");
      const fixedHeight = root2.query("GET_IMAGE_PREVIEW_HEIGHT");
      if (panelAspectRatio || itemPanelAspectRatio || fixedHeight)
        return;
      let { imageWidth, imageHeight } = root2.ref;
      if (!imageWidth || !imageHeight)
        return;
      const minPreviewHeight = root2.query("GET_IMAGE_PREVIEW_MIN_HEIGHT");
      const maxPreviewHeight = root2.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");
      const exif = item2.getMetadata("exif") || {};
      const orientation = exif.orientation || -1;
      if (orientation >= 5 && orientation <= 8)
        [imageWidth, imageHeight] = [imageHeight, imageWidth];
      if (!isBitmap(item2.file) || root2.query("GET_IMAGE_PREVIEW_UPSCALE")) {
        const scalar = 2048 / imageWidth;
        imageWidth *= scalar;
        imageHeight *= scalar;
      }
      const imageAspectRatio = imageHeight / imageWidth;
      const previewAspectRatio = (item2.getMetadata("crop") || {}).aspectRatio || imageAspectRatio;
      let previewHeightMax = Math.max(
        minPreviewHeight,
        Math.min(imageHeight, maxPreviewHeight)
      );
      const itemWidth = root2.rect.element.width;
      const previewHeight = Math.min(
        itemWidth * previewAspectRatio,
        previewHeightMax
      );
      root2.dispatch("DID_UPDATE_PANEL_HEIGHT", {
        id: item2.id,
        height: previewHeight
      });
    };
    const didResizeView = ({ root: root2 }) => {
      root2.ref.shouldRescale = true;
    };
    const didUpdateItemMetadata = ({ root: root2, action }) => {
      if (action.change.key !== "crop")
        return;
      root2.ref.shouldRescale = true;
    };
    const didCalculatePreviewSize = ({ root: root2, action }) => {
      root2.ref.imageWidth = action.width;
      root2.ref.imageHeight = action.height;
      root2.ref.shouldRescale = true;
      root2.ref.shouldDrawPreview = true;
      root2.dispatch("KICK");
    };
    view.registerWriter(
      createRoute2(
        {
          DID_RESIZE_ROOT: didResizeView,
          DID_STOP_RESIZE: didResizeView,
          DID_LOAD_ITEM: didLoadItem2,
          DID_IMAGE_PREVIEW_CALCULATE_SIZE: didCalculatePreviewSize,
          DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata
        },
        ({ root: root2, props }) => {
          if (!root2.ref.imagePreview)
            return;
          if (root2.rect.element.hidden)
            return;
          if (root2.ref.shouldRescale) {
            rescaleItem(root2, props);
            root2.ref.shouldRescale = false;
          }
          if (root2.ref.shouldDrawPreview) {
            requestAnimationFrame(() => {
              requestAnimationFrame(() => {
                root2.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE", {
                  id: props.id
                });
              });
            });
            root2.ref.shouldDrawPreview = false;
          }
        }
      )
    );
  });
  return {
    options: {
      // Enable or disable image preview
      allowImagePreview: [true, Type2.BOOLEAN],
      // filters file items to determine which are shown as preview
      imagePreviewFilterItem: [() => true, Type2.FUNCTION],
      // Fixed preview height
      imagePreviewHeight: [null, Type2.INT],
      // Min image height
      imagePreviewMinHeight: [44, Type2.INT],
      // Max image height
      imagePreviewMaxHeight: [256, Type2.INT],
      // Max size of preview file for when createImageBitmap is not supported
      imagePreviewMaxFileSize: [null, Type2.INT],
      // The amount of extra pixels added to the image preview to allow comfortable zooming
      imagePreviewZoomFactor: [2, Type2.INT],
      // Should we upscale small images to fit the max bounding box of the preview area
      imagePreviewUpscale: [false, Type2.BOOLEAN],
      // Max size of preview file that we allow to try to instant preview if createImageBitmap is not supported, else image is queued for loading
      imagePreviewMaxInstantPreviewFileSize: [1e6, Type2.INT],
      // Style of the transparancy indicator used behind images
      imagePreviewTransparencyIndicator: [null, Type2.STRING],
      // Enables or disables reading average image color
      imagePreviewCalculateAverageImageColor: [false, Type2.BOOLEAN],
      // Enables or disables the previewing of markup
      imagePreviewMarkupShow: [true, Type2.BOOLEAN],
      // Allows filtering of markup to only show certain shapes
      imagePreviewMarkupFilter: [() => true, Type2.FUNCTION]
    }
  };
};
var isBrowser6 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser6) {
  document.dispatchEvent(
    new CustomEvent("FilePond:pluginloaded", { detail: plugin5 })
  );
}
var filepond_plugin_image_preview_esm_default = plugin5;

// node_modules/filepond-plugin-image-resize/dist/filepond-plugin-image-resize.esm.js
var isImage2 = (file2) => /^image/.test(file2.type);
var getImageSize2 = (url, cb) => {
  let image = new Image();
  image.onload = () => {
    const width = image.naturalWidth;
    const height = image.naturalHeight;
    image = null;
    cb({ width, height });
  };
  image.onerror = () => cb(null);
  image.src = url;
};
var plugin6 = ({ addFilter: addFilter2, utils }) => {
  const { Type: Type2 } = utils;
  addFilter2(
    "DID_LOAD_ITEM",
    (item2, { query }) => new Promise((resolve, reject) => {
      const file2 = item2.file;
      if (!isImage2(file2) || !query("GET_ALLOW_IMAGE_RESIZE")) {
        return resolve(item2);
      }
      const mode = query("GET_IMAGE_RESIZE_MODE");
      const width = query("GET_IMAGE_RESIZE_TARGET_WIDTH");
      const height = query("GET_IMAGE_RESIZE_TARGET_HEIGHT");
      const upscale = query("GET_IMAGE_RESIZE_UPSCALE");
      if (width === null && height === null)
        return resolve(item2);
      const targetWidth = width === null ? height : width;
      const targetHeight = height === null ? targetWidth : height;
      const fileURL = URL.createObjectURL(file2);
      getImageSize2(fileURL, (size) => {
        URL.revokeObjectURL(fileURL);
        if (!size)
          return resolve(item2);
        let { width: imageWidth, height: imageHeight } = size;
        const orientation = (item2.getMetadata("exif") || {}).orientation || -1;
        if (orientation >= 5 && orientation <= 8) {
          [imageWidth, imageHeight] = [imageHeight, imageWidth];
        }
        if (imageWidth === targetWidth && imageHeight === targetHeight)
          return resolve(item2);
        if (!upscale) {
          if (mode === "cover") {
            if (imageWidth <= targetWidth || imageHeight <= targetHeight)
              return resolve(item2);
          } else if (imageWidth <= targetWidth && imageHeight <= targetWidth) {
            return resolve(item2);
          }
        }
        item2.setMetadata("resize", {
          mode,
          upscale,
          size: {
            width: targetWidth,
            height: targetHeight
          }
        });
        resolve(item2);
      });
    })
  );
  return {
    options: {
      // Enable or disable image resizing
      allowImageResize: [true, Type2.BOOLEAN],
      // the method of rescaling
      // - force => force set size
      // - cover => pick biggest dimension
      // - contain => pick smaller dimension
      imageResizeMode: ["cover", Type2.STRING],
      // set to false to disable upscaling of image smaller than the target width / height
      imageResizeUpscale: [true, Type2.BOOLEAN],
      // target width
      imageResizeTargetWidth: [null, Type2.INT],
      // target height
      imageResizeTargetHeight: [null, Type2.INT]
    }
  };
};
var isBrowser7 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser7) {
  document.dispatchEvent(new CustomEvent("FilePond:pluginloaded", { detail: plugin6 }));
}
var filepond_plugin_image_resize_esm_default = plugin6;

// node_modules/filepond-plugin-image-transform/dist/filepond-plugin-image-transform.esm.js
var isImage3 = (file2) => /^image/.test(file2.type);
var getFilenameWithoutExtension2 = (name2) => name2.substr(0, name2.lastIndexOf(".")) || name2;
var ExtensionMap = {
  jpeg: "jpg",
  "svg+xml": "svg"
};
var renameFileToMatchMimeType = (filename, mimeType) => {
  const name2 = getFilenameWithoutExtension2(filename);
  const type = mimeType.split("/")[1];
  const extension = ExtensionMap[type] || type;
  return `${name2}.${extension}`;
};
var getValidOutputMimeType = (type) => /jpeg|png|svg\+xml/.test(type) ? type : "image/jpeg";
var isImage$1 = (file2) => /^image/.test(file2.type);
var MATRICES = {
  1: () => [1, 0, 0, 1, 0, 0],
  2: (width) => [-1, 0, 0, 1, width, 0],
  3: (width, height) => [-1, 0, 0, -1, width, height],
  4: (width, height) => [1, 0, 0, -1, 0, height],
  5: () => [0, 1, 1, 0, 0, 0],
  6: (width, height) => [0, 1, -1, 0, height, 0],
  7: (width, height) => [0, -1, -1, 0, height, width],
  8: (width) => [0, -1, 1, 0, 0, width]
};
var getImageOrientationMatrix = (width, height, orientation) => {
  if (orientation === -1) {
    orientation = 1;
  }
  return MATRICES[orientation](width, height);
};
var createVector2 = (x, y) => ({ x, y });
var vectorDot2 = (a, b) => a.x * b.x + a.y * b.y;
var vectorSubtract2 = (a, b) => createVector2(a.x - b.x, a.y - b.y);
var vectorDistanceSquared2 = (a, b) => vectorDot2(vectorSubtract2(a, b), vectorSubtract2(a, b));
var vectorDistance2 = (a, b) => Math.sqrt(vectorDistanceSquared2(a, b));
var getOffsetPointOnEdge2 = (length, rotation) => {
  const a = length;
  const A = 1.5707963267948966;
  const B = rotation;
  const C = 1.5707963267948966 - rotation;
  const sinA = Math.sin(A);
  const sinB = Math.sin(B);
  const sinC = Math.sin(C);
  const cosC = Math.cos(C);
  const ratio = a / sinA;
  const b = ratio * sinB;
  const c = ratio * sinC;
  return createVector2(cosC * b, cosC * c);
};
var getRotatedRectSize2 = (rect, rotation) => {
  const w = rect.width;
  const h = rect.height;
  const hor = getOffsetPointOnEdge2(w, rotation);
  const ver = getOffsetPointOnEdge2(h, rotation);
  const tl = createVector2(rect.x + Math.abs(hor.x), rect.y - Math.abs(hor.y));
  const tr = createVector2(rect.x + rect.width + Math.abs(ver.y), rect.y + Math.abs(ver.x));
  const bl = createVector2(rect.x - Math.abs(ver.y), rect.y + rect.height - Math.abs(ver.x));
  return {
    width: vectorDistance2(tl, tr),
    height: vectorDistance2(tl, bl)
  };
};
var getImageRectZoomFactor2 = (imageRect, cropRect, rotation = 0, center2 = { x: 0.5, y: 0.5 }) => {
  const cx = center2.x > 0.5 ? 1 - center2.x : center2.x;
  const cy = center2.y > 0.5 ? 1 - center2.y : center2.y;
  const imageWidth = cx * 2 * imageRect.width;
  const imageHeight = cy * 2 * imageRect.height;
  const rotatedCropSize = getRotatedRectSize2(cropRect, rotation);
  return Math.max(rotatedCropSize.width / imageWidth, rotatedCropSize.height / imageHeight);
};
var getCenteredCropRect2 = (container, aspectRatio) => {
  let width = container.width;
  let height = width * aspectRatio;
  if (height > container.height) {
    height = container.height;
    width = height / aspectRatio;
  }
  const x = (container.width - width) * 0.5;
  const y = (container.height - height) * 0.5;
  return {
    x,
    y,
    width,
    height
  };
};
var calculateCanvasSize2 = (image, canvasAspectRatio, zoom = 1) => {
  const imageAspectRatio = image.height / image.width;
  let canvasWidth = 1;
  let canvasHeight = canvasAspectRatio;
  let imgWidth = 1;
  let imgHeight = imageAspectRatio;
  if (imgHeight > canvasHeight) {
    imgHeight = canvasHeight;
    imgWidth = imgHeight / imageAspectRatio;
  }
  const scalar = Math.max(canvasWidth / imgWidth, canvasHeight / imgHeight);
  const width = image.width / (zoom * scalar * imgWidth);
  const height = width * canvasAspectRatio;
  return {
    width,
    height
  };
};
var canvasRelease = (canvas) => {
  canvas.width = 1;
  canvas.height = 1;
  const ctx = canvas.getContext("2d");
  ctx.clearRect(0, 0, 1, 1);
};
var isFlipped = (flip) => flip && (flip.horizontal || flip.vertical);
var getBitmap = (image, orientation, flip) => {
  if (orientation <= 1 && !isFlipped(flip)) {
    image.width = image.naturalWidth;
    image.height = image.naturalHeight;
    return image;
  }
  const canvas = document.createElement("canvas");
  const width = image.naturalWidth;
  const height = image.naturalHeight;
  const swapped = orientation >= 5 && orientation <= 8;
  if (swapped) {
    canvas.width = height;
    canvas.height = width;
  } else {
    canvas.width = width;
    canvas.height = height;
  }
  const ctx = canvas.getContext("2d");
  if (orientation) {
    ctx.transform.apply(ctx, getImageOrientationMatrix(width, height, orientation));
  }
  if (isFlipped(flip)) {
    const matrix = [1, 0, 0, 1, 0, 0];
    if (!swapped && flip.horizontal || swapped & flip.vertical) {
      matrix[0] = -1;
      matrix[4] = width;
    }
    if (!swapped && flip.vertical || swapped && flip.horizontal) {
      matrix[3] = -1;
      matrix[5] = height;
    }
    ctx.transform(...matrix);
  }
  ctx.drawImage(image, 0, 0, width, height);
  return canvas;
};
var imageToImageData = (imageElement, orientation, crop = {}, options = {}) => {
  const { canvasMemoryLimit, background = null } = options;
  const zoom = crop.zoom || 1;
  const bitmap = getBitmap(imageElement, orientation, crop.flip);
  const imageSize = {
    width: bitmap.width,
    height: bitmap.height
  };
  const aspectRatio = crop.aspectRatio || imageSize.height / imageSize.width;
  let canvasSize = calculateCanvasSize2(imageSize, aspectRatio, zoom);
  if (canvasMemoryLimit) {
    const requiredMemory = canvasSize.width * canvasSize.height;
    if (requiredMemory > canvasMemoryLimit) {
      const scalar = Math.sqrt(canvasMemoryLimit) / Math.sqrt(requiredMemory);
      imageSize.width = Math.floor(imageSize.width * scalar);
      imageSize.height = Math.floor(imageSize.height * scalar);
      canvasSize = calculateCanvasSize2(imageSize, aspectRatio, zoom);
    }
  }
  const canvas = document.createElement("canvas");
  const canvasCenter = {
    x: canvasSize.width * 0.5,
    y: canvasSize.height * 0.5
  };
  const stage = {
    x: 0,
    y: 0,
    width: canvasSize.width,
    height: canvasSize.height,
    center: canvasCenter
  };
  const shouldLimit = typeof crop.scaleToFit === "undefined" || crop.scaleToFit;
  const scale = zoom * getImageRectZoomFactor2(
    imageSize,
    getCenteredCropRect2(stage, aspectRatio),
    crop.rotation,
    shouldLimit ? crop.center : { x: 0.5, y: 0.5 }
  );
  canvas.width = Math.round(canvasSize.width / scale);
  canvas.height = Math.round(canvasSize.height / scale);
  canvasCenter.x /= scale;
  canvasCenter.y /= scale;
  const imageOffset = {
    x: canvasCenter.x - imageSize.width * (crop.center ? crop.center.x : 0.5),
    y: canvasCenter.y - imageSize.height * (crop.center ? crop.center.y : 0.5)
  };
  const ctx = canvas.getContext("2d");
  if (background) {
    ctx.fillStyle = background;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
  }
  ctx.translate(canvasCenter.x, canvasCenter.y);
  ctx.rotate(crop.rotation || 0);
  ctx.drawImage(
    bitmap,
    imageOffset.x - canvasCenter.x,
    imageOffset.y - canvasCenter.y,
    imageSize.width,
    imageSize.height
  );
  const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
  canvasRelease(canvas);
  return imageData;
};
var IS_BROWSER3 = (() => typeof window !== "undefined" && typeof window.document !== "undefined")();
if (IS_BROWSER3) {
  if (!HTMLCanvasElement.prototype.toBlob) {
    Object.defineProperty(HTMLCanvasElement.prototype, "toBlob", {
      value: function(callback, type, quality) {
        var dataURL = this.toDataURL(type, quality).split(",")[1];
        setTimeout(function() {
          var binStr = atob(dataURL);
          var len = binStr.length;
          var arr = new Uint8Array(len);
          for (var i = 0; i < len; i++) {
            arr[i] = binStr.charCodeAt(i);
          }
          callback(new Blob([arr], { type: type || "image/png" }));
        });
      }
    });
  }
}
var canvasToBlob = (canvas, options, beforeCreateBlob = null) => new Promise((resolve) => {
  const promisedImage = beforeCreateBlob ? beforeCreateBlob(canvas) : canvas;
  Promise.resolve(promisedImage).then((canvas2) => {
    canvas2.toBlob(resolve, options.type, options.quality);
  });
});
var vectorMultiply2 = (v, amount) => createVector$12(v.x * amount, v.y * amount);
var vectorAdd2 = (a, b) => createVector$12(a.x + b.x, a.y + b.y);
var vectorNormalize2 = (v) => {
  const l = Math.sqrt(v.x * v.x + v.y * v.y);
  if (l === 0) {
    return {
      x: 0,
      y: 0
    };
  }
  return createVector$12(v.x / l, v.y / l);
};
var vectorRotate2 = (v, radians, origin) => {
  const cos = Math.cos(radians);
  const sin = Math.sin(radians);
  const t = createVector$12(v.x - origin.x, v.y - origin.y);
  return createVector$12(origin.x + cos * t.x - sin * t.y, origin.y + sin * t.x + cos * t.y);
};
var createVector$12 = (x = 0, y = 0) => ({ x, y });
var getMarkupValue2 = (value, size, scalar = 1, axis) => {
  if (typeof value === "string") {
    return parseFloat(value) * scalar;
  }
  if (typeof value === "number") {
    return value * (axis ? size[axis] : Math.min(size.width, size.height));
  }
  return;
};
var getMarkupStyles2 = (markup, size, scale) => {
  const lineStyle = markup.borderStyle || markup.lineStyle || "solid";
  const fill = markup.backgroundColor || markup.fontColor || "transparent";
  const stroke = markup.borderColor || markup.lineColor || "transparent";
  const strokeWidth = getMarkupValue2(markup.borderWidth || markup.lineWidth, size, scale);
  const lineCap = markup.lineCap || "round";
  const lineJoin = markup.lineJoin || "round";
  const dashes = typeof lineStyle === "string" ? "" : lineStyle.map((v) => getMarkupValue2(v, size, scale)).join(",");
  const opacity = markup.opacity || 1;
  return {
    "stroke-linecap": lineCap,
    "stroke-linejoin": lineJoin,
    "stroke-width": strokeWidth || 0,
    "stroke-dasharray": dashes,
    stroke,
    fill,
    opacity
  };
};
var isDefined3 = (value) => value != null;
var getMarkupRect2 = (rect, size, scalar = 1) => {
  let left = getMarkupValue2(rect.x, size, scalar, "width") || getMarkupValue2(rect.left, size, scalar, "width");
  let top = getMarkupValue2(rect.y, size, scalar, "height") || getMarkupValue2(rect.top, size, scalar, "height");
  let width = getMarkupValue2(rect.width, size, scalar, "width");
  let height = getMarkupValue2(rect.height, size, scalar, "height");
  let right = getMarkupValue2(rect.right, size, scalar, "width");
  let bottom = getMarkupValue2(rect.bottom, size, scalar, "height");
  if (!isDefined3(top)) {
    if (isDefined3(height) && isDefined3(bottom)) {
      top = size.height - height - bottom;
    } else {
      top = bottom;
    }
  }
  if (!isDefined3(left)) {
    if (isDefined3(width) && isDefined3(right)) {
      left = size.width - width - right;
    } else {
      left = right;
    }
  }
  if (!isDefined3(width)) {
    if (isDefined3(left) && isDefined3(right)) {
      width = size.width - left - right;
    } else {
      width = 0;
    }
  }
  if (!isDefined3(height)) {
    if (isDefined3(top) && isDefined3(bottom)) {
      height = size.height - top - bottom;
    } else {
      height = 0;
    }
  }
  return {
    x: left || 0,
    y: top || 0,
    width: width || 0,
    height: height || 0
  };
};
var pointsToPathShape2 = (points) => points.map((point, index) => `${index === 0 ? "M" : "L"} ${point.x} ${point.y}`).join(" ");
var setAttributes2 = (element, attr2) => Object.keys(attr2).forEach((key) => element.setAttribute(key, attr2[key]));
var ns3 = "http://www.w3.org/2000/svg";
var svg2 = (tag, attr2) => {
  const element = document.createElementNS(ns3, tag);
  if (attr2) {
    setAttributes2(element, attr2);
  }
  return element;
};
var updateRect3 = (element) => setAttributes2(element, {
  ...element.rect,
  ...element.styles
});
var updateEllipse2 = (element) => {
  const cx = element.rect.x + element.rect.width * 0.5;
  const cy = element.rect.y + element.rect.height * 0.5;
  const rx = element.rect.width * 0.5;
  const ry = element.rect.height * 0.5;
  return setAttributes2(element, {
    cx,
    cy,
    rx,
    ry,
    ...element.styles
  });
};
var IMAGE_FIT_STYLE2 = {
  contain: "xMidYMid meet",
  cover: "xMidYMid slice"
};
var updateImage2 = (element, markup) => {
  setAttributes2(element, {
    ...element.rect,
    ...element.styles,
    preserveAspectRatio: IMAGE_FIT_STYLE2[markup.fit] || "none"
  });
};
var TEXT_ANCHOR2 = {
  left: "start",
  center: "middle",
  right: "end"
};
var updateText2 = (element, markup, size, scale) => {
  const fontSize = getMarkupValue2(markup.fontSize, size, scale);
  const fontFamily = markup.fontFamily || "sans-serif";
  const fontWeight = markup.fontWeight || "normal";
  const textAlign = TEXT_ANCHOR2[markup.textAlign] || "start";
  setAttributes2(element, {
    ...element.rect,
    ...element.styles,
    "stroke-width": 0,
    "font-weight": fontWeight,
    "font-size": fontSize,
    "font-family": fontFamily,
    "text-anchor": textAlign
  });
  if (element.text !== markup.text) {
    element.text = markup.text;
    element.textContent = markup.text.length ? markup.text : " ";
  }
};
var updateLine2 = (element, markup, size, scale) => {
  setAttributes2(element, {
    ...element.rect,
    ...element.styles,
    fill: "none"
  });
  const line = element.childNodes[0];
  const begin = element.childNodes[1];
  const end = element.childNodes[2];
  const origin = element.rect;
  const target = {
    x: element.rect.x + element.rect.width,
    y: element.rect.y + element.rect.height
  };
  setAttributes2(line, {
    x1: origin.x,
    y1: origin.y,
    x2: target.x,
    y2: target.y
  });
  if (!markup.lineDecoration)
    return;
  begin.style.display = "none";
  end.style.display = "none";
  const v = vectorNormalize2({
    x: target.x - origin.x,
    y: target.y - origin.y
  });
  const l = getMarkupValue2(0.05, size, scale);
  if (markup.lineDecoration.indexOf("arrow-begin") !== -1) {
    const arrowBeginRotationPoint = vectorMultiply2(v, l);
    const arrowBeginCenter = vectorAdd2(origin, arrowBeginRotationPoint);
    const arrowBeginA = vectorRotate2(origin, 2, arrowBeginCenter);
    const arrowBeginB = vectorRotate2(origin, -2, arrowBeginCenter);
    setAttributes2(begin, {
      style: "display:block;",
      d: `M${arrowBeginA.x},${arrowBeginA.y} L${origin.x},${origin.y} L${arrowBeginB.x},${arrowBeginB.y}`
    });
  }
  if (markup.lineDecoration.indexOf("arrow-end") !== -1) {
    const arrowEndRotationPoint = vectorMultiply2(v, -l);
    const arrowEndCenter = vectorAdd2(target, arrowEndRotationPoint);
    const arrowEndA = vectorRotate2(target, 2, arrowEndCenter);
    const arrowEndB = vectorRotate2(target, -2, arrowEndCenter);
    setAttributes2(end, {
      style: "display:block;",
      d: `M${arrowEndA.x},${arrowEndA.y} L${target.x},${target.y} L${arrowEndB.x},${arrowEndB.y}`
    });
  }
};
var updatePath2 = (element, markup, size, scale) => {
  setAttributes2(element, {
    ...element.styles,
    fill: "none",
    d: pointsToPathShape2(
      markup.points.map((point) => ({
        x: getMarkupValue2(point.x, size, scale, "width"),
        y: getMarkupValue2(point.y, size, scale, "height")
      }))
    )
  });
};
var createShape2 = (node) => (markup) => svg2(node, { id: markup.id });
var createImage2 = (markup) => {
  const shape = svg2("image", {
    id: markup.id,
    "stroke-linecap": "round",
    "stroke-linejoin": "round",
    opacity: "0"
  });
  shape.onload = () => {
    shape.setAttribute("opacity", markup.opacity || 1);
  };
  shape.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", markup.src);
  return shape;
};
var createLine2 = (markup) => {
  const shape = svg2("g", {
    id: markup.id,
    "stroke-linecap": "round",
    "stroke-linejoin": "round"
  });
  const line = svg2("line");
  shape.appendChild(line);
  const begin = svg2("path");
  shape.appendChild(begin);
  const end = svg2("path");
  shape.appendChild(end);
  return shape;
};
var CREATE_TYPE_ROUTES2 = {
  image: createImage2,
  rect: createShape2("rect"),
  ellipse: createShape2("ellipse"),
  text: createShape2("text"),
  path: createShape2("path"),
  line: createLine2
};
var UPDATE_TYPE_ROUTES2 = {
  rect: updateRect3,
  ellipse: updateEllipse2,
  image: updateImage2,
  text: updateText2,
  path: updatePath2,
  line: updateLine2
};
var createMarkupByType2 = (type, markup) => CREATE_TYPE_ROUTES2[type](markup);
var updateMarkupByType2 = (element, type, markup, size, scale) => {
  if (type !== "path") {
    element.rect = getMarkupRect2(markup, size, scale);
  }
  element.styles = getMarkupStyles2(markup, size, scale);
  UPDATE_TYPE_ROUTES2[type](element, markup, size, scale);
};
var sortMarkupByZIndex2 = (a, b) => {
  if (a[1].zIndex > b[1].zIndex) {
    return 1;
  }
  if (a[1].zIndex < b[1].zIndex) {
    return -1;
  }
  return 0;
};
var cropSVG = (blob2, crop = {}, markup, options) => new Promise((resolve) => {
  const { background = null } = options;
  const fr = new FileReader();
  fr.onloadend = () => {
    const text2 = fr.result;
    const original = document.createElement("div");
    original.style.cssText = `position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;`;
    original.innerHTML = text2;
    const originalNode = original.querySelector("svg");
    document.body.appendChild(original);
    const bBox = originalNode.getBBox();
    original.parentNode.removeChild(original);
    const titleNode = original.querySelector("title");
    const viewBoxAttribute = originalNode.getAttribute("viewBox") || "";
    const widthAttribute = originalNode.getAttribute("width") || "";
    const heightAttribute = originalNode.getAttribute("height") || "";
    let width = parseFloat(widthAttribute) || null;
    let height = parseFloat(heightAttribute) || null;
    const widthUnits = (widthAttribute.match(/[a-z]+/) || [])[0] || "";
    const heightUnits = (heightAttribute.match(/[a-z]+/) || [])[0] || "";
    const viewBoxList = viewBoxAttribute.split(" ").map(parseFloat);
    const viewBox = viewBoxList.length ? {
      x: viewBoxList[0],
      y: viewBoxList[1],
      width: viewBoxList[2],
      height: viewBoxList[3]
    } : bBox;
    let imageWidth = width != null ? width : viewBox.width;
    let imageHeight = height != null ? height : viewBox.height;
    originalNode.style.overflow = "visible";
    originalNode.setAttribute("width", imageWidth);
    originalNode.setAttribute("height", imageHeight);
    let markupSVG = "";
    if (markup && markup.length) {
      const size = {
        width: imageWidth,
        height: imageHeight
      };
      markupSVG = markup.sort(sortMarkupByZIndex2).reduce((prev, shape) => {
        const el = createMarkupByType2(shape[0], shape[1]);
        updateMarkupByType2(el, shape[0], shape[1], size);
        el.removeAttribute("id");
        if (el.getAttribute("opacity") === 1) {
          el.removeAttribute("opacity");
        }
        return prev + "\n" + el.outerHTML + "\n";
      }, "");
      markupSVG = `

<g>${markupSVG.replace(/&nbsp;/g, " ")}</g>

`;
    }
    const aspectRatio = crop.aspectRatio || imageHeight / imageWidth;
    const canvasWidth = imageWidth;
    const canvasHeight = canvasWidth * aspectRatio;
    const shouldLimit = typeof crop.scaleToFit === "undefined" || crop.scaleToFit;
    const cropCenterX = crop.center ? crop.center.x : 0.5;
    const cropCenterY = crop.center ? crop.center.y : 0.5;
    const canvasZoomFactor = getImageRectZoomFactor2(
      {
        width: imageWidth,
        height: imageHeight
      },
      getCenteredCropRect2(
        {
          width: canvasWidth,
          height: canvasHeight
        },
        aspectRatio
      ),
      crop.rotation,
      shouldLimit ? { x: cropCenterX, y: cropCenterY } : {
        x: 0.5,
        y: 0.5
      }
    );
    const scale = crop.zoom * canvasZoomFactor;
    const rotation = crop.rotation * (180 / Math.PI);
    const canvasCenter = {
      x: canvasWidth * 0.5,
      y: canvasHeight * 0.5
    };
    const imageOffset = {
      x: canvasCenter.x - imageWidth * cropCenterX,
      y: canvasCenter.y - imageHeight * cropCenterY
    };
    const cropTransforms = [
      // rotate
      `rotate(${rotation} ${canvasCenter.x} ${canvasCenter.y})`,
      // scale
      `translate(${canvasCenter.x} ${canvasCenter.y})`,
      `scale(${scale})`,
      `translate(${-canvasCenter.x} ${-canvasCenter.y})`,
      // offset
      `translate(${imageOffset.x} ${imageOffset.y})`
    ];
    const cropFlipHorizontal = crop.flip && crop.flip.horizontal;
    const cropFlipVertical = crop.flip && crop.flip.vertical;
    const flipTransforms = [
      `scale(${cropFlipHorizontal ? -1 : 1} ${cropFlipVertical ? -1 : 1})`,
      `translate(${cropFlipHorizontal ? -imageWidth : 0} ${cropFlipVertical ? -imageHeight : 0})`
    ];
    const transformed = `<?xml version="1.0" encoding="UTF-8"?>
<svg width="${canvasWidth}${widthUnits}" height="${canvasHeight}${heightUnits}" 
viewBox="0 0 ${canvasWidth} ${canvasHeight}" ${background ? 'style="background:' + background + '" ' : ""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${titleNode ? titleNode.textContent : ""}</title>
<g transform="${cropTransforms.join(" ")}">
<g transform="${flipTransforms.join(" ")}">
${originalNode.outerHTML}${markupSVG}
</g>
</g>
</svg>`;
    resolve(transformed);
  };
  fr.readAsText(blob2);
});
var objectToImageData = (obj) => {
  let imageData;
  try {
    imageData = new ImageData(obj.width, obj.height);
  } catch (e) {
    const canvas = document.createElement("canvas");
    imageData = canvas.getContext("2d").createImageData(obj.width, obj.height);
  }
  imageData.data.set(obj.data);
  return imageData;
};
var TransformWorker = () => {
  const TRANSFORMS = { resize, filter };
  const applyTransforms = (transforms2, imageData) => {
    transforms2.forEach((transform2) => {
      imageData = TRANSFORMS[transform2.type](imageData, transform2.data);
    });
    return imageData;
  };
  const transform = (data3, cb) => {
    let transforms2 = data3.transforms;
    let filterTransform = null;
    transforms2.forEach((transform2) => {
      if (transform2.type === "filter") {
        filterTransform = transform2;
      }
    });
    if (filterTransform) {
      let resizeTransform = null;
      transforms2.forEach((transform2) => {
        if (transform2.type === "resize") {
          resizeTransform = transform2;
        }
      });
      if (resizeTransform) {
        resizeTransform.data.matrix = filterTransform.data;
        transforms2 = transforms2.filter((transform2) => transform2.type !== "filter");
      }
    }
    cb(applyTransforms(transforms2, data3.imageData));
  };
  self.onmessage = (e) => {
    transform(e.data.message, (response) => {
      self.postMessage({ id: e.data.id, message: response }, [response.data.buffer]);
    });
  };
  const br = 1;
  const bg = 1;
  const bb = 1;
  function applyFilterMatrix(index, data3, m) {
    const ir = data3[index] / 255;
    const ig = data3[index + 1] / 255;
    const ib = data3[index + 2] / 255;
    const ia = data3[index + 3] / 255;
    const mr = ir * m[0] + ig * m[1] + ib * m[2] + ia * m[3] + m[4];
    const mg = ir * m[5] + ig * m[6] + ib * m[7] + ia * m[8] + m[9];
    const mb = ir * m[10] + ig * m[11] + ib * m[12] + ia * m[13] + m[14];
    const ma = ir * m[15] + ig * m[16] + ib * m[17] + ia * m[18] + m[19];
    const or = Math.max(0, mr * ma) + br * (1 - ma);
    const og = Math.max(0, mg * ma) + bg * (1 - ma);
    const ob = Math.max(0, mb * ma) + bb * (1 - ma);
    data3[index] = Math.max(0, Math.min(1, or)) * 255;
    data3[index + 1] = Math.max(0, Math.min(1, og)) * 255;
    data3[index + 2] = Math.max(0, Math.min(1, ob)) * 255;
  }
  const identityMatrix = self.JSON.stringify([
    1,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    0,
    0,
    0,
    0,
    1,
    0
  ]);
  function isIdentityMatrix(filter2) {
    return self.JSON.stringify(filter2 || []) === identityMatrix;
  }
  function filter(imageData, matrix) {
    if (!matrix || isIdentityMatrix(matrix))
      return imageData;
    const data3 = imageData.data;
    const l = data3.length;
    const m11 = matrix[0];
    const m12 = matrix[1];
    const m13 = matrix[2];
    const m14 = matrix[3];
    const m15 = matrix[4];
    const m21 = matrix[5];
    const m22 = matrix[6];
    const m23 = matrix[7];
    const m24 = matrix[8];
    const m25 = matrix[9];
    const m31 = matrix[10];
    const m32 = matrix[11];
    const m33 = matrix[12];
    const m34 = matrix[13];
    const m35 = matrix[14];
    const m41 = matrix[15];
    const m42 = matrix[16];
    const m43 = matrix[17];
    const m44 = matrix[18];
    const m45 = matrix[19];
    let index = 0, r = 0, g = 0, b = 0, a = 0, mr = 0, mg = 0, mb = 0, ma = 0, or = 0, og = 0, ob = 0;
    for (; index < l; index += 4) {
      r = data3[index] / 255;
      g = data3[index + 1] / 255;
      b = data3[index + 2] / 255;
      a = data3[index + 3] / 255;
      mr = r * m11 + g * m12 + b * m13 + a * m14 + m15;
      mg = r * m21 + g * m22 + b * m23 + a * m24 + m25;
      mb = r * m31 + g * m32 + b * m33 + a * m34 + m35;
      ma = r * m41 + g * m42 + b * m43 + a * m44 + m45;
      or = Math.max(0, mr * ma) + br * (1 - ma);
      og = Math.max(0, mg * ma) + bg * (1 - ma);
      ob = Math.max(0, mb * ma) + bb * (1 - ma);
      data3[index] = Math.max(0, Math.min(1, or)) * 255;
      data3[index + 1] = Math.max(0, Math.min(1, og)) * 255;
      data3[index + 2] = Math.max(0, Math.min(1, ob)) * 255;
    }
    return imageData;
  }
  function resize(imageData, data3) {
    let { mode = "contain", upscale = false, width, height, matrix } = data3;
    matrix = !matrix || isIdentityMatrix(matrix) ? null : matrix;
    if (!width && !height) {
      return filter(imageData, matrix);
    }
    if (width === null) {
      width = height;
    } else if (height === null) {
      height = width;
    }
    if (mode !== "force") {
      let scalarWidth = width / imageData.width;
      let scalarHeight = height / imageData.height;
      let scalar = 1;
      if (mode === "cover") {
        scalar = Math.max(scalarWidth, scalarHeight);
      } else if (mode === "contain") {
        scalar = Math.min(scalarWidth, scalarHeight);
      }
      if (scalar > 1 && upscale === false) {
        return filter(imageData, matrix);
      }
      width = imageData.width * scalar;
      height = imageData.height * scalar;
    }
    const originWidth = imageData.width;
    const originHeight = imageData.height;
    const targetWidth = Math.round(width);
    const targetHeight = Math.round(height);
    const inputData = imageData.data;
    const outputData = new Uint8ClampedArray(targetWidth * targetHeight * 4);
    const ratioWidth = originWidth / targetWidth;
    const ratioHeight = originHeight / targetHeight;
    const ratioWidthHalf = Math.ceil(ratioWidth * 0.5);
    const ratioHeightHalf = Math.ceil(ratioHeight * 0.5);
    for (let j = 0; j < targetHeight; j++) {
      for (let i = 0; i < targetWidth; i++) {
        let x2 = (i + j * targetWidth) * 4;
        let weight = 0;
        let weights = 0;
        let weightsAlpha = 0;
        let r = 0;
        let g = 0;
        let b = 0;
        let a = 0;
        let centerY = (j + 0.5) * ratioHeight;
        for (let yy = Math.floor(j * ratioHeight); yy < (j + 1) * ratioHeight; yy++) {
          let dy = Math.abs(centerY - (yy + 0.5)) / ratioHeightHalf;
          let centerX = (i + 0.5) * ratioWidth;
          let w0 = dy * dy;
          for (let xx = Math.floor(i * ratioWidth); xx < (i + 1) * ratioWidth; xx++) {
            let dx = Math.abs(centerX - (xx + 0.5)) / ratioWidthHalf;
            let w = Math.sqrt(w0 + dx * dx);
            if (w >= -1 && w <= 1) {
              weight = 2 * w * w * w - 3 * w * w + 1;
              if (weight > 0) {
                dx = 4 * (xx + yy * originWidth);
                let ref = inputData[dx + 3];
                a += weight * ref;
                weightsAlpha += weight;
                if (ref < 255) {
                  weight = weight * ref / 250;
                }
                r += weight * inputData[dx];
                g += weight * inputData[dx + 1];
                b += weight * inputData[dx + 2];
                weights += weight;
              }
            }
          }
        }
        outputData[x2] = r / weights;
        outputData[x2 + 1] = g / weights;
        outputData[x2 + 2] = b / weights;
        outputData[x2 + 3] = a / weightsAlpha;
        matrix && applyFilterMatrix(x2, outputData, matrix);
      }
    }
    return {
      data: outputData,
      width: targetWidth,
      height: targetHeight
    };
  }
};
var correctOrientation = (view, offset) => {
  if (view.getUint32(offset + 4, false) !== 1165519206)
    return;
  offset += 4;
  const intelByteAligned = view.getUint16(offset += 6, false) === 18761;
  offset += view.getUint32(offset + 4, intelByteAligned);
  const tags = view.getUint16(offset, intelByteAligned);
  offset += 2;
  for (let i = 0; i < tags; i++) {
    if (view.getUint16(offset + i * 12, intelByteAligned) === 274) {
      view.setUint16(offset + i * 12 + 8, 1, intelByteAligned);
      return true;
    }
  }
  return false;
};
var readData = (data3) => {
  const view = new DataView(data3);
  if (view.getUint16(0) !== 65496)
    return null;
  let offset = 2;
  let marker;
  let markerLength;
  let orientationCorrected = false;
  while (offset < view.byteLength) {
    marker = view.getUint16(offset, false);
    markerLength = view.getUint16(offset + 2, false) + 2;
    const isData = marker >= 65504 && marker <= 65519 || marker === 65534;
    if (!isData) {
      break;
    }
    if (!orientationCorrected) {
      orientationCorrected = correctOrientation(view, offset, markerLength);
    }
    if (offset + markerLength > view.byteLength) {
      break;
    }
    offset += markerLength;
  }
  return data3.slice(0, offset);
};
var getImageHead = (file2) => new Promise((resolve) => {
  const reader = new FileReader();
  reader.onload = () => resolve(readData(reader.result) || null);
  reader.readAsArrayBuffer(file2.slice(0, 256 * 1024));
});
var getBlobBuilder2 = () => {
  return window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;
};
var createBlob2 = (arrayBuffer, mimeType) => {
  const BB = getBlobBuilder2();
  if (BB) {
    const bb = new BB();
    bb.append(arrayBuffer);
    return bb.getBlob(mimeType);
  }
  return new Blob([arrayBuffer], {
    type: mimeType
  });
};
var getUniqueId2 = () => Math.random().toString(36).substr(2, 9);
var createWorker2 = (fn2) => {
  const workerBlob = new Blob(["(", fn2.toString(), ")()"], { type: "application/javascript" });
  const workerURL = URL.createObjectURL(workerBlob);
  const worker = new Worker(workerURL);
  const trips = [];
  return {
    transfer: () => {
    },
    // (message, cb) => {}
    post: (message, cb, transferList) => {
      const id = getUniqueId2();
      trips[id] = cb;
      worker.onmessage = (e) => {
        const cb2 = trips[e.data.id];
        if (!cb2)
          return;
        cb2(e.data.message);
        delete trips[e.data.id];
      };
      worker.postMessage(
        {
          id,
          message
        },
        transferList
      );
    },
    terminate: () => {
      worker.terminate();
      URL.revokeObjectURL(workerURL);
    }
  };
};
var loadImage3 = (url) => new Promise((resolve, reject) => {
  const img = new Image();
  img.onload = () => {
    resolve(img);
  };
  img.onerror = (e) => {
    reject(e);
  };
  img.src = url;
});
var chain = (funcs) => funcs.reduce(
  (promise, func) => promise.then((result) => func().then(Array.prototype.concat.bind(result))),
  Promise.resolve([])
);
var canvasApplyMarkup = (canvas, markup) => new Promise((resolve) => {
  const size = {
    width: canvas.width,
    height: canvas.height
  };
  const ctx = canvas.getContext("2d");
  const drawers = markup.sort(sortMarkupByZIndex2).map(
    (item2) => () => new Promise((resolve2) => {
      const result = TYPE_DRAW_ROUTES[item2[0]](ctx, size, item2[1], resolve2);
      if (result)
        resolve2();
    })
  );
  chain(drawers).then(() => resolve(canvas));
});
var applyMarkupStyles = (ctx, styles2) => {
  ctx.beginPath();
  ctx.lineCap = styles2["stroke-linecap"];
  ctx.lineJoin = styles2["stroke-linejoin"];
  ctx.lineWidth = styles2["stroke-width"];
  if (styles2["stroke-dasharray"].length) {
    ctx.setLineDash(styles2["stroke-dasharray"].split(","));
  }
  ctx.fillStyle = styles2["fill"];
  ctx.strokeStyle = styles2["stroke"];
  ctx.globalAlpha = styles2.opacity || 1;
};
var drawMarkupStyles = (ctx) => {
  ctx.fill();
  ctx.stroke();
  ctx.globalAlpha = 1;
};
var drawRect = (ctx, size, markup) => {
  const rect = getMarkupRect2(markup, size);
  const styles2 = getMarkupStyles2(markup, size);
  applyMarkupStyles(ctx, styles2);
  ctx.rect(rect.x, rect.y, rect.width, rect.height);
  drawMarkupStyles(ctx, styles2);
  return true;
};
var drawEllipse = (ctx, size, markup) => {
  const rect = getMarkupRect2(markup, size);
  const styles2 = getMarkupStyles2(markup, size);
  applyMarkupStyles(ctx, styles2);
  const x = rect.x, y = rect.y, w = rect.width, h = rect.height, kappa = 0.5522848, ox = w / 2 * kappa, oy = h / 2 * kappa, xe = x + w, ye = y + h, xm = x + w / 2, ym = y + h / 2;
  ctx.moveTo(x, ym);
  ctx.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);
  ctx.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);
  ctx.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);
  ctx.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);
  drawMarkupStyles(ctx, styles2);
  return true;
};
var drawImage = (ctx, size, markup, done) => {
  const rect = getMarkupRect2(markup, size);
  const styles2 = getMarkupStyles2(markup, size);
  applyMarkupStyles(ctx, styles2);
  const image = new Image();
  const isCrossOriginImage = new URL(markup.src, window.location.href).origin !== window.location.origin;
  if (isCrossOriginImage)
    image.crossOrigin = "";
  image.onload = () => {
    if (markup.fit === "cover") {
      const ar = rect.width / rect.height;
      const width = ar > 1 ? image.width : image.height * ar;
      const height = ar > 1 ? image.width / ar : image.height;
      const x = image.width * 0.5 - width * 0.5;
      const y = image.height * 0.5 - height * 0.5;
      ctx.drawImage(image, x, y, width, height, rect.x, rect.y, rect.width, rect.height);
    } else if (markup.fit === "contain") {
      const scalar = Math.min(rect.width / image.width, rect.height / image.height);
      const width = scalar * image.width;
      const height = scalar * image.height;
      const x = rect.x + rect.width * 0.5 - width * 0.5;
      const y = rect.y + rect.height * 0.5 - height * 0.5;
      ctx.drawImage(image, 0, 0, image.width, image.height, x, y, width, height);
    } else {
      ctx.drawImage(
        image,
        0,
        0,
        image.width,
        image.height,
        rect.x,
        rect.y,
        rect.width,
        rect.height
      );
    }
    drawMarkupStyles(ctx, styles2);
    done();
  };
  image.src = markup.src;
};
var drawText = (ctx, size, markup) => {
  const rect = getMarkupRect2(markup, size);
  const styles2 = getMarkupStyles2(markup, size);
  applyMarkupStyles(ctx, styles2);
  const fontSize = getMarkupValue2(markup.fontSize, size);
  const fontFamily = markup.fontFamily || "sans-serif";
  const fontWeight = markup.fontWeight || "normal";
  const textAlign = markup.textAlign || "left";
  ctx.font = `${fontWeight} ${fontSize}px ${fontFamily}`;
  ctx.textAlign = textAlign;
  ctx.fillText(markup.text, rect.x, rect.y);
  drawMarkupStyles(ctx, styles2);
  return true;
};
var drawPath = (ctx, size, markup) => {
  const styles2 = getMarkupStyles2(markup, size);
  applyMarkupStyles(ctx, styles2);
  ctx.beginPath();
  const points = markup.points.map((point) => ({
    x: getMarkupValue2(point.x, size, 1, "width"),
    y: getMarkupValue2(point.y, size, 1, "height")
  }));
  ctx.moveTo(points[0].x, points[0].y);
  const l = points.length;
  for (let i = 1; i < l; i++) {
    ctx.lineTo(points[i].x, points[i].y);
  }
  drawMarkupStyles(ctx, styles2);
  return true;
};
var drawLine = (ctx, size, markup) => {
  const rect = getMarkupRect2(markup, size);
  const styles2 = getMarkupStyles2(markup, size);
  applyMarkupStyles(ctx, styles2);
  ctx.beginPath();
  const origin = {
    x: rect.x,
    y: rect.y
  };
  const target = {
    x: rect.x + rect.width,
    y: rect.y + rect.height
  };
  ctx.moveTo(origin.x, origin.y);
  ctx.lineTo(target.x, target.y);
  const v = vectorNormalize2({
    x: target.x - origin.x,
    y: target.y - origin.y
  });
  const l = 0.04 * Math.min(size.width, size.height);
  if (markup.lineDecoration.indexOf("arrow-begin") !== -1) {
    const arrowBeginRotationPoint = vectorMultiply2(v, l);
    const arrowBeginCenter = vectorAdd2(origin, arrowBeginRotationPoint);
    const arrowBeginA = vectorRotate2(origin, 2, arrowBeginCenter);
    const arrowBeginB = vectorRotate2(origin, -2, arrowBeginCenter);
    ctx.moveTo(arrowBeginA.x, arrowBeginA.y);
    ctx.lineTo(origin.x, origin.y);
    ctx.lineTo(arrowBeginB.x, arrowBeginB.y);
  }
  if (markup.lineDecoration.indexOf("arrow-end") !== -1) {
    const arrowEndRotationPoint = vectorMultiply2(v, -l);
    const arrowEndCenter = vectorAdd2(target, arrowEndRotationPoint);
    const arrowEndA = vectorRotate2(target, 2, arrowEndCenter);
    const arrowEndB = vectorRotate2(target, -2, arrowEndCenter);
    ctx.moveTo(arrowEndA.x, arrowEndA.y);
    ctx.lineTo(target.x, target.y);
    ctx.lineTo(arrowEndB.x, arrowEndB.y);
  }
  drawMarkupStyles(ctx, styles2);
  return true;
};
var TYPE_DRAW_ROUTES = {
  rect: drawRect,
  ellipse: drawEllipse,
  image: drawImage,
  text: drawText,
  line: drawLine,
  path: drawPath
};
var imageDataToCanvas = (imageData) => {
  const image = document.createElement("canvas");
  image.width = imageData.width;
  image.height = imageData.height;
  const ctx = image.getContext("2d");
  ctx.putImageData(imageData, 0, 0);
  return image;
};
var transformImage = (file2, instructions, options = {}) => new Promise((resolve, reject) => {
  if (!file2 || !isImage$1(file2))
    return reject({ status: "not an image file", file: file2 });
  const { stripImageHead, beforeCreateBlob, afterCreateBlob, canvasMemoryLimit } = options;
  const { crop, size, filter, markup, output } = instructions;
  const orientation = instructions.image && instructions.image.orientation ? Math.max(1, Math.min(8, instructions.image.orientation)) : null;
  const qualityAsPercentage = output && output.quality;
  const quality = qualityAsPercentage === null ? null : qualityAsPercentage / 100;
  const type = output && output.type || null;
  const background = output && output.background || null;
  const transforms2 = [];
  if (size && (typeof size.width === "number" || typeof size.height === "number")) {
    transforms2.push({ type: "resize", data: size });
  }
  if (filter && filter.length === 20) {
    transforms2.push({ type: "filter", data: filter });
  }
  const resolveWithBlob = (blob2) => {
    const promisedBlob = afterCreateBlob ? afterCreateBlob(blob2) : blob2;
    Promise.resolve(promisedBlob).then(resolve);
  };
  const toBlob = (imageData, options2) => {
    const canvas = imageDataToCanvas(imageData);
    const promisedCanvas = markup.length ? canvasApplyMarkup(canvas, markup) : canvas;
    Promise.resolve(promisedCanvas).then((canvas2) => {
      canvasToBlob(canvas2, options2, beforeCreateBlob).then((blob2) => {
        canvasRelease(canvas2);
        if (stripImageHead)
          return resolveWithBlob(blob2);
        getImageHead(file2).then((imageHead) => {
          if (imageHead !== null) {
            blob2 = new Blob([imageHead, blob2.slice(20)], { type: blob2.type });
          }
          resolveWithBlob(blob2);
        });
      }).catch(reject);
    });
  };
  if (/svg/.test(file2.type) && type === null) {
    return cropSVG(file2, crop, markup, { background }).then((text2) => {
      resolve(createBlob2(text2, "image/svg+xml"));
    });
  }
  const url = URL.createObjectURL(file2);
  loadImage3(url).then((image) => {
    URL.revokeObjectURL(url);
    const imageData = imageToImageData(image, orientation, crop, {
      canvasMemoryLimit,
      background
    });
    const outputFormat = {
      quality,
      type: type || file2.type
    };
    if (!transforms2.length) {
      return toBlob(imageData, outputFormat);
    }
    const worker = createWorker2(TransformWorker);
    worker.post(
      {
        transforms: transforms2,
        imageData
      },
      (response) => {
        toBlob(objectToImageData(response), outputFormat);
        worker.terminate();
      },
      [imageData.data.buffer]
    );
  }).catch(reject);
});
var MARKUP_RECT2 = ["x", "y", "left", "top", "right", "bottom", "width", "height"];
var toOptionalFraction2 = (value) => typeof value === "string" && /%/.test(value) ? parseFloat(value) / 100 : value;
var prepareMarkup2 = (markup) => {
  const [type, props] = markup;
  const rect = props.points ? {} : MARKUP_RECT2.reduce((prev, curr) => {
    prev[curr] = toOptionalFraction2(props[curr]);
    return prev;
  }, {});
  return [
    type,
    {
      zIndex: 0,
      ...props,
      ...rect
    }
  ];
};
var getImageSize3 = (file2) => new Promise((resolve, reject) => {
  const imageElement = new Image();
  imageElement.src = URL.createObjectURL(file2);
  const measure = () => {
    const width = imageElement.naturalWidth;
    const height = imageElement.naturalHeight;
    const hasSize = width && height;
    if (!hasSize)
      return;
    URL.revokeObjectURL(imageElement.src);
    clearInterval(intervalId);
    resolve({ width, height });
  };
  imageElement.onerror = (err) => {
    URL.revokeObjectURL(imageElement.src);
    clearInterval(intervalId);
    reject(err);
  };
  const intervalId = setInterval(measure, 1);
  measure();
});
if (typeof window !== "undefined" && typeof window.document !== "undefined") {
  if (!HTMLCanvasElement.prototype.toBlob) {
    Object.defineProperty(HTMLCanvasElement.prototype, "toBlob", {
      value: function(cb, type, quality) {
        const canvas = this;
        setTimeout(() => {
          const dataURL = canvas.toDataURL(type, quality).split(",")[1];
          const binStr = atob(dataURL);
          let index = binStr.length;
          const data3 = new Uint8Array(index);
          while (index--) {
            data3[index] = binStr.charCodeAt(index);
          }
          cb(new Blob([data3], { type: type || "image/png" }));
        });
      }
    });
  }
}
var isBrowser8 = typeof window !== "undefined" && typeof window.document !== "undefined";
var isIOS = isBrowser8 && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
var plugin7 = ({ addFilter: addFilter2, utils }) => {
  const { Type: Type2, forin: forin2, getFileFromBlob: getFileFromBlob2, isFile: isFile2 } = utils;
  const TRANSFORM_LIST = ["crop", "resize", "filter", "markup", "output"];
  const createVariantCreator = (updateMetadata) => (transform, file2, metadata) => transform(file2, updateMetadata ? updateMetadata(metadata) : metadata);
  const isDefaultCrop = (crop) => crop.aspectRatio === null && crop.rotation === 0 && crop.zoom === 1 && crop.center && crop.center.x === 0.5 && crop.center.y === 0.5 && crop.flip && crop.flip.horizontal === false && crop.flip.vertical === false;
  addFilter2(
    "SHOULD_PREPARE_OUTPUT",
    (shouldPrepareOutput, { query }) => new Promise((resolve) => {
      resolve(!query("IS_ASYNC"));
    })
  );
  const shouldTransformFile = (query, file2, item2) => new Promise((resolve) => {
    if (!query("GET_ALLOW_IMAGE_TRANSFORM") || item2.archived || !isFile2(file2) || !isImage3(file2)) {
      return resolve(false);
    }
    getImageSize3(file2).then(() => {
      const fn2 = query("GET_IMAGE_TRANSFORM_IMAGE_FILTER");
      if (fn2) {
        const filterResult = fn2(file2);
        if (filterResult == null) {
          return handleRevert(true);
        }
        if (typeof filterResult === "boolean") {
          return resolve(filterResult);
        }
        if (typeof filterResult.then === "function") {
          return filterResult.then(resolve);
        }
      }
      resolve(true);
    }).catch((err) => {
      resolve(false);
    });
  });
  addFilter2("DID_CREATE_ITEM", (item2, { query, dispatch }) => {
    if (!query("GET_ALLOW_IMAGE_TRANSFORM"))
      return;
    item2.extend(
      "requestPrepare",
      () => new Promise((resolve, reject) => {
        dispatch(
          "REQUEST_PREPARE_OUTPUT",
          {
            query: item2.id,
            item: item2,
            success: resolve,
            failure: reject
          },
          true
        );
      })
    );
  });
  addFilter2(
    "PREPARE_OUTPUT",
    (file2, { query, item: item2 }) => new Promise((resolve) => {
      shouldTransformFile(query, file2, item2).then((shouldTransform) => {
        if (!shouldTransform)
          return resolve(file2);
        const variants = [];
        if (query("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")) {
          variants.push(
            () => new Promise((resolve2) => {
              resolve2({
                name: query("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),
                file: file2
              });
            })
          );
        }
        if (query("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")) {
          variants.push(
            (transform2, file3, metadata) => new Promise((resolve2) => {
              transform2(file3, metadata).then(
                (file4) => resolve2({
                  name: query(
                    "GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"
                  ),
                  file: file4
                })
              );
            })
          );
        }
        const variantsDefinition = query("GET_IMAGE_TRANSFORM_VARIANTS") || {};
        forin2(variantsDefinition, (key, fn2) => {
          const createVariant = createVariantCreator(fn2);
          variants.push(
            (transform2, file3, metadata) => new Promise((resolve2) => {
              createVariant(transform2, file3, metadata).then(
                (file4) => resolve2({ name: key, file: file4 })
              );
            })
          );
        });
        const qualityAsPercentage = query("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY");
        const qualityMode = query("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE");
        const quality = qualityAsPercentage === null ? null : qualityAsPercentage / 100;
        const type = query("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE");
        const clientTransforms = query("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS") || TRANSFORM_LIST;
        item2.setMetadata(
          "output",
          {
            type,
            quality,
            client: clientTransforms
          },
          true
        );
        const transform = (file3, metadata) => new Promise((resolve2, reject) => {
          const filteredMetadata = { ...metadata };
          Object.keys(filteredMetadata).filter((instruction) => instruction !== "exif").forEach((instruction) => {
            if (clientTransforms.indexOf(instruction) === -1) {
              delete filteredMetadata[instruction];
            }
          });
          const { resize, exif, output, crop, filter, markup } = filteredMetadata;
          const instructions = {
            image: {
              orientation: exif ? exif.orientation : null
            },
            output: output && (output.type || typeof output.quality === "number" || output.background) ? {
              type: output.type,
              quality: typeof output.quality === "number" ? output.quality * 100 : null,
              background: output.background || query(
                "GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"
              ) || null
            } : void 0,
            size: resize && (resize.size.width || resize.size.height) ? {
              mode: resize.mode,
              upscale: resize.upscale,
              ...resize.size
            } : void 0,
            crop: crop && !isDefaultCrop(crop) ? {
              ...crop
            } : void 0,
            markup: markup && markup.length ? markup.map(prepareMarkup2) : [],
            filter
          };
          if (instructions.output) {
            const willChangeType = output.type ? (
              // type set
              output.type !== file3.type
            ) : (
              // type not set
              false
            );
            const canChangeQuality = /\/jpe?g$/.test(file3.type);
            const willChangeQuality = output.quality !== null ? (
              // quality set
              canChangeQuality && qualityMode === "always"
            ) : (
              // quality not set
              false
            );
            const willModifyImageData = !!(instructions.size || instructions.crop || instructions.filter || willChangeType || willChangeQuality);
            if (!willModifyImageData)
              return resolve2(file3);
          }
          const options = {
            beforeCreateBlob: query("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),
            afterCreateBlob: query("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),
            canvasMemoryLimit: query("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),
            stripImageHead: query(
              "GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD"
            )
          };
          transformImage(file3, instructions, options).then((blob2) => {
            const out = getFileFromBlob2(
              blob2,
              // rename the original filename to match the mime type of the output image
              renameFileToMatchMimeType(
                file3.name,
                getValidOutputMimeType(blob2.type)
              )
            );
            resolve2(out);
          }).catch(reject);
        });
        const variantPromises = variants.map(
          (create2) => create2(transform, file2, item2.getMetadata())
        );
        Promise.all(variantPromises).then((files) => {
          resolve(
            files.length === 1 && files[0].name === null ? (
              // return the File object
              files[0].file
            ) : (
              // return an array of files { name:'name', file:File }
              files
            )
          );
        });
      });
    })
  );
  return {
    options: {
      allowImageTransform: [true, Type2.BOOLEAN],
      // filter images to transform
      imageTransformImageFilter: [null, Type2.FUNCTION],
      // null, 'image/jpeg', 'image/png'
      imageTransformOutputMimeType: [null, Type2.STRING],
      // null, 0 - 100
      imageTransformOutputQuality: [null, Type2.INT],
      // set to false to copy image exif data to output
      imageTransformOutputStripImageHead: [true, Type2.BOOLEAN],
      // only apply transforms in this list
      imageTransformClientTransforms: [null, Type2.ARRAY],
      // only apply output quality when a transform is required
      imageTransformOutputQualityMode: ["always", Type2.STRING],
      // 'always'
      // 'optional'
      // 'mismatch' (future feature, only applied if quality differs from input)
      // get image transform variants
      imageTransformVariants: [null, Type2.OBJECT],
      // should we post the default transformed file
      imageTransformVariantsIncludeDefault: [true, Type2.BOOLEAN],
      // which name to prefix the default transformed file with
      imageTransformVariantsDefaultName: [null, Type2.STRING],
      // should we post the original file
      imageTransformVariantsIncludeOriginal: [false, Type2.BOOLEAN],
      // which name to prefix the original file with
      imageTransformVariantsOriginalName: ["original_", Type2.STRING],
      // called before creating the blob, receives canvas, expects promise resolve with canvas
      imageTransformBeforeCreateBlob: [null, Type2.FUNCTION],
      // expects promise resolved with blob
      imageTransformAfterCreateBlob: [null, Type2.FUNCTION],
      // canvas memory limit
      imageTransformCanvasMemoryLimit: [isBrowser8 && isIOS ? 4096 * 4096 : null, Type2.INT],
      // background image of the output canvas
      imageTransformCanvasBackgroundColor: [null, Type2.STRING]
    }
  };
};
if (isBrowser8) {
  document.dispatchEvent(new CustomEvent("FilePond:pluginloaded", { detail: plugin7 }));
}
var filepond_plugin_image_transform_esm_default = plugin7;

// node_modules/filepond-plugin-media-preview/dist/filepond-plugin-media-preview.esm.js
var isPreviewableVideo = (file2) => /^video/.test(file2.type);
var isPreviewableAudio = (file2) => /^audio/.test(file2.type);
var AudioPlayer = class {
  constructor(mediaEl, audioElems) {
    this.mediaEl = mediaEl;
    this.audioElems = audioElems;
    this.onplayhead = false;
    this.duration = 0;
    this.timelineWidth = this.audioElems.timeline.offsetWidth - this.audioElems.playhead.offsetWidth;
    this.moveplayheadFn = this.moveplayhead.bind(this);
    this.registerListeners();
  }
  registerListeners() {
    this.mediaEl.addEventListener(
      "timeupdate",
      this.timeUpdate.bind(this),
      false
    );
    this.mediaEl.addEventListener(
      "canplaythrough",
      () => this.duration = this.mediaEl.duration,
      false
    );
    this.audioElems.timeline.addEventListener(
      "click",
      this.timelineClicked.bind(this),
      false
    );
    this.audioElems.button.addEventListener("click", this.play.bind(this));
    this.audioElems.playhead.addEventListener(
      "mousedown",
      this.mouseDown.bind(this),
      false
    );
    window.addEventListener("mouseup", this.mouseUp.bind(this), false);
  }
  play() {
    if (this.mediaEl.paused) {
      this.mediaEl.play();
    } else {
      this.mediaEl.pause();
    }
    this.audioElems.button.classList.toggle("play");
    this.audioElems.button.classList.toggle("pause");
  }
  timeUpdate() {
    let playPercent = this.mediaEl.currentTime / this.duration * 100;
    this.audioElems.playhead.style.marginLeft = playPercent + "%";
    if (this.mediaEl.currentTime === this.duration) {
      this.audioElems.button.classList.toggle("play");
      this.audioElems.button.classList.toggle("pause");
    }
  }
  moveplayhead(event) {
    let newMargLeft = event.clientX - this.getPosition(this.audioElems.timeline);
    if (newMargLeft >= 0 && newMargLeft <= this.timelineWidth) {
      this.audioElems.playhead.style.marginLeft = newMargLeft + "px";
    }
    if (newMargLeft < 0) {
      this.audioElems.playhead.style.marginLeft = "0px";
    }
    if (newMargLeft > this.timelineWidth) {
      this.audioElems.playhead.style.marginLeft = this.timelineWidth - 4 + "px";
    }
  }
  timelineClicked(event) {
    this.moveplayhead(event);
    this.mediaEl.currentTime = this.duration * this.clickPercent(event);
  }
  mouseDown() {
    this.onplayhead = true;
    window.addEventListener("mousemove", this.moveplayheadFn, true);
    this.mediaEl.removeEventListener(
      "timeupdate",
      this.timeUpdate.bind(this),
      false
    );
  }
  mouseUp(event) {
    window.removeEventListener("mousemove", this.moveplayheadFn, true);
    if (this.onplayhead == true) {
      this.moveplayhead(event);
      this.mediaEl.currentTime = this.duration * this.clickPercent(event);
      this.mediaEl.addEventListener(
        "timeupdate",
        this.timeUpdate.bind(this),
        false
      );
    }
    this.onplayhead = false;
  }
  clickPercent(event) {
    return (event.clientX - this.getPosition(this.audioElems.timeline)) / this.timelineWidth;
  }
  getPosition(el) {
    return el.getBoundingClientRect().left;
  }
};
var createMediaView = (_) => _.utils.createView({
  name: "media-preview",
  tag: "div",
  ignoreRect: true,
  create: ({ root: root2, props }) => {
    const { id } = props;
    const item2 = root2.query("GET_ITEM", { id: props.id });
    let tagName = isPreviewableAudio(item2.file) ? "audio" : "video";
    root2.ref.media = document.createElement(tagName);
    root2.ref.media.setAttribute("controls", true);
    root2.element.appendChild(root2.ref.media);
    if (isPreviewableAudio(item2.file)) {
      let docfrag = document.createDocumentFragment();
      root2.ref.audio = [];
      root2.ref.audio.container = document.createElement("div"), root2.ref.audio.button = document.createElement("span"), root2.ref.audio.timeline = document.createElement("div"), root2.ref.audio.playhead = document.createElement("div");
      root2.ref.audio.container.className = "audioplayer";
      root2.ref.audio.button.className = "playpausebtn play";
      root2.ref.audio.timeline.className = "timeline";
      root2.ref.audio.playhead.className = "playhead";
      root2.ref.audio.timeline.appendChild(root2.ref.audio.playhead);
      root2.ref.audio.container.appendChild(root2.ref.audio.button);
      root2.ref.audio.container.appendChild(root2.ref.audio.timeline);
      docfrag.appendChild(root2.ref.audio.container);
      root2.element.appendChild(docfrag);
    }
  },
  write: _.utils.createRoute({
    DID_MEDIA_PREVIEW_LOAD: ({ root: root2, props }) => {
      const { id } = props;
      const item2 = root2.query("GET_ITEM", { id: props.id });
      if (!item2)
        return;
      let URL2 = window.URL || window.webkitURL;
      let blob2 = new Blob([item2.file], { type: item2.file.type });
      root2.ref.media.type = item2.file.type;
      root2.ref.media.src = item2.file.mock && item2.file.url || URL2.createObjectURL(blob2);
      if (isPreviewableAudio(item2.file)) {
        new AudioPlayer(root2.ref.media, root2.ref.audio);
      }
      root2.ref.media.addEventListener(
        "loadeddata",
        () => {
          let height = 75;
          if (isPreviewableVideo(item2.file)) {
            let containerWidth = root2.ref.media.offsetWidth;
            let factor = root2.ref.media.videoWidth / containerWidth;
            height = root2.ref.media.videoHeight / factor;
          }
          root2.dispatch("DID_UPDATE_PANEL_HEIGHT", {
            id: props.id,
            height
          });
        },
        false
      );
    }
  })
});
var createMediaWrapperView = (_) => {
  const didCreatePreviewContainer = ({ root: root2, props }) => {
    const { id } = props;
    const item2 = root2.query("GET_ITEM", id);
    if (!item2)
      return;
    root2.dispatch("DID_MEDIA_PREVIEW_LOAD", {
      id
    });
  };
  const create2 = ({ root: root2, props }) => {
    const media = createMediaView(_);
    root2.ref.media = root2.appendChildView(
      root2.createChildView(media, {
        id: props.id
      })
    );
  };
  return _.utils.createView({
    name: "media-preview-wrapper",
    create: create2,
    write: _.utils.createRoute({
      // media preview stated
      DID_MEDIA_PREVIEW_CONTAINER_CREATE: didCreatePreviewContainer
    })
  });
};
var plugin8 = (fpAPI) => {
  const { addFilter: addFilter2, utils } = fpAPI;
  const { Type: Type2, createRoute: createRoute2 } = utils;
  const mediaWrapperView = createMediaWrapperView(fpAPI);
  addFilter2("CREATE_VIEW", (viewAPI) => {
    const { is, view, query } = viewAPI;
    if (!is("file")) {
      return;
    }
    const didLoadItem2 = ({ root: root2, props }) => {
      const { id } = props;
      const item2 = query("GET_ITEM", id);
      const allowVideoPreview = query("GET_ALLOW_VIDEO_PREVIEW");
      const allowAudioPreview = query("GET_ALLOW_AUDIO_PREVIEW");
      if (!item2 || item2.archived || (!isPreviewableVideo(item2.file) || !allowVideoPreview) && (!isPreviewableAudio(item2.file) || !allowAudioPreview)) {
        return;
      }
      root2.ref.mediaPreview = view.appendChildView(
        view.createChildView(mediaWrapperView, { id })
      );
      root2.dispatch("DID_MEDIA_PREVIEW_CONTAINER_CREATE", { id });
    };
    view.registerWriter(
      createRoute2(
        {
          DID_LOAD_ITEM: didLoadItem2
        },
        ({ root: root2, props }) => {
          const { id } = props;
          const item2 = query("GET_ITEM", id);
          const allowVideoPreview = root2.query("GET_ALLOW_VIDEO_PREVIEW");
          const allowAudioPreview = root2.query("GET_ALLOW_AUDIO_PREVIEW");
          if (!item2 || (!isPreviewableVideo(item2.file) || !allowVideoPreview) && (!isPreviewableAudio(item2.file) || !allowAudioPreview) || root2.rect.element.hidden)
            return;
        }
      )
    );
  });
  return {
    options: {
      allowVideoPreview: [true, Type2.BOOLEAN],
      allowAudioPreview: [true, Type2.BOOLEAN]
    }
  };
};
var isBrowser9 = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser9) {
  document.dispatchEvent(
    new CustomEvent("FilePond:pluginloaded", { detail: plugin8 })
  );
}

// node_modules/filepond/locale/ar-ar.js
var ar_ar_default = {
  labelIdle: '\u0627\u0633\u062D\u0628 \u0648 \u0627\u062F\u0631\u062C \u0645\u0644\u0641\u0627\u062A\u0643 \u0623\u0648 <span class="filepond--label-action"> \u062A\u0635\u0641\u062D </span>',
  labelInvalidField: "\u0627\u0644\u062D\u0642\u0644 \u064A\u062D\u062A\u0648\u064A \u0639\u0644\u0649 \u0645\u0644\u0641\u0627\u062A \u063A\u064A\u0631 \u0635\u0627\u0644\u062D\u0629",
  labelFileWaitingForSize: "\u0628\u0627\u0646\u062A\u0638\u0627\u0631 \u0627\u0644\u062D\u062C\u0645",
  labelFileSizeNotAvailable: "\u0627\u0644\u062D\u062C\u0645 \u063A\u064A\u0631 \u0645\u062A\u0627\u062D",
  labelFileLoading: "\u0628\u0627\u0644\u0625\u0646\u062A\u0638\u0627\u0631",
  labelFileLoadError: "\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u0645\u064A\u0644",
  labelFileProcessing: "\u064A\u062A\u0645 \u0627\u0644\u0631\u0641\u0639",
  labelFileProcessingComplete: "\u062A\u0645 \u0627\u0644\u0631\u0641\u0639",
  labelFileProcessingAborted: "\u062A\u0645 \u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0631\u0641\u0639",
  labelFileProcessingError: "\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0631\u0641\u0639",
  labelFileProcessingRevertError: "\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u0631\u0627\u062C\u0639",
  labelFileRemoveError: "\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641",
  labelTapToCancel: "\u0627\u0646\u0642\u0631 \u0644\u0644\u0625\u0644\u063A\u0627\u0621",
  labelTapToRetry: "\u0627\u0646\u0642\u0631 \u0644\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629",
  labelTapToUndo: "\u0627\u0646\u0642\u0631 \u0644\u0644\u062A\u0631\u0627\u062C\u0639",
  labelButtonRemoveItem: "\u0645\u0633\u062D",
  labelButtonAbortItemLoad: "\u0625\u0644\u063A\u0627\u0621",
  labelButtonRetryItemLoad: "\u0625\u0639\u0627\u062F\u0629",
  labelButtonAbortItemProcessing: "\u0625\u0644\u063A\u0627\u0621",
  labelButtonUndoItemProcessing: "\u062A\u0631\u0627\u062C\u0639",
  labelButtonRetryItemProcessing: "\u0625\u0639\u0627\u062F\u0629",
  labelButtonProcessItem: "\u0631\u0641\u0639",
  labelMaxFileSizeExceeded: "\u0627\u0644\u0645\u0644\u0641 \u0643\u0628\u064A\u0631 \u062C\u062F\u0627",
  labelMaxFileSize: "\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0623\u0642\u0635\u0649: {filesize}",
  labelMaxTotalFileSizeExceeded: "\u062A\u0645 \u062A\u062C\u0627\u0648\u0632 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u062D\u062C\u0645 \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A",
  labelMaxTotalFileSize: "\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641: {filesize}",
  labelFileTypeNotAllowed: "\u0645\u0644\u0641 \u0645\u0646 \u0646\u0648\u0639 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D",
  fileValidateTypeLabelExpectedTypes: "\u062A\u062A\u0648\u0642\u0639 {allButLastType} \u0645\u0646 {lastType}",
  imageValidateSizeLabelFormatError: "\u0646\u0648\u0639 \u0627\u0644\u0635\u0648\u0631\u0629 \u063A\u064A\u0631 \u0645\u062F\u0639\u0648\u0645",
  imageValidateSizeLabelImageSizeTooSmall: "\u0627\u0644\u0635\u0648\u0631\u0629 \u0635\u063A\u064A\u0631 \u062C\u062F\u0627",
  imageValidateSizeLabelImageSizeTooBig: "\u0627\u0644\u0635\u0648\u0631\u0629 \u0643\u0628\u064A\u0631\u0629 \u062C\u062F\u0627",
  imageValidateSizeLabelExpectedMinSize: "\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0623\u0628\u0639\u0627\u062F \u0647\u0648: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0623\u0628\u0639\u0627\u062F \u0647\u0648: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\u0627\u0644\u062F\u0642\u0629 \u0636\u0639\u064A\u0641\u0629 \u062C\u062F\u0627",
  imageValidateSizeLabelImageResolutionTooHigh: "\u0627\u0644\u062F\u0642\u0629 \u0645\u0631\u062A\u0641\u0639\u0629 \u062C\u062F\u0627",
  imageValidateSizeLabelExpectedMinResolution: "\u0623\u0642\u0644 \u062F\u0642\u0629: {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "\u0623\u0642\u0635\u0649 \u062F\u0642\u0629: {maxResolution}"
};

// node_modules/filepond/locale/cs-cz.js
var cs_cz_default = {
  labelIdle: 'P\u0159et\xE1hn\u011Bte soubor sem (drag&drop) nebo <span class="filepond--label-action"> Vyhledat </span>',
  labelInvalidField: "Pole obsahuje chybn\xE9 soubory",
  labelFileWaitingForSize: "Zji\u0161\u0165uje se velikost",
  labelFileSizeNotAvailable: "Velikost nen\xED zn\xE1m\xE1",
  labelFileLoading: "P\u0159en\xE1\u0161\xED se",
  labelFileLoadError: "Chyba p\u0159i p\u0159enosu",
  labelFileProcessing: "Prob\xEDh\xE1 upload",
  labelFileProcessingComplete: "Upload dokon\u010Den",
  labelFileProcessingAborted: "Upload stornov\xE1n",
  labelFileProcessingError: "Chyba p\u0159i uploadu",
  labelFileProcessingRevertError: "Chyba p\u0159i obnov\u011B",
  labelFileRemoveError: "Chyba p\u0159i odstran\u011Bn\xED",
  labelTapToCancel: "klepn\u011Bte pro storno",
  labelTapToRetry: "klepn\u011Bte pro opakov\xE1n\xED",
  labelTapToUndo: "klepn\u011Bte pro vr\xE1cen\xED",
  labelButtonRemoveItem: "Odstranit",
  labelButtonAbortItemLoad: "Storno",
  labelButtonRetryItemLoad: "Opakovat",
  labelButtonAbortItemProcessing: "Zp\u011Bt",
  labelButtonUndoItemProcessing: "Vr\xE1tit",
  labelButtonRetryItemProcessing: "Opakovat",
  labelButtonProcessItem: "Upload",
  labelMaxFileSizeExceeded: "Soubor je p\u0159\xEDli\u0161 velk\xFD",
  labelMaxFileSize: "Nejv\u011Bt\u0161\xED velikost souboru je {filesize}",
  labelMaxTotalFileSizeExceeded: "P\u0159ekro\u010Dena maxim\xE1ln\xED celkov\xE1 velikost souboru",
  labelMaxTotalFileSize: "Maxim\xE1ln\xED celkov\xE1 velikost souboru je {filesize}",
  labelFileTypeNotAllowed: "Soubor je nespr\xE1vn\xE9ho typu",
  fileValidateTypeLabelExpectedTypes: "O\u010Dek\xE1v\xE1 se {allButLastType} nebo {lastType}",
  imageValidateSizeLabelFormatError: "Obr\xE1zek tohoto typu nen\xED podporov\xE1n",
  imageValidateSizeLabelImageSizeTooSmall: "Obr\xE1zek je p\u0159\xEDli\u0161 mal\xFD",
  imageValidateSizeLabelImageSizeTooBig: "Obr\xE1zek je p\u0159\xEDli\u0161 velk\xFD",
  imageValidateSizeLabelExpectedMinSize: "Minim\xE1ln\xED rozm\u011Br je {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maxim\xE1ln\xED rozm\u011Br je {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Rozli\u0161en\xED je p\u0159\xEDli\u0161 mal\xE9",
  imageValidateSizeLabelImageResolutionTooHigh: "Rozli\u0161en\xED je p\u0159\xEDli\u0161 velk\xE9",
  imageValidateSizeLabelExpectedMinResolution: "Minim\xE1ln\xED rozli\u0161en\xED je {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maxim\xE1ln\xED rozli\u0161en\xED je {maxResolution}"
};

// node_modules/filepond/locale/da-dk.js
var da_dk_default = {
  labelIdle: 'Tr\xE6k & slip filer eller <span class = "filepond - label-action"> Gennemse </span>',
  labelInvalidField: "Felt indeholder ugyldige filer",
  labelFileWaitingForSize: "Venter p\xE5 st\xF8rrelse",
  labelFileSizeNotAvailable: "St\xF8rrelse ikke tilg\xE6ngelig",
  labelFileLoading: "Loader",
  labelFileLoadError: "Load fejlede",
  labelFileProcessing: "Uploader",
  labelFileProcessingComplete: "Upload f\xE6rdig",
  labelFileProcessingAborted: "Upload annulleret",
  labelFileProcessingError: "Upload fejlede",
  labelFileProcessingRevertError: "Fortryd fejlede",
  labelFileRemoveError: "Fjern fejlede",
  labelTapToCancel: "tryk for at annullere",
  labelTapToRetry: "tryk for at pr\xF8ve igen",
  labelTapToUndo: "tryk for at fortryde",
  labelButtonRemoveItem: "Fjern",
  labelButtonAbortItemLoad: "Annuller",
  labelButtonRetryItemLoad: "Fors\xF8g igen",
  labelButtonAbortItemProcessing: "Annuller",
  labelButtonUndoItemProcessing: "Fortryd",
  labelButtonRetryItemProcessing: "Pr\xF8v igen",
  labelButtonProcessItem: "Upload",
  labelMaxFileSizeExceeded: "Filen er for stor",
  labelMaxFileSize: "Maksimal filst\xF8rrelse er {filesize}",
  labelMaxTotalFileSizeExceeded: "Maksimal totalst\xF8rrelse overskredet",
  labelMaxTotalFileSize: "Maksimal total filst\xF8rrelse er {filesize}",
  labelFileTypeNotAllowed: "Ugyldig filtype",
  fileValidateTypeLabelExpectedTypes: "Forventer {allButLastType} eller {lastType}",
  imageValidateSizeLabelFormatError: "Ugyldigt format",
  imageValidateSizeLabelImageSizeTooSmall: "Billedet er for lille",
  imageValidateSizeLabelImageSizeTooBig: "Billedet er for stort",
  imageValidateSizeLabelExpectedMinSize: "Minimum st\xF8rrelse er {minBredde} \xD7 {minH\xF8jde}",
  imageValidateSizeLabelExpectedMaxSize: "Maksimal st\xF8rrelse er {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "For lav opl\xF8sning",
  imageValidateSizeLabelImageResolutionTooHigh: "For h\xF8j opl\xF8sning",
  imageValidateSizeLabelExpectedMinResolution: "Minimum opl\xF8sning er {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maksimal opl\xF8sning er {maxResolution}"
};

// node_modules/filepond/locale/de-de.js
var de_de_default = {
  labelIdle: 'Dateien ablegen oder <span class="filepond--label-action"> ausw\xE4hlen </span>',
  labelInvalidField: "Feld beinhaltet ung\xFCltige Dateien",
  labelFileWaitingForSize: "Dateigr\xF6\xDFe berechnen",
  labelFileSizeNotAvailable: "Dateigr\xF6\xDFe nicht verf\xFCgbar",
  labelFileLoading: "Laden",
  labelFileLoadError: "Fehler beim Laden",
  labelFileProcessing: "Upload l\xE4uft",
  labelFileProcessingComplete: "Upload abgeschlossen",
  labelFileProcessingAborted: "Upload abgebrochen",
  labelFileProcessingError: "Fehler beim Upload",
  labelFileProcessingRevertError: "Fehler beim Wiederherstellen",
  labelFileRemoveError: "Fehler beim L\xF6schen",
  labelTapToCancel: "abbrechen",
  labelTapToRetry: "erneut versuchen",
  labelTapToUndo: "r\xFCckg\xE4ngig",
  labelButtonRemoveItem: "Entfernen",
  labelButtonAbortItemLoad: "Verwerfen",
  labelButtonRetryItemLoad: "Erneut versuchen",
  labelButtonAbortItemProcessing: "Abbrechen",
  labelButtonUndoItemProcessing: "R\xFCckg\xE4ngig",
  labelButtonRetryItemProcessing: "Erneut versuchen",
  labelButtonProcessItem: "Upload",
  labelMaxFileSizeExceeded: "Datei ist zu gro\xDF",
  labelMaxFileSize: "Maximale Dateigr\xF6\xDFe: {filesize}",
  labelMaxTotalFileSizeExceeded: "Maximale gesamte Dateigr\xF6\xDFe \xFCberschritten",
  labelMaxTotalFileSize: "Maximale gesamte Dateigr\xF6\xDFe: {filesize}",
  labelFileTypeNotAllowed: "Dateityp ung\xFCltig",
  fileValidateTypeLabelExpectedTypes: "Erwartet {allButLastType} oder {lastType}",
  imageValidateSizeLabelFormatError: "Bildtyp nicht unterst\xFCtzt",
  imageValidateSizeLabelImageSizeTooSmall: "Bild ist zu klein",
  imageValidateSizeLabelImageSizeTooBig: "Bild ist zu gro\xDF",
  imageValidateSizeLabelExpectedMinSize: "Mindestgr\xF6\xDFe: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maximale Gr\xF6\xDFe: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Aufl\xF6sung ist zu niedrig",
  imageValidateSizeLabelImageResolutionTooHigh: "Aufl\xF6sung ist zu hoch",
  imageValidateSizeLabelExpectedMinResolution: "Mindestaufl\xF6sung: {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maximale Aufl\xF6sung: {maxResolution}"
};

// node_modules/filepond/locale/en-en.js
var en_en_default = {
  labelIdle: 'Drag & Drop your files or <span class="filepond--label-action"> Browse </span>',
  labelInvalidField: "Field contains invalid files",
  labelFileWaitingForSize: "Waiting for size",
  labelFileSizeNotAvailable: "Size not available",
  labelFileLoading: "Loading",
  labelFileLoadError: "Error during load",
  labelFileProcessing: "Uploading",
  labelFileProcessingComplete: "Upload complete",
  labelFileProcessingAborted: "Upload cancelled",
  labelFileProcessingError: "Error during upload",
  labelFileProcessingRevertError: "Error during revert",
  labelFileRemoveError: "Error during remove",
  labelTapToCancel: "tap to cancel",
  labelTapToRetry: "tap to retry",
  labelTapToUndo: "tap to undo",
  labelButtonRemoveItem: "Remove",
  labelButtonAbortItemLoad: "Abort",
  labelButtonRetryItemLoad: "Retry",
  labelButtonAbortItemProcessing: "Cancel",
  labelButtonUndoItemProcessing: "Undo",
  labelButtonRetryItemProcessing: "Retry",
  labelButtonProcessItem: "Upload",
  labelMaxFileSizeExceeded: "File is too large",
  labelMaxFileSize: "Maximum file size is {filesize}",
  labelMaxTotalFileSizeExceeded: "Maximum total size exceeded",
  labelMaxTotalFileSize: "Maximum total file size is {filesize}",
  labelFileTypeNotAllowed: "File of invalid type",
  fileValidateTypeLabelExpectedTypes: "Expects {allButLastType} or {lastType}",
  imageValidateSizeLabelFormatError: "Image type not supported",
  imageValidateSizeLabelImageSizeTooSmall: "Image is too small",
  imageValidateSizeLabelImageSizeTooBig: "Image is too big",
  imageValidateSizeLabelExpectedMinSize: "Minimum size is {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maximum size is {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Resolution is too low",
  imageValidateSizeLabelImageResolutionTooHigh: "Resolution is too high",
  imageValidateSizeLabelExpectedMinResolution: "Minimum resolution is {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maximum resolution is {maxResolution}"
};

// node_modules/filepond/locale/es-es.js
var es_es_default = {
  labelIdle: 'Arrastra y suelta tus archivos o <span class = "filepond--label-action"> Examinar <span>',
  labelInvalidField: "El campo contiene archivos inv\xE1lidos",
  labelFileWaitingForSize: "Esperando tama\xF1o",
  labelFileSizeNotAvailable: "Tama\xF1o no disponible",
  labelFileLoading: "Cargando",
  labelFileLoadError: "Error durante la carga",
  labelFileProcessing: "Cargando",
  labelFileProcessingComplete: "Carga completa",
  labelFileProcessingAborted: "Carga cancelada",
  labelFileProcessingError: "Error durante la carga",
  labelFileProcessingRevertError: "Error durante la reversi\xF3n",
  labelFileRemoveError: "Error durante la eliminaci\xF3n",
  labelTapToCancel: "toca para cancelar",
  labelTapToRetry: "tocar para volver a intentar",
  labelTapToUndo: "tocar para deshacer",
  labelButtonRemoveItem: "Eliminar",
  labelButtonAbortItemLoad: "Abortar",
  labelButtonRetryItemLoad: "Reintentar",
  labelButtonAbortItemProcessing: "Cancelar",
  labelButtonUndoItemProcessing: "Deshacer",
  labelButtonRetryItemProcessing: "Reintentar",
  labelButtonProcessItem: "Cargar",
  labelMaxFileSizeExceeded: "El archivo es demasiado grande",
  labelMaxFileSize: "El tama\xF1o m\xE1ximo del archivo es {filesize}",
  labelMaxTotalFileSizeExceeded: "Tama\xF1o total m\xE1ximo excedido",
  labelMaxTotalFileSize: "El tama\xF1o total m\xE1ximo del archivo es {filesize}",
  labelFileTypeNotAllowed: "Archivo de tipo no v\xE1lido",
  fileValidateTypeLabelExpectedTypes: "Espera {allButLastType} o {lastType}",
  imageValidateSizeLabelFormatError: "Tipo de imagen no compatible",
  imageValidateSizeLabelImageSizeTooSmall: "La imagen es demasiado peque\xF1a",
  imageValidateSizeLabelImageSizeTooBig: "La imagen es demasiado grande",
  imageValidateSizeLabelExpectedMinSize: "El tama\xF1o m\xEDnimo es {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "El tama\xF1o m\xE1ximo es {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "La resoluci\xF3n es demasiado baja",
  imageValidateSizeLabelImageResolutionTooHigh: "La resoluci\xF3n es demasiado alta",
  imageValidateSizeLabelExpectedMinResolution: "La resoluci\xF3n m\xEDnima es {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "La resoluci\xF3n m\xE1xima es {maxResolution}"
};

// node_modules/filepond/locale/fa_ir.js
var fa_ir_default = {
  labelIdle: '\u0641\u0627\u06CC\u0644 \u0631\u0627 \u0627\u06CC\u0646\u062C\u0627 \u0628\u06A9\u0634\u06CC\u062F \u0648 \u0631\u0647\u0627 \u06A9\u0646\u06CC\u062F\u060C \u06CC\u0627 <span class="filepond--label-action"> \u062C\u0633\u062A\u062C\u0648 \u06A9\u0646\u06CC\u062F </span>',
  labelInvalidField: "\u0641\u06CC\u0644\u062F \u062F\u0627\u0631\u0627\u06CC \u0641\u0627\u06CC\u0644 \u0647\u0627\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A",
  labelFileWaitingForSize: "Waiting for size",
  labelFileSizeNotAvailable: "\u062D\u062C\u0645 \u0641\u0627\u06CC\u0644 \u0645\u062C\u0627\u0632 \u0646\u06CC\u0633\u062A",
  labelFileLoading: "\u062F\u0631\u062D\u0627\u0644 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",
  labelFileLoadError: "\u062E\u0637\u0627 \u062F\u0631 \u0632\u0645\u0627\u0646 \u0627\u062C\u0631\u0627",
  labelFileProcessing: "\u062F\u0631\u062D\u0627\u0644 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",
  labelFileProcessingComplete: "\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u06A9\u0627\u0645\u0644 \u0634\u062F",
  labelFileProcessingAborted: "\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u0644\u063A\u0648 \u0634\u062F",
  labelFileProcessingError: "\u062E\u0637\u0627 \u062F\u0631 \u0632\u0645\u0627\u0646 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",
  labelFileProcessingRevertError: "\u062E\u0637\u0627 \u062F\u0631 \u0632\u0645\u0627\u0646 \u062D\u0630\u0641",
  labelFileRemoveError: "\u062E\u0637\u0627 \u062F\u0631 \u0632\u0645\u0627\u0646 \u062D\u0630\u0641",
  labelTapToCancel: "\u0628\u0631\u0627\u06CC \u0644\u063A\u0648 \u0636\u0631\u0628\u0647 \u0628\u0632\u0646\u06CC\u062F",
  labelTapToRetry: "\u0628\u0631\u0627\u06CC \u062A\u06A9\u0631\u0627\u0631 \u06A9\u0644\u06CC\u06A9 \u06A9\u0646\u06CC\u062F",
  labelTapToUndo: "\u0628\u0631\u0627\u06CC \u0628\u0631\u06AF\u0634\u062A \u06A9\u0644\u06CC\u06A9 \u06A9\u0646\u06CC\u062F",
  labelButtonRemoveItem: "\u062D\u0630\u0641",
  labelButtonAbortItemLoad: "\u0644\u063A\u0648",
  labelButtonRetryItemLoad: "\u062A\u06A9\u0631\u0627\u0631",
  labelButtonAbortItemProcessing: "\u0644\u063A\u0648",
  labelButtonUndoItemProcessing: "\u0628\u0631\u06AF\u0634\u062A",
  labelButtonRetryItemProcessing: "\u062A\u06A9\u0631\u0627\u0631",
  labelButtonProcessItem: "\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",
  labelMaxFileSizeExceeded: "\u0641\u0627\u06CC\u0644 \u0628\u0633\u06CC\u0627\u0631 \u062D\u062C\u06CC\u0645 \u0627\u0633\u062A",
  labelMaxFileSize: "\u062D\u062F\u0627\u06A9\u062B\u0631 \u0645\u062C\u0627\u0632 \u0641\u0627\u06CC\u0644 {filesize} \u0627\u0633\u062A",
  labelMaxTotalFileSizeExceeded: "\u0627\u0632 \u062D\u062F\u0627\u06A9\u062B\u0631 \u062D\u062C\u0645 \u0641\u0627\u06CC\u0644 \u0628\u06CC\u0634\u062A\u0631 \u0634\u062F",
  labelMaxTotalFileSize: "\u062D\u062F\u0627\u06A9\u062B\u0631 \u062D\u062C\u0645 \u0641\u0627\u06CC\u0644 {filesize} \u0627\u0633\u062A",
  labelFileTypeNotAllowed: "\u0646\u0648\u0639 \u0641\u0627\u06CC\u0644 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u0627\u0633\u062A",
  fileValidateTypeLabelExpectedTypes: "\u062F\u0631 \u0627\u0646\u062A\u0638\u0627\u0631 {allButLastType} \u06CC\u0627 {lastType}",
  imageValidateSizeLabelFormatError: "\u0641\u0631\u0645\u062A \u062A\u0635\u0648\u06CC\u0631 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0646\u0645\u06CC \u0634\u0648\u062F",
  imageValidateSizeLabelImageSizeTooSmall: "\u062A\u0635\u0648\u06CC\u0631 \u0628\u0633\u06CC\u0627\u0631 \u06A9\u0648\u0686\u06A9 \u0627\u0633\u062A",
  imageValidateSizeLabelImageSizeTooBig: "\u062A\u0635\u0648\u06CC\u0631 \u0628\u0633\u06CC\u0627\u0631 \u0628\u0632\u0631\u06AF \u0627\u0633\u062A",
  imageValidateSizeLabelExpectedMinSize: "\u062D\u062F\u0627\u0642\u0644 \u0627\u0646\u062F\u0627\u0632\u0647 {minWidth} \xD7 {minHeight} \u0627\u0633\u062A",
  imageValidateSizeLabelExpectedMaxSize: "\u062D\u062F\u0627\u06A9\u062B\u0631 \u0627\u0646\u062F\u0627\u0632\u0647 {maxWidth} \xD7 {maxHeight} \u0627\u0633\u062A",
  imageValidateSizeLabelImageResolutionTooLow: "\u0648\u0636\u0648\u062D \u062A\u0635\u0648\u06CC\u0631 \u0628\u0633\u06CC\u0627\u0631 \u06A9\u0645 \u0627\u0633\u062A",
  imageValidateSizeLabelImageResolutionTooHigh: "\u0648\u0636\u0648\u0639 \u062A\u0635\u0648\u06CC\u0631 \u0628\u0633\u06CC\u0627\u0631 \u0632\u06CC\u0627\u062F \u0627\u0633\u062A",
  imageValidateSizeLabelExpectedMinResolution: "\u062D\u062F\u0627\u0642\u0644 \u0648\u0636\u0648\u062D \u062A\u0635\u0648\u06CC\u0631 {minResolution} \u0627\u0633\u062A",
  imageValidateSizeLabelExpectedMaxResolution: "\u062D\u062F\u0627\u06A9\u062B\u0631 \u0648\u0636\u0648\u062D \u062A\u0635\u0648\u06CC\u0631 {maxResolution} \u0627\u0633\u062A"
};

// node_modules/filepond/locale/fi-fi.js
var fi_fi_default = {
  labelIdle: 'Ved\xE4 ja pudota tiedostoja tai <span class="filepond--label-action"> Selaa </span>',
  labelInvalidField: "Kent\xE4ss\xE4 on virheellisi\xE4 tiedostoja",
  labelFileWaitingForSize: "Odotetaan kokoa",
  labelFileSizeNotAvailable: "Kokoa ei saatavilla",
  labelFileLoading: "Ladataan",
  labelFileLoadError: "Virhe latauksessa",
  labelFileProcessing: "L\xE4hetet\xE4\xE4n",
  labelFileProcessingComplete: "L\xE4hetys valmis",
  labelFileProcessingAborted: "L\xE4hetys peruttu",
  labelFileProcessingError: "Virhe l\xE4hetyksess\xE4",
  labelFileProcessingRevertError: "Virhe palautuksessa",
  labelFileRemoveError: "Virhe poistamisessa",
  labelTapToCancel: "peruuta napauttamalla",
  labelTapToRetry: "yrit\xE4 uudelleen napauttamalla",
  labelTapToUndo: "kumoa napauttamalla",
  labelButtonRemoveItem: "Poista",
  labelButtonAbortItemLoad: "Keskeyt\xE4",
  labelButtonRetryItemLoad: "Yrit\xE4 uudelleen",
  labelButtonAbortItemProcessing: "Peruuta",
  labelButtonUndoItemProcessing: "Kumoa",
  labelButtonRetryItemProcessing: "Yrit\xE4 uudelleen",
  labelButtonProcessItem: "L\xE4het\xE4",
  labelMaxFileSizeExceeded: "Tiedoston koko on liian suuri",
  labelMaxFileSize: "Tiedoston maksimikoko on {filesize}",
  labelMaxTotalFileSizeExceeded: "Tiedostojen yhdistetty maksimikoko ylitetty",
  labelMaxTotalFileSize: "Tiedostojen yhdistetty maksimikoko on {filesize}",
  labelFileTypeNotAllowed: "Tiedostotyyppi\xE4 ei sallita",
  fileValidateTypeLabelExpectedTypes: "Sallitaan {allButLastType} tai {lastType}",
  imageValidateSizeLabelFormatError: "Kuvatyyppi\xE4 ei tueta",
  imageValidateSizeLabelImageSizeTooSmall: "Kuva on liian pieni",
  imageValidateSizeLabelImageSizeTooBig: "Kuva on liian suuri",
  imageValidateSizeLabelExpectedMinSize: "Minimikoko on {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maksimikoko on {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Resoluutio on liian pieni",
  imageValidateSizeLabelImageResolutionTooHigh: "Resoluutio on liian suuri",
  imageValidateSizeLabelExpectedMinResolution: "Minimiresoluutio on {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maksimiresoluutio on {maxResolution}"
};

// node_modules/filepond/locale/fr-fr.js
var fr_fr_default = {
  labelIdle: 'Faites glisser vos fichiers ou <span class = "filepond--label-action"> Parcourir <span>',
  labelInvalidField: "Le champ contient des fichiers invalides",
  labelFileWaitingForSize: "En attente de taille",
  labelFileSizeNotAvailable: "Taille non disponible",
  labelFileLoading: "Chargement",
  labelFileLoadError: "Erreur durant le chargement",
  labelFileProcessing: "Traitement",
  labelFileProcessingComplete: "Traitement effectu\xE9",
  labelFileProcessingAborted: "Traitement interrompu",
  labelFileProcessingError: "Erreur durant le traitement",
  labelFileProcessingRevertError: "Erreur durant la restauration",
  labelFileRemoveError: "Erreur durant la suppression",
  labelTapToCancel: "appuyer pour annuler",
  labelTapToRetry: "appuyer pour r\xE9essayer",
  labelTapToUndo: "appuyer pour revenir en arri\xE8re",
  labelButtonRemoveItem: "Retirer",
  labelButtonAbortItemLoad: "Annuler",
  labelButtonRetryItemLoad: "Recommencer",
  labelButtonAbortItemProcessing: "Annuler",
  labelButtonUndoItemProcessing: "Revenir en arri\xE8re",
  labelButtonRetryItemProcessing: "Recommencer",
  labelButtonProcessItem: "Transf\xE9rer",
  labelMaxFileSizeExceeded: "Le fichier est trop volumineux",
  labelMaxFileSize: "La taille maximale de fichier est {filesize}",
  labelMaxTotalFileSizeExceeded: "Taille totale maximale d\xE9pass\xE9e",
  labelMaxTotalFileSize: "La taille totale maximale des fichiers est {filesize}",
  labelFileTypeNotAllowed: "Fichier non valide",
  fileValidateTypeLabelExpectedTypes: "Attendu {allButLastType} ou {lastType}",
  imageValidateSizeLabelFormatError: "Type d'image non pris en charge",
  imageValidateSizeLabelImageSizeTooSmall: "L'image est trop petite",
  imageValidateSizeLabelImageSizeTooBig: "L'image est trop grande",
  imageValidateSizeLabelExpectedMinSize: "La taille minimale est {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "La taille maximale est {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "La r\xE9solution est trop faible",
  imageValidateSizeLabelImageResolutionTooHigh: "La r\xE9solution est trop \xE9lev\xE9e",
  imageValidateSizeLabelExpectedMinResolution: "La r\xE9solution minimale est {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "La r\xE9solution maximale est {maxResolution}"
};

// node_modules/filepond/locale/hu-hu.js
var hu_hu_default = {
  labelIdle: 'Mozgasd ide a f\xE1jlt a felt\xF6lt\xE9shez, vagy <span class="filepond--label-action"> tall\xF3z\xE1s </span>',
  labelInvalidField: "A mez\u0151 \xE9rv\xE9nytelen f\xE1jlokat tartalmaz",
  labelFileWaitingForSize: "F\xE1ljm\xE9ret kisz\xE1mol\xE1sa",
  labelFileSizeNotAvailable: "A f\xE1jlm\xE9ret nem el\xE9rhet\u0151",
  labelFileLoading: "T\xF6lt\xE9s",
  labelFileLoadError: "Hiba a bet\xF6lt\xE9s sor\xE1n",
  labelFileProcessing: "Felt\xF6lt\xE9s",
  labelFileProcessingComplete: "Sikeres felt\xF6lt\xE9s",
  labelFileProcessingAborted: "A felt\xF6lt\xE9s megszak\xEDtva",
  labelFileProcessingError: "Hiba t\xF6rt\xE9nt a felt\xF6lt\xE9s sor\xE1n",
  labelFileProcessingRevertError: "Hiba a vissza\xE1ll\xEDt\xE1s sor\xE1n",
  labelFileRemoveError: "Hiba t\xF6rt\xE9nt az elt\xE1vol\xEDt\xE1s sor\xE1n",
  labelTapToCancel: "koppints a t\xF6rl\xE9shez",
  labelTapToRetry: "koppints az \xFAjrakezd\xE9shez",
  labelTapToUndo: "koppints a visszavon\xE1shoz",
  labelButtonRemoveItem: "Elt\xE1vol\xEDt\xE1s",
  labelButtonAbortItemLoad: "Megszak\xEDt\xE1s",
  labelButtonRetryItemLoad: "\xDAjrapr\xF3b\xE1lkoz\xE1s",
  labelButtonAbortItemProcessing: "Megszak\xEDt\xE1s",
  labelButtonUndoItemProcessing: "Visszavon\xE1s",
  labelButtonRetryItemProcessing: "\xDAjrapr\xF3b\xE1lkoz\xE1s",
  labelButtonProcessItem: "Felt\xF6lt\xE9s",
  labelMaxFileSizeExceeded: "A f\xE1jl t\xFAll\xE9pte a maxim\xE1lis m\xE9retet",
  labelMaxFileSize: "Maxim\xE1lis f\xE1jlm\xE9ret: {filesize}",
  labelMaxTotalFileSizeExceeded: "T\xFAll\xE9pte a maxim\xE1lis teljes m\xE9retet",
  labelMaxTotalFileSize: "A maxim\xE1is teljes f\xE1jlm\xE9ret: {filesize}",
  labelFileTypeNotAllowed: "\xC9rv\xE9nytelen t\xEDpus\xFA f\xE1jl",
  fileValidateTypeLabelExpectedTypes: "Enged\xE9lyezett t\xEDpusok {allButLastType} vagy {lastType}",
  imageValidateSizeLabelFormatError: "A k\xE9pt\xEDpus nem t\xE1mogatott",
  imageValidateSizeLabelImageSizeTooSmall: "A k\xE9p t\xFAl kicsi",
  imageValidateSizeLabelImageSizeTooBig: "A k\xE9p t\xFAl nagy",
  imageValidateSizeLabelExpectedMinSize: "Minimum m\xE9ret: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maximum m\xE9ret: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "A felbont\xE1s t\xFAl alacsony",
  imageValidateSizeLabelImageResolutionTooHigh: "A felbont\xE1s t\xFAl magas",
  imageValidateSizeLabelExpectedMinResolution: "Minim\xE1is felbont\xE1s: {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maxim\xE1lis felbont\xE1s: {maxResolution}"
};

// node_modules/filepond/locale/id-id.js
var id_id_default = {
  labelIdle: 'Seret dan Jatuhkan file Anda atau <span class="filepond--label-action">Jelajahi</span>',
  labelInvalidField: "Field berisi file tidak valid",
  labelFileWaitingForSize: "Menunggu ukuran",
  labelFileSizeNotAvailable: "Ukuran tidak tersedia",
  labelFileLoading: "Memuat",
  labelFileLoadError: "Kesalahan saat memuat",
  labelFileProcessing: "Mengunggah",
  labelFileProcessingComplete: "Unggahan selesai",
  labelFileProcessingAborted: "Unggahan dibatalkan",
  labelFileProcessingError: "Kesalahan saat mengunggah",
  labelFileProcessingRevertError: "Kesalahan saat pengembalian",
  labelFileRemoveError: "Kesalahan saat menghapus",
  labelTapToCancel: "ketuk untuk membatalkan",
  labelTapToRetry: "ketuk untuk mencoba lagi",
  labelTapToUndo: "ketuk untuk mengurungkan",
  labelButtonRemoveItem: "Hapus",
  labelButtonAbortItemLoad: "Batal",
  labelButtonRetryItemLoad: "Coba Kembali",
  labelButtonAbortItemProcessing: "Batal",
  labelButtonUndoItemProcessing: "Batal",
  labelButtonRetryItemProcessing: "Coba Kembali",
  labelButtonProcessItem: "Unggah",
  labelMaxFileSizeExceeded: "File terlalu besar",
  labelMaxFileSize: "Ukuran file maksimum adalah {filesize}",
  labelMaxTotalFileSizeExceeded: "Jumlah file maksimum terlampaui",
  labelMaxTotalFileSize: "Jumlah file maksimum adalah {filesize}",
  labelFileTypeNotAllowed: "Jenis file tidak valid",
  fileValidateTypeLabelExpectedTypes: "Mengharapkan {allButLastType} atau {lastType}",
  imageValidateSizeLabelFormatError: "Jenis gambar tidak didukung",
  imageValidateSizeLabelImageSizeTooSmall: "Gambar terlalu kecil",
  imageValidateSizeLabelImageSizeTooBig: "Gambar terlalu besar",
  imageValidateSizeLabelExpectedMinSize: "Ukuran minimum adalah {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Ukuran maksimum adalah {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Resolusi terlalu rendah",
  imageValidateSizeLabelImageResolutionTooHigh: "Resolusi terlalu tinggi",
  imageValidateSizeLabelExpectedMinResolution: "Resolusi minimum adalah {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Resolusi maksimum adalah {maxResolution}"
};

// node_modules/filepond/locale/it-it.js
var it_it_default = {
  labelIdle: 'Trascina e rilascia i tuoi file oppure <span class = "filepond--label-action"> Carica <span>',
  labelInvalidField: "Il campo contiene dei file non validi",
  labelFileWaitingForSize: "Aspettando le dimensioni",
  labelFileSizeNotAvailable: "Dimensioni non disponibili",
  labelFileLoading: "Caricamento",
  labelFileLoadError: "Errore durante il caricamento",
  labelFileProcessing: "Caricamento",
  labelFileProcessingComplete: "Caricamento completato",
  labelFileProcessingAborted: "Caricamento cancellato",
  labelFileProcessingError: "Errore durante il caricamento",
  labelFileProcessingRevertError: "Errore durante il ripristino",
  labelFileRemoveError: "Errore durante l'eliminazione",
  labelTapToCancel: "tocca per cancellare",
  labelTapToRetry: "tocca per riprovare",
  labelTapToUndo: "tocca per ripristinare",
  labelButtonRemoveItem: "Elimina",
  labelButtonAbortItemLoad: "Cancella",
  labelButtonRetryItemLoad: "Ritenta",
  labelButtonAbortItemProcessing: "Camcella",
  labelButtonUndoItemProcessing: "Indietro",
  labelButtonRetryItemProcessing: "Ritenta",
  labelButtonProcessItem: "Carica",
  labelMaxFileSizeExceeded: "Il peso del file \xE8 eccessivo",
  labelMaxFileSize: "Il peso massimo del file \xE8 {filesize}",
  labelMaxTotalFileSizeExceeded: "Dimensione totale massima superata",
  labelMaxTotalFileSize: "La dimensione massima totale del file \xE8 {filesize}",
  labelFileTypeNotAllowed: "File non supportato",
  fileValidateTypeLabelExpectedTypes: "Aspetta {allButLastType} o {lastType}",
  imageValidateSizeLabelFormatError: "Tipo di immagine non compatibile",
  imageValidateSizeLabelImageSizeTooSmall: "L'immagine \xE8 troppo piccola",
  imageValidateSizeLabelImageSizeTooBig: "L'immagine \xE8 troppo grande",
  imageValidateSizeLabelExpectedMinSize: "La dimensione minima \xE8 {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "La dimensione massima \xE8 {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "La risoluzione \xE8 troppo bassa",
  imageValidateSizeLabelImageResolutionTooHigh: "La risoluzione \xE8 troppo alta",
  imageValidateSizeLabelExpectedMinResolution: "La risoluzione minima \xE8 {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "La risoluzione massima \xE8 {maxResolution}"
};

// node_modules/filepond/locale/nl-nl.js
var nl_nl_default = {
  labelIdle: 'Drag & Drop je bestanden of <span class="filepond--label-action"> Bladeren </span>',
  labelInvalidField: "Veld bevat ongeldige bestanden",
  labelFileWaitingForSize: "Wachten op grootte",
  labelFileSizeNotAvailable: "Grootte niet beschikbaar",
  labelFileLoading: "Laden",
  labelFileLoadError: "Fout tijdens laden",
  labelFileProcessing: "Uploaden",
  labelFileProcessingComplete: "Upload afgerond",
  labelFileProcessingAborted: "Upload geannuleerd",
  labelFileProcessingError: "Fout tijdens upload",
  labelFileProcessingRevertError: "Fout bij herstellen",
  labelFileRemoveError: "Fout bij verwijderen",
  labelTapToCancel: "tik om te annuleren",
  labelTapToRetry: "tik om opnieuw te proberen",
  labelTapToUndo: "tik om ongedaan te maken",
  labelButtonRemoveItem: "Verwijderen",
  labelButtonAbortItemLoad: "Afbreken",
  labelButtonRetryItemLoad: "Opnieuw proberen",
  labelButtonAbortItemProcessing: "Annuleren",
  labelButtonUndoItemProcessing: "Ongedaan maken",
  labelButtonRetryItemProcessing: "Opnieuw proberen",
  labelButtonProcessItem: "Upload",
  labelMaxFileSizeExceeded: "Bestand is te groot",
  labelMaxFileSize: "Maximale bestandsgrootte is {filesize}",
  labelMaxTotalFileSizeExceeded: "Maximale totale grootte overschreden",
  labelMaxTotalFileSize: "Maximale totale bestandsgrootte is {filesize}",
  labelFileTypeNotAllowed: "Ongeldig bestandstype",
  fileValidateTypeLabelExpectedTypes: "Verwacht {allButLastType} of {lastType}",
  imageValidateSizeLabelFormatError: "Afbeeldingstype niet ondersteund",
  imageValidateSizeLabelImageSizeTooSmall: "Afbeelding is te klein",
  imageValidateSizeLabelImageSizeTooBig: "Afbeelding is te groot",
  imageValidateSizeLabelExpectedMinSize: "Minimale afmeting is {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maximale afmeting is {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Resolutie is te laag",
  imageValidateSizeLabelImageResolutionTooHigh: "Resolution is too high",
  imageValidateSizeLabelExpectedMinResolution: "Minimale resolutie is {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maximale resolutie is {maxResolution}"
};

// node_modules/filepond/locale/pl-pl.js
var pl_pl_default = {
  labelIdle: 'Przeci\u0105gnij i upu\u015B\u0107 lub <span class="filepond--label-action">wybierz</span> pliki',
  labelInvalidField: "Nieprawid\u0142owe pliki",
  labelFileWaitingForSize: "Pobieranie rozmiaru",
  labelFileSizeNotAvailable: "Nieznany rozmiar",
  labelFileLoading: "Wczytywanie",
  labelFileLoadError: "B\u0142\u0105d wczytywania",
  labelFileProcessing: "Przesy\u0142anie",
  labelFileProcessingComplete: "Przes\u0142ano",
  labelFileProcessingAborted: "Przerwano",
  labelFileProcessingError: "Przesy\u0142anie nie powiod\u0142o si\u0119",
  labelFileProcessingRevertError: "Co\u015B posz\u0142o nie tak",
  labelFileRemoveError: "Nieudane usuni\u0119cie",
  labelTapToCancel: "Anuluj",
  labelTapToRetry: "Pon\xF3w",
  labelTapToUndo: "Cofnij",
  labelButtonRemoveItem: "Usu\u0144",
  labelButtonAbortItemLoad: "Przerwij",
  labelButtonRetryItemLoad: "Pon\xF3w",
  labelButtonAbortItemProcessing: "Anuluj",
  labelButtonUndoItemProcessing: "Cofnij",
  labelButtonRetryItemProcessing: "Pon\xF3w",
  labelButtonProcessItem: "Prze\u015Blij",
  labelMaxFileSizeExceeded: "Plik jest zbyt du\u017Cy",
  labelMaxFileSize: "Dopuszczalna wielko\u015B\u0107 pliku to {filesize}",
  labelMaxTotalFileSizeExceeded: "Przekroczono \u0142\u0105czny rozmiar plik\xF3w",
  labelMaxTotalFileSize: "\u0141\u0105czny rozmiar plik\xF3w nie mo\u017Ce przekroczy\u0107 {filesize}",
  labelFileTypeNotAllowed: "Niedozwolony rodzaj pliku",
  fileValidateTypeLabelExpectedTypes: "Oczekiwano {allButLastType} lub {lastType}",
  imageValidateSizeLabelFormatError: "Nieobs\u0142ugiwany format obrazu",
  imageValidateSizeLabelImageSizeTooSmall: "Obraz jest zbyt ma\u0142y",
  imageValidateSizeLabelImageSizeTooBig: "Obraz jest zbyt du\u017Cy",
  imageValidateSizeLabelExpectedMinSize: "Minimalne wymiary obrazu to {minWidth}\xD7{minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maksymalna wymiary obrazu to {maxWidth}\xD7{maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Rozdzielczo\u015B\u0107 jest zbyt niska",
  imageValidateSizeLabelImageResolutionTooHigh: "Rozdzielczo\u015B\u0107 jest zbyt wysoka",
  imageValidateSizeLabelExpectedMinResolution: "Minimalna rozdzielczo\u015B\u0107 to {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maksymalna rozdzielczo\u015B\u0107 to {maxResolution}"
};

// node_modules/filepond/locale/pt-br.js
var pt_br_default = {
  labelIdle: 'Arraste e solte os arquivos ou <span class="filepond--label-action"> Clique aqui </span>',
  labelInvalidField: "Arquivos inv\xE1lidos",
  labelFileWaitingForSize: "Calculando o tamanho do arquivo",
  labelFileSizeNotAvailable: "Tamanho do arquivo indispon\xEDvel",
  labelFileLoading: "Carregando",
  labelFileLoadError: "Erro durante o carregamento",
  labelFileProcessing: "Enviando",
  labelFileProcessingComplete: "Envio finalizado",
  labelFileProcessingAborted: "Envio cancelado",
  labelFileProcessingError: "Erro durante o envio",
  labelFileProcessingRevertError: "Erro ao reverter o envio",
  labelFileRemoveError: "Erro ao remover o arquivo",
  labelTapToCancel: "clique para cancelar",
  labelTapToRetry: "clique para reenviar",
  labelTapToUndo: "clique para desfazer",
  labelButtonRemoveItem: "Remover",
  labelButtonAbortItemLoad: "Abortar",
  labelButtonRetryItemLoad: "Reenviar",
  labelButtonAbortItemProcessing: "Cancelar",
  labelButtonUndoItemProcessing: "Desfazer",
  labelButtonRetryItemProcessing: "Reenviar",
  labelButtonProcessItem: "Enviar",
  labelMaxFileSizeExceeded: "Arquivo \xE9 muito grande",
  labelMaxFileSize: "O tamanho m\xE1ximo permitido: {filesize}",
  labelMaxTotalFileSizeExceeded: "Tamanho total dos arquivos excedido",
  labelMaxTotalFileSize: "Tamanho total permitido: {filesize}",
  labelFileTypeNotAllowed: "Tipo de arquivo inv\xE1lido",
  fileValidateTypeLabelExpectedTypes: "Tipos de arquivo suportados s\xE3o {allButLastType} ou {lastType}",
  imageValidateSizeLabelFormatError: "Tipo de imagem inv\xE1lida",
  imageValidateSizeLabelImageSizeTooSmall: "Imagem muito pequena",
  imageValidateSizeLabelImageSizeTooBig: "Imagem muito grande",
  imageValidateSizeLabelExpectedMinSize: "Tamanho m\xEDnimo permitida: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Tamanho m\xE1ximo permitido: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Resolu\xE7\xE3o muito baixa",
  imageValidateSizeLabelImageResolutionTooHigh: "Resolu\xE7\xE3o muito alta",
  imageValidateSizeLabelExpectedMinResolution: "Resolu\xE7\xE3o m\xEDnima permitida: {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Resolu\xE7\xE3o m\xE1xima permitida: {maxResolution}"
};

// node_modules/filepond/locale/ro-ro.js
var ro_ro_default = {
  labelIdle: 'Trage \u0219i plaseaz\u0103 fi\u0219iere sau <span class="filepond--label-action"> Caut\u0103-le </span>',
  labelInvalidField: "C\xE2mpul con\u021Bine fi\u0219iere care nu sunt valide",
  labelFileWaitingForSize: "\xCEn a\u0219teptarea dimensiunii",
  labelFileSizeNotAvailable: "Dimensiunea nu este diponibil\u0103",
  labelFileLoading: "Se \xEEncarc\u0103",
  labelFileLoadError: "Eroare la \xEEnc\u0103rcare",
  labelFileProcessing: "Se \xEEncarc\u0103",
  labelFileProcessingComplete: "\xCEnc\u0103rcare finalizat\u0103",
  labelFileProcessingAborted: "\xCEnc\u0103rcare anulat\u0103",
  labelFileProcessingError: "Eroare la \xEEnc\u0103rcare",
  labelFileProcessingRevertError: "Eroare la anulare",
  labelFileRemoveError: "Eroare la \u015Ftergere",
  labelTapToCancel: "apas\u0103 pentru a anula",
  labelTapToRetry: "apas\u0103 pentru a re\xEEncerca",
  labelTapToUndo: "apas\u0103 pentru a anula",
  labelButtonRemoveItem: "\u015Eterge",
  labelButtonAbortItemLoad: "Anuleaz\u0103",
  labelButtonRetryItemLoad: "Re\xEEncearc\u0103",
  labelButtonAbortItemProcessing: "Anuleaz\u0103",
  labelButtonUndoItemProcessing: "Anuleaz\u0103",
  labelButtonRetryItemProcessing: "Re\xEEncearc\u0103",
  labelButtonProcessItem: "\xCEncarc\u0103",
  labelMaxFileSizeExceeded: "Fi\u0219ierul este prea mare",
  labelMaxFileSize: "Dimensiunea maxim\u0103 a unui fi\u0219ier este de {filesize}",
  labelMaxTotalFileSizeExceeded: "Dimensiunea total\u0103 maxim\u0103 a fost dep\u0103\u0219it\u0103",
  labelMaxTotalFileSize: "Dimensiunea total\u0103 maxim\u0103 a fi\u0219ierelor este de {filesize}",
  labelFileTypeNotAllowed: "Tipul fi\u0219ierului nu este valid",
  fileValidateTypeLabelExpectedTypes: "Se a\u0219teapt\u0103 {allButLastType} sau {lastType}",
  imageValidateSizeLabelFormatError: "Formatul imaginii nu este acceptat",
  imageValidateSizeLabelImageSizeTooSmall: "Imaginea este prea mic\u0103",
  imageValidateSizeLabelImageSizeTooBig: "Imaginea este prea mare",
  imageValidateSizeLabelExpectedMinSize: "M\u0103rimea minim\u0103 este de {maxWidth} x {maxHeight}",
  imageValidateSizeLabelExpectedMaxSize: "M\u0103rimea maxim\u0103 este de {maxWidth} x {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Rezolu\u021Bia este prea mic\u0103",
  imageValidateSizeLabelImageResolutionTooHigh: "Rezolu\u021Bia este prea mare",
  imageValidateSizeLabelExpectedMinResolution: "Rezolu\u021Bia minim\u0103 este de {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Rezolu\u021Bia maxim\u0103 este de {maxResolution}"
};

// node_modules/filepond/locale/ru-ru.js
var ru_ru_default = {
  labelIdle: '\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u044B \u0438\u043B\u0438 <span class="filepond--label-action"> \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 </span>',
  labelInvalidField: "\u041F\u043E\u043B\u0435 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u0442 \u043D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0435 \u0444\u0430\u0439\u043B\u044B",
  labelFileWaitingForSize: "\u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u0440\u0430\u0437\u043C\u0435\u0440",
  labelFileSizeNotAvailable: "\u0420\u0430\u0437\u043C\u0435\u0440 \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044F",
  labelFileLoading: "\u041E\u0436\u0438\u0434\u0430\u043D\u0438\u0435",
  labelFileLoadError: "\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0438",
  labelFileProcessing: "\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430",
  labelFileProcessingComplete: "\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0430",
  labelFileProcessingAborted: "\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u043E\u0442\u043C\u0435\u043D\u0435\u043D\u0430",
  labelFileProcessingError: "\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435",
  labelFileProcessingRevertError: "\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0432\u043E\u0437\u0432\u0440\u0430\u0442\u0435",
  labelFileRemoveError: "\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438",
  labelTapToCancel: "\u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0434\u043B\u044F \u043E\u0442\u043C\u0435\u043D\u044B",
  labelTapToRetry: "\u043D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C \u043F\u043E\u043F\u044B\u0442\u043A\u0443",
  labelTapToUndo: "\u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u0434\u043B\u044F \u043E\u0442\u043C\u0435\u043D\u044B \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0433\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F",
  labelButtonRemoveItem: "\u0423\u0434\u0430\u043B\u0438\u0442\u044C",
  labelButtonAbortItemLoad: "\u041F\u0440\u0435\u043A\u0440\u0430\u0449\u0435\u043D\u043E",
  labelButtonRetryItemLoad: "\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u043E\u043F\u044B\u0442\u043A\u0443",
  labelButtonAbortItemProcessing: "\u041E\u0442\u043C\u0435\u043D\u0430",
  labelButtonUndoItemProcessing: "\u041E\u0442\u043C\u0435\u043D\u0430 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0433\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F",
  labelButtonRetryItemProcessing: "\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u043E\u043F\u044B\u0442\u043A\u0443",
  labelButtonProcessItem: "\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430",
  labelMaxFileSizeExceeded: "\u0424\u0430\u0439\u043B \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0439",
  labelMaxFileSize: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u0444\u0430\u0439\u043B\u0430: {filesize}",
  labelMaxTotalFileSizeExceeded: "\u041F\u0440\u0435\u0432\u044B\u0448\u0435\u043D \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440",
  labelMaxTotalFileSize: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u0444\u0430\u0439\u043B\u0430: {filesize}",
  labelFileTypeNotAllowed: "\u0424\u0430\u0439\u043B \u043D\u0435\u0432\u0435\u0440\u043D\u043E\u0433\u043E \u0442\u0438\u043F\u0430",
  fileValidateTypeLabelExpectedTypes: "\u041E\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044F {allButLastType} \u0438\u043B\u0438 {lastType}",
  imageValidateSizeLabelFormatError: "\u0422\u0438\u043F \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044F",
  imageValidateSizeLabelImageSizeTooSmall: "\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435",
  imageValidateSizeLabelImageSizeTooBig: "\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435",
  imageValidateSizeLabelExpectedMinSize: "\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043D\u0438\u0437\u043A\u043E\u0435",
  imageValidateSizeLabelImageResolutionTooHigh: "\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0432\u044B\u0441\u043E\u043A\u043E\u0435",
  imageValidateSizeLabelExpectedMinResolution: "\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435: {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435: {maxResolution}"
};

// node_modules/filepond/locale/sv_se.js
var sv_se_default = {
  labelIdle: 'Drag och sl\xE4pp dina filer eller <span class="filepond--label-action"> Bl\xE4ddra </span>',
  labelInvalidField: "F\xE4ltet inneh\xE5ller felaktiga filer",
  labelFileWaitingForSize: "V\xE4ntar p\xE5 storlek",
  labelFileSizeNotAvailable: "Storleken finns inte tillg\xE4nglig",
  labelFileLoading: "Laddar",
  labelFileLoadError: "Fel under laddning",
  labelFileProcessing: "Laddar upp",
  labelFileProcessingComplete: "Uppladdning klar",
  labelFileProcessingAborted: "Uppladdning avbruten",
  labelFileProcessingError: "Fel under uppladdning",
  labelFileProcessingRevertError: "Fel under \xE5terst\xE4llning",
  labelFileRemoveError: "Fel under borttagning",
  labelTapToCancel: "tryck f\xF6r att avbryta",
  labelTapToRetry: "tryck f\xF6r att f\xF6rs\xF6ka igen",
  labelTapToUndo: "tryck f\xF6r att \xE5ngra",
  labelButtonRemoveItem: "Tabort",
  labelButtonAbortItemLoad: "Avbryt",
  labelButtonRetryItemLoad: "F\xF6rs\xF6k igen",
  labelButtonAbortItemProcessing: "Avbryt",
  labelButtonUndoItemProcessing: "\xC5ngra",
  labelButtonRetryItemProcessing: "F\xF6rs\xF6k igen",
  labelButtonProcessItem: "Ladda upp",
  labelMaxFileSizeExceeded: "Filen \xE4r f\xF6r stor",
  labelMaxFileSize: "St\xF6rsta till\xE5tna filstorlek \xE4r {filesize}",
  labelMaxTotalFileSizeExceeded: "Maximal uppladdningsstorlek uppn\xE5d",
  labelMaxTotalFileSize: "Maximal uppladdningsstorlek \xE4r {filesize}",
  labelFileTypeNotAllowed: "Felaktig filtyp",
  fileValidateTypeLabelExpectedTypes: "Godk\xE4nda filtyper {allButLastType} eller {lastType}",
  imageValidateSizeLabelFormatError: "Bildtypen saknar st\xF6d",
  imageValidateSizeLabelImageSizeTooSmall: "Bilden \xE4r f\xF6r liten",
  imageValidateSizeLabelImageSizeTooBig: "Bilden \xE4r f\xF6r stor",
  imageValidateSizeLabelExpectedMinSize: "Minimal storlek \xE4r {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maximal storlek \xE4r {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "Uppl\xF6sningen \xE4r f\xF6r l\xE5g",
  imageValidateSizeLabelImageResolutionTooHigh: "Uppl\xF6sningen \xE4r f\xF6r h\xF6g",
  imageValidateSizeLabelExpectedMinResolution: "Minsta till\xE5tna uppl\xF6sning \xE4r {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "H\xF6gsta till\xE5tna uppl\xF6sning \xE4r {maxResolution}"
};

// node_modules/filepond/locale/tr-tr.js
var tr_tr_default = {
  labelIdle: 'Dosyan\u0131z\u0131 S\xFCr\xFCkleyin & B\u0131rak\u0131n ya da <span class="filepond--label-action"> Se\xE7in </span>',
  labelInvalidField: "Alan ge\xE7ersiz dosyalar i\xE7eriyor",
  labelFileWaitingForSize: "Boyut hesaplan\u0131yor",
  labelFileSizeNotAvailable: "Boyut mevcut de\u011Fil",
  labelFileLoading: "Y\xFCkleniyor",
  labelFileLoadError: "Y\xFCkleme s\u0131ras\u0131nda hata olu\u015Ftu",
  labelFileProcessing: "Y\xFCkleniyor",
  labelFileProcessingComplete: "Y\xFCkleme tamamland\u0131",
  labelFileProcessingAborted: "Y\xFCkleme iptal edildi",
  labelFileProcessingError: "Y\xFCklerken hata olu\u015Ftu",
  labelFileProcessingRevertError: "Geri \xE7ekerken hata olu\u015Ftu",
  labelFileRemoveError: "Kald\u0131r\u0131rken hata olu\u015Ftu",
  labelTapToCancel: "\u0130ptal etmek i\xE7in t\u0131klay\u0131n",
  labelTapToRetry: "Tekrar denemek i\xE7in t\u0131klay\u0131n",
  labelTapToUndo: "Geri almak i\xE7in t\u0131klay\u0131n",
  labelButtonRemoveItem: "Kald\u0131r",
  labelButtonAbortItemLoad: "\u0130ptal Et",
  labelButtonRetryItemLoad: "Tekrar dene",
  labelButtonAbortItemProcessing: "\u0130ptal et",
  labelButtonUndoItemProcessing: "Geri Al",
  labelButtonRetryItemProcessing: "Tekrar dene",
  labelButtonProcessItem: "Y\xFCkle",
  labelMaxFileSizeExceeded: "Dosya \xE7ok b\xFCy\xFCk",
  labelMaxFileSize: "En fazla dosya boyutu: {filesize}",
  labelMaxTotalFileSizeExceeded: "Maximum boyut a\u015F\u0131ld\u0131",
  labelMaxTotalFileSize: "Maximum dosya boyutu :{filesize}",
  labelFileTypeNotAllowed: "Ge\xE7ersiz dosya tipi",
  fileValidateTypeLabelExpectedTypes: "\u015Eu {allButLastType} ya da \u015Fu dosya olmas\u0131 gerekir: {lastType}",
  imageValidateSizeLabelFormatError: "Resim tipi desteklenmiyor",
  imageValidateSizeLabelImageSizeTooSmall: "Resim \xE7ok k\xFC\xE7\xFCk",
  imageValidateSizeLabelImageSizeTooBig: "Resim \xE7ok b\xFCy\xFCk",
  imageValidateSizeLabelExpectedMinSize: "Minimum boyut {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "Maximum boyut {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\xC7\xF6z\xFCn\xFCrl\xFCk \xE7ok d\xFC\u015F\xFCk",
  imageValidateSizeLabelImageResolutionTooHigh: "\xC7\xF6z\xFCn\xFCrl\xFCk \xE7ok y\xFCksek",
  imageValidateSizeLabelExpectedMinResolution: "Minimum \xE7\xF6z\xFCn\xFCrl\xFCk {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "Maximum \xE7\xF6z\xFCn\xFCrl\xFCk {maxResolution}"
};

// node_modules/filepond/locale/uk-ua.js
var uk_ua_default = {
  labelIdle: '\u041F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0444\u0430\u0439\u043B\u0438 \u0430\u0431\u043E <span class="filepond--label-action"> \u0432\u0438\u0431\u0435\u0440\u0456\u0442\u044C </span>',
  labelInvalidField: "\u041F\u043E\u043B\u0435 \u043C\u0456\u0441\u0442\u0438\u0442\u044C \u043D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u0456 \u0444\u0430\u0439\u043B\u0438",
  labelFileWaitingForSize: "\u0412\u043A\u0430\u0436\u0456\u0442\u044C \u0440\u043E\u0437\u043C\u0456\u0440",
  labelFileSizeNotAvailable: "\u0420\u043E\u0437\u043C\u0456\u0440 \u043D\u0435 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0438\u0439",
  labelFileLoading: "\u041E\u0447\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F",
  labelFileLoadError: "\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u043E\u0447\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u0456",
  labelFileProcessing: "\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F",
  labelFileProcessingComplete: "\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043E",
  labelFileProcessingAborted: "\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0441\u043A\u0430\u0441\u043E\u0432\u0430\u043D\u043E",
  labelFileProcessingError: "\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u0456",
  labelFileProcessingRevertError: "\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u0432\u0456\u0434\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u0456",
  labelFileRemoveError: "\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u043D\u0456",
  labelTapToCancel: "\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438",
  labelTapToRetry: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438 \u0441\u043F\u0440\u043E\u0431\u0443",
  labelTapToUndo: "\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0432\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438 \u043E\u0441\u0442\u0430\u043D\u043D\u044E \u0434\u0456\u044E",
  labelButtonRemoveItem: "\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438",
  labelButtonAbortItemLoad: "\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438",
  labelButtonRetryItemLoad: "\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438 \u0441\u043F\u0440\u043E\u0431\u0443",
  labelButtonAbortItemProcessing: "\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438",
  labelButtonUndoItemProcessing: "\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438 \u043E\u0441\u0442\u0430\u043D\u043D\u044E \u0434\u0456\u044E",
  labelButtonRetryItemProcessing: "\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438 \u0441\u043F\u0440\u043E\u0431\u0443",
  labelButtonProcessItem: "\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F",
  labelMaxFileSizeExceeded: "\u0424\u0430\u0439\u043B \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0438\u0439",
  labelMaxFileSize: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440 \u0444\u0430\u0439\u043B\u0443: {filesize}",
  labelMaxTotalFileSizeExceeded: "\u041F\u0435\u0440\u0435\u0432\u0438\u0449\u0435\u043D\u043E \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0437\u0430\u0433\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440",
  labelMaxTotalFileSize: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0437\u0430\u0433\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440: {filesize}",
  labelFileTypeNotAllowed: "\u0424\u043E\u0440\u043C\u0430\u0442 \u0444\u0430\u0439\u043B\u0443 \u043D\u0435 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u0443\u0454\u0442\u044C\u0441\u044F",
  fileValidateTypeLabelExpectedTypes: "\u041E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F {allButLastType} \u0430\u0431\u043E {lastType}",
  imageValidateSizeLabelFormatError: "\u0424\u043E\u0440\u043C\u0430\u0442 \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u043D\u0435 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u0443\u0454\u0442\u044C\u0441\u044F",
  imageValidateSizeLabelImageSizeTooSmall: "\u0417\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u0435",
  imageValidateSizeLabelImageSizeTooBig: "\u0417\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435",
  imageValidateSizeLabelExpectedMinSize: "\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\u0420\u043E\u0437\u043C\u0456\u0440\u0438 \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u0456",
  imageValidateSizeLabelImageResolutionTooHigh: "\u0420\u043E\u0437\u043C\u0456\u0440\u0438 \u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F \u0437\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0456",
  imageValidateSizeLabelExpectedMinResolution: "\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0456 \u0440\u043E\u0437\u043C\u0456\u0440\u0438: {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0456 \u0440\u043E\u0437\u043C\u0456\u0440\u0438: {maxResolution}"
};

// node_modules/filepond/locale/vi-vi.js
var vi_vi_default = {
  labelIdle: 'K\xE9o th\u1EA3 t\u1EC7p c\u1EE7a b\u1EA1n ho\u1EB7c <span class="filepond--label-action"> T\xECm ki\u1EBFm </span>',
  labelInvalidField: "Tr\u01B0\u1EDDng ch\u1EE9a c\xE1c t\u1EC7p kh\xF4ng h\u1EE3p l\u1EC7",
  labelFileWaitingForSize: "\u0110ang ch\u1EDD k\xEDch th\u01B0\u1EDBc",
  labelFileSizeNotAvailable: "K\xEDch th\u01B0\u1EDBc kh\xF4ng c\xF3 s\u1EB5n",
  labelFileLoading: "\u0110ang t\u1EA3i",
  labelFileLoadError: "L\u1ED7i khi t\u1EA3i",
  labelFileProcessing: "\u0110ang t\u1EA3i l\xEAn",
  labelFileProcessingComplete: "T\u1EA3i l\xEAn th\xE0nh c\xF4ng",
  labelFileProcessingAborted: "\u0110\xE3 hu\u1EF7 t\u1EA3i l\xEAn",
  labelFileProcessingError: "L\u1ED7i khi t\u1EA3i l\xEAn",
  labelFileProcessingRevertError: "L\u1ED7i khi ho\xE0n nguy\xEAn",
  labelFileRemoveError: "L\u1ED7i khi x\xF3a",
  labelTapToCancel: "nh\u1EA5n \u0111\u1EC3 h\u1EE7y",
  labelTapToRetry: "nh\u1EA5n \u0111\u1EC3 th\u1EED l\u1EA1i",
  labelTapToUndo: "nh\u1EA5n \u0111\u1EC3 ho\xE0n t\xE1c",
  labelButtonRemoveItem: "Xo\xE1",
  labelButtonAbortItemLoad: "Hu\u1EF7 b\u1ECF",
  labelButtonRetryItemLoad: "Th\u1EED l\u1EA1i",
  labelButtonAbortItemProcessing: "H\u1EE7y b\u1ECF",
  labelButtonUndoItemProcessing: "Ho\xE0n t\xE1c",
  labelButtonRetryItemProcessing: "Th\u1EED l\u1EA1i",
  labelButtonProcessItem: "T\u1EA3i l\xEAn",
  labelMaxFileSizeExceeded: "T\u1EADp tin qu\xE1 l\u1EDBn",
  labelMaxFileSize: "K\xEDch th\u01B0\u1EDBc t\u1EC7p t\u1ED1i \u0111a l\xE0 {filesize}",
  labelMaxTotalFileSizeExceeded: "\u0110\xE3 v\u01B0\u1EE3t qu\xE1 t\u1ED5ng k\xEDch th\u01B0\u1EDBc t\u1ED1i \u0111a",
  labelMaxTotalFileSize: "T\u1ED5ng k\xEDch th\u01B0\u1EDBc t\u1EC7p t\u1ED1i \u0111a l\xE0 {filesize}",
  labelFileTypeNotAllowed: "T\u1EC7p thu\u1ED9c lo\u1EA1i kh\xF4ng h\u1EE3p l\u1EC7",
  fileValidateTypeLabelExpectedTypes: "Ki\u1EC3u t\u1EC7p h\u1EE3p l\u1EC7 l\xE0 {allButLastType} ho\u1EB7c {lastType}",
  imageValidateSizeLabelFormatError: "Lo\u1EA1i h\xECnh \u1EA3nh kh\xF4ng \u0111\u01B0\u1EE3c h\u1ED7 tr\u1EE3",
  imageValidateSizeLabelImageSizeTooSmall: "H\xECnh \u1EA3nh qu\xE1 nh\u1ECF",
  imageValidateSizeLabelImageSizeTooBig: "H\xECnh \u1EA3nh qu\xE1 l\u1EDBn",
  imageValidateSizeLabelExpectedMinSize: "K\xEDch th\u01B0\u1EDBc t\u1ED1i thi\u1EC3u l\xE0 {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "K\xEDch th\u01B0\u1EDBc t\u1ED1i \u0111a l\xE0 {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\u0110\u1ED9 ph\xE2n gi\u1EA3i qu\xE1 th\u1EA5p",
  imageValidateSizeLabelImageResolutionTooHigh: "\u0110\u1ED9 ph\xE2n gi\u1EA3i qu\xE1 cao",
  imageValidateSizeLabelExpectedMinResolution: "\u0110\u1ED9 ph\xE2n gi\u1EA3i t\u1ED1i thi\u1EC3u l\xE0 {minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "\u0110\u1ED9 ph\xE2n gi\u1EA3i t\u1ED1i \u0111a l\xE0 {maxResolution}"
};

// node_modules/filepond/locale/zh-cn.js
var zh_cn_default = {
  labelIdle: '\u62D6\u653E\u6587\u4EF6\uFF0C\u6216\u8005 <span class="filepond--label-action"> \u6D4F\u89C8 </span>',
  labelInvalidField: "\u5B57\u6BB5\u5305\u542B\u65E0\u6548\u6587\u4EF6",
  labelFileWaitingForSize: "\u8BA1\u7B97\u6587\u4EF6\u5927\u5C0F",
  labelFileSizeNotAvailable: "\u6587\u4EF6\u5927\u5C0F\u4E0D\u53EF\u7528",
  labelFileLoading: "\u52A0\u8F7D",
  labelFileLoadError: "\u52A0\u8F7D\u9519\u8BEF",
  labelFileProcessing: "\u4E0A\u4F20",
  labelFileProcessingComplete: "\u5DF2\u4E0A\u4F20",
  labelFileProcessingAborted: "\u4E0A\u4F20\u5DF2\u53D6\u6D88",
  labelFileProcessingError: "\u4E0A\u4F20\u51FA\u9519",
  labelFileProcessingRevertError: "\u8FD8\u539F\u51FA\u9519",
  labelFileRemoveError: "\u5220\u9664\u51FA\u9519",
  labelTapToCancel: "\u70B9\u51FB\u53D6\u6D88",
  labelTapToRetry: "\u70B9\u51FB\u91CD\u8BD5",
  labelTapToUndo: "\u70B9\u51FB\u64A4\u6D88",
  labelButtonRemoveItem: "\u5220\u9664",
  labelButtonAbortItemLoad: "\u4E2D\u6B62",
  labelButtonRetryItemLoad: "\u91CD\u8BD5",
  labelButtonAbortItemProcessing: "\u53D6\u6D88",
  labelButtonUndoItemProcessing: "\u64A4\u6D88",
  labelButtonRetryItemProcessing: "\u91CD\u8BD5",
  labelButtonProcessItem: "\u4E0A\u4F20",
  labelMaxFileSizeExceeded: "\u6587\u4EF6\u592A\u5927",
  labelMaxFileSize: "\u6700\u5927\u503C: {filesize}",
  labelMaxTotalFileSizeExceeded: "\u8D85\u8FC7\u6700\u5927\u6587\u4EF6\u5927\u5C0F",
  labelMaxTotalFileSize: "\u6700\u5927\u6587\u4EF6\u5927\u5C0F\uFF1A{filesize}",
  labelFileTypeNotAllowed: "\u6587\u4EF6\u7C7B\u578B\u65E0\u6548",
  fileValidateTypeLabelExpectedTypes: "\u5E94\u4E3A {allButLastType} \u6216 {lastType}",
  imageValidateSizeLabelFormatError: "\u4E0D\u652F\u6301\u56FE\u50CF\u7C7B\u578B",
  imageValidateSizeLabelImageSizeTooSmall: "\u56FE\u50CF\u592A\u5C0F",
  imageValidateSizeLabelImageSizeTooBig: "\u56FE\u50CF\u592A\u5927",
  imageValidateSizeLabelExpectedMinSize: "\u6700\u5C0F\u503C: {minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "\u6700\u5927\u503C: {maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\u5206\u8FA8\u7387\u592A\u4F4E",
  imageValidateSizeLabelImageResolutionTooHigh: "\u5206\u8FA8\u7387\u592A\u9AD8",
  imageValidateSizeLabelExpectedMinResolution: "\u6700\u5C0F\u5206\u8FA8\u7387\uFF1A{minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "\u6700\u5927\u5206\u8FA8\u7387\uFF1A{maxResolution}"
};

// node_modules/filepond/locale/zh-tw.js
var zh_tw_default = {
  labelIdle: '\u62D6\u653E\u6A94\u6848\uFF0C\u6216\u8005 <span class="filepond--label-action"> \u700F\u89BD </span>',
  labelInvalidField: "\u4E0D\u652F\u63F4\u6B64\u6A94\u6848",
  labelFileWaitingForSize: "\u6B63\u5728\u8A08\u7B97\u6A94\u6848\u5927\u5C0F",
  labelFileSizeNotAvailable: "\u6A94\u6848\u5927\u5C0F\u4E0D\u7B26",
  labelFileLoading: "\u8B80\u53D6\u4E2D",
  labelFileLoadError: "\u8B80\u53D6\u932F\u8AA4",
  labelFileProcessing: "\u4E0A\u50B3",
  labelFileProcessingComplete: "\u5DF2\u4E0A\u50B3",
  labelFileProcessingAborted: "\u4E0A\u50B3\u5DF2\u53D6\u6D88",
  labelFileProcessingError: "\u4E0A\u50B3\u767C\u751F\u932F\u8AA4",
  labelFileProcessingRevertError: "\u9084\u539F\u932F\u8AA4",
  labelFileRemoveError: "\u522A\u9664\u932F\u8AA4",
  labelTapToCancel: "\u9EDE\u64CA\u53D6\u6D88",
  labelTapToRetry: "\u9EDE\u64CA\u91CD\u8A66",
  labelTapToUndo: "\u9EDE\u64CA\u9084\u539F",
  labelButtonRemoveItem: "\u522A\u9664",
  labelButtonAbortItemLoad: "\u505C\u6B62",
  labelButtonRetryItemLoad: "\u91CD\u8A66",
  labelButtonAbortItemProcessing: "\u53D6\u6D88",
  labelButtonUndoItemProcessing: "\u53D6\u6D88",
  labelButtonRetryItemProcessing: "\u91CD\u8A66",
  labelButtonProcessItem: "\u4E0A\u50B3",
  labelMaxFileSizeExceeded: "\u6A94\u6848\u904E\u5927",
  labelMaxFileSize: "\u6700\u5927\u503C\uFF1A{filesize}",
  labelMaxTotalFileSizeExceeded: "\u8D85\u904E\u6700\u5927\u53EF\u4E0A\u50B3\u5927\u5C0F",
  labelMaxTotalFileSize: "\u6700\u5927\u53EF\u4E0A\u50B3\u5927\u5C0F\uFF1A{filesize}",
  labelFileTypeNotAllowed: "\u4E0D\u652F\u63F4\u6B64\u985E\u578B\u6A94\u6848",
  fileValidateTypeLabelExpectedTypes: "\u61C9\u70BA {allButLastType} \u6216 {lastType}",
  imageValidateSizeLabelFormatError: "\u4E0D\u652F\u6301\u6B64\u985E\u5716\u7247\u985E\u578B",
  imageValidateSizeLabelImageSizeTooSmall: "\u5716\u7247\u904E\u5C0F",
  imageValidateSizeLabelImageSizeTooBig: "\u5716\u7247\u904E\u5927",
  imageValidateSizeLabelExpectedMinSize: "\u6700\u5C0F\u5C3A\u5BF8\uFF1A{minWidth} \xD7 {minHeight}",
  imageValidateSizeLabelExpectedMaxSize: "\u6700\u5927\u5C3A\u5BF8\uFF1A{maxWidth} \xD7 {maxHeight}",
  imageValidateSizeLabelImageResolutionTooLow: "\u89E3\u6790\u5EA6\u904E\u4F4E",
  imageValidateSizeLabelImageResolutionTooHigh: "\u89E3\u6790\u5EA6\u904E\u9AD8",
  imageValidateSizeLabelExpectedMinResolution: "\u6700\u4F4E\u89E3\u6790\u5EA6\uFF1A{minResolution}",
  imageValidateSizeLabelExpectedMaxResolution: "\u6700\u9AD8\u89E3\u6790\u5EA6\uFF1A{maxResolution}"
};

// packages/forms/resources/js/components/file-upload.js
registerPlugin(filepond_plugin_file_validate_size_esm_default);
registerPlugin(filepond_plugin_file_validate_type_esm_default);
registerPlugin(filepond_plugin_image_crop_esm_default);
registerPlugin(filepond_plugin_image_exif_orientation_esm_default);
registerPlugin(filepond_plugin_image_preview_esm_default);
registerPlugin(filepond_plugin_image_resize_esm_default);
registerPlugin(filepond_plugin_image_transform_esm_default);
registerPlugin(plugin8);
window.FilePond = filepond_esm_exports;
function fileUploadFormComponent({
  acceptedFileTypes,
  deleteUploadedFileUsing,
  getUploadedFilesUsing,
  imageCropAspectRatio,
  imagePreviewHeight,
  imageResizeMode,
  imageResizeTargetHeight,
  imageResizeTargetWidth,
  imageResizeUpscale,
  isAvatar,
  isDownloadable,
  isOpenable,
  isPreviewable,
  isReorderable,
  loadingIndicatorPosition,
  locale,
  panelAspectRatio,
  panelLayout,
  placeholder,
  maxSize,
  minSize,
  removeUploadedFileButtonPosition,
  removeUploadedFileUsing,
  reorderUploadedFilesUsing,
  shouldAppendFiles,
  shouldOrientImageFromExif,
  shouldTransformImage,
  state: state2,
  uploadButtonPosition,
  uploadProgressIndicatorPosition,
  uploadUsing
}) {
  return {
    fileKeyIndex: {},
    pond: null,
    shouldUpdateState: true,
    state: state2,
    lastState: null,
    uploadedFileIndex: {},
    init: async function() {
      setOptions$1(locales[locale] ?? locales["en"]);
      this.pond = create$f(this.$refs.input, {
        acceptedFileTypes,
        allowImageExifOrientation: shouldOrientImageFromExif,
        allowPaste: false,
        allowReorder: isReorderable,
        allowImagePreview: isPreviewable,
        allowVideoPreview: isPreviewable,
        allowAudioPreview: isPreviewable,
        allowImageTransform: shouldTransformImage,
        credits: false,
        files: await this.getFiles(),
        imageCropAspectRatio,
        imagePreviewHeight,
        imageResizeTargetHeight,
        imageResizeTargetWidth,
        imageResizeMode,
        imageResizeUpscale,
        itemInsertLocation: shouldAppendFiles ? "after" : "before",
        ...placeholder && { labelIdle: placeholder },
        maxFileSize: maxSize,
        minFileSize: minSize,
        styleButtonProcessItemPosition: uploadButtonPosition,
        styleButtonRemoveItemPosition: removeUploadedFileButtonPosition,
        styleLoadIndicatorPosition: loadingIndicatorPosition,
        stylePanelAspectRatio: panelAspectRatio,
        stylePanelLayout: panelLayout,
        styleProgressIndicatorPosition: uploadProgressIndicatorPosition,
        server: {
          load: async (source, load) => {
            let response = await fetch(source, {
              cache: "no-store"
            });
            let blob2 = await response.blob();
            load(blob2);
          },
          process: (fieldName, file2, metadata, load, error2, progress) => {
            this.shouldUpdateState = false;
            let fileKey = ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(
              /[018]/g,
              (c) => (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)
            );
            uploadUsing(
              fileKey,
              file2,
              (fileKey2) => {
                this.shouldUpdateState = true;
                load(fileKey2);
              },
              error2,
              progress
            );
          },
          remove: async (source, load) => {
            let fileKey = this.uploadedFileIndex[source] ?? null;
            if (!fileKey) {
              return;
            }
            await deleteUploadedFileUsing(fileKey);
            load();
          },
          revert: async (uniqueFileId, load) => {
            await removeUploadedFileUsing(uniqueFileId);
            load();
          }
        }
      });
      this.$watch("state", async () => {
        if (!this.pond) {
          return;
        }
        if (!this.shouldUpdateState) {
          return;
        }
        if (this.state !== null && Object.values(this.state).filter(
          (file2) => file2.startsWith("livewire-file:")
        ).length) {
          this.lastState = null;
          return;
        }
        if (JSON.stringify(this.state) === this.lastState) {
          return;
        }
        this.lastState = JSON.stringify(this.state);
        this.pond.files = await this.getFiles();
      });
      this.pond.on("reorderfiles", async (files) => {
        const orderedFileKeys = files.map(
          (file2) => file2.source instanceof File ? file2.serverId : this.uploadedFileIndex[file2.source] ?? null
        ).filter((fileKey) => fileKey);
        await reorderUploadedFilesUsing(
          shouldAppendFiles ? orderedFileKeys : orderedFileKeys.reverse()
        );
      });
      this.pond.on("initfile", async (fileItem) => {
        if (!isDownloadable) {
          return;
        }
        if (isAvatar) {
          return;
        }
        this.insertDownloadLink(fileItem);
      });
      this.pond.on("initfile", async (fileItem) => {
        if (!isOpenable) {
          return;
        }
        if (isAvatar) {
          return;
        }
        this.insertOpenLink(fileItem);
      });
      this.pond.on("addfilestart", async (file2) => {
        if (file2.status !== FileStatus.PROCESSING_QUEUED) {
          return;
        }
        this.dispatchFormEvent("file-upload-started");
      });
      const handleFileProcessing = async () => {
        if (this.pond.getFiles().filter(
          (file2) => file2.status === FileStatus.PROCESSING || file2.status === FileStatus.PROCESSING_QUEUED
        ).length) {
          return;
        }
        this.dispatchFormEvent("file-upload-finished");
      };
      this.pond.on("processfile", handleFileProcessing);
      this.pond.on("processfileabort", handleFileProcessing);
      this.pond.on("processfilerevert", handleFileProcessing);
    },
    destroy: function() {
      destroy(this.$refs.input);
      this.pond = null;
    },
    dispatchFormEvent: function(name2) {
      this.$el.closest("form")?.dispatchEvent(
        new CustomEvent(name2, {
          composed: true,
          cancelable: true
        })
      );
    },
    getUploadedFiles: async function() {
      const uploadedFiles = await getUploadedFilesUsing();
      this.fileKeyIndex = uploadedFiles ?? {};
      this.uploadedFileIndex = Object.entries(this.fileKeyIndex).filter(([key, value]) => value?.url).reduce((obj, [key, value]) => {
        obj[value.url] = key;
        return obj;
      }, {});
    },
    getFiles: async function() {
      await this.getUploadedFiles();
      let files = [];
      for (const uploadedFile of Object.values(this.fileKeyIndex)) {
        if (!uploadedFile) {
          continue;
        }
        files.push({
          source: uploadedFile.url,
          options: {
            type: "local",
            .../^image/.test(uploadedFile.type) ? {} : {
              file: {
                name: uploadedFile.name,
                size: uploadedFile.size,
                type: uploadedFile.type
              }
            }
          }
        });
      }
      return shouldAppendFiles ? files : files.reverse();
    },
    insertDownloadLink: function(file2) {
      if (file2.origin !== FileOrigin$1.LOCAL) {
        return;
      }
      const anchor = this.getDownloadLink(file2);
      if (!anchor) {
        return;
      }
      document.getElementById(`filepond--item-${file2.id}`).querySelector(".filepond--file-info-main").prepend(anchor);
    },
    insertOpenLink: function(file2) {
      if (file2.origin !== FileOrigin$1.LOCAL) {
        return;
      }
      const anchor = this.getOpenLink(file2);
      if (!anchor) {
        return;
      }
      document.getElementById(`filepond--item-${file2.id}`).querySelector(".filepond--file-info-main").prepend(anchor);
    },
    getDownloadLink: function(file2) {
      let fileSource = file2.source;
      if (!fileSource) {
        return;
      }
      const anchor = document.createElement("a");
      anchor.className = "filepond--download-icon";
      anchor.href = fileSource;
      anchor.download = file2.file.name;
      return anchor;
    },
    getOpenLink: function(file2) {
      let fileSource = file2.source;
      if (!fileSource) {
        return;
      }
      const anchor = document.createElement("a");
      anchor.className = "filepond--open-icon";
      anchor.href = fileSource;
      anchor.target = "_blank";
      return anchor;
    }
  };
}
var locales = {
  ar: ar_ar_default,
  cs: cs_cz_default,
  da: da_dk_default,
  de: de_de_default,
  en: en_en_default,
  es: es_es_default,
  fa: fa_ir_default,
  fi: fi_fi_default,
  fr: fr_fr_default,
  hu: hu_hu_default,
  id: id_id_default,
  it: it_it_default,
  nl: nl_nl_default,
  pl: pl_pl_default,
  pt_BR: pt_br_default,
  pt_PT: pt_br_default,
  ro: ro_ro_default,
  ru: ru_ru_default,
  sv: sv_se_default,
  tr: tr_tr_default,
  uk: uk_ua_default,
  vi: vi_vi_default,
  zh_CN: zh_cn_default,
  zh_TW: zh_tw_default
};
export {
  fileUploadFormComponent as default
};
/*! Bundled license information:

filepond/dist/filepond.esm.js:
  (*!
   * FilePond 4.30.4
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.esm.js:
  (*!
   * FilePondPluginFileValidateSize 2.2.8
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.esm.js:
  (*!
   * FilePondPluginFileValidateType 1.2.8
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-image-crop/dist/filepond-plugin-image-crop.esm.js:
  (*!
   * FilePondPluginImageCrop 2.0.6
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-image-exif-orientation/dist/filepond-plugin-image-exif-orientation.esm.js:
  (*!
   * FilePondPluginImageExifOrientation 1.0.11
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-image-preview/dist/filepond-plugin-image-preview.esm.js:
  (*!
   * FilePondPluginImagePreview 4.6.11
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-image-resize/dist/filepond-plugin-image-resize.esm.js:
  (*!
   * FilePondPluginImageResize 2.0.10
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-image-transform/dist/filepond-plugin-image-transform.esm.js:
  (*!
   * FilePondPluginImageTransform 3.8.7
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-media-preview/dist/filepond-plugin-media-preview.esm.js:
  (*!
   * FilePondPluginMediaPreview 1.0.11
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit undefined for details.
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2Rpc3QvZmlsZXBvbmQuZXNtLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC1wbHVnaW4tZmlsZS12YWxpZGF0ZS1zaXplL2Rpc3QvZmlsZXBvbmQtcGx1Z2luLWZpbGUtdmFsaWRhdGUtc2l6ZS5lc20uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kLXBsdWdpbi1maWxlLXZhbGlkYXRlLXR5cGUvZGlzdC9maWxlcG9uZC1wbHVnaW4tZmlsZS12YWxpZGF0ZS10eXBlLmVzbS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQtcGx1Z2luLWltYWdlLWNyb3AvZGlzdC9maWxlcG9uZC1wbHVnaW4taW1hZ2UtY3JvcC5lc20uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1leGlmLW9yaWVudGF0aW9uL2Rpc3QvZmlsZXBvbmQtcGx1Z2luLWltYWdlLWV4aWYtb3JpZW50YXRpb24uZXNtLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlldy9kaXN0L2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1wcmV2aWV3LmVzbS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQtcGx1Z2luLWltYWdlLXJlc2l6ZS9kaXN0L2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1yZXNpemUuZXNtLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC1wbHVnaW4taW1hZ2UtdHJhbnNmb3JtL2Rpc3QvZmlsZXBvbmQtcGx1Z2luLWltYWdlLXRyYW5zZm9ybS5lc20uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kLXBsdWdpbi1tZWRpYS1wcmV2aWV3L2Rpc3QvZmlsZXBvbmQtcGx1Z2luLW1lZGlhLXByZXZpZXcuZXNtLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvYXItYXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS9jcy1jei5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL2RhLWRrLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvZGUtZGUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS9lbi1lbi5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL2VzLWVzLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvZmFfaXIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS9maS1maS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL2ZyLWZyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvaHUtaHUuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS9pZC1pZC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL2l0LWl0LmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvbmwtbmwuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS9wbC1wbC5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL3B0LWJyLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvcm8tcm8uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS9ydS1ydS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL3N2X3NlLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvdHItdHIuanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS91ay11YS5qcyIsICIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvbG9jYWxlL3ZpLXZpLmpzIiwgIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maWxlcG9uZC9sb2NhbGUvemgtY24uanMiLCAiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2xvY2FsZS96aC10dy5qcyIsICIuLi8uLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9maWxlLXVwbG9hZC5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyohXG4gKiBGaWxlUG9uZCA0LjMwLjRcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCwgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQvXG4gKiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9wcWluYS5ubC9maWxlcG9uZC8gZm9yIGRldGFpbHMuXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgKi9cblxuY29uc3QgaXNOb2RlID0gdmFsdWUgPT4gdmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcblxuY29uc3QgY3JlYXRlU3RvcmUgPSAoaW5pdGlhbFN0YXRlLCBxdWVyaWVzID0gW10sIGFjdGlvbnMgPSBbXSkgPT4ge1xuICAgIC8vIGludGVybmFsIHN0YXRlXG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgIC4uLmluaXRpYWxTdGF0ZSxcbiAgICB9O1xuXG4gICAgLy8gY29udGFpbnMgYWxsIGFjdGlvbnMgZm9yIG5leHQgZnJhbWUsIGlzIGNsZWFyIHdoZW4gYWN0aW9ucyBhcmUgcmVxdWVzdGVkXG4gICAgY29uc3QgYWN0aW9uUXVldWUgPSBbXTtcbiAgICBjb25zdCBkaXNwYXRjaFF1ZXVlID0gW107XG5cbiAgICAvLyByZXR1cm5zIGEgZHVwbGljYXRlIG9mIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiAoeyAuLi5zdGF0ZSB9KTtcblxuICAgIC8vIHJldHVybnMgYSBkdXBsaWNhdGUgb2YgdGhlIGFjdGlvbnMgYXJyYXkgYW5kIGNsZWFycyB0aGUgYWN0aW9ucyBhcnJheVxuICAgIGNvbnN0IHByb2Nlc3NBY3Rpb25RdWV1ZSA9ICgpID0+IHtcbiAgICAgICAgLy8gY3JlYXRlIGNvcHkgb2YgYWN0aW9ucyBxdWV1ZVxuICAgICAgICBjb25zdCBxdWV1ZSA9IFsuLi5hY3Rpb25RdWV1ZV07XG5cbiAgICAgICAgLy8gY2xlYXIgYWN0aW9ucyBxdWV1ZSAod2UgZG9uJ3Qgd2FudCBubyBkb3VibGUgYWN0aW9ucylcbiAgICAgICAgYWN0aW9uUXVldWUubGVuZ3RoID0gMDtcblxuICAgICAgICByZXR1cm4gcXVldWU7XG4gICAgfTtcblxuICAgIC8vIHByb2Nlc3NlcyBhY3Rpb25zIHRoYXQgbWlnaHQgYmxvY2sgdGhlIG1haW4gVUkgdGhyZWFkXG4gICAgY29uc3QgcHJvY2Vzc0Rpc3BhdGNoUXVldWUgPSAoKSA9PiB7XG4gICAgICAgIC8vIGNyZWF0ZSBjb3B5IG9mIGFjdGlvbnMgcXVldWVcbiAgICAgICAgY29uc3QgcXVldWUgPSBbLi4uZGlzcGF0Y2hRdWV1ZV07XG5cbiAgICAgICAgLy8gY2xlYXIgYWN0aW9ucyBxdWV1ZSAod2UgZG9uJ3Qgd2FudCBubyBkb3VibGUgYWN0aW9ucylcbiAgICAgICAgZGlzcGF0Y2hRdWV1ZS5sZW5ndGggPSAwO1xuXG4gICAgICAgIC8vIG5vdyBkaXNwYXRjaCB0aGVzZSBhY3Rpb25zXG4gICAgICAgIHF1ZXVlLmZvckVhY2goKHsgdHlwZSwgZGF0YSB9KSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCh0eXBlLCBkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGFkZHMgYSBuZXcgYWN0aW9uLCBjYWxscyBpdHMgaGFuZGxlciBhbmRcbiAgICBjb25zdCBkaXNwYXRjaCA9ICh0eXBlLCBkYXRhLCBpc0Jsb2NraW5nKSA9PiB7XG4gICAgICAgIC8vIGlzIGJsb2NraW5nIGFjdGlvbiAoc2hvdWxkIG5ldmVyIGJsb2NrIGlmIGRvY3VtZW50IGlzIGhpZGRlbilcbiAgICAgICAgaWYgKGlzQmxvY2tpbmcgJiYgIWRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZS5wdXNoKHsgdHlwZSwgZGF0YSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoaXMgYWN0aW9uIGhhcyBhIGhhbmRsZXIsIGhhbmRsZSB0aGUgYWN0aW9uXG4gICAgICAgIGlmIChhY3Rpb25IYW5kbGVyc1t0eXBlXSkge1xuICAgICAgICAgICAgYWN0aW9uSGFuZGxlcnNbdHlwZV0oZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBub3cgYWRkIGFjdGlvblxuICAgICAgICBhY3Rpb25RdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcXVlcnkgPSAoc3RyLCAuLi5hcmdzKSA9PiAocXVlcnlIYW5kbGVzW3N0cl0gPyBxdWVyeUhhbmRsZXNbc3RyXSguLi5hcmdzKSA6IG51bGwpO1xuXG4gICAgY29uc3QgYXBpID0ge1xuICAgICAgICBnZXRTdGF0ZSxcbiAgICAgICAgcHJvY2Vzc0FjdGlvblF1ZXVlLFxuICAgICAgICBwcm9jZXNzRGlzcGF0Y2hRdWV1ZSxcbiAgICAgICAgZGlzcGF0Y2gsXG4gICAgICAgIHF1ZXJ5LFxuICAgIH07XG5cbiAgICBsZXQgcXVlcnlIYW5kbGVzID0ge307XG4gICAgcXVlcmllcy5mb3JFYWNoKHF1ZXJ5ID0+IHtcbiAgICAgICAgcXVlcnlIYW5kbGVzID0ge1xuICAgICAgICAgICAgLi4ucXVlcnkoc3RhdGUpLFxuICAgICAgICAgICAgLi4ucXVlcnlIYW5kbGVzLFxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgbGV0IGFjdGlvbkhhbmRsZXJzID0ge307XG4gICAgYWN0aW9ucy5mb3JFYWNoKGFjdGlvbiA9PiB7XG4gICAgICAgIGFjdGlvbkhhbmRsZXJzID0ge1xuICAgICAgICAgICAgLi4uYWN0aW9uKGRpc3BhdGNoLCBxdWVyeSwgc3RhdGUpLFxuICAgICAgICAgICAgLi4uYWN0aW9uSGFuZGxlcnMsXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYXBpO1xufTtcblxuY29uc3QgZGVmaW5lUHJvcGVydHkgPSAob2JqLCBwcm9wZXJ0eSwgZGVmaW5pdGlvbikgPT4ge1xuICAgIGlmICh0eXBlb2YgZGVmaW5pdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvYmpbcHJvcGVydHldID0gZGVmaW5pdGlvbjtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wZXJ0eSwgeyAuLi5kZWZpbml0aW9uIH0pO1xufTtcblxuY29uc3QgZm9yaW4gPSAob2JqLCBjYikgPT4ge1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNiKGtleSwgb2JqW2tleV0pO1xuICAgIH1cbn07XG5cbmNvbnN0IGNyZWF0ZU9iamVjdCA9IGRlZmluaXRpb24gPT4ge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIGZvcmluKGRlZmluaXRpb24sIHByb3BlcnR5ID0+IHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wZXJ0eSwgZGVmaW5pdGlvbltwcm9wZXJ0eV0pO1xuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59O1xuXG5jb25zdCBhdHRyID0gKG5vZGUsIG5hbWUsIHZhbHVlID0gbnVsbCkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbm9kZS5nZXRBdHRyaWJ1dGUobmFtZSkgfHwgbm9kZS5oYXNBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbn07XG5cbmNvbnN0IG5zID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbmNvbnN0IHN2Z0VsZW1lbnRzID0gWydzdmcnLCAncGF0aCddOyAvLyBvbmx5IHN2ZyBlbGVtZW50cyB1c2VkXG5cbmNvbnN0IGlzU1ZHRWxlbWVudCA9IHRhZyA9PiBzdmdFbGVtZW50cy5pbmNsdWRlcyh0YWcpO1xuXG5jb25zdCBjcmVhdGVFbGVtZW50ID0gKHRhZywgY2xhc3NOYW1lLCBhdHRyaWJ1dGVzID0ge30pID0+IHtcbiAgICBpZiAodHlwZW9mIGNsYXNzTmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgYXR0cmlidXRlcyA9IGNsYXNzTmFtZTtcbiAgICAgICAgY2xhc3NOYW1lID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZWxlbWVudCA9IGlzU1ZHRWxlbWVudCh0YWcpXG4gICAgICAgID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLCB0YWcpXG4gICAgICAgIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgICAgaWYgKGlzU1ZHRWxlbWVudCh0YWcpKSB7XG4gICAgICAgICAgICBhdHRyKGVsZW1lbnQsICdjbGFzcycsIGNsYXNzTmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JpbihhdHRyaWJ1dGVzLCAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgICAgYXR0cihlbGVtZW50LCBuYW1lLCB2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG5jb25zdCBhcHBlbmRDaGlsZCA9IHBhcmVudCA9PiAoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ3VuZGVmaW5lZCcgJiYgcGFyZW50LmNoaWxkcmVuW2luZGV4XSkge1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBwYXJlbnQuY2hpbGRyZW5baW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgIH1cbn07XG5cbmNvbnN0IGFwcGVuZENoaWxkVmlldyA9IChwYXJlbnQsIGNoaWxkVmlld3MpID0+ICh2aWV3LCBpbmRleCkgPT4ge1xuICAgIGlmICh0eXBlb2YgaW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNoaWxkVmlld3Muc3BsaWNlKGluZGV4LCAwLCB2aWV3KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZFZpZXdzLnB1c2godmlldyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZpZXc7XG59O1xuXG5jb25zdCByZW1vdmVDaGlsZFZpZXcgPSAocGFyZW50LCBjaGlsZFZpZXdzKSA9PiB2aWV3ID0+IHtcbiAgICAvLyByZW1vdmUgZnJvbSBjaGlsZCB2aWV3c1xuICAgIGNoaWxkVmlld3Muc3BsaWNlKGNoaWxkVmlld3MuaW5kZXhPZih2aWV3KSwgMSk7XG5cbiAgICAvLyByZW1vdmUgdGhlIGVsZW1lbnRcbiAgICBpZiAodmlldy5lbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHZpZXcuZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZpZXc7XG59O1xuXG5jb25zdCBJU19CUk9XU0VSID0gKCgpID0+XG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpKCk7XG5jb25zdCBpc0Jyb3dzZXIgPSAoKSA9PiBJU19CUk9XU0VSO1xuXG5jb25zdCB0ZXN0RWxlbWVudCA9IGlzQnJvd3NlcigpID8gY3JlYXRlRWxlbWVudCgnc3ZnJykgOiB7fTtcbmNvbnN0IGdldENoaWxkQ291bnQgPVxuICAgICdjaGlsZHJlbicgaW4gdGVzdEVsZW1lbnQgPyBlbCA9PiBlbC5jaGlsZHJlbi5sZW5ndGggOiBlbCA9PiBlbC5jaGlsZE5vZGVzLmxlbmd0aDtcblxuY29uc3QgZ2V0Vmlld1JlY3QgPSAoZWxlbWVudFJlY3QsIGNoaWxkVmlld3MsIG9mZnNldCwgc2NhbGUpID0+IHtcbiAgICBjb25zdCBsZWZ0ID0gb2Zmc2V0WzBdIHx8IGVsZW1lbnRSZWN0LmxlZnQ7XG4gICAgY29uc3QgdG9wID0gb2Zmc2V0WzFdIHx8IGVsZW1lbnRSZWN0LnRvcDtcbiAgICBjb25zdCByaWdodCA9IGxlZnQgKyBlbGVtZW50UmVjdC53aWR0aDtcbiAgICBjb25zdCBib3R0b20gPSB0b3AgKyBlbGVtZW50UmVjdC5oZWlnaHQgKiAoc2NhbGVbMV0gfHwgMSk7XG5cbiAgICBjb25zdCByZWN0ID0ge1xuICAgICAgICAvLyB0aGUgcmVjdGFuZ2xlIG9mIHRoZSBlbGVtZW50IGl0c2VsZlxuICAgICAgICBlbGVtZW50OiB7XG4gICAgICAgICAgICAuLi5lbGVtZW50UmVjdCxcbiAgICAgICAgfSxcblxuICAgICAgICAvLyB0aGUgcmVjdGFuZ2xlIG9mIHRoZSBlbGVtZW50IGV4cGFuZGVkIHRvIGNvbnRhaW4gaXRzIGNoaWxkcmVuLCBkb2VzIG5vdCBpbmNsdWRlIGFueSBtYXJnaW5zXG4gICAgICAgIGlubmVyOiB7XG4gICAgICAgICAgICBsZWZ0OiBlbGVtZW50UmVjdC5sZWZ0LFxuICAgICAgICAgICAgdG9wOiBlbGVtZW50UmVjdC50b3AsXG4gICAgICAgICAgICByaWdodDogZWxlbWVudFJlY3QucmlnaHQsXG4gICAgICAgICAgICBib3R0b206IGVsZW1lbnRSZWN0LmJvdHRvbSxcbiAgICAgICAgfSxcblxuICAgICAgICAvLyB0aGUgcmVjdGFuZ2xlIG9mIHRoZSBlbGVtZW50IGV4cGFuZGVkIHRvIGNvbnRhaW4gaXRzIGNoaWxkcmVuIGluY2x1ZGluZyBvd24gbWFyZ2luIGFuZCBjaGlsZCBtYXJnaW5zXG4gICAgICAgIC8vIG1hcmdpbnMgd2lsbCBiZSBhZGRlZCBhZnRlciB3ZSd2ZSByZWNhbGN1bGF0ZWQgdGhlIHNpemVcbiAgICAgICAgb3V0ZXI6IHtcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgLy8gZXhwYW5kIHJlY3QgdG8gZml0IGFsbCBjaGlsZCByZWN0YW5nbGVzXG4gICAgY2hpbGRWaWV3c1xuICAgICAgICAuZmlsdGVyKGNoaWxkVmlldyA9PiAhY2hpbGRWaWV3LmlzUmVjdElnbm9yZWQoKSlcbiAgICAgICAgLm1hcChjaGlsZFZpZXcgPT4gY2hpbGRWaWV3LnJlY3QpXG4gICAgICAgIC5mb3JFYWNoKGNoaWxkVmlld1JlY3QgPT4ge1xuICAgICAgICAgICAgZXhwYW5kUmVjdChyZWN0LmlubmVyLCB7IC4uLmNoaWxkVmlld1JlY3QuaW5uZXIgfSk7XG4gICAgICAgICAgICBleHBhbmRSZWN0KHJlY3Qub3V0ZXIsIHsgLi4uY2hpbGRWaWV3UmVjdC5vdXRlciB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAvLyBjYWxjdWxhdGUgaW5uZXIgd2lkdGggYW5kIGhlaWdodFxuICAgIGNhbGN1bGF0ZVJlY3RTaXplKHJlY3QuaW5uZXIpO1xuXG4gICAgLy8gYXBwZW5kIGFkZGl0aW9uYWwgbWFyZ2luICh0b3AgYW5kIGxlZnQgbWFyZ2lucyBhcmUgaW5jbHVkZWQgaW4gdG9wIGFuZCBsZWZ0IGF1dG9tYXRpY2FsbHkpXG4gICAgcmVjdC5vdXRlci5ib3R0b20gKz0gcmVjdC5lbGVtZW50Lm1hcmdpbkJvdHRvbTtcbiAgICByZWN0Lm91dGVyLnJpZ2h0ICs9IHJlY3QuZWxlbWVudC5tYXJnaW5SaWdodDtcblxuICAgIC8vIGNhbGN1bGF0ZSBvdXRlciB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgY2FsY3VsYXRlUmVjdFNpemUocmVjdC5vdXRlcik7XG5cbiAgICByZXR1cm4gcmVjdDtcbn07XG5cbmNvbnN0IGV4cGFuZFJlY3QgPSAocGFyZW50LCBjaGlsZCkgPT4ge1xuICAgIC8vIGFkanVzdCBmb3IgcGFyZW50IG9mZnNldFxuICAgIGNoaWxkLnRvcCArPSBwYXJlbnQudG9wO1xuICAgIGNoaWxkLnJpZ2h0ICs9IHBhcmVudC5sZWZ0O1xuICAgIGNoaWxkLmJvdHRvbSArPSBwYXJlbnQudG9wO1xuICAgIGNoaWxkLmxlZnQgKz0gcGFyZW50LmxlZnQ7XG5cbiAgICBpZiAoY2hpbGQuYm90dG9tID4gcGFyZW50LmJvdHRvbSkge1xuICAgICAgICBwYXJlbnQuYm90dG9tID0gY2hpbGQuYm90dG9tO1xuICAgIH1cblxuICAgIGlmIChjaGlsZC5yaWdodCA+IHBhcmVudC5yaWdodCkge1xuICAgICAgICBwYXJlbnQucmlnaHQgPSBjaGlsZC5yaWdodDtcbiAgICB9XG59O1xuXG5jb25zdCBjYWxjdWxhdGVSZWN0U2l6ZSA9IHJlY3QgPT4ge1xuICAgIHJlY3Qud2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0O1xuICAgIHJlY3QuaGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcDtcbn07XG5cbmNvbnN0IGlzTnVtYmVyID0gdmFsdWUgPT4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHBvc2l0aW9uIGlzIGF0IGRlc3RpbmF0aW9uXG4gKiBAcGFyYW0gcG9zaXRpb25cbiAqIEBwYXJhbSBkZXN0aW5hdGlvblxuICogQHBhcmFtIHZlbG9jaXR5XG4gKiBAcGFyYW0gZXJyb3JNYXJnaW5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jb25zdCB0aGVyZVlldCA9IChwb3NpdGlvbiwgZGVzdGluYXRpb24sIHZlbG9jaXR5LCBlcnJvck1hcmdpbiA9IDAuMDAxKSA9PiB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHBvc2l0aW9uIC0gZGVzdGluYXRpb24pIDwgZXJyb3JNYXJnaW4gJiYgTWF0aC5hYnModmVsb2NpdHkpIDwgZXJyb3JNYXJnaW47XG59O1xuXG4vKipcbiAqIFNwcmluZyBhbmltYXRpb25cbiAqL1xuY29uc3Qgc3ByaW5nID1cbiAgICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgICAoeyBzdGlmZm5lc3MgPSAwLjUsIGRhbXBpbmcgPSAwLjc1LCBtYXNzID0gMTAgfSA9IHt9KSA9PlxuICAgICAgICAvLyBtZXRob2QgZGVmaW5pdGlvblxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICBsZXQgdmVsb2NpdHkgPSAwO1xuICAgICAgICAgICAgbGV0IHJlc3RpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlcyBzcHJpbmcgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRlID0gKHRzLCBza2lwVG9FbmRTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGluIHJlc3QsIGRvbid0IGFuaW1hdGVcbiAgICAgICAgICAgICAgICBpZiAocmVzdGluZykgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgLy8gbmVlZCBhdCBsZWFzdCBhIHRhcmdldCBvciBwb3NpdGlvbiB0byBkbyBzcHJpbmd5IHRoaW5nc1xuICAgICAgICAgICAgICAgIGlmICghKGlzTnVtYmVyKHRhcmdldCkgJiYgaXNOdW1iZXIocG9zaXRpb24pKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHNwcmluZyBmb3JjZVxuICAgICAgICAgICAgICAgIGNvbnN0IGYgPSAtKHBvc2l0aW9uIC0gdGFyZ2V0KSAqIHN0aWZmbmVzcztcblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB2ZWxvY2l0eSBieSBhZGRpbmcgZm9yY2UgYmFzZWQgb24gbWFzc1xuICAgICAgICAgICAgICAgIHZlbG9jaXR5ICs9IGYgLyBtYXNzO1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uIGJ5IGFkZGluZyB2ZWxvY2l0eVxuICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IHZlbG9jaXR5O1xuXG4gICAgICAgICAgICAgICAgLy8gc2xvdyBkb3duIGJhc2VkIG9uIGFtb3VudCBvZiBkYW1waW5nXG4gICAgICAgICAgICAgICAgdmVsb2NpdHkgKj0gZGFtcGluZztcblxuICAgICAgICAgICAgICAgIC8vIHdlJ3ZlIGFycml2ZWQgaWYgd2UncmUgbmVhciB0YXJnZXQgYW5kIG91ciB2ZWxvY2l0eSBpcyBuZWFyIHplcm9cbiAgICAgICAgICAgICAgICBpZiAodGhlcmVZZXQocG9zaXRpb24sIHRhcmdldCwgdmVsb2NpdHkpIHx8IHNraXBUb0VuZFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9uY29tcGxldGUocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHByb2dyZXNzIHVwZGF0ZVxuICAgICAgICAgICAgICAgICAgICBhcGkub251cGRhdGUocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0IG5ldyB0YXJnZXQgdmFsdWVcbiAgICAgICAgICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBzZXRUYXJnZXQgPSB2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgY3VycmVudGx5IGhhcyBubyBwb3NpdGlvbiwgc2V0IHRhcmdldCBhbmQgcG9zaXRpb24gdG8gdGhpcyB2YWx1ZVxuICAgICAgICAgICAgICAgIGlmIChpc051bWJlcih2YWx1ZSkgJiYgIWlzTnVtYmVyKHBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG5leHQgdGFyZ2V0IHZhbHVlIHdpbGwgbm90IGJlIGFuaW1hdGVkIHRvXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBsZXQgc3RhcnQgbW92aW5nIHRvIHRhcmdldFxuICAgICAgICAgICAgICAgIHRhcmdldCA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBhdCB0YXJnZXRcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IHRhcmdldCB8fCB0eXBlb2YgdGFyZ2V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBub3cgcmVzdGluZyBhcyB0YXJnZXQgaXMgY3VycmVudCBwb3NpdGlvbiwgc3RvcCBtb3ZpbmdcbiAgICAgICAgICAgICAgICAgICAgcmVzdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZlbG9jaXR5ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBkb25lIVxuICAgICAgICAgICAgICAgICAgICBhcGkub251cGRhdGUocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBhcGkub25jb21wbGV0ZShwb3NpdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIG5lZWQgJ2FwaScgdG8gY2FsbCBvbnVwZGF0ZSBjYWxsYmFja1xuICAgICAgICAgICAgY29uc3QgYXBpID0gY3JlYXRlT2JqZWN0KHtcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBzZXRUYXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gdGFyZ2V0LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVzdGluZzoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHJlc3RpbmcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbnVwZGF0ZTogdmFsdWUgPT4ge30sXG4gICAgICAgICAgICAgICAgb25jb21wbGV0ZTogdmFsdWUgPT4ge30sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGFwaTtcbiAgICAgICAgfTtcblxuY29uc3QgZWFzZUxpbmVhciA9IHQgPT4gdDtcbmNvbnN0IGVhc2VJbk91dFF1YWQgPSB0ID0+ICh0IDwgMC41ID8gMiAqIHQgKiB0IDogLTEgKyAoNCAtIDIgKiB0KSAqIHQpO1xuXG5jb25zdCB0d2VlbiA9XG4gICAgLy8gZGVmYXVsdCB2YWx1ZXNcbiAgICAoeyBkdXJhdGlvbiA9IDUwMCwgZWFzaW5nID0gZWFzZUluT3V0UXVhZCwgZGVsYXkgPSAwIH0gPSB7fSkgPT5cbiAgICAgICAgLy8gbWV0aG9kIGRlZmluaXRpb25cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gbnVsbDtcbiAgICAgICAgICAgIGxldCB0O1xuICAgICAgICAgICAgbGV0IHA7XG4gICAgICAgICAgICBsZXQgcmVzdGluZyA9IHRydWU7XG4gICAgICAgICAgICBsZXQgcmV2ZXJzZSA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRlID0gKHRzLCBza2lwVG9FbmRTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXN0aW5nIHx8IHRhcmdldCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gdHM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRzIC0gc3RhcnQgPCBkZWxheSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgdCA9IHRzIC0gc3RhcnQgLSBkZWxheTtcblxuICAgICAgICAgICAgICAgIGlmICh0ID49IGR1cmF0aW9uIHx8IHNraXBUb0VuZFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHQgPSAxO1xuICAgICAgICAgICAgICAgICAgICBwID0gcmV2ZXJzZSA/IDAgOiAxO1xuICAgICAgICAgICAgICAgICAgICBhcGkub251cGRhdGUocCAqIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGFwaS5vbmNvbXBsZXRlKHAgKiB0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICByZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwID0gdCAvIGR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBhcGkub251cGRhdGUoKHQgPj0gMCA/IGVhc2luZyhyZXZlcnNlID8gMSAtIHAgOiBwKSA6IDApICogdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBuZWVkICdhcGknIHRvIGNhbGwgb251cGRhdGUgY2FsbGJhY2tcbiAgICAgICAgICAgIGNvbnN0IGFwaSA9IGNyZWF0ZU9iamVjdCh7XG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGUsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gKHJldmVyc2UgPyAwIDogdGFyZ2V0KSxcbiAgICAgICAgICAgICAgICAgICAgc2V0OiB2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpcyBpbml0aWFsIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGkub25jb21wbGV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3YW50IHRvIHR3ZWVuIHRvIGEgc21hbGxlciB2YWx1ZSBhbmQgaGF2ZSBhIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdCB0d2VlbmluZyB0byBhIHNtYWxsZXIgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZlcnNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCdzIGdvIVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVzdGluZzoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHJlc3RpbmcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbnVwZGF0ZTogdmFsdWUgPT4ge30sXG4gICAgICAgICAgICAgICAgb25jb21wbGV0ZTogdmFsdWUgPT4ge30sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGFwaTtcbiAgICAgICAgfTtcblxuY29uc3QgYW5pbWF0b3IgPSB7XG4gICAgc3ByaW5nLFxuICAgIHR3ZWVuLFxufTtcblxuLypcbiB7IHR5cGU6ICdzcHJpbmcnLCBzdGlmZm5lc3M6IC41LCBkYW1waW5nOiAuNzUsIG1hc3M6IDEwIH07XG4geyB0cmFuc2xhdGlvbjogeyB0eXBlOiAnc3ByaW5nJywgLi4uIH0sIC4uLiB9XG4geyB0cmFuc2xhdGlvbjogeyB4OiB7IHR5cGU6ICdzcHJpbmcnLCAuLi4gfSB9IH1cbiovXG5jb25zdCBjcmVhdGVBbmltYXRvciA9IChkZWZpbml0aW9uLCBjYXRlZ29yeSwgcHJvcGVydHkpID0+IHtcbiAgICAvLyBkZWZhdWx0IGlzIHNpbmdsZSBkZWZpbml0aW9uXG4gICAgLy8gd2UgY2hlY2sgaWYgdHJhbnNmb3JtIGlzIHNldCwgaWYgc28sIHdlIGNoZWNrIGlmIHByb3BlcnR5IGlzIHNldFxuICAgIGNvbnN0IGRlZiA9XG4gICAgICAgIGRlZmluaXRpb25bY2F0ZWdvcnldICYmIHR5cGVvZiBkZWZpbml0aW9uW2NhdGVnb3J5XVtwcm9wZXJ0eV0gPT09ICdvYmplY3QnXG4gICAgICAgICAgICA/IGRlZmluaXRpb25bY2F0ZWdvcnldW3Byb3BlcnR5XVxuICAgICAgICAgICAgOiBkZWZpbml0aW9uW2NhdGVnb3J5XSB8fCBkZWZpbml0aW9uO1xuXG4gICAgY29uc3QgdHlwZSA9IHR5cGVvZiBkZWYgPT09ICdzdHJpbmcnID8gZGVmIDogZGVmLnR5cGU7XG4gICAgY29uc3QgcHJvcHMgPSB0eXBlb2YgZGVmID09PSAnb2JqZWN0JyA/IHsgLi4uZGVmIH0gOiB7fTtcblxuICAgIHJldHVybiBhbmltYXRvclt0eXBlXSA/IGFuaW1hdG9yW3R5cGVdKHByb3BzKSA6IG51bGw7XG59O1xuXG5jb25zdCBhZGRHZXRTZXQgPSAoa2V5cywgb2JqLCBwcm9wcywgb3ZlcndyaXRlID0gZmFsc2UpID0+IHtcbiAgICBvYmogPSBBcnJheS5pc0FycmF5KG9iaikgPyBvYmogOiBbb2JqXTtcbiAgICBvYmouZm9yRWFjaChvID0+IHtcbiAgICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IGtleTtcbiAgICAgICAgICAgIGxldCBnZXR0ZXIgPSAoKSA9PiBwcm9wc1trZXldO1xuICAgICAgICAgICAgbGV0IHNldHRlciA9IHZhbHVlID0+IChwcm9wc1trZXldID0gdmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBuYW1lID0ga2V5LmtleTtcbiAgICAgICAgICAgICAgICBnZXR0ZXIgPSBrZXkuZ2V0dGVyIHx8IGdldHRlcjtcbiAgICAgICAgICAgICAgICBzZXR0ZXIgPSBrZXkuc2V0dGVyIHx8IHNldHRlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9bbmFtZV0gJiYgIW92ZXJ3cml0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb1tuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGdldHRlcixcbiAgICAgICAgICAgICAgICBzZXQ6IHNldHRlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuLy8gYWRkIHRvIHN0YXRlLFxuLy8gYWRkIGdldHRlcnMgYW5kIHNldHRlcnMgdG8gaW50ZXJuYWwgYW5kIGV4dGVybmFsIGFwaSAoaWYgbm90IHNldClcbi8vIHNldHVwIGFuaW1hdG9yc1xuXG5jb25zdCBhbmltYXRpb25zID0gKHsgbWl4aW5Db25maWcsIHZpZXdQcm9wcywgdmlld0ludGVybmFsQVBJLCB2aWV3RXh0ZXJuYWxBUEkgfSkgPT4ge1xuICAgIC8vIGluaXRpYWwgcHJvcGVydGllc1xuICAgIGNvbnN0IGluaXRpYWxQcm9wcyA9IHsgLi4udmlld1Byb3BzIH07XG5cbiAgICAvLyBsaXN0IG9mIGFsbCBhY3RpdmUgYW5pbWF0aW9uc1xuICAgIGNvbnN0IGFuaW1hdGlvbnMgPSBbXTtcblxuICAgIC8vIHNldHVwIGFuaW1hdG9yc1xuICAgIGZvcmluKG1peGluQ29uZmlnLCAocHJvcGVydHksIGFuaW1hdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBhbmltYXRvciA9IGNyZWF0ZUFuaW1hdG9yKGFuaW1hdGlvbik7XG4gICAgICAgIGlmICghYW5pbWF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoZW4gdGhlIGFuaW1hdG9yIHVwZGF0ZXMsIHVwZGF0ZSB0aGUgdmlldyBzdGF0ZSB2YWx1ZVxuICAgICAgICBhbmltYXRvci5vbnVwZGF0ZSA9IHZhbHVlID0+IHtcbiAgICAgICAgICAgIHZpZXdQcm9wc1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzZXQgYW5pbWF0b3IgdGFyZ2V0XG4gICAgICAgIGFuaW1hdG9yLnRhcmdldCA9IGluaXRpYWxQcm9wc1twcm9wZXJ0eV07XG5cbiAgICAgICAgLy8gd2hlbiB2YWx1ZSBpcyBzZXQsIHNldCB0aGUgYW5pbWF0b3IgdGFyZ2V0IHZhbHVlXG4gICAgICAgIGNvbnN0IHByb3AgPSB7XG4gICAgICAgICAgICBrZXk6IHByb3BlcnR5LFxuICAgICAgICAgICAgc2V0dGVyOiB2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYWxyZWFkeSBhdCB0YXJnZXQsIHdlIGRvbmUhXG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdG9yLnRhcmdldCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFuaW1hdG9yLnRhcmdldCA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldHRlcjogKCkgPT4gdmlld1Byb3BzW3Byb3BlcnR5XSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBhZGQgZ2V0dGVycyBhbmQgc2V0dGVyc1xuICAgICAgICBhZGRHZXRTZXQoW3Byb3BdLCBbdmlld0ludGVybmFsQVBJLCB2aWV3RXh0ZXJuYWxBUEldLCB2aWV3UHJvcHMsIHRydWUpO1xuXG4gICAgICAgIC8vIGFkZCBpdCB0byB0aGUgbGlzdCBmb3IgZWFzeSB1cGRhdGluZyBmcm9tIHRoZSBfd3JpdGUgbWV0aG9kXG4gICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRvcik7XG4gICAgfSk7XG5cbiAgICAvLyBleHBvc2UgaW50ZXJuYWwgd3JpdGUgYXBpXG4gICAgcmV0dXJuIHtcbiAgICAgICAgd3JpdGU6IHRzID0+IHtcbiAgICAgICAgICAgIGxldCBza2lwVG9FbmRTdGF0ZSA9IGRvY3VtZW50LmhpZGRlbjtcbiAgICAgICAgICAgIGxldCByZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaChhbmltYXRpb24gPT4ge1xuICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uLnJlc3RpbmcpIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uaW50ZXJwb2xhdGUodHMsIHNraXBUb0VuZFN0YXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3Rpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIGRlc3Ryb3k6ICgpID0+IHt9LFxuICAgIH07XG59O1xuXG5jb25zdCBhZGRFdmVudCA9IGVsZW1lbnQgPT4gKHR5cGUsIGZuKSA9PiB7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuKTtcbn07XG5cbmNvbnN0IHJlbW92ZUV2ZW50ID0gZWxlbWVudCA9PiAodHlwZSwgZm4pID0+IHtcbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZm4pO1xufTtcblxuLy8gbWl4aW5cbmNvbnN0IGxpc3RlbmVycyA9ICh7XG4gICAgbWl4aW5Db25maWcsXG4gICAgdmlld1Byb3BzLFxuICAgIHZpZXdJbnRlcm5hbEFQSSxcbiAgICB2aWV3RXh0ZXJuYWxBUEksXG4gICAgdmlld1N0YXRlLFxuICAgIHZpZXcsXG59KSA9PiB7XG4gICAgY29uc3QgZXZlbnRzID0gW107XG5cbiAgICBjb25zdCBhZGQgPSBhZGRFdmVudCh2aWV3LmVsZW1lbnQpO1xuICAgIGNvbnN0IHJlbW92ZSA9IHJlbW92ZUV2ZW50KHZpZXcuZWxlbWVudCk7XG5cbiAgICB2aWV3RXh0ZXJuYWxBUEkub24gPSAodHlwZSwgZm4pID0+IHtcbiAgICAgICAgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGZuLFxuICAgICAgICB9KTtcbiAgICAgICAgYWRkKHR5cGUsIGZuKTtcbiAgICB9O1xuXG4gICAgdmlld0V4dGVybmFsQVBJLm9mZiA9ICh0eXBlLCBmbikgPT4ge1xuICAgICAgICBldmVudHMuc3BsaWNlKGV2ZW50cy5maW5kSW5kZXgoZXZlbnQgPT4gZXZlbnQudHlwZSA9PT0gdHlwZSAmJiBldmVudC5mbiA9PT0gZm4pLCAxKTtcbiAgICAgICAgcmVtb3ZlKHR5cGUsIGZuKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgd3JpdGU6ICgpID0+IHtcbiAgICAgICAgICAgIC8vIG5vdCBidXN5XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVzdHJveTogKCkgPT4ge1xuICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIHJlbW92ZShldmVudC50eXBlLCBldmVudC5mbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuLy8gYWRkIHRvIGV4dGVybmFsIGFwaSBhbmQgbGluayB0byBwcm9wc1xuXG5jb25zdCBhcGlzID0gKHsgbWl4aW5Db25maWcsIHZpZXdQcm9wcywgdmlld0V4dGVybmFsQVBJIH0pID0+IHtcbiAgICBhZGRHZXRTZXQobWl4aW5Db25maWcsIHZpZXdFeHRlcm5hbEFQSSwgdmlld1Byb3BzKTtcbn07XG5cbmNvbnN0IGlzRGVmaW5lZCA9IHZhbHVlID0+IHZhbHVlICE9IG51bGw7XG5cbi8vIGFkZCB0byBzdGF0ZSxcbi8vIGFkZCBnZXR0ZXJzIGFuZCBzZXR0ZXJzIHRvIGludGVybmFsIGFuZCBleHRlcm5hbCBhcGkgKGlmIG5vdCBzZXQpXG4vLyBzZXQgaW5pdGlhbCBzdGF0ZSBiYXNlZCBvbiBwcm9wcyBpbiB2aWV3UHJvcHNcbi8vIGFwcGx5IGFzIHRyYW5zZm9ybXMgZWFjaCBmcmFtZVxuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgICBvcGFjaXR5OiAxLFxuICAgIHNjYWxlWDogMSxcbiAgICBzY2FsZVk6IDEsXG4gICAgdHJhbnNsYXRlWDogMCxcbiAgICB0cmFuc2xhdGVZOiAwLFxuICAgIHJvdGF0ZVg6IDAsXG4gICAgcm90YXRlWTogMCxcbiAgICByb3RhdGVaOiAwLFxuICAgIG9yaWdpblg6IDAsXG4gICAgb3JpZ2luWTogMCxcbn07XG5cbmNvbnN0IHN0eWxlcyA9ICh7IG1peGluQ29uZmlnLCB2aWV3UHJvcHMsIHZpZXdJbnRlcm5hbEFQSSwgdmlld0V4dGVybmFsQVBJLCB2aWV3IH0pID0+IHtcbiAgICAvLyBpbml0aWFsIHByb3BzXG4gICAgY29uc3QgaW5pdGlhbFByb3BzID0geyAuLi52aWV3UHJvcHMgfTtcblxuICAgIC8vIGN1cnJlbnQgcHJvcHNcbiAgICBjb25zdCBjdXJyZW50UHJvcHMgPSB7fTtcblxuICAgIC8vIHdlIHdpbGwgYWRkIHRob3NlIHByb3BlcnRpZXMgdG8gdGhlIGV4dGVybmFsIEFQSSBhbmQgbGluayB0aGVtIHRvIHRoZSB2aWV3U3RhdGVcbiAgICBhZGRHZXRTZXQobWl4aW5Db25maWcsIFt2aWV3SW50ZXJuYWxBUEksIHZpZXdFeHRlcm5hbEFQSV0sIHZpZXdQcm9wcyk7XG5cbiAgICAvLyBvdmVycmlkZSByZWN0IG9uIGludGVybmFsIGFuZCBleHRlcm5hbCByZWN0IGdldHRlciBzbyBpdCB0YWtlcyBpbiBhY2NvdW50IHRyYW5zZm9ybXNcbiAgICBjb25zdCBnZXRPZmZzZXQgPSAoKSA9PiBbdmlld1Byb3BzWyd0cmFuc2xhdGVYJ10gfHwgMCwgdmlld1Byb3BzWyd0cmFuc2xhdGVZJ10gfHwgMF07XG4gICAgY29uc3QgZ2V0U2NhbGUgPSAoKSA9PiBbdmlld1Byb3BzWydzY2FsZVgnXSB8fCAwLCB2aWV3UHJvcHNbJ3NjYWxlWSddIHx8IDBdO1xuICAgIGNvbnN0IGdldFJlY3QgPSAoKSA9PlxuICAgICAgICB2aWV3LnJlY3QgPyBnZXRWaWV3UmVjdCh2aWV3LnJlY3QsIHZpZXcuY2hpbGRWaWV3cywgZ2V0T2Zmc2V0KCksIGdldFNjYWxlKCkpIDogbnVsbDtcbiAgICB2aWV3SW50ZXJuYWxBUEkucmVjdCA9IHsgZ2V0OiBnZXRSZWN0IH07XG4gICAgdmlld0V4dGVybmFsQVBJLnJlY3QgPSB7IGdldDogZ2V0UmVjdCB9O1xuXG4gICAgLy8gYXBwbHkgdmlldyBwcm9wc1xuICAgIG1peGluQ29uZmlnLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgdmlld1Byb3BzW2tleV0gPVxuICAgICAgICAgICAgdHlwZW9mIGluaXRpYWxQcm9wc1trZXldID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzW2tleV0gOiBpbml0aWFsUHJvcHNba2V5XTtcbiAgICB9KTtcblxuICAgIC8vIGV4cG9zZSBhcGlcbiAgICByZXR1cm4ge1xuICAgICAgICB3cml0ZTogKCkgPT4ge1xuICAgICAgICAgICAgLy8gc2VlIGlmIHByb3BzIGhhdmUgY2hhbmdlZFxuICAgICAgICAgICAgaWYgKCFwcm9wc0hhdmVDaGFuZ2VkKGN1cnJlbnRQcm9wcywgdmlld1Byb3BzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbW92ZXMgZWxlbWVudCB0byBjb3JyZWN0IHBvc2l0aW9uIG9uIHNjcmVlblxuICAgICAgICAgICAgYXBwbHlTdHlsZXModmlldy5lbGVtZW50LCB2aWV3UHJvcHMpO1xuXG4gICAgICAgICAgICAvLyBzdG9yZSBuZXcgdHJhbnNmb3Jtc1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50UHJvcHMsIHsgLi4udmlld1Byb3BzIH0pO1xuXG4gICAgICAgICAgICAvLyBubyBsb25nZXIgYnVzeVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGRlc3Ryb3k6ICgpID0+IHt9LFxuICAgIH07XG59O1xuXG5jb25zdCBwcm9wc0hhdmVDaGFuZ2VkID0gKGN1cnJlbnRQcm9wcywgbmV3UHJvcHMpID0+IHtcbiAgICAvLyBkaWZmZXJlbnQgYW1vdW50IG9mIGtleXNcbiAgICBpZiAoT2JqZWN0LmtleXMoY3VycmVudFByb3BzKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKG5ld1Byb3BzKS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gbGV0cyBhbmFseXplIHRoZSBpbmRpdmlkdWFsIHByb3BzXG4gICAgZm9yIChjb25zdCBwcm9wIGluIG5ld1Byb3BzKSB7XG4gICAgICAgIGlmIChuZXdQcm9wc1twcm9wXSAhPT0gY3VycmVudFByb3BzW3Byb3BdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbmNvbnN0IGFwcGx5U3R5bGVzID0gKFxuICAgIGVsZW1lbnQsXG4gICAge1xuICAgICAgICBvcGFjaXR5LFxuICAgICAgICBwZXJzcGVjdGl2ZSxcbiAgICAgICAgdHJhbnNsYXRlWCxcbiAgICAgICAgdHJhbnNsYXRlWSxcbiAgICAgICAgc2NhbGVYLFxuICAgICAgICBzY2FsZVksXG4gICAgICAgIHJvdGF0ZVgsXG4gICAgICAgIHJvdGF0ZVksXG4gICAgICAgIHJvdGF0ZVosXG4gICAgICAgIG9yaWdpblgsXG4gICAgICAgIG9yaWdpblksXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgfVxuKSA9PiB7XG4gICAgbGV0IHRyYW5zZm9ybXMgPSAnJztcbiAgICBsZXQgc3R5bGVzID0gJyc7XG5cbiAgICAvLyBoYW5kbGUgdHJhbnNmb3JtIG9yaWdpblxuICAgIGlmIChpc0RlZmluZWQob3JpZ2luWCkgfHwgaXNEZWZpbmVkKG9yaWdpblkpKSB7XG4gICAgICAgIHN0eWxlcyArPSBgdHJhbnNmb3JtLW9yaWdpbjogJHtvcmlnaW5YIHx8IDB9cHggJHtvcmlnaW5ZIHx8IDB9cHg7YDtcbiAgICB9XG5cbiAgICAvLyB0cmFuc2Zvcm0gb3JkZXIgaXMgcmVsZXZhbnRcbiAgICAvLyAwLiBwZXJzcGVjdGl2ZVxuICAgIGlmIChpc0RlZmluZWQocGVyc3BlY3RpdmUpKSB7XG4gICAgICAgIHRyYW5zZm9ybXMgKz0gYHBlcnNwZWN0aXZlKCR7cGVyc3BlY3RpdmV9cHgpIGA7XG4gICAgfVxuXG4gICAgLy8gMS4gdHJhbnNsYXRlXG4gICAgaWYgKGlzRGVmaW5lZCh0cmFuc2xhdGVYKSB8fCBpc0RlZmluZWQodHJhbnNsYXRlWSkpIHtcbiAgICAgICAgdHJhbnNmb3JtcyArPSBgdHJhbnNsYXRlM2QoJHt0cmFuc2xhdGVYIHx8IDB9cHgsICR7dHJhbnNsYXRlWSB8fCAwfXB4LCAwKSBgO1xuICAgIH1cblxuICAgIC8vIDIuIHNjYWxlXG4gICAgaWYgKGlzRGVmaW5lZChzY2FsZVgpIHx8IGlzRGVmaW5lZChzY2FsZVkpKSB7XG4gICAgICAgIHRyYW5zZm9ybXMgKz0gYHNjYWxlM2QoJHtpc0RlZmluZWQoc2NhbGVYKSA/IHNjYWxlWCA6IDF9LCAke1xuICAgICAgICAgICAgaXNEZWZpbmVkKHNjYWxlWSkgPyBzY2FsZVkgOiAxXG4gICAgICAgIH0sIDEpIGA7XG4gICAgfVxuXG4gICAgLy8gMy4gcm90YXRlXG4gICAgaWYgKGlzRGVmaW5lZChyb3RhdGVaKSkge1xuICAgICAgICB0cmFuc2Zvcm1zICs9IGByb3RhdGVaKCR7cm90YXRlWn1yYWQpIGA7XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmaW5lZChyb3RhdGVYKSkge1xuICAgICAgICB0cmFuc2Zvcm1zICs9IGByb3RhdGVYKCR7cm90YXRlWH1yYWQpIGA7XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmaW5lZChyb3RhdGVZKSkge1xuICAgICAgICB0cmFuc2Zvcm1zICs9IGByb3RhdGVZKCR7cm90YXRlWX1yYWQpIGA7XG4gICAgfVxuXG4gICAgLy8gYWRkIHRyYW5zZm9ybXNcbiAgICBpZiAodHJhbnNmb3Jtcy5sZW5ndGgpIHtcbiAgICAgICAgc3R5bGVzICs9IGB0cmFuc2Zvcm06JHt0cmFuc2Zvcm1zfTtgO1xuICAgIH1cblxuICAgIC8vIGFkZCBvcGFjaXR5XG4gICAgaWYgKGlzRGVmaW5lZChvcGFjaXR5KSkge1xuICAgICAgICBzdHlsZXMgKz0gYG9wYWNpdHk6JHtvcGFjaXR5fTtgO1xuXG4gICAgICAgIC8vIGlmIHdlIHJlYWNoIHplcm8sIHdlIG1ha2UgdGhlIGVsZW1lbnQgaW5hY2Nlc3NpYmxlXG4gICAgICAgIGlmIChvcGFjaXR5ID09PSAwKSB7XG4gICAgICAgICAgICBzdHlsZXMgKz0gYHZpc2liaWxpdHk6aGlkZGVuO2A7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3ZSdyZSBiZWxvdyAxMDAlIG9wYWNpdHkgdGhpcyBlbGVtZW50IGNhbid0IGJlIGNsaWNrZWRcbiAgICAgICAgaWYgKG9wYWNpdHkgPCAxKSB7XG4gICAgICAgICAgICBzdHlsZXMgKz0gYHBvaW50ZXItZXZlbnRzOm5vbmU7YDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFkZCBoZWlnaHRcbiAgICBpZiAoaXNEZWZpbmVkKGhlaWdodCkpIHtcbiAgICAgICAgc3R5bGVzICs9IGBoZWlnaHQ6JHtoZWlnaHR9cHg7YDtcbiAgICB9XG5cbiAgICAvLyBhZGQgd2lkdGhcbiAgICBpZiAoaXNEZWZpbmVkKHdpZHRoKSkge1xuICAgICAgICBzdHlsZXMgKz0gYHdpZHRoOiR7d2lkdGh9cHg7YDtcbiAgICB9XG5cbiAgICAvLyBhcHBseSBzdHlsZXNcbiAgICBjb25zdCBlbGVtZW50Q3VycmVudFN0eWxlID0gZWxlbWVudC5lbGVtZW50Q3VycmVudFN0eWxlIHx8ICcnO1xuXG4gICAgLy8gaWYgbmV3IHN0eWxlcyBkb2VzIG5vdCBtYXRjaCBjdXJyZW50IHN0eWxlcywgbGV0cyB1cGRhdGUhXG4gICAgaWYgKHN0eWxlcy5sZW5ndGggIT09IGVsZW1lbnRDdXJyZW50U3R5bGUubGVuZ3RoIHx8IHN0eWxlcyAhPT0gZWxlbWVudEN1cnJlbnRTdHlsZSkge1xuICAgICAgICBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSBzdHlsZXM7XG4gICAgICAgIC8vIHN0b3JlIGN1cnJlbnQgc3R5bGVzIHNvIHdlIGNhbiBjb21wYXJlIHRoZW0gdG8gbmV3IHN0eWxlcyBsYXRlciBvblxuICAgICAgICAvLyBfbm90XyBnZXR0aW5nIHRoZSBzdHlsZSB2YWx1ZSBpcyBmYXN0ZXJcbiAgICAgICAgZWxlbWVudC5lbGVtZW50Q3VycmVudFN0eWxlID0gc3R5bGVzO1xuICAgIH1cbn07XG5cbmNvbnN0IE1peGlucyA9IHtcbiAgICBzdHlsZXMsXG4gICAgbGlzdGVuZXJzLFxuICAgIGFuaW1hdGlvbnMsXG4gICAgYXBpcyxcbn07XG5cbmNvbnN0IHVwZGF0ZVJlY3QgPSAocmVjdCA9IHt9LCBlbGVtZW50ID0ge30sIHN0eWxlID0ge30pID0+IHtcbiAgICBpZiAoIWVsZW1lbnQubGF5b3V0Q2FsY3VsYXRlZCkge1xuICAgICAgICByZWN0LnBhZGRpbmdUb3AgPSBwYXJzZUludChzdHlsZS5wYWRkaW5nVG9wLCAxMCkgfHwgMDtcbiAgICAgICAgcmVjdC5tYXJnaW5Ub3AgPSBwYXJzZUludChzdHlsZS5tYXJnaW5Ub3AsIDEwKSB8fCAwO1xuICAgICAgICByZWN0Lm1hcmdpblJpZ2h0ID0gcGFyc2VJbnQoc3R5bGUubWFyZ2luUmlnaHQsIDEwKSB8fCAwO1xuICAgICAgICByZWN0Lm1hcmdpbkJvdHRvbSA9IHBhcnNlSW50KHN0eWxlLm1hcmdpbkJvdHRvbSwgMTApIHx8IDA7XG4gICAgICAgIHJlY3QubWFyZ2luTGVmdCA9IHBhcnNlSW50KHN0eWxlLm1hcmdpbkxlZnQsIDEwKSB8fCAwO1xuICAgICAgICBlbGVtZW50LmxheW91dENhbGN1bGF0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJlY3QubGVmdCA9IGVsZW1lbnQub2Zmc2V0TGVmdCB8fCAwO1xuICAgIHJlY3QudG9wID0gZWxlbWVudC5vZmZzZXRUb3AgfHwgMDtcbiAgICByZWN0LndpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aCB8fCAwO1xuICAgIHJlY3QuaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQgfHwgMDtcblxuICAgIHJlY3QucmlnaHQgPSByZWN0LmxlZnQgKyByZWN0LndpZHRoO1xuICAgIHJlY3QuYm90dG9tID0gcmVjdC50b3AgKyByZWN0LmhlaWdodDtcblxuICAgIHJlY3Quc2Nyb2xsVG9wID0gZWxlbWVudC5zY3JvbGxUb3A7XG5cbiAgICByZWN0LmhpZGRlbiA9IGVsZW1lbnQub2Zmc2V0UGFyZW50ID09PSBudWxsO1xuXG4gICAgcmV0dXJuIHJlY3Q7XG59O1xuXG5jb25zdCBjcmVhdGVWaWV3ID1cbiAgICAvLyBkZWZhdWx0IHZpZXcgZGVmaW5pdGlvblxuICAgICh7XG4gICAgICAgIC8vIGVsZW1lbnQgZGVmaW5pdGlvblxuICAgICAgICB0YWcgPSAnZGl2JyxcbiAgICAgICAgbmFtZSA9IG51bGwsXG4gICAgICAgIGF0dHJpYnV0ZXMgPSB7fSxcblxuICAgICAgICAvLyB2aWV3IGludGVyYWN0aW9uXG4gICAgICAgIHJlYWQgPSAoKSA9PiB7fSxcbiAgICAgICAgd3JpdGUgPSAoKSA9PiB7fSxcbiAgICAgICAgY3JlYXRlID0gKCkgPT4ge30sXG4gICAgICAgIGRlc3Ryb3kgPSAoKSA9PiB7fSxcblxuICAgICAgICAvLyBob29rc1xuICAgICAgICBmaWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZCA9IChjaGlsZCwgYWN0aW9ucykgPT4gYWN0aW9ucyxcbiAgICAgICAgZGlkQ3JlYXRlVmlldyA9ICgpID0+IHt9LFxuICAgICAgICBkaWRXcml0ZVZpZXcgPSAoKSA9PiB7fSxcblxuICAgICAgICAvLyByZWN0IHJlbGF0ZWRcbiAgICAgICAgaWdub3JlUmVjdCA9IGZhbHNlLFxuICAgICAgICBpZ25vcmVSZWN0VXBkYXRlID0gZmFsc2UsXG5cbiAgICAgICAgLy8gbWl4aW5zXG4gICAgICAgIG1peGlucyA9IFtdLFxuICAgIH0gPSB7fSkgPT4gKFxuICAgICAgICAvLyBlYWNoIHZpZXcgcmVxdWlyZXMgcmVmZXJlbmNlIHRvIHN0b3JlXG4gICAgICAgIHN0b3JlLFxuICAgICAgICAvLyBzcGVjaWZpYyBwcm9wZXJ0aWVzIGZvciB0aGlzIHZpZXdcbiAgICAgICAgcHJvcHMgPSB7fVxuICAgICkgPT4ge1xuICAgICAgICAvLyByb290IGVsZW1lbnQgc2hvdWxkIG5vdCBiZSBjaGFuZ2VkXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KHRhZywgYGZpbGVwb25kLS0ke25hbWV9YCwgYXR0cmlidXRlcyk7XG5cbiAgICAgICAgLy8gc3R5bGUgcmVmZXJlbmNlIHNob3VsZCBhbHNvIG5vdCBiZSBjaGFuZ2VkXG4gICAgICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7XG5cbiAgICAgICAgLy8gZWxlbWVudCByZWN0YW5nbGVcbiAgICAgICAgY29uc3QgcmVjdCA9IHVwZGF0ZVJlY3QoKTtcbiAgICAgICAgbGV0IGZyYW1lUmVjdCA9IG51bGw7XG5cbiAgICAgICAgLy8gcmVzdCBzdGF0ZVxuICAgICAgICBsZXQgaXNSZXN0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgLy8gcHJldHR5IHNlbGYgZXhwbGFuYXRvcnlcbiAgICAgICAgY29uc3QgY2hpbGRWaWV3cyA9IFtdO1xuXG4gICAgICAgIC8vIGxvYWRlZCBtaXhpbnNcbiAgICAgICAgY29uc3QgYWN0aXZlTWl4aW5zID0gW107XG5cbiAgICAgICAgLy8gcmVmZXJlbmNlcyB0byBjcmVhdGVkIGNoaWxkcmVuXG4gICAgICAgIGNvbnN0IHJlZiA9IHt9O1xuXG4gICAgICAgIC8vIHN0YXRlIHVzZWQgZm9yIGVhY2ggaW5zdGFuY2VcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB7fTtcblxuICAgICAgICAvLyBsaXN0IG9mIHdyaXRlcnMgdGhhdCB3aWxsIGJlIGNhbGxlZCB0byB1cGRhdGUgdGhpcyB2aWV3XG4gICAgICAgIGNvbnN0IHdyaXRlcnMgPSBbXG4gICAgICAgICAgICB3cml0ZSwgLy8gZGVmYXVsdCB3cml0ZXJcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCByZWFkZXJzID0gW1xuICAgICAgICAgICAgcmVhZCwgLy8gZGVmYXVsdCByZWFkZXJcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBkZXN0cm95ZXJzID0gW1xuICAgICAgICAgICAgZGVzdHJveSwgLy8gZGVmYXVsdCBkZXN0cm95XG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gY29yZSB2aWV3IG1ldGhvZHNcbiAgICAgICAgY29uc3QgZ2V0RWxlbWVudCA9ICgpID0+IGVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGdldENoaWxkVmlld3MgPSAoKSA9PiBjaGlsZFZpZXdzLmNvbmNhdCgpO1xuICAgICAgICBjb25zdCBnZXRSZWZlcmVuY2UgPSAoKSA9PiByZWY7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUNoaWxkVmlldyA9IHN0b3JlID0+ICh2aWV3LCBwcm9wcykgPT4gdmlldyhzdG9yZSwgcHJvcHMpO1xuICAgICAgICBjb25zdCBnZXRSZWN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGZyYW1lUmVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmcmFtZVJlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZVJlY3QgPSBnZXRWaWV3UmVjdChyZWN0LCBjaGlsZFZpZXdzLCBbMCwgMF0sIFsxLCAxXSk7XG4gICAgICAgICAgICByZXR1cm4gZnJhbWVSZWN0O1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBnZXRTdHlsZSA9ICgpID0+IHN0eWxlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWFkIGRhdGEgZnJvbSBET01cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IF9yZWFkID0gKCkgPT4ge1xuICAgICAgICAgICAgZnJhbWVSZWN0ID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gcmVhZCBjaGlsZCB2aWV3c1xuICAgICAgICAgICAgY2hpbGRWaWV3cy5mb3JFYWNoKGNoaWxkID0+IGNoaWxkLl9yZWFkKCkpO1xuXG4gICAgICAgICAgICBjb25zdCBzaG91bGRVcGRhdGUgPSAhKGlnbm9yZVJlY3RVcGRhdGUgJiYgcmVjdC53aWR0aCAmJiByZWN0LmhlaWdodCk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlUmVjdChyZWN0LCBlbGVtZW50LCBzdHlsZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlYWRlcnNcbiAgICAgICAgICAgIGNvbnN0IGFwaSA9IHsgcm9vdDogaW50ZXJuYWxBUEksIHByb3BzLCByZWN0IH07XG4gICAgICAgICAgICByZWFkZXJzLmZvckVhY2gocmVhZGVyID0+IHJlYWRlcihhcGkpKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV3JpdGUgZGF0YSB0byBET01cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IF93cml0ZSA9ICh0cywgZnJhbWVBY3Rpb25zLCBzaG91bGRPcHRpbWl6ZSkgPT4ge1xuICAgICAgICAgICAgLy8gaWYgbm8gYWN0aW9ucywgd2UgYXNzdW1lIHRoYXQgdGhlIHZpZXcgaXMgcmVzdGluZ1xuICAgICAgICAgICAgbGV0IHJlc3RpbmcgPSBmcmFtZUFjdGlvbnMubGVuZ3RoID09PSAwO1xuXG4gICAgICAgICAgICAvLyB3cml0ZXJzXG4gICAgICAgICAgICB3cml0ZXJzLmZvckVhY2god3JpdGVyID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB3cml0ZXJSZXN0aW5nID0gd3JpdGVyKHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIHJvb3Q6IGludGVybmFsQVBJLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBmcmFtZUFjdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdHMsXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZE9wdGltaXplLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh3cml0ZXJSZXN0aW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHJ1biBtaXhpbnNcbiAgICAgICAgICAgIGFjdGl2ZU1peGlucy5mb3JFYWNoKG1peGluID0+IHtcbiAgICAgICAgICAgICAgICAvLyBpZiBvbmUgb2YgdGhlIG1peGlucyBpcyBzdGlsbCBidXN5IGFmdGVyIHdyaXRlIG9wZXJhdGlvbiwgd2UgYXJlIG5vdCByZXN0aW5nXG4gICAgICAgICAgICAgICAgY29uc3QgbWl4aW5SZXN0aW5nID0gbWl4aW4ud3JpdGUodHMpO1xuICAgICAgICAgICAgICAgIGlmIChtaXhpblJlc3RpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlcyBjaGlsZCB2aWV3cyB0aGF0IGFyZSBjdXJyZW50bHkgYXR0YWNoZWQgdG8gdGhlIERPTVxuICAgICAgICAgICAgY2hpbGRWaWV3c1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoY2hpbGQgPT4gISFjaGlsZC5lbGVtZW50LnBhcmVudE5vZGUpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBhIGNoaWxkIHZpZXcgaXMgbm90IHJlc3RpbmcsIHdlIGFyZSBub3QgcmVzdGluZ1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFJlc3RpbmcgPSBjaGlsZC5fd3JpdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICB0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckZyYW1lQWN0aW9uc0ZvckNoaWxkKGNoaWxkLCBmcmFtZUFjdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkT3B0aW1pemVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZFJlc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBhcHBlbmQgbmV3IGVsZW1lbnRzIHRvIERPTSBhbmQgdXBkYXRlIHRob3NlXG4gICAgICAgICAgICBjaGlsZFZpZXdzXG4gICAgICAgICAgICAgICAgLy8uZmlsdGVyKGNoaWxkID0+ICFjaGlsZC5lbGVtZW50LnBhcmVudE5vZGUpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBza2lwXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5lbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGVuZCB0byBET01cbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxBUEkuYXBwZW5kQ2hpbGQoY2hpbGQuZWxlbWVudCwgaW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgcmVhZCAobmVlZCB0byBrbm93IHRoZSBzaXplIG9mIHRoZXNlIGVsZW1lbnRzKVxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5fcmVhZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlLWNhbGwgd3JpdGVcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuX3dyaXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZChjaGlsZCwgZnJhbWVBY3Rpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZE9wdGltaXplXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2UganVzdCBhZGRlZCBzb210aGluZyB0byB0aGUgZG9tLCBubyByZXN0XG4gICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIHJlc3Rpbmcgc3RhdGVcbiAgICAgICAgICAgIGlzUmVzdGluZyA9IHJlc3Rpbmc7XG5cbiAgICAgICAgICAgIGRpZFdyaXRlVmlldyh7XG4gICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgcm9vdDogaW50ZXJuYWxBUEksXG4gICAgICAgICAgICAgICAgYWN0aW9uczogZnJhbWVBY3Rpb25zLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdHMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gbGV0IHBhcmVudCBrbm93IGlmIHdlIGFyZSByZXN0aW5nXG4gICAgICAgICAgICByZXR1cm4gcmVzdGluZztcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBfZGVzdHJveSA9ICgpID0+IHtcbiAgICAgICAgICAgIGFjdGl2ZU1peGlucy5mb3JFYWNoKG1peGluID0+IG1peGluLmRlc3Ryb3koKSk7XG4gICAgICAgICAgICBkZXN0cm95ZXJzLmZvckVhY2goZGVzdHJveWVyID0+IHtcbiAgICAgICAgICAgICAgICBkZXN0cm95ZXIoeyByb290OiBpbnRlcm5hbEFQSSwgcHJvcHMgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNoaWxkVmlld3MuZm9yRWFjaChjaGlsZCA9PiBjaGlsZC5fZGVzdHJveSgpKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzaGFyZWRBUElcbiAgICAgICAgY29uc3Qgc2hhcmVkQVBJRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGdldEVsZW1lbnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGdldFN0eWxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkVmlld3M6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGdldENoaWxkVmlld3MsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHByaXZhdGUgQVBJIGRlZmluaXRpb25cbiAgICAgICAgY29uc3QgaW50ZXJuYWxBUElEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgLi4uc2hhcmVkQVBJRGVmaW5pdGlvbixcbiAgICAgICAgICAgIHJlY3Q6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGdldFJlY3QsXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBhY2Nlc3MgdG8gY3VzdG9tIGNoaWxkcmVuIHJlZmVyZW5jZXNcbiAgICAgICAgICAgIHJlZjoge1xuICAgICAgICAgICAgICAgIGdldDogZ2V0UmVmZXJlbmNlLFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gZG9tIG1vZGlmaWVyc1xuICAgICAgICAgICAgaXM6IG5lZWRsZSA9PiBuYW1lID09PSBuZWVkbGUsXG4gICAgICAgICAgICBhcHBlbmRDaGlsZDogYXBwZW5kQ2hpbGQoZWxlbWVudCksXG4gICAgICAgICAgICBjcmVhdGVDaGlsZFZpZXc6IGNyZWF0ZUNoaWxkVmlldyhzdG9yZSksXG4gICAgICAgICAgICBsaW5rVmlldzogdmlldyA9PiB7XG4gICAgICAgICAgICAgICAgY2hpbGRWaWV3cy5wdXNoKHZpZXcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2aWV3O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVubGlua1ZpZXc6IHZpZXcgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkVmlld3Muc3BsaWNlKGNoaWxkVmlld3MuaW5kZXhPZih2aWV3KSwgMSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXBwZW5kQ2hpbGRWaWV3OiBhcHBlbmRDaGlsZFZpZXcoZWxlbWVudCwgY2hpbGRWaWV3cyksXG4gICAgICAgICAgICByZW1vdmVDaGlsZFZpZXc6IHJlbW92ZUNoaWxkVmlldyhlbGVtZW50LCBjaGlsZFZpZXdzKSxcbiAgICAgICAgICAgIHJlZ2lzdGVyV3JpdGVyOiB3cml0ZXIgPT4gd3JpdGVycy5wdXNoKHdyaXRlciksXG4gICAgICAgICAgICByZWdpc3RlclJlYWRlcjogcmVhZGVyID0+IHJlYWRlcnMucHVzaChyZWFkZXIpLFxuICAgICAgICAgICAgcmVnaXN0ZXJEZXN0cm95ZXI6IGRlc3Ryb3llciA9PiBkZXN0cm95ZXJzLnB1c2goZGVzdHJveWVyKSxcbiAgICAgICAgICAgIGludmFsaWRhdGVMYXlvdXQ6ICgpID0+IChlbGVtZW50LmxheW91dENhbGN1bGF0ZWQgPSBmYWxzZSksXG5cbiAgICAgICAgICAgIC8vIGFjY2VzcyB0byBkYXRhIHN0b3JlXG4gICAgICAgICAgICBkaXNwYXRjaDogc3RvcmUuZGlzcGF0Y2gsXG4gICAgICAgICAgICBxdWVyeTogc3RvcmUucXVlcnksXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gcHVibGljIHZpZXcgQVBJIG1ldGhvZHNcbiAgICAgICAgY29uc3QgZXh0ZXJuYWxBUElEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgZWxlbWVudDoge1xuICAgICAgICAgICAgICAgIGdldDogZ2V0RWxlbWVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZFZpZXdzOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBnZXRDaGlsZFZpZXdzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlY3Q6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGdldFJlY3QsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzdGluZzoge1xuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gaXNSZXN0aW5nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzUmVjdElnbm9yZWQ6ICgpID0+IGlnbm9yZVJlY3QsXG4gICAgICAgICAgICBfcmVhZCxcbiAgICAgICAgICAgIF93cml0ZSxcbiAgICAgICAgICAgIF9kZXN0cm95LFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIG1peGluIEFQSSBtZXRob2RzXG4gICAgICAgIGNvbnN0IG1peGluQVBJRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgIC4uLnNoYXJlZEFQSURlZmluaXRpb24sXG4gICAgICAgICAgICByZWN0OiB7XG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiByZWN0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBhZGQgbWl4aW4gZnVuY3Rpb25hbGl0eVxuICAgICAgICBPYmplY3Qua2V5cyhtaXhpbnMpXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIG1vdmUgc3R5bGVzIHRvIHRoZSBiYWNrIG9mIHRoZSBtaXhpbiBsaXN0IChzbyBhZGp1c3RtZW50cyBvZiBvdGhlciBtaXhpbnMgYXJlIGFwcGxpZWQgdG8gdGhlIHByb3BzIGNvcnJlY3RseSlcbiAgICAgICAgICAgICAgICBpZiAoYSA9PT0gJ3N0eWxlcycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAnc3R5bGVzJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWl4aW5BUEkgPSBNaXhpbnNba2V5XSh7XG4gICAgICAgICAgICAgICAgICAgIG1peGluQ29uZmlnOiBtaXhpbnNba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgdmlld1Byb3BzOiBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgdmlld1N0YXRlOiBzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgdmlld0ludGVybmFsQVBJOiBpbnRlcm5hbEFQSURlZmluaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHZpZXdFeHRlcm5hbEFQSTogZXh0ZXJuYWxBUElEZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgICAgICB2aWV3OiBjcmVhdGVPYmplY3QobWl4aW5BUElEZWZpbml0aW9uKSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChtaXhpbkFQSSkge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVNaXhpbnMucHVzaChtaXhpbkFQSSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gY29uc3RydWN0IHByaXZhdGUgYXBpXG4gICAgICAgIGNvbnN0IGludGVybmFsQVBJID0gY3JlYXRlT2JqZWN0KGludGVybmFsQVBJRGVmaW5pdGlvbik7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSB2aWV3XG4gICAgICAgIGNyZWF0ZSh7XG4gICAgICAgICAgICByb290OiBpbnRlcm5hbEFQSSxcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhcHBlbmQgY3JlYXRlZCBjaGlsZCB2aWV3cyB0byByb290IG5vZGVcbiAgICAgICAgY29uc3QgY2hpbGRDb3VudCA9IGdldENoaWxkQ291bnQoZWxlbWVudCk7IC8vIG5lZWQgdG8ga25vdyB0aGUgY3VycmVudCBjaGlsZCBjb3VudCBzbyBhcHBlbmRpbmcgaGFwcGVucyBpbiBjb3JyZWN0IG9yZGVyXG4gICAgICAgIGNoaWxkVmlld3MuZm9yRWFjaCgoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpbnRlcm5hbEFQSS5hcHBlbmRDaGlsZChjaGlsZC5lbGVtZW50LCBjaGlsZENvdW50ICsgaW5kZXgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjYWxsIGRpZCBjcmVhdGVcbiAgICAgICAgZGlkQ3JlYXRlVmlldyhpbnRlcm5hbEFQSSk7XG5cbiAgICAgICAgLy8gZXhwb3NlIHB1YmxpYyBhcGlcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU9iamVjdChleHRlcm5hbEFQSURlZmluaXRpb24pO1xuICAgIH07XG5cbmNvbnN0IGNyZWF0ZVBhaW50ZXIgPSAocmVhZCwgd3JpdGUsIGZwcyA9IDYwKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9ICdfX2ZyYW1lUGFpbnRlcic7XG5cbiAgICAvLyBzZXQgZ2xvYmFsIHBhaW50ZXJcbiAgICBpZiAod2luZG93W25hbWVdKSB7XG4gICAgICAgIHdpbmRvd1tuYW1lXS5yZWFkZXJzLnB1c2gocmVhZCk7XG4gICAgICAgIHdpbmRvd1tuYW1lXS53cml0ZXJzLnB1c2god3JpdGUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2luZG93W25hbWVdID0ge1xuICAgICAgICByZWFkZXJzOiBbcmVhZF0sXG4gICAgICAgIHdyaXRlcnM6IFt3cml0ZV0sXG4gICAgfTtcblxuICAgIGNvbnN0IHBhaW50ZXIgPSB3aW5kb3dbbmFtZV07XG5cbiAgICBjb25zdCBpbnRlcnZhbCA9IDEwMDAgLyBmcHM7XG4gICAgbGV0IGxhc3QgPSBudWxsO1xuICAgIGxldCBpZCA9IG51bGw7XG4gICAgbGV0IHJlcXVlc3RUaWNrID0gbnVsbDtcbiAgICBsZXQgY2FuY2VsVGljayA9IG51bGw7XG5cbiAgICBjb25zdCBzZXRUaW1lclR5cGUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgICAgIHJlcXVlc3RUaWNrID0gKCkgPT4gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGljayhwZXJmb3JtYW5jZS5ub3coKSksIGludGVydmFsKTtcbiAgICAgICAgICAgIGNhbmNlbFRpY2sgPSAoKSA9PiB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcXVlc3RUaWNrID0gKCkgPT4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcbiAgICAgICAgICAgIGNhbmNlbFRpY2sgPSAoKSA9PiB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgIGlmIChjYW5jZWxUaWNrKSBjYW5jZWxUaWNrKCk7XG4gICAgICAgIHNldFRpbWVyVHlwZSgpO1xuICAgICAgICB0aWNrKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRpY2sgPSB0cyA9PiB7XG4gICAgICAgIC8vIHF1ZXVlIG5leHQgdGlja1xuICAgICAgICBpZCA9IHJlcXVlc3RUaWNrKHRpY2spO1xuXG4gICAgICAgIC8vIGxpbWl0IGZwc1xuICAgICAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgICAgIGxhc3QgPSB0cztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRlbHRhID0gdHMgLSBsYXN0O1xuXG4gICAgICAgIGlmIChkZWx0YSA8PSBpbnRlcnZhbCkge1xuICAgICAgICAgICAgLy8gc2tpcCBmcmFtZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWxpZ24gbmV4dCBmcmFtZVxuICAgICAgICBsYXN0ID0gdHMgLSAoZGVsdGEgJSBpbnRlcnZhbCk7XG5cbiAgICAgICAgLy8gdXBkYXRlIHZpZXdcbiAgICAgICAgcGFpbnRlci5yZWFkZXJzLmZvckVhY2gocmVhZCA9PiByZWFkKCkpO1xuICAgICAgICBwYWludGVyLndyaXRlcnMuZm9yRWFjaCh3cml0ZSA9PiB3cml0ZSh0cykpO1xuICAgIH07XG5cbiAgICBzZXRUaW1lclR5cGUoKTtcbiAgICB0aWNrKHBlcmZvcm1hbmNlLm5vdygpKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHBhdXNlOiAoKSA9PiB7XG4gICAgICAgICAgICBjYW5jZWxUaWNrKGlkKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuY29uc3QgY3JlYXRlUm91dGUgPSAocm91dGVzLCBmbikgPT4gKHsgcm9vdCwgcHJvcHMsIGFjdGlvbnMgPSBbXSwgdGltZXN0YW1wLCBzaG91bGRPcHRpbWl6ZSB9KSA9PiB7XG4gICAgYWN0aW9uc1xuICAgICAgICAuZmlsdGVyKGFjdGlvbiA9PiByb3V0ZXNbYWN0aW9uLnR5cGVdKVxuICAgICAgICAuZm9yRWFjaChhY3Rpb24gPT5cbiAgICAgICAgICAgIHJvdXRlc1thY3Rpb24udHlwZV0oeyByb290LCBwcm9wcywgYWN0aW9uOiBhY3Rpb24uZGF0YSwgdGltZXN0YW1wLCBzaG91bGRPcHRpbWl6ZSB9KVxuICAgICAgICApO1xuICAgIGlmIChmbikge1xuICAgICAgICBmbih7IHJvb3QsIHByb3BzLCBhY3Rpb25zLCB0aW1lc3RhbXAsIHNob3VsZE9wdGltaXplIH0pO1xuICAgIH1cbn07XG5cbmNvbnN0IGluc2VydEJlZm9yZSA9IChuZXdOb2RlLCByZWZlcmVuY2VOb2RlKSA9PlxuICAgIHJlZmVyZW5jZU5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSk7XG5cbmNvbnN0IGluc2VydEFmdGVyID0gKG5ld05vZGUsIHJlZmVyZW5jZU5vZGUpID0+IHtcbiAgICByZXR1cm4gcmVmZXJlbmNlTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlLm5leHRTaWJsaW5nKTtcbn07XG5cbmNvbnN0IGlzQXJyYXkgPSB2YWx1ZSA9PiBBcnJheS5pc0FycmF5KHZhbHVlKTtcblxuY29uc3QgaXNFbXB0eSA9IHZhbHVlID0+IHZhbHVlID09IG51bGw7XG5cbmNvbnN0IHRyaW0gPSBzdHIgPT4gc3RyLnRyaW0oKTtcblxuY29uc3QgdG9TdHJpbmcgPSB2YWx1ZSA9PiAnJyArIHZhbHVlO1xuXG5jb25zdCB0b0FycmF5ID0gKHZhbHVlLCBzcGxpdHRlciA9ICcsJykgPT4ge1xuICAgIGlmIChpc0VtcHR5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSlcbiAgICAgICAgLnNwbGl0KHNwbGl0dGVyKVxuICAgICAgICAubWFwKHRyaW0pXG4gICAgICAgIC5maWx0ZXIoc3RyID0+IHN0ci5sZW5ndGgpO1xufTtcblxuY29uc3QgaXNCb29sZWFuID0gdmFsdWUgPT4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbic7XG5cbmNvbnN0IHRvQm9vbGVhbiA9IHZhbHVlID0+IChpc0Jvb2xlYW4odmFsdWUpID8gdmFsdWUgOiB2YWx1ZSA9PT0gJ3RydWUnKTtcblxuY29uc3QgaXNTdHJpbmcgPSB2YWx1ZSA9PiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO1xuXG5jb25zdCB0b051bWJlciA9IHZhbHVlID0+XG4gICAgaXNOdW1iZXIodmFsdWUpID8gdmFsdWUgOiBpc1N0cmluZyh2YWx1ZSkgPyB0b1N0cmluZyh2YWx1ZSkucmVwbGFjZSgvW2Etel0rL2dpLCAnJykgOiAwO1xuXG5jb25zdCB0b0ludCA9IHZhbHVlID0+IHBhcnNlSW50KHRvTnVtYmVyKHZhbHVlKSwgMTApO1xuXG5jb25zdCB0b0Zsb2F0ID0gdmFsdWUgPT4gcGFyc2VGbG9hdCh0b051bWJlcih2YWx1ZSkpO1xuXG5jb25zdCBpc0ludCA9IHZhbHVlID0+IGlzTnVtYmVyKHZhbHVlKSAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xuXG5jb25zdCB0b0J5dGVzID0gKHZhbHVlLCBiYXNlID0gMTAwMCkgPT4ge1xuICAgIC8vIGlzIGluIGJ5dGVzXG4gICAgaWYgKGlzSW50KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gaXMgbmF0dXJhbCBmaWxlIHNpemVcbiAgICBsZXQgbmF0dXJhbEZpbGVTaXplID0gdG9TdHJpbmcodmFsdWUpLnRyaW0oKTtcblxuICAgIC8vIGlmIGlzIHZhbHVlIGluIG1lZ2FieXRlc1xuICAgIGlmICgvTUIkL2kudGVzdChuYXR1cmFsRmlsZVNpemUpKSB7XG4gICAgICAgIG5hdHVyYWxGaWxlU2l6ZSA9IG5hdHVyYWxGaWxlU2l6ZS5yZXBsYWNlKC9NQiRpLywgJycpLnRyaW0oKTtcbiAgICAgICAgcmV0dXJuIHRvSW50KG5hdHVyYWxGaWxlU2l6ZSkgKiBiYXNlICogYmFzZTtcbiAgICB9XG5cbiAgICAvLyBpZiBpcyB2YWx1ZSBpbiBraWxvYnl0ZXNcbiAgICBpZiAoL0tCL2kudGVzdChuYXR1cmFsRmlsZVNpemUpKSB7XG4gICAgICAgIG5hdHVyYWxGaWxlU2l6ZSA9IG5hdHVyYWxGaWxlU2l6ZS5yZXBsYWNlKC9LQiRpLywgJycpLnRyaW0oKTtcbiAgICAgICAgcmV0dXJuIHRvSW50KG5hdHVyYWxGaWxlU2l6ZSkgKiBiYXNlO1xuICAgIH1cblxuICAgIHJldHVybiB0b0ludChuYXR1cmFsRmlsZVNpemUpO1xufTtcblxuY29uc3QgaXNGdW5jdGlvbiA9IHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcblxuY29uc3QgdG9GdW5jdGlvblJlZmVyZW5jZSA9IHN0cmluZyA9PiB7XG4gICAgbGV0IHJlZiA9IHNlbGY7XG4gICAgbGV0IGxldmVscyA9IHN0cmluZy5zcGxpdCgnLicpO1xuICAgIGxldCBsZXZlbCA9IG51bGw7XG4gICAgd2hpbGUgKChsZXZlbCA9IGxldmVscy5zaGlmdCgpKSkge1xuICAgICAgICByZWYgPSByZWZbbGV2ZWxdO1xuICAgICAgICBpZiAoIXJlZikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlZjtcbn07XG5cbmNvbnN0IG1ldGhvZHMgPSB7XG4gICAgcHJvY2VzczogJ1BPU1QnLFxuICAgIHBhdGNoOiAnUEFUQ0gnLFxuICAgIHJldmVydDogJ0RFTEVURScsXG4gICAgZmV0Y2g6ICdHRVQnLFxuICAgIHJlc3RvcmU6ICdHRVQnLFxuICAgIGxvYWQ6ICdHRVQnLFxufTtcblxuY29uc3QgY3JlYXRlU2VydmVyQVBJID0gb3V0bGluZSA9PiB7XG4gICAgY29uc3QgYXBpID0ge307XG5cbiAgICBhcGkudXJsID0gaXNTdHJpbmcob3V0bGluZSkgPyBvdXRsaW5lIDogb3V0bGluZS51cmwgfHwgJyc7XG4gICAgYXBpLnRpbWVvdXQgPSBvdXRsaW5lLnRpbWVvdXQgPyBwYXJzZUludChvdXRsaW5lLnRpbWVvdXQsIDEwKSA6IDA7XG4gICAgYXBpLmhlYWRlcnMgPSBvdXRsaW5lLmhlYWRlcnMgPyBvdXRsaW5lLmhlYWRlcnMgOiB7fTtcblxuICAgIGZvcmluKG1ldGhvZHMsIGtleSA9PiB7XG4gICAgICAgIGFwaVtrZXldID0gY3JlYXRlQWN0aW9uKGtleSwgb3V0bGluZVtrZXldLCBtZXRob2RzW2tleV0sIGFwaS50aW1lb3V0LCBhcGkuaGVhZGVycyk7XG4gICAgfSk7XG5cbiAgICAvLyByZW1vdmUgcHJvY2VzcyBpZiBubyB1cmwgb3IgcHJvY2VzcyBvbiBvdXRsaW5lXG4gICAgYXBpLnByb2Nlc3MgPSBvdXRsaW5lLnByb2Nlc3MgfHwgaXNTdHJpbmcob3V0bGluZSkgfHwgb3V0bGluZS51cmwgPyBhcGkucHJvY2VzcyA6IG51bGw7XG5cbiAgICAvLyBzcGVjaWFsIHRyZWF0bWVudCBmb3IgcmVtb3ZlXG4gICAgYXBpLnJlbW92ZSA9IG91dGxpbmUucmVtb3ZlIHx8IG51bGw7XG5cbiAgICAvLyByZW1vdmUgZ2VuZXJpYyBoZWFkZXJzIGZyb20gYXBpIG9iamVjdFxuICAgIGRlbGV0ZSBhcGkuaGVhZGVycztcblxuICAgIHJldHVybiBhcGk7XG59O1xuXG5jb25zdCBjcmVhdGVBY3Rpb24gPSAobmFtZSwgb3V0bGluZSwgbWV0aG9kLCB0aW1lb3V0LCBoZWFkZXJzKSA9PiB7XG4gICAgLy8gaXMgZXhwbGljaXRlbHkgc2V0IHRvIG51bGwgc28gZGlzYWJsZVxuICAgIGlmIChvdXRsaW5lID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIGlmIGlzIGN1c3RvbSBmdW5jdGlvbiwgZG9uZSEgRGV2IGhhbmRsZXMgZXZlcnl0aGluZy5cbiAgICBpZiAodHlwZW9mIG91dGxpbmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG91dGxpbmU7XG4gICAgfVxuXG4gICAgLy8gYnVpbGQgYWN0aW9uIG9iamVjdFxuICAgIGNvbnN0IGFjdGlvbiA9IHtcbiAgICAgICAgdXJsOiBtZXRob2QgPT09ICdHRVQnIHx8IG1ldGhvZCA9PT0gJ1BBVENIJyA/IGA/JHtuYW1lfT1gIDogJycsXG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICAgICAgdGltZW91dCxcbiAgICAgICAgb25sb2FkOiBudWxsLFxuICAgICAgICBvbmRhdGE6IG51bGwsXG4gICAgICAgIG9uZXJyb3I6IG51bGwsXG4gICAgfTtcblxuICAgIC8vIGlzIGEgc2luZ2xlIHVybFxuICAgIGlmIChpc1N0cmluZyhvdXRsaW5lKSkge1xuICAgICAgICBhY3Rpb24udXJsID0gb3V0bGluZTtcbiAgICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9XG5cbiAgICAvLyBvdmVyd3JpdGVcbiAgICBPYmplY3QuYXNzaWduKGFjdGlvbiwgb3V0bGluZSk7XG5cbiAgICAvLyBzZWUgaWYgc2hvdWxkIHJlZm9ybWF0IGhlYWRlcnM7XG4gICAgaWYgKGlzU3RyaW5nKGFjdGlvbi5oZWFkZXJzKSkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGFjdGlvbi5oZWFkZXJzLnNwbGl0KC86KC4rKS8pO1xuICAgICAgICBhY3Rpb24uaGVhZGVycyA9IHtcbiAgICAgICAgICAgIGhlYWRlcjogcGFydHNbMF0sXG4gICAgICAgICAgICB2YWx1ZTogcGFydHNbMV0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gaWYgaXMgYm9vbCB3aXRoQ3JlZGVudGlhbHNcbiAgICBhY3Rpb24ud2l0aENyZWRlbnRpYWxzID0gdG9Cb29sZWFuKGFjdGlvbi53aXRoQ3JlZGVudGlhbHMpO1xuXG4gICAgcmV0dXJuIGFjdGlvbjtcbn07XG5cbmNvbnN0IHRvU2VydmVyQVBJID0gdmFsdWUgPT4gY3JlYXRlU2VydmVyQVBJKHZhbHVlKTtcblxuY29uc3QgaXNOdWxsID0gdmFsdWUgPT4gdmFsdWUgPT09IG51bGw7XG5cbmNvbnN0IGlzT2JqZWN0ID0gdmFsdWUgPT4gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbDtcblxuY29uc3QgaXNBUEkgPSB2YWx1ZSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgaXNPYmplY3QodmFsdWUpICYmXG4gICAgICAgIGlzU3RyaW5nKHZhbHVlLnVybCkgJiZcbiAgICAgICAgaXNPYmplY3QodmFsdWUucHJvY2VzcykgJiZcbiAgICAgICAgaXNPYmplY3QodmFsdWUucmV2ZXJ0KSAmJlxuICAgICAgICBpc09iamVjdCh2YWx1ZS5yZXN0b3JlKSAmJlxuICAgICAgICBpc09iamVjdCh2YWx1ZS5mZXRjaClcbiAgICApO1xufTtcblxuY29uc3QgZ2V0VHlwZSA9IHZhbHVlID0+IHtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICdhcnJheSc7XG4gICAgfVxuXG4gICAgaWYgKGlzTnVsbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9XG5cbiAgICBpZiAoaXNJbnQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAnaW50JztcbiAgICB9XG5cbiAgICBpZiAoL15bMC05XSsgPyg/OkdCfE1CfEtCKSQvZ2kudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICdieXRlcyc7XG4gICAgfVxuXG4gICAgaWYgKGlzQVBJKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gJ2FwaSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZTtcbn07XG5cbmNvbnN0IHJlcGxhY2VTaW5nbGVRdW90ZXMgPSBzdHIgPT5cbiAgICBzdHJcbiAgICAgICAgLnJlcGxhY2UoL3tcXHMqJy9nLCAne1wiJylcbiAgICAgICAgLnJlcGxhY2UoLydcXHMqfS9nLCAnXCJ9JylcbiAgICAgICAgLnJlcGxhY2UoLydcXHMqOi9nLCAnXCI6JylcbiAgICAgICAgLnJlcGxhY2UoLzpcXHMqJy9nLCAnOlwiJylcbiAgICAgICAgLnJlcGxhY2UoLyxcXHMqJy9nLCAnLFwiJylcbiAgICAgICAgLnJlcGxhY2UoLydcXHMqLC9nLCAnXCIsJyk7XG5cbmNvbnN0IGNvbnZlcnNpb25UYWJsZSA9IHtcbiAgICBhcnJheTogdG9BcnJheSxcbiAgICBib29sZWFuOiB0b0Jvb2xlYW4sXG4gICAgaW50OiB2YWx1ZSA9PiAoZ2V0VHlwZSh2YWx1ZSkgPT09ICdieXRlcycgPyB0b0J5dGVzKHZhbHVlKSA6IHRvSW50KHZhbHVlKSksXG4gICAgbnVtYmVyOiB0b0Zsb2F0LFxuICAgIGZsb2F0OiB0b0Zsb2F0LFxuICAgIGJ5dGVzOiB0b0J5dGVzLFxuICAgIHN0cmluZzogdmFsdWUgPT4gKGlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUgOiB0b1N0cmluZyh2YWx1ZSkpLFxuICAgIGZ1bmN0aW9uOiB2YWx1ZSA9PiB0b0Z1bmN0aW9uUmVmZXJlbmNlKHZhbHVlKSxcbiAgICBzZXJ2ZXJhcGk6IHRvU2VydmVyQVBJLFxuICAgIG9iamVjdDogdmFsdWUgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVwbGFjZVNpbmdsZVF1b3Rlcyh2YWx1ZSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG5jb25zdCBjb252ZXJ0VG8gPSAodmFsdWUsIHR5cGUpID0+IGNvbnZlcnNpb25UYWJsZVt0eXBlXSh2YWx1ZSk7XG5cbmNvbnN0IGdldFZhbHVlQnlUeXBlID0gKG5ld1ZhbHVlLCBkZWZhdWx0VmFsdWUsIHZhbHVlVHlwZSkgPT4ge1xuICAgIC8vIGNhbiBhbHdheXMgYXNzaWduIGRlZmF1bHQgdmFsdWVcbiAgICBpZiAobmV3VmFsdWUgPT09IGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3VmFsdWU7XG4gICAgfVxuXG4gICAgLy8gZ2V0IHRoZSB0eXBlIG9mIHRoZSBuZXcgdmFsdWVcbiAgICBsZXQgbmV3VmFsdWVUeXBlID0gZ2V0VHlwZShuZXdWYWx1ZSk7XG5cbiAgICAvLyBpcyB2YWxpZCB0eXBlP1xuICAgIGlmIChuZXdWYWx1ZVR5cGUgIT09IHZhbHVlVHlwZSkge1xuICAgICAgICAvLyBpcyBzdHJpbmcgaW5wdXQsIGxldCdzIGF0dGVtcHQgdG8gY29udmVydFxuICAgICAgICBjb25zdCBjb252ZXJ0ZWRWYWx1ZSA9IGNvbnZlcnRUbyhuZXdWYWx1ZSwgdmFsdWVUeXBlKTtcblxuICAgICAgICAvLyB3aGF0IGlzIHRoZSB0eXBlIG5vd1xuICAgICAgICBuZXdWYWx1ZVR5cGUgPSBnZXRUeXBlKGNvbnZlcnRlZFZhbHVlKTtcblxuICAgICAgICAvLyBubyB2YWxpZCBjb252ZXJzaW9ucyBmb3VuZFxuICAgICAgICBpZiAoY29udmVydGVkVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGBUcnlpbmcgdG8gYXNzaWduIHZhbHVlIHdpdGggaW5jb3JyZWN0IHR5cGUgdG8gXCIke29wdGlvbn1cIiwgYWxsb3dlZCB0eXBlOiBcIiR7dmFsdWVUeXBlfVwiYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY29udmVydGVkVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhc3NpZ24gbmV3IHZhbHVlXG4gICAgcmV0dXJuIG5ld1ZhbHVlO1xufTtcblxuY29uc3QgY3JlYXRlT3B0aW9uID0gKGRlZmF1bHRWYWx1ZSwgdmFsdWVUeXBlKSA9PiB7XG4gICAgbGV0IGN1cnJlbnRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGN1cnJlbnRWYWx1ZSxcbiAgICAgICAgc2V0OiBuZXdWYWx1ZSA9PiB7XG4gICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBnZXRWYWx1ZUJ5VHlwZShuZXdWYWx1ZSwgZGVmYXVsdFZhbHVlLCB2YWx1ZVR5cGUpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuXG5jb25zdCBjcmVhdGVPcHRpb25zID0gb3B0aW9ucyA9PiB7XG4gICAgY29uc3Qgb2JqID0ge307XG4gICAgZm9yaW4ob3B0aW9ucywgcHJvcCA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbkRlZmluaXRpb24gPSBvcHRpb25zW3Byb3BdO1xuICAgICAgICBvYmpbcHJvcF0gPSBjcmVhdGVPcHRpb24ob3B0aW9uRGVmaW5pdGlvblswXSwgb3B0aW9uRGVmaW5pdGlvblsxXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNyZWF0ZU9iamVjdChvYmopO1xufTtcblxuY29uc3QgY3JlYXRlSW5pdGlhbFN0YXRlID0gb3B0aW9ucyA9PiAoe1xuICAgIC8vIG1vZGVsXG4gICAgaXRlbXM6IFtdLFxuXG4gICAgLy8gdGltZW91dCB1c2VkIGZvciBjYWxsaW5nIHVwZGF0ZSBpdGVtc1xuICAgIGxpc3RVcGRhdGVUaW1lb3V0OiBudWxsLFxuXG4gICAgLy8gdGltZW91dCB1c2VkIGZvciBzdGFja2luZyBtZXRhZGF0YSB1cGRhdGVzXG4gICAgaXRlbVVwZGF0ZVRpbWVvdXQ6IG51bGwsXG5cbiAgICAvLyBxdWV1ZSBvZiBpdGVtcyB3YWl0aW5nIHRvIGJlIHByb2Nlc3NlZFxuICAgIHByb2Nlc3NpbmdRdWV1ZTogW10sXG5cbiAgICAvLyBvcHRpb25zXG4gICAgb3B0aW9uczogY3JlYXRlT3B0aW9ucyhvcHRpb25zKSxcbn0pO1xuXG5jb25zdCBmcm9tQ2FtZWxzID0gKHN0cmluZywgc2VwYXJhdG9yID0gJy0nKSA9PlxuICAgIHN0cmluZ1xuICAgICAgICAuc3BsaXQoLyg/PVtBLVpdKS8pXG4gICAgICAgIC5tYXAocGFydCA9PiBwYXJ0LnRvTG93ZXJDYXNlKCkpXG4gICAgICAgIC5qb2luKHNlcGFyYXRvcik7XG5cbmNvbnN0IGNyZWF0ZU9wdGlvbkFQSSA9IChzdG9yZSwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIGZvcmluKG9wdGlvbnMsIGtleSA9PiB7XG4gICAgICAgIG9ialtrZXldID0ge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiBzdG9yZS5nZXRTdGF0ZSgpLm9wdGlvbnNba2V5XSxcbiAgICAgICAgICAgIHNldDogdmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGBTRVRfJHtmcm9tQ2FtZWxzKGtleSwgJ18nKS50b1VwcGVyQ2FzZSgpfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59O1xuXG5jb25zdCBjcmVhdGVPcHRpb25BY3Rpb25zID0gb3B0aW9ucyA9PiAoZGlzcGF0Y2gsIHF1ZXJ5LCBzdGF0ZSkgPT4ge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIGZvcmluKG9wdGlvbnMsIGtleSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBmcm9tQ2FtZWxzKGtleSwgJ18nKS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgIG9ialtgU0VUXyR7bmFtZX1gXSA9IGFjdGlvbiA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnNba2V5XSA9IGFjdGlvbi52YWx1ZTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBub3BlLCBmYWlsZWRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gd2Ugc3VjY2Vzc2Z1bGx5IHNldCB0aGUgdmFsdWUgb2YgdGhpcyBvcHRpb25cbiAgICAgICAgICAgIGRpc3BhdGNoKGBESURfU0VUXyR7bmFtZX1gLCB7IHZhbHVlOiBzdGF0ZS5vcHRpb25zW2tleV0gfSk7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn07XG5cbmNvbnN0IGNyZWF0ZU9wdGlvblF1ZXJpZXMgPSBvcHRpb25zID0+IHN0YXRlID0+IHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBmb3JpbihvcHRpb25zLCBrZXkgPT4ge1xuICAgICAgICBvYmpbYEdFVF8ke2Zyb21DYW1lbHMoa2V5LCAnXycpLnRvVXBwZXJDYXNlKCl9YF0gPSBhY3Rpb24gPT4gc3RhdGUub3B0aW9uc1trZXldO1xuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59O1xuXG5jb25zdCBJbnRlcmFjdGlvbk1ldGhvZCA9IHtcbiAgICBBUEk6IDEsXG4gICAgRFJPUDogMixcbiAgICBCUk9XU0U6IDMsXG4gICAgUEFTVEU6IDQsXG4gICAgTk9ORTogNSxcbn07XG5cbmNvbnN0IGdldFVuaXF1ZUlkID0gKCkgPT5cbiAgICBNYXRoLnJhbmRvbSgpXG4gICAgICAgIC50b1N0cmluZygzNilcbiAgICAgICAgLnN1YnN0cmluZygyLCAxMSk7XG5cbmNvbnN0IGFycmF5UmVtb3ZlID0gKGFyciwgaW5kZXgpID0+IGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuXG5jb25zdCBydW4gPSAoY2IsIHN5bmMpID0+IHtcbiAgICBpZiAoc3luYykge1xuICAgICAgICBjYigpO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgxKS50aGVuKGNiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KGNiLCAwKTtcbiAgICB9XG59O1xuXG5jb25zdCBvbiA9ICgpID0+IHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBbXTtcbiAgICBjb25zdCBvZmYgPSAoZXZlbnQsIGNiKSA9PiB7XG4gICAgICAgIGFycmF5UmVtb3ZlKFxuICAgICAgICAgICAgbGlzdGVuZXJzLFxuICAgICAgICAgICAgbGlzdGVuZXJzLmZpbmRJbmRleChsaXN0ZW5lciA9PiBsaXN0ZW5lci5ldmVudCA9PT0gZXZlbnQgJiYgKGxpc3RlbmVyLmNiID09PSBjYiB8fCAhY2IpKVxuICAgICAgICApO1xuICAgIH07XG4gICAgY29uc3QgZmlyZSA9IChldmVudCwgYXJncywgc3luYykgPT4ge1xuICAgICAgICBsaXN0ZW5lcnNcbiAgICAgICAgICAgIC5maWx0ZXIobGlzdGVuZXIgPT4gbGlzdGVuZXIuZXZlbnQgPT09IGV2ZW50KVxuICAgICAgICAgICAgLm1hcChsaXN0ZW5lciA9PiBsaXN0ZW5lci5jYilcbiAgICAgICAgICAgIC5mb3JFYWNoKGNiID0+IHJ1bigoKSA9PiBjYiguLi5hcmdzKSwgc3luYykpO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmlyZVN5bmM6IChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgZmlyZShldmVudCwgYXJncywgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZpcmU6IChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgZmlyZShldmVudCwgYXJncywgZmFsc2UpO1xuICAgICAgICB9LFxuICAgICAgICBvbjogKGV2ZW50LCBjYikgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goeyBldmVudCwgY2IgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uT25jZTogKGV2ZW50LCBjYikgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgIGNiOiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvZmYoZXZlbnQsIGNiKTtcbiAgICAgICAgICAgICAgICAgICAgY2IoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvZmYsXG4gICAgfTtcbn07XG5cbmNvbnN0IGNvcHlPYmplY3RQcm9wZXJ0aWVzVG9PYmplY3QgPSAoc3JjLCB0YXJnZXQsIGV4Y2x1ZGVkKSA9PiB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc3JjKVxuICAgICAgICAuZmlsdGVyKHByb3BlcnR5ID0+ICFleGNsdWRlZC5pbmNsdWRlcyhwcm9wZXJ0eSkpXG4gICAgICAgIC5mb3JFYWNoKGtleSA9PlxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNyYywga2V5KSlcbiAgICAgICAgKTtcbn07XG5cbmNvbnN0IFBSSVZBVEUgPSBbXG4gICAgJ2ZpcmUnLFxuICAgICdwcm9jZXNzJyxcbiAgICAncmV2ZXJ0JyxcbiAgICAnbG9hZCcsXG4gICAgJ29uJyxcbiAgICAnb2ZmJyxcbiAgICAnb25PbmNlJyxcbiAgICAncmV0cnlMb2FkJyxcbiAgICAnZXh0ZW5kJyxcbiAgICAnYXJjaGl2ZScsXG4gICAgJ2FyY2hpdmVkJyxcbiAgICAncmVsZWFzZScsXG4gICAgJ3JlbGVhc2VkJyxcbiAgICAncmVxdWVzdFByb2Nlc3NpbmcnLFxuICAgICdmcmVlemUnLFxuXTtcblxuY29uc3QgY3JlYXRlSXRlbUFQSSA9IGl0ZW0gPT4ge1xuICAgIGNvbnN0IGFwaSA9IHt9O1xuICAgIGNvcHlPYmplY3RQcm9wZXJ0aWVzVG9PYmplY3QoaXRlbSwgYXBpLCBQUklWQVRFKTtcbiAgICByZXR1cm4gYXBpO1xufTtcblxuY29uc3QgcmVtb3ZlUmVsZWFzZWRJdGVtcyA9IGl0ZW1zID0+IHtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoaXRlbS5yZWxlYXNlZCkge1xuICAgICAgICAgICAgYXJyYXlSZW1vdmUoaXRlbXMsIGluZGV4KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuY29uc3QgSXRlbVN0YXR1cyA9IHtcbiAgICBJTklUOiAxLFxuICAgIElETEU6IDIsXG4gICAgUFJPQ0VTU0lOR19RVUVVRUQ6IDksXG4gICAgUFJPQ0VTU0lORzogMyxcbiAgICBQUk9DRVNTSU5HX0NPTVBMRVRFOiA1LFxuICAgIFBST0NFU1NJTkdfRVJST1I6IDYsXG4gICAgUFJPQ0VTU0lOR19SRVZFUlRfRVJST1I6IDEwLFxuICAgIExPQURJTkc6IDcsXG4gICAgTE9BRF9FUlJPUjogOCxcbn07XG5cbmNvbnN0IEZpbGVPcmlnaW4gPSB7XG4gICAgSU5QVVQ6IDEsXG4gICAgTElNQk86IDIsXG4gICAgTE9DQUw6IDMsXG59O1xuXG5jb25zdCBnZXROb25OdW1lcmljID0gc3RyID0+IC9bXjAtOV0rLy5leGVjKHN0cik7XG5cbmNvbnN0IGdldERlY2ltYWxTZXBhcmF0b3IgPSAoKSA9PiBnZXROb25OdW1lcmljKCgxLjEpLnRvTG9jYWxlU3RyaW5nKCkpWzBdO1xuXG5jb25zdCBnZXRUaG91c2FuZHNTZXBhcmF0b3IgPSAoKSA9PiB7XG4gICAgLy8gQWRkZWQgZm9yIGJyb3dzZXJzIHRoYXQgZG8gbm90IHJldHVybiB0aGUgdGhvdXNhbmRzIHNlcGFyYXRvciAoaGFwcGVuZCBvbiBuYXRpdmUgYnJvd3NlciBBbmRyb2lkIDQuNC40KVxuICAgIC8vIFdlIGNoZWNrIGFnYWluc3QgdGhlIG5vcm1hbCB0b1N0cmluZyBvdXRwdXQgYW5kIGlmIHRoZXkncmUgdGhlIHNhbWUgcmV0dXJuIGEgY29tbWEgd2hlbiBkZWNpbWFsIHNlcGFyYXRvciBpcyBhIGRvdFxuICAgIGNvbnN0IGRlY2ltYWxTZXBhcmF0b3IgPSBnZXREZWNpbWFsU2VwYXJhdG9yKCk7XG4gICAgY29uc3QgdGhvdXNhbmRzU3RyaW5nV2l0aFNlcGFyYXRvciA9ICgxMDAwLjApLnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgY29uc3QgdGhvdXNhbmRzU3RyaW5nV2l0aG91dFNlcGFyYXRvciA9ICgxMDAwLjApLnRvU3RyaW5nKCk7XG4gICAgaWYgKHRob3VzYW5kc1N0cmluZ1dpdGhTZXBhcmF0b3IgIT09IHRob3VzYW5kc1N0cmluZ1dpdGhvdXRTZXBhcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIGdldE5vbk51bWVyaWModGhvdXNhbmRzU3RyaW5nV2l0aFNlcGFyYXRvcilbMF07XG4gICAgfVxuICAgIHJldHVybiBkZWNpbWFsU2VwYXJhdG9yID09PSAnLicgPyAnLCcgOiAnLic7XG59O1xuXG5jb25zdCBUeXBlID0ge1xuICAgIEJPT0xFQU46ICdib29sZWFuJyxcbiAgICBJTlQ6ICdpbnQnLFxuICAgIE5VTUJFUjogJ251bWJlcicsXG4gICAgU1RSSU5HOiAnc3RyaW5nJyxcbiAgICBBUlJBWTogJ2FycmF5JyxcbiAgICBPQkpFQ1Q6ICdvYmplY3QnLFxuICAgIEZVTkNUSU9OOiAnZnVuY3Rpb24nLFxuICAgIEFDVElPTjogJ2FjdGlvbicsXG4gICAgU0VSVkVSX0FQSTogJ3NlcnZlcmFwaScsXG4gICAgUkVHRVg6ICdyZWdleCcsXG59O1xuXG4vLyBhbGwgcmVnaXN0ZXJlZCBmaWx0ZXJzXG5jb25zdCBmaWx0ZXJzID0gW107XG5cbi8vIGxvb3BzIG92ZXIgbWF0Y2hpbmcgZmlsdGVycyBhbmQgcGFzc2VzIG9wdGlvbnMgdG8gZWFjaCBmaWx0ZXIsIHJldHVybmluZyB0aGUgbWFwcGVkIHJlc3VsdHNcbmNvbnN0IGFwcGx5RmlsdGVyQ2hhaW4gPSAoa2V5LCB2YWx1ZSwgdXRpbHMpID0+XG4gICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBmaW5kIG1hdGNoaW5nIGZpbHRlcnMgZm9yIHRoaXMga2V5XG4gICAgICAgIGNvbnN0IG1hdGNoaW5nRmlsdGVycyA9IGZpbHRlcnMuZmlsdGVyKGYgPT4gZi5rZXkgPT09IGtleSkubWFwKGYgPT4gZi5jYik7XG5cbiAgICAgICAgLy8gcmVzb2x2ZSBub3dcbiAgICAgICAgaWYgKG1hdGNoaW5nRmlsdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlyc3QgZmlsdGVyIHRvIGtpY2sgdGhpbmdzIG9mXG4gICAgICAgIGNvbnN0IGluaXRpYWxGaWx0ZXIgPSBtYXRjaGluZ0ZpbHRlcnMuc2hpZnQoKTtcblxuICAgICAgICAvLyBjaGFpbiBmaWx0ZXJzXG4gICAgICAgIG1hdGNoaW5nRmlsdGVyc1xuICAgICAgICAgICAgLnJlZHVjZShcbiAgICAgICAgICAgICAgICAvLyBsb29wIG92ZXIgcHJvbWlzZXMgcGFzc2luZyB2YWx1ZSB0byBuZXh0IHByb21pc2VcbiAgICAgICAgICAgICAgICAoY3VycmVudCwgbmV4dCkgPT4gY3VycmVudC50aGVuKHZhbHVlID0+IG5leHQodmFsdWUsIHV0aWxzKSksXG5cbiAgICAgICAgICAgICAgICAvLyBjYWxsIGluaXRpYWwgZmlsdGVyLCB3aWxsIHJldHVybiBhIHByb21pc2VcbiAgICAgICAgICAgICAgICBpbml0aWFsRmlsdGVyKHZhbHVlLCB1dGlscylcblxuICAgICAgICAgICAgICAgIC8vIGFsbCBleGVjdXRlZFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4odmFsdWUgPT4gcmVzb2x2ZSh2YWx1ZSkpXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gcmVqZWN0KGVycm9yKSk7XG4gICAgfSk7XG5cbmNvbnN0IGFwcGx5RmlsdGVycyA9IChrZXksIHZhbHVlLCB1dGlscykgPT5cbiAgICBmaWx0ZXJzLmZpbHRlcihmID0+IGYua2V5ID09PSBrZXkpLm1hcChmID0+IGYuY2IodmFsdWUsIHV0aWxzKSk7XG5cbi8vIGFkZHMgYSBuZXcgZmlsdGVyIHRvIHRoZSBsaXN0XG5jb25zdCBhZGRGaWx0ZXIgPSAoa2V5LCBjYikgPT4gZmlsdGVycy5wdXNoKHsga2V5LCBjYiB9KTtcblxuY29uc3QgZXh0ZW5kRGVmYXVsdE9wdGlvbnMgPSBhZGRpdGlvbmFsT3B0aW9ucyA9PiBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCBhZGRpdGlvbmFsT3B0aW9ucyk7XG5cbmNvbnN0IGdldE9wdGlvbnMgPSAoKSA9PiAoeyAuLi5kZWZhdWx0T3B0aW9ucyB9KTtcblxuY29uc3Qgc2V0T3B0aW9ucyA9IG9wdHMgPT4ge1xuICAgIGZvcmluKG9wdHMsIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIC8vIGtleSBkb2VzIG5vdCBleGlzdCwgc28gdGhpcyBvcHRpb24gY2Fubm90IGJlIHNldFxuICAgICAgICBpZiAoIWRlZmF1bHRPcHRpb25zW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0T3B0aW9uc1trZXldWzBdID0gZ2V0VmFsdWVCeVR5cGUoXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zW2tleV1bMF0sXG4gICAgICAgICAgICBkZWZhdWx0T3B0aW9uc1trZXldWzFdXG4gICAgICAgICk7XG4gICAgfSk7XG59O1xuXG4vLyBkZWZhdWx0IG9wdGlvbnMgb24gYXBwXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAvLyB0aGUgaWQgdG8gYWRkIHRvIHRoZSByb290IGVsZW1lbnRcbiAgICBpZDogW251bGwsIFR5cGUuU1RSSU5HXSxcblxuICAgIC8vIGlucHV0IGZpZWxkIG5hbWUgdG8gdXNlXG4gICAgbmFtZTogWydmaWxlcG9uZCcsIFR5cGUuU1RSSU5HXSxcblxuICAgIC8vIGRpc2FibGUgdGhlIGZpZWxkXG4gICAgZGlzYWJsZWQ6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSxcblxuICAgIC8vIGNsYXNzbmFtZSB0byBwdXQgb24gd3JhcHBlclxuICAgIGNsYXNzTmFtZTogW251bGwsIFR5cGUuU1RSSU5HXSxcblxuICAgIC8vIGlzIHRoZSBmaWVsZCByZXF1aXJlZFxuICAgIHJlcXVpcmVkOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAvLyBBbGxvdyBtZWRpYSBjYXB0dXJlIHdoZW4gdmFsdWUgaXMgc2V0XG4gICAgY2FwdHVyZU1ldGhvZDogW251bGwsIFR5cGUuU1RSSU5HXSxcbiAgICAvLyAtIFwiY2FtZXJhXCIsIFwibWljcm9waG9uZVwiIG9yIFwiY2FtY29yZGVyXCIsXG4gICAgLy8gLSBEb2VzIG5vdCB3b3JrIHdpdGggbXVsdGlwbGUgb24gYXBwbGUgZGV2aWNlc1xuICAgIC8vIC0gSWYgc2V0LCBhY2NlcHRlZEZpbGVUeXBlcyBtdXN0IGJlIG1hZGUgdG8gbWF0Y2ggd2l0aCBtZWRpYSB3aWxkY2FyZCBcImltYWdlLypcIiwgXCJhdWRpby8qXCIgb3IgXCJ2aWRlby8qXCJcblxuICAgIC8vIHN5bmMgYGFjY2VwdGVkRmlsZVR5cGVzYCBwcm9wZXJ0eSB3aXRoIGBhY2NlcHRgIGF0dHJpYnV0ZVxuICAgIGFsbG93U3luY0FjY2VwdEF0dHJpYnV0ZTogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAvLyBGZWF0dXJlIHRvZ2dsZXNcbiAgICBhbGxvd0Ryb3A6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyBkcm9wcGluZyBvZiBmaWxlc1xuICAgIGFsbG93QnJvd3NlOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgYnJvd3NpbmcgdGhlIGZpbGUgc3lzdGVtXG4gICAgYWxsb3dQYXN0ZTogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IHBhc3RpbmcgZmlsZXNcbiAgICBhbGxvd011bHRpcGxlOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IG11bHRpcGxlIGZpbGVzIChkaXNhYmxlZCBieSBkZWZhdWx0LCBhcyBtdWx0aXBsZSBhdHRyaWJ1dGUgaXMgYWxzbyByZXF1aXJlZCBvbiBpbnB1dCB0byBhbGxvdyBtdWx0aXBsZSlcbiAgICBhbGxvd1JlcGxhY2U6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyBkcm9wcGluZyBhIGZpbGUgb24gb3RoZXIgZmlsZSB0byByZXBsYWNlIGl0IChvbmx5IHdvcmtzIHdoZW4gbXVsdGlwbGUgaXMgc2V0IHRvIGZhbHNlKVxuICAgIGFsbG93UmV2ZXJ0OiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3dzIHVzZXIgdG8gcmV2ZXJ0IGZpbGUgdXBsb2FkXG4gICAgYWxsb3dSZW1vdmU6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyB1c2VyIHRvIHJlbW92ZSBhIGZpbGVcbiAgICBhbGxvd1Byb2Nlc3M6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvd3MgdXNlciB0byBwcm9jZXNzIGEgZmlsZSwgd2hlbiBzZXQgdG8gZmFsc2UsIHRoaXMgcmVtb3ZlcyB0aGUgZmlsZSB1cGxvYWQgYnV0dG9uXG4gICAgYWxsb3dSZW9yZGVyOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IHJlb3JkZXJpbmcgb2YgZmlsZXNcbiAgICBhbGxvd0RpcmVjdG9yaWVzT25seTogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyBvbmx5IHNlbGVjdGluZyBkaXJlY3RvcmllcyB3aXRoIGJyb3dzZSAobm8gc3VwcG9ydCBmb3IgZmlsdGVyaW5nIGRuZCBhdCB0aGlzIHBvaW50KVxuXG4gICAgLy8gVHJ5IHN0b3JlIGZpbGUgaWYgYHNlcnZlcmAgbm90IHNldFxuICAgIHN0b3JlQXNGaWxlOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAvLyBSZXZlcnQgbW9kZVxuICAgIGZvcmNlUmV2ZXJ0OiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIFNldCB0byAnZm9yY2UnIHRvIHJlcXVpcmUgdGhlIGZpbGUgdG8gYmUgcmV2ZXJ0ZWQgYmVmb3JlIHJlbW92YWxcblxuICAgIC8vIElucHV0IHJlcXVpcmVtZW50c1xuICAgIG1heEZpbGVzOiBbbnVsbCwgVHlwZS5JTlRdLCAvLyBNYXggbnVtYmVyIG9mIGZpbGVzXG4gICAgY2hlY2tWYWxpZGl0eTogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBFbmFibGVzIGN1c3RvbSB2YWxpZGl0eSBtZXNzYWdlc1xuXG4gICAgLy8gV2hlcmUgdG8gcHV0IGZpbGVcbiAgICBpdGVtSW5zZXJ0TG9jYXRpb25GcmVlZG9tOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gU2V0IHRvIGZhbHNlIHRvIGFsd2F5cyBhZGQgaXRlbXMgdG8gYmVnaW4gb3IgZW5kIG9mIGxpc3RcbiAgICBpdGVtSW5zZXJ0TG9jYXRpb246IFsnYmVmb3JlJywgVHlwZS5TVFJJTkddLCAvLyBEZWZhdWx0IGluZGV4IGluIGxpc3QgdG8gYWRkIGl0ZW1zIHRoYXQgaGF2ZSBiZWVuIGRyb3BwZWQgYXQgdGhlIHRvcCBvZiB0aGUgbGlzdFxuICAgIGl0ZW1JbnNlcnRJbnRlcnZhbDogWzc1LCBUeXBlLklOVF0sXG5cbiAgICAvLyBEcmFnICduIERyb3AgcmVsYXRlZFxuICAgIGRyb3BPblBhZ2U6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgZHJvcHBpbmcgb2YgZmlsZXMgYW55d2hlcmUgb24gcGFnZSAocHJldmVudHMgYnJvd3NlciBmcm9tIG9wZW5pbmcgZmlsZSBpZiBkcm9wcGVkIG91dHNpZGUgb2YgVXApXG4gICAgZHJvcE9uRWxlbWVudDogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIERyb3AgbmVlZHMgdG8gaGFwcGVuIG9uIGVsZW1lbnQgKHNldCB0byBmYWxzZSB0byBhbHNvIGxvYWQgZHJvcHMgb3V0c2lkZSBvZiBVcClcbiAgICBkcm9wVmFsaWRhdGlvbjogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBFbmFibGUgb3IgZGlzYWJsZSB2YWxpZGF0aW5nIGZpbGVzIG9uIGRyb3BcbiAgICBpZ25vcmVkRmlsZXM6IFtbJy5kc19zdG9yZScsICd0aHVtYnMuZGInLCAnZGVza3RvcC5pbmknXSwgVHlwZS5BUlJBWV0sXG5cbiAgICAvLyBVcGxvYWQgcmVsYXRlZFxuICAgIGluc3RhbnRVcGxvYWQ6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBTaG91bGQgdXBsb2FkIGZpbGVzIGltbWVkaWF0ZWx5IG9uIGRyb3BcbiAgICBtYXhQYXJhbGxlbFVwbG9hZHM6IFsyLCBUeXBlLklOVF0sIC8vIE1heGltdW0gZmlsZXMgdG8gdXBsb2FkIGluIHBhcmFsbGVsXG4gICAgYWxsb3dNaW5pbXVtVXBsb2FkRHVyYXRpb246IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBpZiB0cnVlIHVwbG9hZHMgdGFrZSBhdCBsZWFzdCA3NTAgbXMsIHRoaXMgZW5zdXJlcyB0aGUgdXNlciBzZWVzIHRoZSB1cGxvYWQgcHJvZ3Jlc3MgZ2l2aW5nIHRydXN0IHRoZSB1cGxvYWQgYWN0dWFsbHkgaGFwcGVuZWRcblxuICAgIC8vIENodW5rc1xuICAgIGNodW5rVXBsb2FkczogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBFbmFibGUgY2h1bmtlZCB1cGxvYWRzXG4gICAgY2h1bmtGb3JjZTogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBGb3JjZSB1c2Ugb2YgY2h1bmsgdXBsb2FkcyBldmVuIGZvciBmaWxlcyBzbWFsbGVyIHRoYW4gY2h1bmsgc2l6ZVxuICAgIGNodW5rU2l6ZTogWzUwMDAwMDAsIFR5cGUuSU5UXSwgLy8gU2l6ZSBvZiBjaHVua3MgKDVNQiBkZWZhdWx0KVxuICAgIGNodW5rUmV0cnlEZWxheXM6IFtbNTAwLCAxMDAwLCAzMDAwXSwgVHlwZS5BUlJBWV0sIC8vIEFtb3VudCBvZiB0aW1lcyB0byByZXRyeSB1cGxvYWQgb2YgYSBjaHVuayB3aGVuIGl0IGZhaWxzXG5cbiAgICAvLyBUaGUgc2VydmVyIGFwaSBlbmQgcG9pbnRzIHRvIHVzZSBmb3IgdXBsb2FkaW5nIChzZWUgZG9jcylcbiAgICBzZXJ2ZXI6IFtudWxsLCBUeXBlLlNFUlZFUl9BUEldLFxuXG4gICAgLy8gRmlsZSBzaXplIGNhbGN1bGF0aW9ucywgY2FuIHNldCB0byAxMDI0LCB0aGlzIGlzIG9ubHkgdXNlZCBmb3IgZGlzcGxheSwgcHJvcGVydGllcyB1c2UgZmlsZSBzaXplIGJhc2UgMTAwMFxuICAgIGZpbGVTaXplQmFzZTogWzEwMDAsIFR5cGUuSU5UXSxcblxuICAgIC8vIExhYmVscyBhbmQgc3RhdHVzIG1lc3NhZ2VzXG4gICAgbGFiZWxGaWxlU2l6ZUJ5dGVzOiBbJ2J5dGVzJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZVNpemVLaWxvYnl0ZXM6IFsnS0InLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlU2l6ZU1lZ2FieXRlczogWydNQicsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVTaXplR2lnYWJ5dGVzOiBbJ0dCJywgVHlwZS5TVFJJTkddLFxuXG4gICAgbGFiZWxEZWNpbWFsU2VwYXJhdG9yOiBbZ2V0RGVjaW1hbFNlcGFyYXRvcigpLCBUeXBlLlNUUklOR10sIC8vIERlZmF1bHQgaXMgbG9jYWxlIHNlcGFyYXRvclxuICAgIGxhYmVsVGhvdXNhbmRzU2VwYXJhdG9yOiBbZ2V0VGhvdXNhbmRzU2VwYXJhdG9yKCksIFR5cGUuU1RSSU5HXSwgLy8gRGVmYXVsdCBpcyBsb2NhbGUgc2VwYXJhdG9yXG5cbiAgICBsYWJlbElkbGU6IFtcbiAgICAgICAgJ0RyYWcgJiBEcm9wIHlvdXIgZmlsZXMgb3IgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+QnJvd3NlPC9zcGFuPicsXG4gICAgICAgIFR5cGUuU1RSSU5HLFxuICAgIF0sXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6IFsnRmllbGQgY29udGFpbnMgaW52YWxpZCBmaWxlcycsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogWydXYWl0aW5nIGZvciBzaXplJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6IFsnU2l6ZSBub3QgYXZhaWxhYmxlJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZUNvdW50U2luZ3VsYXI6IFsnZmlsZSBpbiBsaXN0JywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZUNvdW50UGx1cmFsOiBbJ2ZpbGVzIGluIGxpc3QnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlTG9hZGluZzogWydMb2FkaW5nJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZUFkZGVkOiBbJ0FkZGVkJywgVHlwZS5TVFJJTkddLCAvLyBhc3Npc3RpdmUgb25seVxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogWydFcnJvciBkdXJpbmcgbG9hZCcsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVSZW1vdmVkOiBbJ1JlbW92ZWQnLCBUeXBlLlNUUklOR10sIC8vIGFzc2lzdGl2ZSBvbmx5XG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6IFsnRXJyb3IgZHVyaW5nIHJlbW92ZScsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiBbJ1VwbG9hZGluZycsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6IFsnVXBsb2FkIGNvbXBsZXRlJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiBbJ1VwbG9hZCBjYW5jZWxsZWQnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yOiBbJ0Vycm9yIGR1cmluZyB1cGxvYWQnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiBbJ0Vycm9yIGR1cmluZyByZXZlcnQnLCBUeXBlLlNUUklOR10sXG5cbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiBbJ3RhcCB0byBjYW5jZWwnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxUYXBUb1JldHJ5OiBbJ3RhcCB0byByZXRyeScsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbFRhcFRvVW5kbzogWyd0YXAgdG8gdW5kbycsIFR5cGUuU1RSSU5HXSxcblxuICAgIGxhYmVsQnV0dG9uUmVtb3ZlSXRlbTogWydSZW1vdmUnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Mb2FkOiBbJ0Fib3J0JywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogWydSZXRyeScsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6IFsnQ2FuY2VsJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nOiBbJ1VuZG8nLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiBbJ1JldHJ5JywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06IFsnVXBsb2FkJywgVHlwZS5TVFJJTkddLFxuXG4gICAgLy8gbWFrZSBzdXJlIHdpZHRoIGFuZCBoZWlnaHQgcGx1cyB2aWV3cG94IGFyZSBldmVuIG51bWJlcnMgc28gaWNvbnMgYXJlIG5pY2VseSBjZW50ZXJlZFxuICAgIGljb25SZW1vdmU6IFtcbiAgICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTExLjU4NiAxM2wtMi4yOTMgMi4yOTNhMSAxIDAgMCAwIDEuNDE0IDEuNDE0TDEzIDE0LjQxNGwyLjI5MyAyLjI5M2ExIDEgMCAwIDAgMS40MTQtMS40MTRMMTQuNDE0IDEzbDIuMjkzLTIuMjkzYTEgMSAwIDAgMC0xLjQxNC0xLjQxNEwxMyAxMS41ODZsLTIuMjkzLTIuMjkzYTEgMSAwIDAgMC0xLjQxNCAxLjQxNEwxMS41ODYgMTN6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+JyxcbiAgICAgICAgVHlwZS5TVFJJTkcsXG4gICAgXSxcbiAgICBpY29uUHJvY2VzczogW1xuICAgICAgICAnPHN2ZyB3aWR0aD1cIjI2XCIgaGVpZ2h0PVwiMjZcIiB2aWV3Qm94PVwiMCAwIDI2IDI2XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTQgMTAuNDE0djMuNTg1YTEgMSAwIDAgMS0yIDB2LTMuNTg1bC0xLjI5MyAxLjI5M2ExIDEgMCAwIDEtMS40MTQtMS40MTVsMy0zYTEgMSAwIDAgMSAxLjQxNCAwbDMgM2ExIDEgMCAwIDEtMS40MTQgMS40MTVMMTQgMTAuNDE0ek05IDE4YTEgMSAwIDAgMSAwLTJoOGExIDEgMCAwIDEgMCAySDl6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+JyxcbiAgICAgICAgVHlwZS5TVFJJTkcsXG4gICAgXSxcbiAgICBpY29uUmV0cnk6IFtcbiAgICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTEwLjgxIDkuMTg1bC0uMDM4LjAyQTQuOTk3IDQuOTk3IDAgMCAwIDggMTMuNjgzYTUgNSAwIDAgMCA1IDUgNSA1IDAgMCAwIDUtNSAxIDEgMCAwIDEgMiAwQTcgNyAwIDEgMSA5LjcyMiA3LjQ5NmwtLjg0Mi0uMjFhLjk5OS45OTkgMCAxIDEgLjQ4NC0xLjk0bDMuMjMuODA2Yy41MzUuMTMzLjg2LjY3NS43MyAxLjIxbC0uODA0IDMuMjMzYS45OTcuOTk3IDAgMCAxLTEuMjEuNzMuOTk3Ljk5NyAwIDAgMS0uNzMtMS4yMWwuMjMtLjkyOHYtLjAwMnpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nLFxuICAgICAgICBUeXBlLlNUUklORyxcbiAgICBdLFxuICAgIGljb25VbmRvOiBbXG4gICAgICAgICc8c3ZnIHdpZHRoPVwiMjZcIiBoZWlnaHQ9XCIyNlwiIHZpZXdCb3g9XCIwIDAgMjYgMjZcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk05LjE4NSAxMC44MWwuMDItLjAzOEE0Ljk5NyA0Ljk5NyAwIDAgMSAxMy42ODMgOGE1IDUgMCAwIDEgNSA1IDUgNSAwIDAgMS01IDUgMSAxIDAgMCAwIDAgMkE3IDcgMCAxIDAgNy40OTYgOS43MjJsLS4yMS0uODQyYS45OTkuOTk5IDAgMSAwLTEuOTQuNDg0bC44MDYgMy4yM2MuMTMzLjUzNS42NzUuODYgMS4yMS43M2wzLjIzMy0uODAzYS45OTcuOTk3IDAgMCAwIC43My0xLjIxLjk5Ny45OTcgMCAwIDAtMS4yMS0uNzNsLS45MjguMjMtLjAwMi0uMDAxelwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIvPjwvc3ZnPicsXG4gICAgICAgIFR5cGUuU1RSSU5HLFxuICAgIF0sXG4gICAgaWNvbkRvbmU6IFtcbiAgICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE4LjI5MyA5LjI5M2ExIDEgMCAwIDEgMS40MTQgMS40MTRsLTcuMDAyIDdhMSAxIDAgMCAxLTEuNDE0IDBsLTMuOTk4LTRhMSAxIDAgMSAxIDEuNDE0LTEuNDE0TDEyIDE1LjU4Nmw2LjI5NC02LjI5M3pcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nLFxuICAgICAgICBUeXBlLlNUUklORyxcbiAgICBdLFxuXG4gICAgLy8gZXZlbnQgaGFuZGxlcnNcbiAgICBvbmluaXQ6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbndhcm5pbmc6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbmVycm9yOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25hY3RpdmF0ZWZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbmluaXRmaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25hZGRmaWxlc3RhcnQ6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbmFkZGZpbGVwcm9ncmVzczogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9uYWRkZmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucHJvY2Vzc2ZpbGVzdGFydDogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucHJvY2Vzc2ZpbGVwcm9ncmVzczogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucHJvY2Vzc2ZpbGVhYm9ydDogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucHJvY2Vzc2ZpbGVyZXZlcnQ6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbnByb2Nlc3NmaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25wcm9jZXNzZmlsZXM6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbnJlbW92ZWZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbnByZXBhcmVmaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb251cGRhdGVmaWxlczogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucmVvcmRlcmZpbGVzOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG5cbiAgICAvLyBob29rc1xuICAgIGJlZm9yZURyb3BGaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgYmVmb3JlQWRkRmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIGJlZm9yZVJlbW92ZUZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBiZWZvcmVQcmVwYXJlRmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuXG4gICAgLy8gc3R5bGVzXG4gICAgc3R5bGVQYW5lbExheW91dDogW251bGwsIFR5cGUuU1RSSU5HXSwgLy8gbnVsbCAnaW50ZWdyYXRlZCcsICdjb21wYWN0JywgJ2NpcmNsZSdcbiAgICBzdHlsZVBhbmVsQXNwZWN0UmF0aW86IFtudWxsLCBUeXBlLlNUUklOR10sIC8vIG51bGwgb3IgJzM6Micgb3IgMVxuICAgIHN0eWxlSXRlbVBhbmVsQXNwZWN0UmF0aW86IFtudWxsLCBUeXBlLlNUUklOR10sXG4gICAgc3R5bGVCdXR0b25SZW1vdmVJdGVtUG9zaXRpb246IFsnbGVmdCcsIFR5cGUuU1RSSU5HXSxcbiAgICBzdHlsZUJ1dHRvblByb2Nlc3NJdGVtUG9zaXRpb246IFsncmlnaHQnLCBUeXBlLlNUUklOR10sXG4gICAgc3R5bGVMb2FkSW5kaWNhdG9yUG9zaXRpb246IFsncmlnaHQnLCBUeXBlLlNUUklOR10sXG4gICAgc3R5bGVQcm9ncmVzc0luZGljYXRvclBvc2l0aW9uOiBbJ3JpZ2h0JywgVHlwZS5TVFJJTkddLFxuICAgIHN0eWxlQnV0dG9uUmVtb3ZlSXRlbUFsaWduOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAvLyBjdXN0b20gaW5pdGlhbCBmaWxlcyBhcnJheVxuICAgIGZpbGVzOiBbW10sIFR5cGUuQVJSQVldLFxuXG4gICAgLy8gc2hvdyBzdXBwb3J0IGJ5IGRpc3BsYXlpbmcgY3JlZGl0c1xuICAgIGNyZWRpdHM6IFtbJ2h0dHBzOi8vcHFpbmEubmwvJywgJ1Bvd2VyZWQgYnkgUFFJTkEnXSwgVHlwZS5BUlJBWV0sXG59O1xuXG5jb25zdCBnZXRJdGVtQnlRdWVyeSA9IChpdGVtcywgcXVlcnkpID0+IHtcbiAgICAvLyBqdXN0IHJldHVybiBmaXJzdCBpbmRleFxuICAgIGlmIChpc0VtcHR5KHF1ZXJ5KSkge1xuICAgICAgICByZXR1cm4gaXRlbXNbMF0gfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvLyBxdWVyeSBpcyBpbmRleFxuICAgIGlmIChpc0ludChxdWVyeSkpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW1zW3F1ZXJ5XSB8fCBudWxsO1xuICAgIH1cblxuICAgIC8vIGlmIHF1ZXJ5IGlzIGl0ZW0sIGdldCB0aGUgaWRcbiAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmlkO1xuICAgIH1cblxuICAgIC8vIGFzc3VtZSBxdWVyeSBpcyBhIHN0cmluZyBhbmQgcmV0dXJuIGl0ZW0gYnkgaWRcbiAgICByZXR1cm4gaXRlbXMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IHF1ZXJ5KSB8fCBudWxsO1xufTtcblxuY29uc3QgZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyA9IGFzcGVjdFJhdGlvID0+IHtcbiAgICBpZiAoaXNFbXB0eShhc3BlY3RSYXRpbykpIHtcbiAgICAgICAgcmV0dXJuIGFzcGVjdFJhdGlvO1xuICAgIH1cbiAgICBpZiAoLzovLnRlc3QoYXNwZWN0UmF0aW8pKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gYXNwZWN0UmF0aW8uc3BsaXQoJzonKTtcbiAgICAgICAgcmV0dXJuIHBhcnRzWzFdIC8gcGFydHNbMF07XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUZsb2F0KGFzcGVjdFJhdGlvKTtcbn07XG5cbmNvbnN0IGdldEFjdGl2ZUl0ZW1zID0gaXRlbXMgPT4gaXRlbXMuZmlsdGVyKGl0ZW0gPT4gIWl0ZW0uYXJjaGl2ZWQpO1xuXG5jb25zdCBTdGF0dXMgPSB7XG4gICAgRU1QVFk6IDAsXG4gICAgSURMRTogMSwgLy8gd2FpdGluZ1xuICAgIEVSUk9SOiAyLCAvLyBhIGZpbGUgaXMgaW4gZXJyb3Igc3RhdGVcbiAgICBCVVNZOiAzLCAvLyBidXN5IHByb2Nlc3Npbmcgb3IgbG9hZGluZ1xuICAgIFJFQURZOiA0LCAvLyBhbGwgZmlsZXMgdXBsb2FkZWRcbn07XG5cbmxldCByZXMgPSBudWxsO1xuY29uc3QgY2FuVXBkYXRlRmlsZUlucHV0ID0gKCkgPT4ge1xuICAgIGlmIChyZXMgPT09IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFUcmFuc2ZlciA9IG5ldyBEYXRhVHJhbnNmZXIoKTtcbiAgICAgICAgICAgIGRhdGFUcmFuc2Zlci5pdGVtcy5hZGQobmV3IEZpbGUoWydoZWxsbyB3b3JsZCddLCAnVGhpc19Xb3Jrcy50eHQnKSk7XG4gICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnZmlsZScpO1xuICAgICAgICAgICAgZWwuZmlsZXMgPSBkYXRhVHJhbnNmZXIuZmlsZXM7XG4gICAgICAgICAgICByZXMgPSBlbC5maWxlcy5sZW5ndGggPT09IDE7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmVzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn07XG5cbmNvbnN0IElURU1fRVJST1IgPSBbXG4gICAgSXRlbVN0YXR1cy5MT0FEX0VSUk9SLFxuICAgIEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19FUlJPUixcbiAgICBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUkVWRVJUX0VSUk9SLFxuXTtcbmNvbnN0IElURU1fQlVTWSA9IFtcbiAgICBJdGVtU3RhdHVzLkxPQURJTkcsXG4gICAgSXRlbVN0YXR1cy5QUk9DRVNTSU5HLFxuICAgIEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19RVUVVRUQsXG4gICAgSXRlbVN0YXR1cy5JTklULFxuXTtcbmNvbnN0IElURU1fUkVBRFkgPSBbSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFXTtcblxuY29uc3QgaXNJdGVtSW5FcnJvclN0YXRlID0gaXRlbSA9PiBJVEVNX0VSUk9SLmluY2x1ZGVzKGl0ZW0uc3RhdHVzKTtcbmNvbnN0IGlzSXRlbUluQnVzeVN0YXRlID0gaXRlbSA9PiBJVEVNX0JVU1kuaW5jbHVkZXMoaXRlbS5zdGF0dXMpO1xuY29uc3QgaXNJdGVtSW5SZWFkeVN0YXRlID0gaXRlbSA9PiBJVEVNX1JFQURZLmluY2x1ZGVzKGl0ZW0uc3RhdHVzKTtcblxuY29uc3QgaXNBc3luYyA9IHN0YXRlID0+XG4gICAgaXNPYmplY3Qoc3RhdGUub3B0aW9ucy5zZXJ2ZXIpICYmXG4gICAgKGlzT2JqZWN0KHN0YXRlLm9wdGlvbnMuc2VydmVyLnByb2Nlc3MpIHx8IGlzRnVuY3Rpb24oc3RhdGUub3B0aW9ucy5zZXJ2ZXIucHJvY2VzcykpO1xuXG5jb25zdCBxdWVyaWVzID0gc3RhdGUgPT4gKHtcbiAgICBHRVRfU1RBVFVTOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpO1xuXG4gICAgICAgIGNvbnN0IHsgRU1QVFksIEVSUk9SLCBCVVNZLCBJRExFLCBSRUFEWSB9ID0gU3RhdHVzO1xuXG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHJldHVybiBFTVBUWTtcblxuICAgICAgICBpZiAoaXRlbXMuc29tZShpc0l0ZW1JbkVycm9yU3RhdGUpKSByZXR1cm4gRVJST1I7XG5cbiAgICAgICAgaWYgKGl0ZW1zLnNvbWUoaXNJdGVtSW5CdXN5U3RhdGUpKSByZXR1cm4gQlVTWTtcblxuICAgICAgICBpZiAoaXRlbXMuc29tZShpc0l0ZW1JblJlYWR5U3RhdGUpKSByZXR1cm4gUkVBRFk7XG5cbiAgICAgICAgcmV0dXJuIElETEU7XG4gICAgfSxcblxuICAgIEdFVF9JVEVNOiBxdWVyeSA9PiBnZXRJdGVtQnlRdWVyeShzdGF0ZS5pdGVtcywgcXVlcnkpLFxuXG4gICAgR0VUX0FDVElWRV9JVEVNOiBxdWVyeSA9PiBnZXRJdGVtQnlRdWVyeShnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcyksIHF1ZXJ5KSxcblxuICAgIEdFVF9BQ1RJVkVfSVRFTVM6ICgpID0+IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKSxcblxuICAgIEdFVF9JVEVNUzogKCkgPT4gc3RhdGUuaXRlbXMsXG5cbiAgICBHRVRfSVRFTV9OQU1FOiBxdWVyeSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtQnlRdWVyeShzdGF0ZS5pdGVtcywgcXVlcnkpO1xuICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0uZmlsZW5hbWUgOiBudWxsO1xuICAgIH0sXG5cbiAgICBHRVRfSVRFTV9TSVpFOiBxdWVyeSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtQnlRdWVyeShzdGF0ZS5pdGVtcywgcXVlcnkpO1xuICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0uZmlsZVNpemUgOiBudWxsO1xuICAgIH0sXG5cbiAgICBHRVRfU1RZTEVTOiAoKSA9PlxuICAgICAgICBPYmplY3Qua2V5cyhzdGF0ZS5vcHRpb25zKVxuICAgICAgICAgICAgLmZpbHRlcihrZXkgPT4gL15zdHlsZS8udGVzdChrZXkpKVxuICAgICAgICAgICAgLm1hcChvcHRpb24gPT4gKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBvcHRpb24sXG4gICAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlLm9wdGlvbnNbb3B0aW9uXSxcbiAgICAgICAgICAgIH0pKSxcblxuICAgIEdFVF9QQU5FTF9BU1BFQ1RfUkFUSU86ICgpID0+IHtcbiAgICAgICAgY29uc3QgaXNTaGFwZUNpcmNsZSA9IC9jaXJjbGUvLnRlc3Qoc3RhdGUub3B0aW9ucy5zdHlsZVBhbmVsTGF5b3V0KTtcbiAgICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSBpc1NoYXBlQ2lyY2xlXG4gICAgICAgICAgICA/IDFcbiAgICAgICAgICAgIDogZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyhzdGF0ZS5vcHRpb25zLnN0eWxlUGFuZWxBc3BlY3RSYXRpbyk7XG4gICAgICAgIHJldHVybiBhc3BlY3RSYXRpbztcbiAgICB9LFxuXG4gICAgR0VUX0lURU1fUEFORUxfQVNQRUNUX1JBVElPOiAoKSA9PiBzdGF0ZS5vcHRpb25zLnN0eWxlSXRlbVBhbmVsQXNwZWN0UmF0aW8sXG5cbiAgICBHRVRfSVRFTVNfQllfU1RBVFVTOiBzdGF0dXMgPT5cbiAgICAgICAgZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpLmZpbHRlcihpdGVtID0+IGl0ZW0uc3RhdHVzID09PSBzdGF0dXMpLFxuXG4gICAgR0VUX1RPVEFMX0lURU1TOiAoKSA9PiBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcykubGVuZ3RoLFxuXG4gICAgU0hPVUxEX1VQREFURV9GSUxFX0lOUFVUOiAoKSA9PlxuICAgICAgICBzdGF0ZS5vcHRpb25zLnN0b3JlQXNGaWxlICYmIGNhblVwZGF0ZUZpbGVJbnB1dCgpICYmICFpc0FzeW5jKHN0YXRlKSxcblxuICAgIElTX0FTWU5DOiAoKSA9PiBpc0FzeW5jKHN0YXRlKSxcblxuICAgIEdFVF9GSUxFX1NJWkVfTEFCRUxTOiBxdWVyeSA9PiAoe1xuICAgICAgICBsYWJlbEJ5dGVzOiBxdWVyeSgnR0VUX0xBQkVMX0ZJTEVfU0laRV9CWVRFUycpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgbGFiZWxLaWxvYnl0ZXM6IHF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9TSVpFX0tJTE9CWVRFUycpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgbGFiZWxNZWdhYnl0ZXM6IHF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9TSVpFX01FR0FCWVRFUycpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgbGFiZWxHaWdhYnl0ZXM6IHF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9TSVpFX0dJR0FCWVRFUycpIHx8IHVuZGVmaW5lZCxcbiAgICB9KSxcbn0pO1xuXG5jb25zdCBoYXNSb29tRm9ySXRlbSA9IHN0YXRlID0+IHtcbiAgICBjb25zdCBjb3VudCA9IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKS5sZW5ndGg7XG5cbiAgICAvLyBpZiBjYW5ub3QgaGF2ZSBtdWx0aXBsZSBpdGVtcywgdG8gYWRkIG9uZSBpdGVtIGl0IHNob3VsZCBjdXJyZW50bHkgbm90IGNvbnRhaW4gaXRlbXNcbiAgICBpZiAoIXN0YXRlLm9wdGlvbnMuYWxsb3dNdWx0aXBsZSkge1xuICAgICAgICByZXR1cm4gY291bnQgPT09IDA7XG4gICAgfVxuXG4gICAgLy8gaWYgYWxsb3dzIG11bHRpcGxlIGl0ZW1zLCB3ZSBjaGVjayBpZiBhIG1heCBpdGVtIGNvdW50IGhhcyBiZWVuIHNldCwgaWYgbm90LCB0aGVyZSdzIG5vIGxpbWl0XG4gICAgY29uc3QgbWF4RmlsZUNvdW50ID0gc3RhdGUub3B0aW9ucy5tYXhGaWxlcztcbiAgICBpZiAobWF4RmlsZUNvdW50ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIHdlIGNoZWNrIGlmIHRoZSBjdXJyZW50IGNvdW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgbWF4IGNvdW50LCBpZiBzbywgYW5vdGhlciBmaWxlIGNhbiBzdGlsbCBiZSBhZGRlZFxuICAgIGlmIChjb3VudCA8IG1heEZpbGVDb3VudCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBubyBtb3JlIHJvb20gZm9yIGFub3RoZXIgZmlsZVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbmNvbnN0IGxpbWl0ID0gKHZhbHVlLCBtaW4sIG1heCkgPT4gTWF0aC5tYXgoTWF0aC5taW4obWF4LCB2YWx1ZSksIG1pbik7XG5cbmNvbnN0IGFycmF5SW5zZXJ0ID0gKGFyciwgaW5kZXgsIGl0ZW0pID0+IGFyci5zcGxpY2UoaW5kZXgsIDAsIGl0ZW0pO1xuXG5jb25zdCBpbnNlcnRJdGVtID0gKGl0ZW1zLCBpdGVtLCBpbmRleCkgPT4ge1xuICAgIGlmIChpc0VtcHR5KGl0ZW0pKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIGlmIGluZGV4IGlzIHVuZGVmaW5lZCwgYXBwZW5kXG4gICAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuXG4gICAgLy8gbGltaXQgdGhlIGluZGV4IHRvIHRoZSBzaXplIG9mIHRoZSBpdGVtcyBhcnJheVxuICAgIGluZGV4ID0gbGltaXQoaW5kZXgsIDAsIGl0ZW1zLmxlbmd0aCk7XG5cbiAgICAvLyBhZGQgaXRlbSB0byBhcnJheVxuICAgIGFycmF5SW5zZXJ0KGl0ZW1zLCBpbmRleCwgaXRlbSk7XG5cbiAgICAvLyBleHBvc2VcbiAgICByZXR1cm4gaXRlbTtcbn07XG5cbmNvbnN0IGlzQmFzZTY0RGF0YVVSSSA9IHN0ciA9PlxuICAgIC9eXFxzKmRhdGE6KFthLXpdK1xcL1thLXowLTktKy5dKyg7W2Etei1dKz1bYS16MC05LV0rKT8pPyg7YmFzZTY0KT8sKFthLXowLTkhJCYnLCgpKis7PVxcLS5ffjpAXFwvPyVcXHNdKilcXHMqJC9pLnRlc3QoXG4gICAgICAgIHN0clxuICAgICk7XG5cbmNvbnN0IGdldEZpbGVuYW1lRnJvbVVSTCA9IHVybCA9PlxuICAgIHVybFxuICAgICAgICAuc3BsaXQoJy8nKVxuICAgICAgICAucG9wKClcbiAgICAgICAgLnNwbGl0KCc/JylcbiAgICAgICAgLnNoaWZ0KCk7XG5cbmNvbnN0IGdldEV4dGVuc2lvbkZyb21GaWxlbmFtZSA9IG5hbWUgPT4gbmFtZS5zcGxpdCgnLicpLnBvcCgpO1xuXG5jb25zdCBndWVzc3RpbWF0ZUV4dGVuc2lvbiA9IHR5cGUgPT4ge1xuICAgIC8vIGlmIG5vIGV4dGVuc2lvbiBzdXBwbGllZCwgZXhpdCBoZXJlXG4gICAgaWYgKHR5cGVvZiB0eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLy8gZ2V0IHN1YnR5cGVcbiAgICBjb25zdCBzdWJ0eXBlID0gdHlwZS5zcGxpdCgnLycpLnBvcCgpO1xuXG4gICAgLy8gaXMgc3ZnIHN1YnR5cGVcbiAgICBpZiAoL3N2Zy8udGVzdChzdWJ0eXBlKSkge1xuICAgICAgICByZXR1cm4gJ3N2Zyc7XG4gICAgfVxuXG4gICAgaWYgKC96aXB8Y29tcHJlc3NlZC8udGVzdChzdWJ0eXBlKSkge1xuICAgICAgICByZXR1cm4gJ3ppcCc7XG4gICAgfVxuXG4gICAgaWYgKC9wbGFpbi8udGVzdChzdWJ0eXBlKSkge1xuICAgICAgICByZXR1cm4gJ3R4dCc7XG4gICAgfVxuXG4gICAgaWYgKC9tc3dvcmQvLnRlc3Qoc3VidHlwZSkpIHtcbiAgICAgICAgcmV0dXJuICdkb2MnO1xuICAgIH1cblxuICAgIC8vIGlmIGlzIHZhbGlkIHN1YnR5cGVcbiAgICBpZiAoL1thLXpdKy8udGVzdChzdWJ0eXBlKSkge1xuICAgICAgICAvLyBhbHdheXMgdXNlIGpwZyBleHRlbnNpb25cbiAgICAgICAgaWYgKHN1YnR5cGUgPT09ICdqcGVnJykge1xuICAgICAgICAgICAgcmV0dXJuICdqcGcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmV0dXJuIHN1YnR5cGVcbiAgICAgICAgcmV0dXJuIHN1YnR5cGU7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xufTtcblxuY29uc3QgbGVmdFBhZCA9ICh2YWx1ZSwgcGFkZGluZyA9ICcnKSA9PiAocGFkZGluZyArIHZhbHVlKS5zbGljZSgtcGFkZGluZy5sZW5ndGgpO1xuXG5jb25zdCBnZXREYXRlU3RyaW5nID0gKGRhdGUgPSBuZXcgRGF0ZSgpKSA9PlxuICAgIGAke2RhdGUuZ2V0RnVsbFllYXIoKX0tJHtsZWZ0UGFkKGRhdGUuZ2V0TW9udGgoKSArIDEsICcwMCcpfS0ke2xlZnRQYWQoXG4gICAgICAgIGRhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICAnMDAnXG4gICAgKX1fJHtsZWZ0UGFkKGRhdGUuZ2V0SG91cnMoKSwgJzAwJyl9LSR7bGVmdFBhZChkYXRlLmdldE1pbnV0ZXMoKSwgJzAwJyl9LSR7bGVmdFBhZChcbiAgICAgICAgZGF0ZS5nZXRTZWNvbmRzKCksXG4gICAgICAgICcwMCdcbiAgICApfWA7XG5cbmNvbnN0IGdldEZpbGVGcm9tQmxvYiA9IChibG9iLCBmaWxlbmFtZSwgdHlwZSA9IG51bGwsIGV4dGVuc2lvbiA9IG51bGwpID0+IHtcbiAgICBjb25zdCBmaWxlID1cbiAgICAgICAgdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGJsb2Iuc2xpY2UoMCwgYmxvYi5zaXplLCB0eXBlKVxuICAgICAgICAgICAgOiBibG9iLnNsaWNlKDAsIGJsb2Iuc2l6ZSwgYmxvYi50eXBlKTtcbiAgICBmaWxlLmxhc3RNb2RpZmllZERhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgLy8gY29weSByZWxhdGl2ZSBwYXRoXG4gICAgaWYgKGJsb2IuX3JlbGF0aXZlUGF0aCkgZmlsZS5fcmVsYXRpdmVQYXRoID0gYmxvYi5fcmVsYXRpdmVQYXRoO1xuXG4gICAgLy8gaWYgYmxvYiBoYXMgbmFtZSBwcm9wZXJ0eSwgdXNlIGFzIGZpbGVuYW1lIGlmIG5vIGZpbGVuYW1lIHN1cHBsaWVkXG4gICAgaWYgKCFpc1N0cmluZyhmaWxlbmFtZSkpIHtcbiAgICAgICAgZmlsZW5hbWUgPSBnZXREYXRlU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gaWYgZmlsZW5hbWUgc3VwcGxpZWQgYnV0IG5vIGV4dGVuc2lvbiBhbmQgZmlsZW5hbWUgaGFzIGV4dGVuc2lvblxuICAgIGlmIChmaWxlbmFtZSAmJiBleHRlbnNpb24gPT09IG51bGwgJiYgZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lKGZpbGVuYW1lKSkge1xuICAgICAgICBmaWxlLm5hbWUgPSBmaWxlbmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBleHRlbnNpb24gPSBleHRlbnNpb24gfHwgZ3Vlc3N0aW1hdGVFeHRlbnNpb24oZmlsZS50eXBlKTtcbiAgICAgICAgZmlsZS5uYW1lID0gZmlsZW5hbWUgKyAoZXh0ZW5zaW9uID8gJy4nICsgZXh0ZW5zaW9uIDogJycpO1xuICAgIH1cblxuICAgIHJldHVybiBmaWxlO1xufTtcblxuY29uc3QgZ2V0QmxvYkJ1aWxkZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuICh3aW5kb3cuQmxvYkJ1aWxkZXIgPVxuICAgICAgICB3aW5kb3cuQmxvYkJ1aWxkZXIgfHxcbiAgICAgICAgd2luZG93LldlYktpdEJsb2JCdWlsZGVyIHx8XG4gICAgICAgIHdpbmRvdy5Nb3pCbG9iQnVpbGRlciB8fFxuICAgICAgICB3aW5kb3cuTVNCbG9iQnVpbGRlcik7XG59O1xuXG5jb25zdCBjcmVhdGVCbG9iID0gKGFycmF5QnVmZmVyLCBtaW1lVHlwZSkgPT4ge1xuICAgIGNvbnN0IEJCID0gZ2V0QmxvYkJ1aWxkZXIoKTtcblxuICAgIGlmIChCQikge1xuICAgICAgICBjb25zdCBiYiA9IG5ldyBCQigpO1xuICAgICAgICBiYi5hcHBlbmQoYXJyYXlCdWZmZXIpO1xuICAgICAgICByZXR1cm4gYmIuZ2V0QmxvYihtaW1lVHlwZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBCbG9iKFthcnJheUJ1ZmZlcl0sIHtcbiAgICAgICAgdHlwZTogbWltZVR5cGUsXG4gICAgfSk7XG59O1xuXG5jb25zdCBnZXRCbG9iRnJvbUJ5dGVTdHJpbmdXaXRoTWltZVR5cGUgPSAoYnl0ZVN0cmluZywgbWltZVR5cGUpID0+IHtcbiAgICBjb25zdCBhYiA9IG5ldyBBcnJheUJ1ZmZlcihieXRlU3RyaW5nLmxlbmd0aCk7XG4gICAgY29uc3QgaWEgPSBuZXcgVWludDhBcnJheShhYik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWFbaV0gPSBieXRlU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUJsb2IoYWIsIG1pbWVUeXBlKTtcbn07XG5cbmNvbnN0IGdldE1pbWVUeXBlRnJvbUJhc2U2NERhdGFVUkkgPSBkYXRhVVJJID0+IHtcbiAgICByZXR1cm4gKC9eZGF0YTooLispOy8uZXhlYyhkYXRhVVJJKSB8fCBbXSlbMV0gfHwgbnVsbDtcbn07XG5cbmNvbnN0IGdldEJhc2U2NERhdGFGcm9tQmFzZTY0RGF0YVVSSSA9IGRhdGFVUkkgPT4ge1xuICAgIC8vIGdldCBkYXRhIHBhcnQgb2Ygc3RyaW5nIChyZW1vdmUgZGF0YTppbWFnZS9qcGVnLi4uLClcbiAgICBjb25zdCBkYXRhID0gZGF0YVVSSS5zcGxpdCgnLCcpWzFdO1xuXG4gICAgLy8gcmVtb3ZlIGFueSB3aGl0ZXNwYWNlIGFzIHRoYXQgY2F1c2VzIEludmFsaWRDaGFyYWN0ZXJFcnJvciBpbiBJRVxuICAgIHJldHVybiBkYXRhLnJlcGxhY2UoL1xccy9nLCAnJyk7XG59O1xuXG5jb25zdCBnZXRCeXRlU3RyaW5nRnJvbUJhc2U2NERhdGFVUkkgPSBkYXRhVVJJID0+IHtcbiAgICByZXR1cm4gYXRvYihnZXRCYXNlNjREYXRhRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSkpO1xufTtcblxuY29uc3QgZ2V0QmxvYkZyb21CYXNlNjREYXRhVVJJID0gZGF0YVVSSSA9PiB7XG4gICAgY29uc3QgbWltZVR5cGUgPSBnZXRNaW1lVHlwZUZyb21CYXNlNjREYXRhVVJJKGRhdGFVUkkpO1xuICAgIGNvbnN0IGJ5dGVTdHJpbmcgPSBnZXRCeXRlU3RyaW5nRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSk7XG5cbiAgICByZXR1cm4gZ2V0QmxvYkZyb21CeXRlU3RyaW5nV2l0aE1pbWVUeXBlKGJ5dGVTdHJpbmcsIG1pbWVUeXBlKTtcbn07XG5cbmNvbnN0IGdldEZpbGVGcm9tQmFzZTY0RGF0YVVSSSA9IChkYXRhVVJJLCBmaWxlbmFtZSwgZXh0ZW5zaW9uKSA9PiB7XG4gICAgcmV0dXJuIGdldEZpbGVGcm9tQmxvYihnZXRCbG9iRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSksIGZpbGVuYW1lLCBudWxsLCBleHRlbnNpb24pO1xufTtcblxuY29uc3QgZ2V0RmlsZU5hbWVGcm9tSGVhZGVyID0gaGVhZGVyID0+IHtcbiAgICAvLyB0ZXN0IGlmIGlzIGNvbnRlbnQgZGlzcG9zaXRpb24gaGVhZGVyLCBpZiBub3QgZXhpdFxuICAgIGlmICghL15jb250ZW50LWRpc3Bvc2l0aW9uOi9pLnRlc3QoaGVhZGVyKSkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBnZXQgZmlsZW5hbWUgcGFydHNcbiAgICBjb25zdCBtYXRjaGVzID0gaGVhZGVyXG4gICAgICAgIC5zcGxpdCgvZmlsZW5hbWU9fGZpbGVuYW1lXFwqPS4rJycvKVxuICAgICAgICAuc3BsaWNlKDEpXG4gICAgICAgIC5tYXAobmFtZSA9PiBuYW1lLnRyaW0oKS5yZXBsYWNlKC9eW1wiJ118WztcIiddezAsMn0kL2csICcnKSlcbiAgICAgICAgLmZpbHRlcihuYW1lID0+IG5hbWUubGVuZ3RoKTtcblxuICAgIHJldHVybiBtYXRjaGVzLmxlbmd0aCA/IGRlY29kZVVSSShtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0pIDogbnVsbDtcbn07XG5cbmNvbnN0IGdldEZpbGVTaXplRnJvbUhlYWRlciA9IGhlYWRlciA9PiB7XG4gICAgaWYgKC9jb250ZW50LWxlbmd0aDovaS50ZXN0KGhlYWRlcikpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGhlYWRlci5tYXRjaCgvWzAtOV0rLylbMF07XG4gICAgICAgIHJldHVybiBzaXplID8gcGFyc2VJbnQoc2l6ZSwgMTApIDogbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBnZXRUcmFuZnNlcklkRnJvbUhlYWRlciA9IGhlYWRlciA9PiB7XG4gICAgaWYgKC94LWNvbnRlbnQtdHJhbnNmZXItaWQ6L2kudGVzdChoZWFkZXIpKSB7XG4gICAgICAgIGNvbnN0IGlkID0gKGhlYWRlci5zcGxpdCgnOicpWzFdIHx8ICcnKS50cmltKCk7XG4gICAgICAgIHJldHVybiBpZCB8fCBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IGdldEZpbGVJbmZvRnJvbUhlYWRlcnMgPSBoZWFkZXJzID0+IHtcbiAgICBjb25zdCBpbmZvID0ge1xuICAgICAgICBzb3VyY2U6IG51bGwsXG4gICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgIHNpemU6IG51bGwsXG4gICAgfTtcblxuICAgIGNvbnN0IHJvd3MgPSBoZWFkZXJzLnNwbGl0KCdcXG4nKTtcbiAgICBmb3IgKGxldCBoZWFkZXIgb2Ygcm93cykge1xuICAgICAgICBjb25zdCBuYW1lID0gZ2V0RmlsZU5hbWVGcm9tSGVhZGVyKGhlYWRlcik7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICBpbmZvLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzaXplID0gZ2V0RmlsZVNpemVGcm9tSGVhZGVyKGhlYWRlcik7XG4gICAgICAgIGlmIChzaXplKSB7XG4gICAgICAgICAgICBpbmZvLnNpemUgPSBzaXplO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBnZXRUcmFuZnNlcklkRnJvbUhlYWRlcihoZWFkZXIpO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBpbmZvLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZm87XG59O1xuXG5jb25zdCBjcmVhdGVGaWxlTG9hZGVyID0gZmV0Y2hGbiA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgIHNvdXJjZTogbnVsbCxcbiAgICAgICAgY29tcGxldGU6IGZhbHNlLFxuICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgc2l6ZTogbnVsbCxcbiAgICAgICAgdGltZXN0YW1wOiBudWxsLFxuICAgICAgICBkdXJhdGlvbjogMCxcbiAgICAgICAgcmVxdWVzdDogbnVsbCxcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0UHJvZ3Jlc3MgPSAoKSA9PiBzdGF0ZS5wcm9ncmVzcztcbiAgICBjb25zdCBhYm9ydCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHN0YXRlLnJlcXVlc3QgJiYgc3RhdGUucmVxdWVzdC5hYm9ydCkge1xuICAgICAgICAgICAgc3RhdGUucmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIGxvYWQgc291cmNlXG4gICAgY29uc3QgbG9hZCA9ICgpID0+IHtcbiAgICAgICAgLy8gZ2V0IHF1aWNrIHJlZmVyZW5jZVxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzdGF0ZS5zb3VyY2U7XG5cbiAgICAgICAgYXBpLmZpcmUoJ2luaXQnLCBzb3VyY2UpO1xuXG4gICAgICAgIC8vIExvYWQgRmlsZXNcbiAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEZpbGUpIHtcbiAgICAgICAgICAgIGFwaS5maXJlKCdsb2FkJywgc291cmNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAvLyBMb2FkIGJsb2JzLCBzZXQgZGVmYXVsdCBuYW1lIHRvIGN1cnJlbnQgZGF0ZVxuICAgICAgICAgICAgYXBpLmZpcmUoJ2xvYWQnLCBnZXRGaWxlRnJvbUJsb2Ioc291cmNlLCBzb3VyY2UubmFtZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQmFzZTY0RGF0YVVSSShzb3VyY2UpKSB7XG4gICAgICAgICAgICAvLyBMb2FkIGJhc2UgNjQsIHNldCBkZWZhdWx0IG5hbWUgdG8gY3VycmVudCBkYXRlXG4gICAgICAgICAgICBhcGkuZmlyZSgnbG9hZCcsIGdldEZpbGVGcm9tQmFzZTY0RGF0YVVSSShzb3VyY2UpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlYWwgYXMgaWYgaXMgZXh0ZXJuYWwgVVJMLCBsZXQncyBsb2FkIGl0IVxuICAgICAgICAgICAgbG9hZFVSTChzb3VyY2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIGxvYWRzIGEgdXJsXG4gICAgY29uc3QgbG9hZFVSTCA9IHVybCA9PiB7XG4gICAgICAgIC8vIGlzIHJlbW90ZSB1cmwgYW5kIG5vIGZldGNoIG1ldGhvZCBzdXBwbGllZFxuICAgICAgICBpZiAoIWZldGNoRm4pIHtcbiAgICAgICAgICAgIGFwaS5maXJlKCdlcnJvcicsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGJvZHk6IFwiQ2FuJ3QgbG9hZCBVUkxcIixcbiAgICAgICAgICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCByZXF1ZXN0IHN0YXJ0XG4gICAgICAgIHN0YXRlLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cbiAgICAgICAgLy8gbG9hZCBmaWxlXG4gICAgICAgIHN0YXRlLnJlcXVlc3QgPSBmZXRjaEZuKFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBkdXJhdGlvblxuICAgICAgICAgICAgICAgIHN0YXRlLmR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXRlLnRpbWVzdGFtcDtcblxuICAgICAgICAgICAgICAgIC8vIGRvbmUhXG4gICAgICAgICAgICAgICAgc3RhdGUuY29tcGxldGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgLy8gdHVybiBibG9iIHJlc3BvbnNlIGludG8gYSBmaWxlXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGdldEZpbGVGcm9tQmxvYihyZXNwb25zZSwgcmVzcG9uc2UubmFtZSB8fCBnZXRGaWxlbmFtZUZyb21VUkwodXJsKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXBpLmZpcmUoXG4gICAgICAgICAgICAgICAgICAgICdsb2FkJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaGFzIHJlY2VpdmVkIGJsb2IsIHdlIGdvIHdpdGggYmxvYiwgaWYgbm8gcmVzcG9uc2UsIHdlIHJldHVybiBudWxsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlIGluc3RhbmNlb2YgQmxvYiA/IHJlc3BvbnNlIDogcmVzcG9uc2UgPyByZXNwb25zZS5ib2R5IDogbnVsbFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGFwaS5maXJlKFxuICAgICAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogZXJyb3JcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIChjb21wdXRhYmxlLCBjdXJyZW50LCB0b3RhbCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGNvbGxlY3RlZCBzb21lIG1ldGEgZGF0YSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgaWYgKHRvdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnNpemUgPSB0b3RhbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgZHVyYXRpb25cbiAgICAgICAgICAgICAgICBzdGF0ZS5kdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXA7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBjYW4ndCBjb21wdXRlIHByb2dyZXNzLCB3ZSdyZSBub3QgZ29pbmcgdG8gZmlyZSBwcm9ncmVzcyBldmVudHNcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXB1dGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHByb2dyZXNzIHBlcmNlbnRhZ2VcbiAgICAgICAgICAgICAgICBzdGF0ZS5wcm9ncmVzcyA9IGN1cnJlbnQgLyB0b3RhbDtcblxuICAgICAgICAgICAgICAgIC8vIGV4cG9zZVxuICAgICAgICAgICAgICAgIGFwaS5maXJlKCdwcm9ncmVzcycsIHN0YXRlLnByb2dyZXNzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXBpLmZpcmUoJ2Fib3J0Jyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVpbmZvID0gZ2V0RmlsZUluZm9Gcm9tSGVhZGVycyhcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHJlc3BvbnNlID09PSAnc3RyaW5nJyA/IHJlc3BvbnNlIDogcmVzcG9uc2UuaGVhZGVyc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYXBpLmZpcmUoJ21ldGEnLCB7XG4gICAgICAgICAgICAgICAgICAgIHNpemU6IHN0YXRlLnNpemUgfHwgZmlsZWluZm8uc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGZpbGVpbmZvLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogZmlsZWluZm8uc291cmNlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICBjb25zdCBhcGkgPSB7XG4gICAgICAgIC4uLm9uKCksXG4gICAgICAgIHNldFNvdXJjZTogc291cmNlID0+IChzdGF0ZS5zb3VyY2UgPSBzb3VyY2UpLFxuICAgICAgICBnZXRQcm9ncmVzcywgLy8gZmlsZSBsb2FkIHByb2dyZXNzXG4gICAgICAgIGFib3J0LCAvLyBhYm9ydCBmaWxlIGxvYWRcbiAgICAgICAgbG9hZCwgLy8gc3RhcnQgbG9hZFxuICAgIH07XG5cbiAgICByZXR1cm4gYXBpO1xufTtcblxuY29uc3QgaXNHZXQgPSBtZXRob2QgPT4gL0dFVHxIRUFELy50ZXN0KG1ldGhvZCk7XG5cbmNvbnN0IHNlbmRSZXF1ZXN0ID0gKGRhdGEsIHVybCwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IGFwaSA9IHtcbiAgICAgICAgb25oZWFkZXJzOiAoKSA9PiB7fSxcbiAgICAgICAgb25wcm9ncmVzczogKCkgPT4ge30sXG4gICAgICAgIG9ubG9hZDogKCkgPT4ge30sXG4gICAgICAgIG9udGltZW91dDogKCkgPT4ge30sXG4gICAgICAgIG9uZXJyb3I6ICgpID0+IHt9LFxuICAgICAgICBvbmFib3J0OiAoKSA9PiB7fSxcbiAgICAgICAgYWJvcnQ6ICgpID0+IHtcbiAgICAgICAgICAgIGFib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIHRpbWVvdXQgaWRlbnRpZmllciwgb25seSB1c2VkIHdoZW4gdGltZW91dCBpcyBkZWZpbmVkXG4gICAgbGV0IGFib3J0ZWQgPSBmYWxzZTtcbiAgICBsZXQgaGVhZGVyc1JlY2VpdmVkID0gZmFsc2U7XG5cbiAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gICAgb3B0aW9ucyA9IHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgICAuLi5vcHRpb25zLFxuICAgIH07XG5cbiAgICAvLyBlbmNvZGUgdXJsXG4gICAgdXJsID0gZW5jb2RlVVJJKHVybCk7XG5cbiAgICAvLyBpZiBtZXRob2QgaXMgR0VULCBhZGQgYW55IHJlY2VpdmVkIGRhdGEgdG8gdXJsXG5cbiAgICBpZiAoaXNHZXQob3B0aW9ucy5tZXRob2QpICYmIGRhdGEpIHtcbiAgICAgICAgdXJsID0gYCR7dXJsfSR7ZW5jb2RlVVJJQ29tcG9uZW50KHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/IGRhdGEgOiBKU09OLnN0cmluZ2lmeShkYXRhKSl9YDtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgcmVxdWVzdFxuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgLy8gcHJvZ3Jlc3Mgb2YgbG9hZFxuICAgIGNvbnN0IHByb2Nlc3MgPSBpc0dldChvcHRpb25zLm1ldGhvZCkgPyB4aHIgOiB4aHIudXBsb2FkO1xuICAgIHByb2Nlc3Mub25wcm9ncmVzcyA9IGUgPT4ge1xuICAgICAgICAvLyBubyBwcm9ncmVzcyBldmVudCB3aGVuIGFib3J0ZWQgKCBvbnByb2dyZXNzIGlzIGNhbGxlZCBvbmNlIGFmdGVyIGFib3J0KCkgKVxuICAgICAgICBpZiAoYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXBpLm9ucHJvZ3Jlc3MoZS5sZW5ndGhDb21wdXRhYmxlLCBlLmxvYWRlZCwgZS50b3RhbCk7XG4gICAgfTtcblxuICAgIC8vIHRyaWVzIHRvIGdldCBoZWFkZXIgaW5mbyB0byB0aGUgYXBwIGFzIGZhc3QgYXMgcG9zc2libGVcbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAvLyBub3QgaW50ZXJlc3RpbmcgaW4gdGhlc2Ugc3RhdGVzICgndW5zZW50JyBhbmQgJ29wZW5lbmQnIGFzIHRoZXkgZG9uJ3QgZ2l2ZSB1cyBhbnkgYWRkaXRpb25hbCBpbmZvKVxuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPCAyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0ICYmIHhoci5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoZWFkZXJzUmVjZWl2ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlcnNSZWNlaXZlZCA9IHRydWU7XG5cbiAgICAgICAgLy8gd2UndmUgcHJvYmFibHkgcmVjZWl2ZWQgc29tZSB1c2VmdWwgZGF0YSBpbiByZXNwb25zZSBoZWFkZXJzXG4gICAgICAgIGFwaS5vbmhlYWRlcnMoeGhyKTtcbiAgICB9O1xuXG4gICAgLy8gbG9hZCBzdWNjZXNzZnVsXG4gICAgeGhyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgLy8gaXMgY2xhc3NpZmllZCBhcyB2YWxpZCByZXNwb25zZVxuICAgICAgICBpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgYXBpLm9ubG9hZCh4aHIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXBpLm9uZXJyb3IoeGhyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBlcnJvciBkdXJpbmcgbG9hZFxuICAgIHhoci5vbmVycm9yID0gKCkgPT4gYXBpLm9uZXJyb3IoeGhyKTtcblxuICAgIC8vIHJlcXVlc3QgYWJvcnRlZFxuICAgIHhoci5vbmFib3J0ID0gKCkgPT4ge1xuICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgYXBpLm9uYWJvcnQoKTtcbiAgICB9O1xuXG4gICAgLy8gcmVxdWVzdCB0aW1lb3V0XG4gICAgeGhyLm9udGltZW91dCA9ICgpID0+IGFwaS5vbnRpbWVvdXQoeGhyKTtcblxuICAgIC8vIG9wZW4gdXAgb3BlbiB1cCFcbiAgICB4aHIub3BlbihvcHRpb25zLm1ldGhvZCwgdXJsLCB0cnVlKTtcblxuICAgIC8vIHNldCB0aW1lb3V0IGlmIGRlZmluZWQgKGRvIGl0IGFmdGVyIG9wZW4gc28gSUUxMSBwbGF5cyBiYWxsKVxuICAgIGlmIChpc0ludChvcHRpb25zLnRpbWVvdXQpKSB7XG4gICAgICAgIHhoci50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0O1xuICAgIH1cblxuICAgIC8vIGFkZCBoZWFkZXJzXG4gICAgT2JqZWN0LmtleXMob3B0aW9ucy5oZWFkZXJzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KG9wdGlvbnMuaGVhZGVyc1trZXldKSk7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHR5cGUgb2YgcmVzcG9uc2VcbiAgICBpZiAob3B0aW9ucy5yZXNwb25zZVR5cGUpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IG9wdGlvbnMucmVzcG9uc2VUeXBlO1xuICAgIH1cblxuICAgIC8vIHNldCBjcmVkZW50aWFsc1xuICAgIGlmIChvcHRpb25zLndpdGhDcmVkZW50aWFscykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBsZXQncyBzZW5kIG91ciBkYXRhXG4gICAgeGhyLnNlbmQoZGF0YSk7XG5cbiAgICByZXR1cm4gYXBpO1xufTtcblxuY29uc3QgY3JlYXRlUmVzcG9uc2UgPSAodHlwZSwgY29kZSwgYm9keSwgaGVhZGVycykgPT4gKHtcbiAgICB0eXBlLFxuICAgIGNvZGUsXG4gICAgYm9keSxcbiAgICBoZWFkZXJzLFxufSk7XG5cbmNvbnN0IGNyZWF0ZVRpbWVvdXRSZXNwb25zZSA9IGNiID0+IHhociA9PiB7XG4gICAgY2IoY3JlYXRlUmVzcG9uc2UoJ2Vycm9yJywgMCwgJ1RpbWVvdXQnLCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtcbn07XG5cbmNvbnN0IGhhc1FTID0gc3RyID0+IC9cXD8vLnRlc3Qoc3RyKTtcbmNvbnN0IGJ1aWxkVVJMID0gKC4uLnBhcnRzKSA9PiB7XG4gICAgbGV0IHVybCA9ICcnO1xuICAgIHBhcnRzLmZvckVhY2gocGFydCA9PiB7XG4gICAgICAgIHVybCArPSBoYXNRUyh1cmwpICYmIGhhc1FTKHBhcnQpID8gcGFydC5yZXBsYWNlKC9cXD8vLCAnJicpIDogcGFydDtcbiAgICB9KTtcbiAgICByZXR1cm4gdXJsO1xufTtcblxuY29uc3QgY3JlYXRlRmV0Y2hGdW5jdGlvbiA9IChhcGlVcmwgPSAnJywgYWN0aW9uKSA9PiB7XG4gICAgLy8gY3VzdG9tIGhhbmRsZXIgKHNob3VsZCBhbHNvIGhhbmRsZSBmaWxlLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MgYW5kIGFib3J0KVxuICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb247XG4gICAgfVxuXG4gICAgLy8gbm8gYWN0aW9uIHN1cHBsaWVkXG4gICAgaWYgKCFhY3Rpb24gfHwgIWlzU3RyaW5nKGFjdGlvbi51cmwpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIHNldCBvbmxvYWQgaGFubGRlclxuICAgIGNvbnN0IG9ubG9hZCA9IGFjdGlvbi5vbmxvYWQgfHwgKHJlcyA9PiByZXMpO1xuICAgIGNvbnN0IG9uZXJyb3IgPSBhY3Rpb24ub25lcnJvciB8fCAocmVzID0+IG51bGwpO1xuXG4gICAgLy8gaW50ZXJuYWwgaGFuZGxlclxuICAgIHJldHVybiAodXJsLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0LCBoZWFkZXJzKSA9PiB7XG4gICAgICAgIC8vIGRvIGxvY2FsIG9yIHJlbW90ZSByZXF1ZXN0IGJhc2VkIG9uIGlmIHRoZSB1cmwgaXMgZXh0ZXJuYWxcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHNlbmRSZXF1ZXN0KHVybCwgYnVpbGRVUkwoYXBpVXJsLCBhY3Rpb24udXJsKSwge1xuICAgICAgICAgICAgLi4uYWN0aW9uLFxuICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYmxvYicsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlcXVlc3Qub25sb2FkID0geGhyID0+IHtcbiAgICAgICAgICAgIC8vIGdldCBoZWFkZXJzXG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0geGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpO1xuXG4gICAgICAgICAgICAvLyBnZXQgZmlsZW5hbWVcbiAgICAgICAgICAgIGNvbnN0IGZpbGVuYW1lID0gZ2V0RmlsZUluZm9Gcm9tSGVhZGVycyhoZWFkZXJzKS5uYW1lIHx8IGdldEZpbGVuYW1lRnJvbVVSTCh1cmwpO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgcmVzcG9uc2VcbiAgICAgICAgICAgIGxvYWQoXG4gICAgICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICAgICdsb2FkJyxcbiAgICAgICAgICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLm1ldGhvZCA9PT0gJ0hFQUQnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0RmlsZUZyb21CbG9iKG9ubG9hZCh4aHIucmVzcG9uc2UpLCBmaWxlbmFtZSksXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9IHhociA9PiB7XG4gICAgICAgICAgICBlcnJvcihcbiAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlcXVlc3Qub25oZWFkZXJzID0geGhyID0+IHtcbiAgICAgICAgICAgIGhlYWRlcnMoY3JlYXRlUmVzcG9uc2UoJ2hlYWRlcnMnLCB4aHIuc3RhdHVzLCBudWxsLCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9udGltZW91dCA9IGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcik7XG4gICAgICAgIHJlcXVlc3Qub25wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICByZXF1ZXN0Lm9uYWJvcnQgPSBhYm9ydDtcblxuICAgICAgICAvLyBzaG91bGQgcmV0dXJuIHJlcXVlc3RcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfTtcbn07XG5cbmNvbnN0IENodW5rU3RhdHVzID0ge1xuICAgIFFVRVVFRDogMCxcbiAgICBDT01QTEVURTogMSxcbiAgICBQUk9DRVNTSU5HOiAyLFxuICAgIEVSUk9SOiAzLFxuICAgIFdBSVRJTkc6IDQsXG59O1xuXG4vKlxuZnVuY3Rpb24gc2lnbmF0dXJlOlxuICAoZmlsZSwgbWV0YWRhdGEsIGxvYWQsIGVycm9yLCBwcm9ncmVzcywgYWJvcnQsIHRyYW5zZmVyLCBvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICBhYm9ydDooKSA9PiB7fVxuICB9XG59XG4qL1xuXG4vLyBhcGlVcmwsIGFjdGlvbiwgbmFtZSwgZmlsZSwgbWV0YWRhdGEsIGxvYWQsIGVycm9yLCBwcm9ncmVzcywgYWJvcnQsIHRyYW5zZmVyLCBvcHRpb25zXG5jb25zdCBwcm9jZXNzRmlsZUNodW5rZWQgPSAoXG4gICAgYXBpVXJsLFxuICAgIGFjdGlvbixcbiAgICBuYW1lLFxuICAgIGZpbGUsXG4gICAgbWV0YWRhdGEsXG4gICAgbG9hZCxcbiAgICBlcnJvcixcbiAgICBwcm9ncmVzcyxcbiAgICBhYm9ydCxcbiAgICB0cmFuc2ZlcixcbiAgICBvcHRpb25zXG4pID0+IHtcbiAgICAvLyBhbGwgY2h1bmtzXG4gICAgY29uc3QgY2h1bmtzID0gW107XG4gICAgY29uc3QgeyBjaHVua1RyYW5zZmVySWQsIGNodW5rU2VydmVyLCBjaHVua1NpemUsIGNodW5rUmV0cnlEZWxheXMgfSA9IG9wdGlvbnM7XG5cbiAgICAvLyBkZWZhdWx0IHN0YXRlXG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgIHNlcnZlcklkOiBjaHVua1RyYW5zZmVySWQsXG4gICAgICAgIGFib3J0ZWQ6IGZhbHNlLFxuICAgIH07XG5cbiAgICAvLyBzZXQgb25sb2FkIGhhbmRsZXJzXG4gICAgY29uc3Qgb25kYXRhID0gYWN0aW9uLm9uZGF0YSB8fCAoZmQgPT4gZmQpO1xuICAgIGNvbnN0IG9ubG9hZCA9XG4gICAgICAgIGFjdGlvbi5vbmxvYWQgfHxcbiAgICAgICAgKCh4aHIsIG1ldGhvZCkgPT5cbiAgICAgICAgICAgIG1ldGhvZCA9PT0gJ0hFQUQnID8geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdVcGxvYWQtT2Zmc2V0JykgOiB4aHIucmVzcG9uc2UpO1xuICAgIGNvbnN0IG9uZXJyb3IgPSBhY3Rpb24ub25lcnJvciB8fCAocmVzID0+IG51bGwpO1xuXG4gICAgLy8gY3JlYXRlIHNlcnZlciBob29rXG4gICAgY29uc3QgcmVxdWVzdFRyYW5zZmVySWQgPSBjYiA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgICAgLy8gYWRkIG1ldGFkYXRhIHVuZGVyIHNhbWUgbmFtZVxuICAgICAgICBpZiAoaXNPYmplY3QobWV0YWRhdGEpKSBmb3JtRGF0YS5hcHBlbmQobmFtZSwgSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpKTtcblxuICAgICAgICBjb25zdCBoZWFkZXJzID1cbiAgICAgICAgICAgIHR5cGVvZiBhY3Rpb24uaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8gYWN0aW9uLmhlYWRlcnMoZmlsZSwgbWV0YWRhdGEpXG4gICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uYWN0aW9uLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgJ1VwbG9hZC1MZW5ndGgnOiBmaWxlLnNpemUsXG4gICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3RQYXJhbXMgPSB7XG4gICAgICAgICAgICAuLi5hY3Rpb24sXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNlbmQgcmVxdWVzdCBvYmplY3RcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHNlbmRSZXF1ZXN0KG9uZGF0YShmb3JtRGF0YSksIGJ1aWxkVVJMKGFwaVVybCwgYWN0aW9uLnVybCksIHJlcXVlc3RQYXJhbXMpO1xuXG4gICAgICAgIHJlcXVlc3Qub25sb2FkID0geGhyID0+IGNiKG9ubG9hZCh4aHIsIHJlcXVlc3RQYXJhbXMubWV0aG9kKSk7XG5cbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0geGhyID0+XG4gICAgICAgICAgICBlcnJvcihcbiAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVxdWVzdFRyYW5zZmVyT2Zmc2V0ID0gY2IgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0VXJsID0gYnVpbGRVUkwoYXBpVXJsLCBjaHVua1NlcnZlci51cmwsIHN0YXRlLnNlcnZlcklkKTtcblxuICAgICAgICBjb25zdCBoZWFkZXJzID1cbiAgICAgICAgICAgIHR5cGVvZiBhY3Rpb24uaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8gYWN0aW9uLmhlYWRlcnMoc3RhdGUuc2VydmVySWQpXG4gICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uYWN0aW9uLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3RQYXJhbXMgPSB7XG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiAnSEVBRCcsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHNlbmRSZXF1ZXN0KG51bGwsIHJlcXVlc3RVcmwsIHJlcXVlc3RQYXJhbXMpO1xuXG4gICAgICAgIHJlcXVlc3Qub25sb2FkID0geGhyID0+IGNiKG9ubG9hZCh4aHIsIHJlcXVlc3RQYXJhbXMubWV0aG9kKSk7XG5cbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0geGhyID0+XG4gICAgICAgICAgICBlcnJvcihcbiAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKTtcbiAgICB9O1xuXG4gICAgLy8gY3JlYXRlIGNodW5rc1xuICAgIGNvbnN0IGxhc3RDaHVua0luZGV4ID0gTWF0aC5mbG9vcihmaWxlLnNpemUgLyBjaHVua1NpemUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGxhc3RDaHVua0luZGV4OyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaSAqIGNodW5rU2l6ZTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGZpbGUuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBjaHVua1NpemUsICdhcHBsaWNhdGlvbi9vZmZzZXQrb2N0ZXQtc3RyZWFtJyk7XG4gICAgICAgIGNodW5rc1tpXSA9IHtcbiAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgc2l6ZTogZGF0YS5zaXplLFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIGZpbGUsXG4gICAgICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgICAgIHJldHJpZXM6IFsuLi5jaHVua1JldHJ5RGVsYXlzXSxcbiAgICAgICAgICAgIHN0YXR1czogQ2h1bmtTdGF0dXMuUVVFVUVELFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICByZXF1ZXN0OiBudWxsLFxuICAgICAgICAgICAgdGltZW91dDogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBjb21wbGV0ZVByb2Nlc3NpbmdDaHVua3MgPSAoKSA9PiBsb2FkKHN0YXRlLnNlcnZlcklkKTtcblxuICAgIGNvbnN0IGNhblByb2Nlc3NDaHVuayA9IGNodW5rID0+XG4gICAgICAgIGNodW5rLnN0YXR1cyA9PT0gQ2h1bmtTdGF0dXMuUVVFVUVEIHx8IGNodW5rLnN0YXR1cyA9PT0gQ2h1bmtTdGF0dXMuRVJST1I7XG5cbiAgICBjb25zdCBwcm9jZXNzQ2h1bmsgPSBjaHVuayA9PiB7XG4gICAgICAgIC8vIHByb2Nlc3NpbmcgaXMgcGF1c2VkLCB3YWl0IGhlcmVcbiAgICAgICAgaWYgKHN0YXRlLmFib3J0ZWQpIHJldHVybjtcblxuICAgICAgICAvLyBnZXQgbmV4dCBjaHVuayB0byBwcm9jZXNzXG4gICAgICAgIGNodW5rID0gY2h1bmsgfHwgY2h1bmtzLmZpbmQoY2FuUHJvY2Vzc0NodW5rKTtcblxuICAgICAgICAvLyBubyBtb3JlIGNodW5rcyB0byBwcm9jZXNzXG4gICAgICAgIGlmICghY2h1bmspIHtcbiAgICAgICAgICAgIC8vIGFsbCBkb25lP1xuICAgICAgICAgICAgaWYgKGNodW5rcy5ldmVyeShjaHVuayA9PiBjaHVuay5zdGF0dXMgPT09IENodW5rU3RhdHVzLkNPTVBMRVRFKSkge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlUHJvY2Vzc2luZ0NodW5rcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBubyBjaHVuayB0byBoYW5kbGVcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vdyBwcm9jZXNzaW5nIHRoaXMgY2h1bmtcbiAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuUFJPQ0VTU0lORztcbiAgICAgICAgY2h1bmsucHJvZ3Jlc3MgPSBudWxsO1xuXG4gICAgICAgIC8vIGFsbG93IHBhcnNpbmcgb2YgZm9ybWRhdGFcbiAgICAgICAgY29uc3Qgb25kYXRhID0gY2h1bmtTZXJ2ZXIub25kYXRhIHx8IChmZCA9PiBmZCk7XG4gICAgICAgIGNvbnN0IG9uZXJyb3IgPSBjaHVua1NlcnZlci5vbmVycm9yIHx8IChyZXMgPT4gbnVsbCk7XG5cbiAgICAgICAgLy8gc2VuZCByZXF1ZXN0IG9iamVjdFxuICAgICAgICBjb25zdCByZXF1ZXN0VXJsID0gYnVpbGRVUkwoYXBpVXJsLCBjaHVua1NlcnZlci51cmwsIHN0YXRlLnNlcnZlcklkKTtcblxuICAgICAgICBjb25zdCBoZWFkZXJzID1cbiAgICAgICAgICAgIHR5cGVvZiBjaHVua1NlcnZlci5oZWFkZXJzID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyBjaHVua1NlcnZlci5oZWFkZXJzKGNodW5rKVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgIC4uLmNodW5rU2VydmVyLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9vZmZzZXQrb2N0ZXQtc3RyZWFtJyxcbiAgICAgICAgICAgICAgICAgICAgICAnVXBsb2FkLU9mZnNldCc6IGNodW5rLm9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAnVXBsb2FkLUxlbmd0aCc6IGZpbGUuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAnVXBsb2FkLU5hbWUnOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSAoY2h1bmsucmVxdWVzdCA9IHNlbmRSZXF1ZXN0KG9uZGF0YShjaHVuay5kYXRhKSwgcmVxdWVzdFVybCwge1xuICAgICAgICAgICAgLi4uY2h1bmtTZXJ2ZXIsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBkb25lIVxuICAgICAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuQ09NUExFVEU7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSByZXF1ZXN0IHJlZmVyZW5jZVxuICAgICAgICAgICAgY2h1bmsucmVxdWVzdCA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIHN0YXJ0IHByb2Nlc3NpbmcgbW9yZSBjaHVua3NcbiAgICAgICAgICAgIHByb2Nlc3NDaHVua3MoKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSAobGVuZ3RoQ29tcHV0YWJsZSwgbG9hZGVkLCB0b3RhbCkgPT4ge1xuICAgICAgICAgICAgY2h1bmsucHJvZ3Jlc3MgPSBsZW5ndGhDb21wdXRhYmxlID8gbG9hZGVkIDogbnVsbDtcbiAgICAgICAgICAgIHVwZGF0ZVRvdGFsUHJvZ3Jlc3MoKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSB4aHIgPT4ge1xuICAgICAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuRVJST1I7XG4gICAgICAgICAgICBjaHVuay5yZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIGNodW5rLmVycm9yID0gb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0O1xuICAgICAgICAgICAgaWYgKCFyZXRyeVByb2Nlc3NDaHVuayhjaHVuaykpIHtcbiAgICAgICAgICAgICAgICBlcnJvcihcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9udGltZW91dCA9IHhociA9PiB7XG4gICAgICAgICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5FUlJPUjtcbiAgICAgICAgICAgIGNodW5rLnJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgaWYgKCFyZXRyeVByb2Nlc3NDaHVuayhjaHVuaykpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpKHhocik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVxdWVzdC5vbmFib3J0ID0gKCkgPT4ge1xuICAgICAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuUVVFVUVEO1xuICAgICAgICAgICAgY2h1bmsucmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCByZXRyeVByb2Nlc3NDaHVuayA9IGNodW5rID0+IHtcbiAgICAgICAgLy8gbm8gbW9yZSByZXRyaWVzIGxlZnRcbiAgICAgICAgaWYgKGNodW5rLnJldHJpZXMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgLy8gbmV3IHJldHJ5XG4gICAgICAgIGNodW5rLnN0YXR1cyA9IENodW5rU3RhdHVzLldBSVRJTkc7XG4gICAgICAgIGNsZWFyVGltZW91dChjaHVuay50aW1lb3V0KTtcbiAgICAgICAgY2h1bmsudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcHJvY2Vzc0NodW5rKGNodW5rKTtcbiAgICAgICAgfSwgY2h1bmsucmV0cmllcy5zaGlmdCgpKTtcblxuICAgICAgICAvLyB3ZSdyZSBnb2luZyB0byByZXRyeVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBkYXRlVG90YWxQcm9ncmVzcyA9ICgpID0+IHtcbiAgICAgICAgLy8gY2FsY3VsYXRlIHRvdGFsIHByb2dyZXNzIGZyYWN0aW9uXG4gICAgICAgIGNvbnN0IHRvdGFsQnl0ZXNUcmFuc2ZlcmVkID0gY2h1bmtzLnJlZHVjZSgocCwgY2h1bmspID0+IHtcbiAgICAgICAgICAgIGlmIChwID09PSBudWxsIHx8IGNodW5rLnByb2dyZXNzID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBwICsgY2h1bmsucHJvZ3Jlc3M7XG4gICAgICAgIH0sIDApO1xuXG4gICAgICAgIC8vIGNhbid0IGNvbXB1dGUgcHJvZ3Jlc3NcbiAgICAgICAgaWYgKHRvdGFsQnl0ZXNUcmFuc2ZlcmVkID09PSBudWxsKSByZXR1cm4gcHJvZ3Jlc3MoZmFsc2UsIDAsIDApO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBwcm9ncmVzcyB2YWx1ZXNcbiAgICAgICAgY29uc3QgdG90YWxTaXplID0gY2h1bmtzLnJlZHVjZSgodG90YWwsIGNodW5rKSA9PiB0b3RhbCArIGNodW5rLnNpemUsIDApO1xuXG4gICAgICAgIC8vIGNhbiB1cGRhdGUgcHJvZ3Jlc3MgaW5kaWNhdG9yXG4gICAgICAgIHByb2dyZXNzKHRydWUsIHRvdGFsQnl0ZXNUcmFuc2ZlcmVkLCB0b3RhbFNpemUpO1xuICAgIH07XG5cbiAgICAvLyBwcm9jZXNzIG5ldyBjaHVua3NcbiAgICBjb25zdCBwcm9jZXNzQ2h1bmtzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0b3RhbFByb2Nlc3NpbmcgPSBjaHVua3MuZmlsdGVyKGNodW5rID0+IGNodW5rLnN0YXR1cyA9PT0gQ2h1bmtTdGF0dXMuUFJPQ0VTU0lORylcbiAgICAgICAgICAgIC5sZW5ndGg7XG4gICAgICAgIGlmICh0b3RhbFByb2Nlc3NpbmcgPj0gMSkgcmV0dXJuO1xuICAgICAgICBwcm9jZXNzQ2h1bmsoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYWJvcnRDaHVua3MgPSAoKSA9PiB7XG4gICAgICAgIGNodW5rcy5mb3JFYWNoKGNodW5rID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChjaHVuay50aW1lb3V0KTtcbiAgICAgICAgICAgIGlmIChjaHVuay5yZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgY2h1bmsucmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gbGV0J3MgZ28hXG4gICAgaWYgKCFzdGF0ZS5zZXJ2ZXJJZCkge1xuICAgICAgICByZXF1ZXN0VHJhbnNmZXJJZChzZXJ2ZXJJZCA9PiB7XG4gICAgICAgICAgICAvLyBzdG9wIGhlcmUgaWYgYWJvcnRlZCwgbWlnaHQgaGF2ZSBoYXBwZW5lZCBpbiBiZXR3ZWVuIHJlcXVlc3QgYW5kIGNhbGxiYWNrXG4gICAgICAgICAgICBpZiAoc3RhdGUuYWJvcnRlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBwYXNzIGJhY2sgdG8gaXRlbSBzbyB3ZSBjYW4gdXNlIGl0IGlmIHNvbWV0aGluZyBnb2VzIHdyb25nXG4gICAgICAgICAgICB0cmFuc2ZlcihzZXJ2ZXJJZCk7XG5cbiAgICAgICAgICAgIC8vIHN0b3JlIGludGVybmFsbHlcbiAgICAgICAgICAgIHN0YXRlLnNlcnZlcklkID0gc2VydmVySWQ7XG4gICAgICAgICAgICBwcm9jZXNzQ2h1bmtzKCk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3RUcmFuc2Zlck9mZnNldChvZmZzZXQgPT4ge1xuICAgICAgICAgICAgLy8gc3RvcCBoZXJlIGlmIGFib3J0ZWQsIG1pZ2h0IGhhdmUgaGFwcGVuZWQgaW4gYmV0d2VlbiByZXF1ZXN0IGFuZCBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHN0YXRlLmFib3J0ZWQpIHJldHVybjtcblxuICAgICAgICAgICAgLy8gbWFyayBjaHVua3Mgd2l0aCBsb3dlciBvZmZzZXQgYXMgY29tcGxldGVcbiAgICAgICAgICAgIGNodW5rc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoY2h1bmsgPT4gY2h1bmsub2Zmc2V0IDwgb2Zmc2V0KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGNodW5rID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuQ09NUExFVEU7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rLnByb2dyZXNzID0gY2h1bmsuc2l6ZTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gY29udGludWUgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgcHJvY2Vzc0NodW5rcygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhYm9ydDogKCkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICBhYm9ydENodW5rcygpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuXG4vKlxuZnVuY3Rpb24gc2lnbmF0dXJlOlxuICAoZmlsZSwgbWV0YWRhdGEsIGxvYWQsIGVycm9yLCBwcm9ncmVzcywgYWJvcnQpID0+IHtcbiAgICByZXR1cm4ge1xuICAgIGFib3J0OigpID0+IHt9XG4gIH1cbn1cbiovXG5jb25zdCBjcmVhdGVGaWxlUHJvY2Vzc29yRnVuY3Rpb24gPSAoYXBpVXJsLCBhY3Rpb24sIG5hbWUsIG9wdGlvbnMpID0+IChcbiAgICBmaWxlLFxuICAgIG1ldGFkYXRhLFxuICAgIGxvYWQsXG4gICAgZXJyb3IsXG4gICAgcHJvZ3Jlc3MsXG4gICAgYWJvcnQsXG4gICAgdHJhbnNmZXJcbikgPT4ge1xuICAgIC8vIG5vIGZpbGUgcmVjZWl2ZWRcbiAgICBpZiAoIWZpbGUpIHJldHVybjtcblxuICAgIC8vIGlmIHdhcyBwYXNzZWQgYSBmaWxlLCBhbmQgd2UgY2FuIGNodW5rIGl0LCBleGl0IGhlcmVcbiAgICBjb25zdCBjYW5DaHVua1VwbG9hZCA9IG9wdGlvbnMuY2h1bmtVcGxvYWRzO1xuICAgIGNvbnN0IHNob3VsZENodW5rVXBsb2FkID0gY2FuQ2h1bmtVcGxvYWQgJiYgZmlsZS5zaXplID4gb3B0aW9ucy5jaHVua1NpemU7XG4gICAgY29uc3Qgd2lsbENodW5rVXBsb2FkID0gY2FuQ2h1bmtVcGxvYWQgJiYgKHNob3VsZENodW5rVXBsb2FkIHx8IG9wdGlvbnMuY2h1bmtGb3JjZSk7XG4gICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBCbG9iICYmIHdpbGxDaHVua1VwbG9hZClcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NGaWxlQ2h1bmtlZChcbiAgICAgICAgICAgIGFwaVVybCxcbiAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBmaWxlLFxuICAgICAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgICAgICBsb2FkLFxuICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICBwcm9ncmVzcyxcbiAgICAgICAgICAgIGFib3J0LFxuICAgICAgICAgICAgdHJhbnNmZXIsXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG5cbiAgICAvLyBzZXQgaGFuZGxlcnNcbiAgICBjb25zdCBvbmRhdGEgPSBhY3Rpb24ub25kYXRhIHx8IChmZCA9PiBmZCk7XG4gICAgY29uc3Qgb25sb2FkID0gYWN0aW9uLm9ubG9hZCB8fCAocmVzID0+IHJlcyk7XG4gICAgY29uc3Qgb25lcnJvciA9IGFjdGlvbi5vbmVycm9yIHx8IChyZXMgPT4gbnVsbCk7XG5cbiAgICBjb25zdCBoZWFkZXJzID1cbiAgICAgICAgdHlwZW9mIGFjdGlvbi5oZWFkZXJzID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IGFjdGlvbi5oZWFkZXJzKGZpbGUsIG1ldGFkYXRhKSB8fCB7fVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAuLi5hY3Rpb24uaGVhZGVycyxcbiAgICAgICAgICAgICAgfTtcblxuICAgIGNvbnN0IHJlcXVlc3RQYXJhbXMgPSB7XG4gICAgICAgIC4uLmFjdGlvbixcbiAgICAgICAgaGVhZGVycyxcbiAgICB9O1xuXG4gICAgLy8gY3JlYXRlIGZvcm1kYXRhIG9iamVjdFxuICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgLy8gYWRkIG1ldGFkYXRhIHVuZGVyIHNhbWUgbmFtZVxuICAgIGlmIChpc09iamVjdChtZXRhZGF0YSkpIHtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKG5hbWUsIEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSk7XG4gICAgfVxuXG4gICAgLy8gVHVybiBpbnRvIGFuIGFycmF5IG9mIG9iamVjdHMgc28gbm8gbWF0dGVyIHdoYXQgdGhlIGlucHV0LCB3ZSBjYW4gaGFuZGxlIGl0IHRoZSBzYW1lIHdheVxuICAgIChmaWxlIGluc3RhbmNlb2YgQmxvYiA/IFt7IG5hbWU6IG51bGwsIGZpbGUgfV0gOiBmaWxlKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgaXRlbS5maWxlLFxuICAgICAgICAgICAgaXRlbS5uYW1lID09PSBudWxsID8gaXRlbS5maWxlLm5hbWUgOiBgJHtpdGVtLm5hbWV9JHtpdGVtLmZpbGUubmFtZX1gXG4gICAgICAgICk7XG4gICAgfSk7XG5cbiAgICAvLyBzZW5kIHJlcXVlc3Qgb2JqZWN0XG4gICAgY29uc3QgcmVxdWVzdCA9IHNlbmRSZXF1ZXN0KG9uZGF0YShmb3JtRGF0YSksIGJ1aWxkVVJMKGFwaVVybCwgYWN0aW9uLnVybCksIHJlcXVlc3RQYXJhbXMpO1xuICAgIHJlcXVlc3Qub25sb2FkID0geGhyID0+IHtcbiAgICAgICAgbG9hZChjcmVhdGVSZXNwb25zZSgnbG9hZCcsIHhoci5zdGF0dXMsIG9ubG9hZCh4aHIucmVzcG9uc2UpLCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbmVycm9yID0geGhyID0+IHtcbiAgICAgICAgZXJyb3IoXG4gICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcik7XG4gICAgcmVxdWVzdC5vbnByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgcmVxdWVzdC5vbmFib3J0ID0gYWJvcnQ7XG5cbiAgICAvLyBzaG91bGQgcmV0dXJuIHJlcXVlc3RcbiAgICByZXR1cm4gcmVxdWVzdDtcbn07XG5cbmNvbnN0IGNyZWF0ZVByb2Nlc3NvckZ1bmN0aW9uID0gKGFwaVVybCA9ICcnLCBhY3Rpb24sIG5hbWUsIG9wdGlvbnMpID0+IHtcbiAgICAvLyBjdXN0b20gaGFuZGxlciAoc2hvdWxkIGFsc28gaGFuZGxlIGZpbGUsIGxvYWQsIGVycm9yLCBwcm9ncmVzcyBhbmQgYWJvcnQpXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicpIHJldHVybiAoLi4ucGFyYW1zKSA9PiBhY3Rpb24obmFtZSwgLi4ucGFyYW1zLCBvcHRpb25zKTtcblxuICAgIC8vIG5vIGFjdGlvbiBzdXBwbGllZFxuICAgIGlmICghYWN0aW9uIHx8ICFpc1N0cmluZyhhY3Rpb24udXJsKSkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBpbnRlcm5hbCBoYW5kbGVyXG4gICAgcmV0dXJuIGNyZWF0ZUZpbGVQcm9jZXNzb3JGdW5jdGlvbihhcGlVcmwsIGFjdGlvbiwgbmFtZSwgb3B0aW9ucyk7XG59O1xuXG4vKlxuIGZ1bmN0aW9uIHNpZ25hdHVyZTpcbiAodW5pcXVlRmlsZUlkLCBsb2FkLCBlcnJvcikgPT4geyB9XG4gKi9cbmNvbnN0IGNyZWF0ZVJldmVydEZ1bmN0aW9uID0gKGFwaVVybCA9ICcnLCBhY3Rpb24pID0+IHtcbiAgICAvLyBpcyBjdXN0b20gaW1wbGVtZW50YXRpb25cbiAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH1cblxuICAgIC8vIG5vIGFjdGlvbiBzdXBwbGllZCwgcmV0dXJuIHN0dWIgZnVuY3Rpb24sIGludGVyZmFjZSB3aWxsIHdvcmssIGJ1dCBmaWxlIHdvbid0IGJlIHJlbW92ZWRcbiAgICBpZiAoIWFjdGlvbiB8fCAhaXNTdHJpbmcoYWN0aW9uLnVybCkpIHtcbiAgICAgICAgcmV0dXJuICh1bmlxdWVGaWxlSWQsIGxvYWQpID0+IGxvYWQoKTtcbiAgICB9XG5cbiAgICAvLyBzZXQgb25sb2FkIGhhbmxkZXJcbiAgICBjb25zdCBvbmxvYWQgPSBhY3Rpb24ub25sb2FkIHx8IChyZXMgPT4gcmVzKTtcbiAgICBjb25zdCBvbmVycm9yID0gYWN0aW9uLm9uZXJyb3IgfHwgKHJlcyA9PiBudWxsKTtcblxuICAgIC8vIGludGVybmFsIGltcGxlbWVudGF0aW9uXG4gICAgcmV0dXJuICh1bmlxdWVGaWxlSWQsIGxvYWQsIGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzZW5kUmVxdWVzdChcbiAgICAgICAgICAgIHVuaXF1ZUZpbGVJZCxcbiAgICAgICAgICAgIGFwaVVybCArIGFjdGlvbi51cmwsXG4gICAgICAgICAgICBhY3Rpb24gLy8gY29udGFpbnMgbWV0aG9kLCBoZWFkZXJzIGFuZCB3aXRoQ3JlZGVudGlhbHMgcHJvcGVydGllc1xuICAgICAgICApO1xuICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9IHhociA9PiB7XG4gICAgICAgICAgICBsb2FkKFxuICAgICAgICAgICAgICAgIGNyZWF0ZVJlc3BvbnNlKFxuICAgICAgICAgICAgICAgICAgICAnbG9hZCcsXG4gICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIG9ubG9hZCh4aHIucmVzcG9uc2UpLFxuICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9IHhociA9PiB7XG4gICAgICAgICAgICBlcnJvcihcbiAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKTtcblxuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9O1xufTtcblxuY29uc3QgZ2V0UmFuZG9tTnVtYmVyID0gKG1pbiA9IDAsIG1heCA9IDEpID0+IG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKTtcblxuY29uc3QgY3JlYXRlUGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyID0gKFxuICAgIGNiLFxuICAgIGR1cmF0aW9uID0gMTAwMCxcbiAgICBvZmZzZXQgPSAwLFxuICAgIHRpY2tNaW4gPSAyNSxcbiAgICB0aWNrTWF4ID0gMjUwXG4pID0+IHtcbiAgICBsZXQgdGltZW91dCA9IG51bGw7XG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuXG4gICAgY29uc3QgdGljayA9ICgpID0+IHtcbiAgICAgICAgbGV0IHJ1bnRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnQ7XG4gICAgICAgIGxldCBkZWxheSA9IGdldFJhbmRvbU51bWJlcih0aWNrTWluLCB0aWNrTWF4KTtcblxuICAgICAgICBpZiAocnVudGltZSArIGRlbGF5ID4gZHVyYXRpb24pIHtcbiAgICAgICAgICAgIGRlbGF5ID0gcnVudGltZSArIGRlbGF5IC0gZHVyYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcHJvZ3Jlc3MgPSBydW50aW1lIC8gZHVyYXRpb247XG4gICAgICAgIGlmIChwcm9ncmVzcyA+PSAxIHx8IGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICAgICAgY2IoMSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjYihwcm9ncmVzcyk7XG5cbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQodGljaywgZGVsYXkpO1xuICAgIH07XG5cbiAgICBpZiAoZHVyYXRpb24gPiAwKSB0aWNrKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjbGVhcjogKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuXG5jb25zdCBjcmVhdGVGaWxlUHJvY2Vzc29yID0gKHByb2Nlc3NGbiwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBjb21wbGV0ZTogZmFsc2UsXG4gICAgICAgIHBlcmNlaXZlZFByb2dyZXNzOiAwLFxuICAgICAgICBwZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXI6IG51bGwsXG4gICAgICAgIHByb2dyZXNzOiBudWxsLFxuICAgICAgICB0aW1lc3RhbXA6IG51bGwsXG4gICAgICAgIHBlcmNlaXZlZER1cmF0aW9uOiAwLFxuICAgICAgICBkdXJhdGlvbjogMCxcbiAgICAgICAgcmVxdWVzdDogbnVsbCxcbiAgICAgICAgcmVzcG9uc2U6IG51bGwsXG4gICAgfTtcblxuICAgIGNvbnN0IHsgYWxsb3dNaW5pbXVtVXBsb2FkRHVyYXRpb24gfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCBwcm9jZXNzID0gKGZpbGUsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2dyZXNzRm4gPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyB3ZSd2ZSBub3QgeWV0IHN0YXJ0ZWQgdGhlIHJlYWwgZG93bmxvYWQsIHN0b3AgaGVyZVxuICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgbWlnaHQgbm90IGdvIHRocm91Z2gsIGZvciBpbnN0YW5jZSwgdGhlcmUgbWlnaHQgYmUgc29tZSBzZXJ2ZXIgdHJvdWJsZVxuICAgICAgICAgICAgLy8gaWYgc3RhdGUucHJvZ3Jlc3MgaXMgbnVsbCwgdGhlIHNlcnZlciBkb2VzIG5vdCBhbGxvdyBjb21wdXRpbmcgcHJvZ3Jlc3MgYW5kIHdlIHNob3cgdGhlIHNwaW5uZXIgaW5zdGVhZFxuICAgICAgICAgICAgaWYgKHN0YXRlLmR1cmF0aW9uID09PSAwIHx8IHN0YXRlLnByb2dyZXNzID09PSBudWxsKSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIGFzIHdlJ3JlIG5vdyBwcm9jZXNzaW5nLCBmaXJlIHRoZSBwcm9ncmVzcyBldmVudFxuICAgICAgICAgICAgYXBpLmZpcmUoJ3Byb2dyZXNzJywgYXBpLmdldFByb2dyZXNzKCkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNvbXBsZXRlRm4gPSAoKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICBhcGkuZmlyZSgnbG9hZC1wZXJjZWl2ZWQnLCBzdGF0ZS5yZXNwb25zZS5ib2R5KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBsZXQncyBzdGFydCBwcm9jZXNzaW5nXG4gICAgICAgIGFwaS5maXJlKCdzdGFydCcpO1xuXG4gICAgICAgIC8vIHNldCByZXF1ZXN0IHN0YXJ0XG4gICAgICAgIHN0YXRlLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cbiAgICAgICAgLy8gY3JlYXRlIHBlcmNlaXZlZCBwZXJmb3JtYW5jZSBwcm9ncmVzcyBpbmRpY2F0b3JcbiAgICAgICAgc3RhdGUucGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyID0gY3JlYXRlUGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyKFxuICAgICAgICAgICAgcHJvZ3Jlc3MgPT4ge1xuICAgICAgICAgICAgICAgIHN0YXRlLnBlcmNlaXZlZFByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgc3RhdGUucGVyY2VpdmVkRHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhdGUudGltZXN0YW1wO1xuXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NGbigpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgZmFrZSBwcm9ncmVzcyBpcyBkb25lLCBhbmQgYSByZXNwb25zZSBoYXMgYmVlbiByZWNlaXZlZCxcbiAgICAgICAgICAgICAgICAvLyBhbmQgd2UndmUgbm90IHlldCBjYWxsZWQgdGhlIGNvbXBsZXRlIG1ldGhvZFxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5yZXNwb25zZSAmJiBzdGF0ZS5wZXJjZWl2ZWRQcm9ncmVzcyA9PT0gMSAmJiAhc3RhdGUuY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgZG9uZSFcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVGbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyByYW5kb20gZGVsYXkgYXMgaW4gYSBsaXN0IG9mIGZpbGVzIHlvdSBzdGFydCBub3RpY2luZ1xuICAgICAgICAgICAgLy8gZmlsZXMgdXBsb2FkaW5nIGF0IHRoZSBleGFjdCBzYW1lIHNwZWVkXG4gICAgICAgICAgICBhbGxvd01pbmltdW1VcGxvYWREdXJhdGlvbiA/IGdldFJhbmRvbU51bWJlcig3NTAsIDE1MDApIDogMFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHJlbWVtYmVyIHJlcXVlc3Qgc28gd2UgY2FuIGFib3J0IGl0IGxhdGVyXG4gICAgICAgIHN0YXRlLnJlcXVlc3QgPSBwcm9jZXNzRm4oXG4gICAgICAgICAgICAvLyB0aGUgZmlsZSB0byBwcm9jZXNzXG4gICAgICAgICAgICBmaWxlLFxuXG4gICAgICAgICAgICAvLyB0aGUgbWV0YWRhdGEgdG8gc2VuZCBhbG9uZ1xuICAgICAgICAgICAgbWV0YWRhdGEsXG5cbiAgICAgICAgICAgIC8vIGNhbGxiYWNrcyAobG9hZCwgZXJyb3IsIHByb2dyZXNzLCBhYm9ydCwgdHJhbnNmZXIpXG4gICAgICAgICAgICAvLyBsb2FkIGV4cGVjdHMgdGhlIGJvZHkgdG8gYmUgYSBzZXJ2ZXIgaWQgaWZcbiAgICAgICAgICAgIC8vIHlvdSB3YW50IHRvIG1ha2UgdXNlIG9mIHJldmVydFxuICAgICAgICAgICAgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHdlIHB1dCB0aGUgcmVzcG9uc2UgaW4gc3RhdGUgc28gd2UgY2FuIGFjY2Vzc1xuICAgICAgICAgICAgICAgIC8vIGl0IG91dHNpZGUgb2YgdGhpcyBtZXRob2RcbiAgICAgICAgICAgICAgICBzdGF0ZS5yZXNwb25zZSA9IGlzT2JqZWN0KHJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICA/IHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbG9hZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYCR7cmVzcG9uc2V9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBkdXJhdGlvblxuICAgICAgICAgICAgICAgIHN0YXRlLmR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXRlLnRpbWVzdGFtcDtcblxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHByb2dyZXNzIHRvIDEgYXMgd2UncmUgbm93IGRvbmVcbiAgICAgICAgICAgICAgICBzdGF0ZS5wcm9ncmVzcyA9IDE7XG5cbiAgICAgICAgICAgICAgICAvLyBhY3R1YWwgbG9hZCBpcyBkb25lIGxldCdzIHNoYXJlIHJlc3VsdHNcbiAgICAgICAgICAgICAgICBhcGkuZmlyZSgnbG9hZCcsIHN0YXRlLnJlc3BvbnNlLmJvZHkpO1xuXG4gICAgICAgICAgICAgICAgLy8gd2UgYXJlIHJlYWxseSBkb25lXG4gICAgICAgICAgICAgICAgLy8gaWYgcGVyY2VpdmVkIHByb2dyZXNzIGlzIDEgKCB3YWl0IGZvciBwZXJjZWl2ZWQgcHJvZ3Jlc3MgdG8gY29tcGxldGUgKVxuICAgICAgICAgICAgICAgIC8vIG9yIGlmIHNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IHByb2dyZXNzICggbnVsbCApXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAhYWxsb3dNaW5pbXVtVXBsb2FkRHVyYXRpb24gfHxcbiAgICAgICAgICAgICAgICAgICAgKGFsbG93TWluaW11bVVwbG9hZER1cmF0aW9uICYmIHN0YXRlLnBlcmNlaXZlZFByb2dyZXNzID09PSAxKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZUZuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gZXJyb3IgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gb2JqZWN0IHdpdGggdHlwZSwgY29kZSwgYm9keVxuICAgICAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGNhbmNlbCB1cGRhdGVyXG4gICAgICAgICAgICAgICAgc3RhdGUucGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyLmNsZWFyKCk7XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgb3RoZXJzIGFib3V0IHRoaXMgZXJyb3JcbiAgICAgICAgICAgICAgICBhcGkuZmlyZShcbiAgICAgICAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgaXNPYmplY3QoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYCR7ZXJyb3J9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBhY3R1YWwgcHJvY2Vzc2luZyBwcm9ncmVzc1xuICAgICAgICAgICAgKGNvbXB1dGFibGUsIGN1cnJlbnQsIHRvdGFsKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGFjdHVhbCBkdXJhdGlvblxuICAgICAgICAgICAgICAgIHN0YXRlLmR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXRlLnRpbWVzdGFtcDtcblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBhY3R1YWwgcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICBzdGF0ZS5wcm9ncmVzcyA9IGNvbXB1dGFibGUgPyBjdXJyZW50IC8gdG90YWwgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NGbigpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gYWJvcnQgZG9lcyBub3QgZXhwZWN0IGEgdmFsdWVcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBzdG9wIHVwZGF0ZXJcbiAgICAgICAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIuY2xlYXIoKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpcmUgdGhlIGFib3J0IGV2ZW50IHNvIHdlIGNhbiBzd2l0Y2ggdmlzdWFsc1xuICAgICAgICAgICAgICAgIGFwaS5maXJlKCdhYm9ydCcsIHN0YXRlLnJlc3BvbnNlID8gc3RhdGUucmVzcG9uc2UuYm9keSA6IG51bGwpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIGlkIGZvciB0aGlzIHRyYW5zZmVyXG4gICAgICAgICAgICB0cmFuc2ZlcklkID0+IHtcbiAgICAgICAgICAgICAgICBhcGkuZmlyZSgndHJhbnNmZXInLCB0cmFuc2ZlcklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgY29uc3QgYWJvcnQgPSAoKSA9PiB7XG4gICAgICAgIC8vIG5vIHJlcXVlc3QgcnVubmluZywgY2FuJ3QgYWJvcnRcbiAgICAgICAgaWYgKCFzdGF0ZS5yZXF1ZXN0KSByZXR1cm47XG5cbiAgICAgICAgLy8gc3RvcCB1cGRhdGVyXG4gICAgICAgIHN0YXRlLnBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlci5jbGVhcigpO1xuXG4gICAgICAgIC8vIGFib3J0IGFjdHVhbCByZXF1ZXN0XG4gICAgICAgIGlmIChzdGF0ZS5yZXF1ZXN0LmFib3J0KSBzdGF0ZS5yZXF1ZXN0LmFib3J0KCk7XG5cbiAgICAgICAgLy8gaWYgaGFzIHJlc3BvbnNlIG9iamVjdCwgd2UndmUgY29tcGxldGVkIHRoZSByZXF1ZXN0XG4gICAgICAgIHN0YXRlLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzZXQgPSAoKSA9PiB7XG4gICAgICAgIGFib3J0KCk7XG4gICAgICAgIHN0YXRlLmNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLnBlcmNlaXZlZFByb2dyZXNzID0gMDtcbiAgICAgICAgc3RhdGUucHJvZ3Jlc3MgPSAwO1xuICAgICAgICBzdGF0ZS50aW1lc3RhbXAgPSBudWxsO1xuICAgICAgICBzdGF0ZS5wZXJjZWl2ZWREdXJhdGlvbiA9IDA7XG4gICAgICAgIHN0YXRlLmR1cmF0aW9uID0gMDtcbiAgICAgICAgc3RhdGUucmVxdWVzdCA9IG51bGw7XG4gICAgICAgIHN0YXRlLnJlc3BvbnNlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0UHJvZ3Jlc3MgPSBhbGxvd01pbmltdW1VcGxvYWREdXJhdGlvblxuICAgICAgICA/ICgpID0+IChzdGF0ZS5wcm9ncmVzcyA/IE1hdGgubWluKHN0YXRlLnByb2dyZXNzLCBzdGF0ZS5wZXJjZWl2ZWRQcm9ncmVzcykgOiBudWxsKVxuICAgICAgICA6ICgpID0+IHN0YXRlLnByb2dyZXNzIHx8IG51bGw7XG5cbiAgICBjb25zdCBnZXREdXJhdGlvbiA9IGFsbG93TWluaW11bVVwbG9hZER1cmF0aW9uXG4gICAgICAgID8gKCkgPT4gTWF0aC5taW4oc3RhdGUuZHVyYXRpb24sIHN0YXRlLnBlcmNlaXZlZER1cmF0aW9uKVxuICAgICAgICA6ICgpID0+IHN0YXRlLmR1cmF0aW9uO1xuXG4gICAgY29uc3QgYXBpID0ge1xuICAgICAgICAuLi5vbigpLFxuICAgICAgICBwcm9jZXNzLCAvLyBzdGFydCBwcm9jZXNzaW5nIGZpbGVcbiAgICAgICAgYWJvcnQsIC8vIGFib3J0IGFjdGl2ZSBwcm9jZXNzIHJlcXVlc3RcbiAgICAgICAgZ2V0UHJvZ3Jlc3MsXG4gICAgICAgIGdldER1cmF0aW9uLFxuICAgICAgICByZXNldCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGFwaTtcbn07XG5cbmNvbnN0IGdldEZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbiA9IG5hbWUgPT4gbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5sYXN0SW5kZXhPZignLicpKSB8fCBuYW1lO1xuXG5jb25zdCBjcmVhdGVGaWxlU3R1YiA9IHNvdXJjZSA9PiB7XG4gICAgbGV0IGRhdGEgPSBbc291cmNlLm5hbWUsIHNvdXJjZS5zaXplLCBzb3VyY2UudHlwZV07XG5cbiAgICAvLyBpcyBibG9iIG9yIGJhc2U2NCwgdGhlbiB3ZSBuZWVkIHRvIHNldCB0aGUgbmFtZVxuICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBCbG9iIHx8IGlzQmFzZTY0RGF0YVVSSShzb3VyY2UpKSB7XG4gICAgICAgIGRhdGFbMF0gPSBzb3VyY2UubmFtZSB8fCBnZXREYXRlU3RyaW5nKCk7XG4gICAgfSBlbHNlIGlmIChpc0Jhc2U2NERhdGFVUkkoc291cmNlKSkge1xuICAgICAgICAvLyBpZiBpcyBiYXNlNjQgZGF0YSB1cmkgd2UgbmVlZCB0byBkZXRlcm1pbmUgdGhlIGF2ZXJhZ2Ugc2l6ZSBhbmQgdHlwZVxuICAgICAgICBkYXRhWzFdID0gc291cmNlLmxlbmd0aDtcbiAgICAgICAgZGF0YVsyXSA9IGdldE1pbWVUeXBlRnJvbUJhc2U2NERhdGFVUkkoc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKHNvdXJjZSkpIHtcbiAgICAgICAgLy8gdXJsXG4gICAgICAgIGRhdGFbMF0gPSBnZXRGaWxlbmFtZUZyb21VUkwoc291cmNlKTtcbiAgICAgICAgZGF0YVsxXSA9IDA7XG4gICAgICAgIGRhdGFbMl0gPSAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBkYXRhWzBdLFxuICAgICAgICBzaXplOiBkYXRhWzFdLFxuICAgICAgICB0eXBlOiBkYXRhWzJdLFxuICAgIH07XG59O1xuXG5jb25zdCBpc0ZpbGUgPSB2YWx1ZSA9PiAhISh2YWx1ZSBpbnN0YW5jZW9mIEZpbGUgfHwgKHZhbHVlIGluc3RhbmNlb2YgQmxvYiAmJiB2YWx1ZS5uYW1lKSk7XG5cbmNvbnN0IGRlZXBDbG9uZU9iamVjdCA9IHNyYyA9PiB7XG4gICAgaWYgKCFpc09iamVjdChzcmMpKSByZXR1cm4gc3JjO1xuICAgIGNvbnN0IHRhcmdldCA9IGlzQXJyYXkoc3JjKSA/IFtdIDoge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc3JjKSB7XG4gICAgICAgIGlmICghc3JjLmhhc093blByb3BlcnR5KGtleSkpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCB2ID0gc3JjW2tleV07XG4gICAgICAgIHRhcmdldFtrZXldID0gdiAmJiBpc09iamVjdCh2KSA/IGRlZXBDbG9uZU9iamVjdCh2KSA6IHY7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59O1xuXG5jb25zdCBjcmVhdGVJdGVtID0gKG9yaWdpbiA9IG51bGwsIHNlcnZlckZpbGVSZWZlcmVuY2UgPSBudWxsLCBmaWxlID0gbnVsbCkgPT4ge1xuICAgIC8vIHVuaXF1ZSBpZCBmb3IgdGhpcyBpdGVtLCBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoZSBpdGVtIGFjcm9zcyB2aWV3c1xuICAgIGNvbnN0IGlkID0gZ2V0VW5pcXVlSWQoKTtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGl0ZW0gc3RhdGVcbiAgICAgKi9cbiAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgLy8gaXMgYXJjaGl2ZWRcbiAgICAgICAgYXJjaGl2ZWQ6IGZhbHNlLFxuXG4gICAgICAgIC8vIGlmIGlzIGZyb3plbiwgbm8gbG9uZ2VyIGZpcmVzIGV2ZW50c1xuICAgICAgICBmcm96ZW46IGZhbHNlLFxuXG4gICAgICAgIC8vIHJlbW92ZWQgZnJvbSB2aWV3XG4gICAgICAgIHJlbGVhc2VkOiBmYWxzZSxcblxuICAgICAgICAvLyBvcmlnaW5hbCBzb3VyY2VcbiAgICAgICAgc291cmNlOiBudWxsLFxuXG4gICAgICAgIC8vIGZpbGUgbW9kZWwgcmVmZXJlbmNlXG4gICAgICAgIGZpbGUsXG5cbiAgICAgICAgLy8gaWQgb2YgZmlsZSBvbiBzZXJ2ZXJcbiAgICAgICAgc2VydmVyRmlsZVJlZmVyZW5jZSxcblxuICAgICAgICAvLyBpZCBvZiBmaWxlIHRyYW5zZmVyIG9uIHNlcnZlclxuICAgICAgICB0cmFuc2ZlcklkOiBudWxsLFxuXG4gICAgICAgIC8vIGlzIGFib3J0ZWRcbiAgICAgICAgcHJvY2Vzc2luZ0Fib3J0ZWQ6IGZhbHNlLFxuXG4gICAgICAgIC8vIGN1cnJlbnQgaXRlbSBzdGF0dXNcbiAgICAgICAgc3RhdHVzOiBzZXJ2ZXJGaWxlUmVmZXJlbmNlID8gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFIDogSXRlbVN0YXR1cy5JTklULFxuXG4gICAgICAgIC8vIGFjdGl2ZSBwcm9jZXNzZXNcbiAgICAgICAgYWN0aXZlTG9hZGVyOiBudWxsLFxuICAgICAgICBhY3RpdmVQcm9jZXNzb3I6IG51bGwsXG4gICAgfTtcblxuICAgIC8vIGNhbGxiYWNrIHVzZWQgd2hlbiBhYm9ydCBwcm9jZXNzaW5nIGlzIGNhbGxlZCB0byBsaW5rIGJhY2sgdG8gdGhlIHJlc29sdmUgbWV0aG9kXG4gICAgbGV0IGFib3J0UHJvY2Vzc2luZ1JlcXVlc3RDb21wbGV0ZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBFeHRlcm5hbGx5IGFkZGVkIGl0ZW0gbWV0YWRhdGFcbiAgICAgKi9cbiAgICBjb25zdCBtZXRhZGF0YSA9IHt9O1xuXG4gICAgLy8gaXRlbSBkYXRhXG4gICAgY29uc3Qgc2V0U3RhdHVzID0gc3RhdHVzID0+IChzdGF0ZS5zdGF0dXMgPSBzdGF0dXMpO1xuXG4gICAgLy8gZmlyZSBldmVudCB1bmxlc3MgdGhlIGl0ZW0gaGFzIGJlZW4gYXJjaGl2ZWRcbiAgICBjb25zdCBmaXJlID0gKGV2ZW50LCAuLi5wYXJhbXMpID0+IHtcbiAgICAgICAgaWYgKHN0YXRlLnJlbGVhc2VkIHx8IHN0YXRlLmZyb3plbikgcmV0dXJuO1xuICAgICAgICBhcGkuZmlyZShldmVudCwgLi4ucGFyYW1zKTtcbiAgICB9O1xuXG4gICAgLy8gZmlsZSBkYXRhXG4gICAgY29uc3QgZ2V0RmlsZUV4dGVuc2lvbiA9ICgpID0+IGdldEV4dGVuc2lvbkZyb21GaWxlbmFtZShzdGF0ZS5maWxlLm5hbWUpO1xuICAgIGNvbnN0IGdldEZpbGVUeXBlID0gKCkgPT4gc3RhdGUuZmlsZS50eXBlO1xuICAgIGNvbnN0IGdldEZpbGVTaXplID0gKCkgPT4gc3RhdGUuZmlsZS5zaXplO1xuICAgIGNvbnN0IGdldEZpbGUgPSAoKSA9PiBzdGF0ZS5maWxlO1xuXG4gICAgLy9cbiAgICAvLyBsb2dpYyB0byBsb2FkIGEgZmlsZVxuICAgIC8vXG4gICAgY29uc3QgbG9hZCA9IChzb3VyY2UsIGxvYWRlciwgb25sb2FkKSA9PiB7XG4gICAgICAgIC8vIHJlbWVtYmVyIHRoZSBvcmlnaW5hbCBpdGVtIHNvdXJjZVxuICAgICAgICBzdGF0ZS5zb3VyY2UgPSBzb3VyY2U7XG5cbiAgICAgICAgLy8gc291cmNlIGlzIGtub3duXG4gICAgICAgIGFwaS5maXJlU3luYygnaW5pdCcpO1xuXG4gICAgICAgIC8vIGZpbGUgc3R1YiBpcyBhbHJlYWR5IHRoZXJlXG4gICAgICAgIGlmIChzdGF0ZS5maWxlKSB7XG4gICAgICAgICAgICBhcGkuZmlyZVN5bmMoJ2xvYWQtc2tpcCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IGEgc3R1YiBmaWxlIG9iamVjdCB3aGlsZSBsb2FkaW5nIHRoZSBhY3R1YWwgZGF0YVxuICAgICAgICBzdGF0ZS5maWxlID0gY3JlYXRlRmlsZVN0dWIoc291cmNlKTtcblxuICAgICAgICAvLyBzdGFydHMgbG9hZGluZ1xuICAgICAgICBsb2FkZXIub24oJ2luaXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBmaXJlKCdsb2FkLWluaXQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gd2UnZXZlIHJlY2VpdmVkIGEgc2l6ZSBpbmRpY2F0aW9uLCBsZXQncyB1cGRhdGUgdGhlIHN0dWJcbiAgICAgICAgbG9hZGVyLm9uKCdtZXRhJywgbWV0YSA9PiB7XG4gICAgICAgICAgICAvLyBzZXQgc2l6ZSBvZiBmaWxlIHN0dWJcbiAgICAgICAgICAgIHN0YXRlLmZpbGUuc2l6ZSA9IG1ldGEuc2l6ZTtcblxuICAgICAgICAgICAgLy8gc2V0IG5hbWUgb2YgZmlsZSBzdHViXG4gICAgICAgICAgICBzdGF0ZS5maWxlLmZpbGVuYW1lID0gbWV0YS5maWxlbmFtZTtcblxuICAgICAgICAgICAgLy8gaWYgaGFzIHJlY2VpdmVkIHNvdXJjZSwgd2UgZG9uZVxuICAgICAgICAgICAgaWYgKG1ldGEuc291cmNlKSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luID0gRmlsZU9yaWdpbi5MSU1CTztcbiAgICAgICAgICAgICAgICBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlID0gbWV0YS5zb3VyY2U7XG4gICAgICAgICAgICAgICAgc3RhdGUuc3RhdHVzID0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzaXplIGhhcyBiZWVuIHVwZGF0ZWRcbiAgICAgICAgICAgIGZpcmUoJ2xvYWQtbWV0YScpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB0aGUgZmlsZSBpcyBub3cgbG9hZGluZyB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgcHJvZ3Jlc3MgaW5kaWNhdG9yc1xuICAgICAgICBsb2FkZXIub24oJ3Byb2dyZXNzJywgcHJvZ3Jlc3MgPT4ge1xuICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuTE9BRElORyk7XG5cbiAgICAgICAgICAgIGZpcmUoJ2xvYWQtcHJvZ3Jlc3MnLCBwcm9ncmVzcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGFuIGVycm9yIHdhcyB0aHJvd24gd2hpbGUgbG9hZGluZyB0aGUgZmlsZSwgd2UgbmVlZCB0byBzd2l0Y2ggdG8gZXJyb3Igc3RhdGVcbiAgICAgICAgbG9hZGVyLm9uKCdlcnJvcicsIGVycm9yID0+IHtcbiAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLkxPQURfRVJST1IpO1xuXG4gICAgICAgICAgICBmaXJlKCdsb2FkLXJlcXVlc3QtZXJyb3InLCBlcnJvcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHVzZXIgb3IgYW5vdGhlciBwcm9jZXNzIGFib3J0ZWQgdGhlIGZpbGUgbG9hZCAoY2Fubm90IHJldHJ5KVxuICAgICAgICBsb2FkZXIub24oJ2Fib3J0JywgKCkgPT4ge1xuICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuSU5JVCk7XG4gICAgICAgICAgICBmaXJlKCdsb2FkLWFib3J0Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGRvbmUgbG9hZGluZ1xuICAgICAgICBsb2FkZXIub24oJ2xvYWQnLCBmaWxlID0+IHtcbiAgICAgICAgICAgIC8vIGFzIHdlJ3ZlIG5vdyBsb2FkZWQgdGhlIGZpbGUgdGhlIGxvYWRlciBpcyBubyBsb25nZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUxvYWRlciA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIGNhbGxlZCB3aGVuIGZpbGUgaGFzIGxvYWRlZCBzdWNjZXNmdWxseVxuICAgICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgLy8gc2V0IChwb3NzaWJseSkgdHJhbnNmb3JtZWQgZmlsZVxuICAgICAgICAgICAgICAgIHN0YXRlLmZpbGUgPSBpc0ZpbGUocmVzdWx0KSA/IHJlc3VsdCA6IHN0YXRlLmZpbGU7XG5cbiAgICAgICAgICAgICAgICAvLyBmaWxlIHJlY2VpdmVkXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MSU1CTyAmJiBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklETEUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZpcmUoJ2xvYWQnKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gcmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgb3JpZ2luYWwgZmlsZVxuICAgICAgICAgICAgICAgIHN0YXRlLmZpbGUgPSBmaWxlO1xuICAgICAgICAgICAgICAgIGZpcmUoJ2xvYWQtbWV0YScpO1xuXG4gICAgICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuTE9BRF9FUlJPUik7XG4gICAgICAgICAgICAgICAgZmlyZSgnbG9hZC1maWxlLWVycm9yJywgcmVzdWx0KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGlmIHdlIGFscmVhZHkgaGF2ZSBhIHNlcnZlciBmaWxlIHJlZmVyZW5jZSwgd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHRoZSBvbmxvYWQgbWV0aG9kXG4gICAgICAgICAgICBpZiAoc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSkge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3MoZmlsZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBubyBzZXJ2ZXIgaWQsIGxldCdzIGdpdmUgdGhpcyBmaWxlIHRoZSBmdWxsIHRyZWF0bWVudFxuICAgICAgICAgICAgb25sb2FkKGZpbGUsIHN1Y2Nlc3MsIGVycm9yKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2V0IGxvYWRlciBzb3VyY2UgZGF0YVxuICAgICAgICBsb2FkZXIuc2V0U291cmNlKHNvdXJjZSk7XG5cbiAgICAgICAgLy8gc2V0IGFzIGFjdGl2ZSBsb2FkZXJcbiAgICAgICAgc3RhdGUuYWN0aXZlTG9hZGVyID0gbG9hZGVyO1xuXG4gICAgICAgIC8vIGxvYWQgdGhlIHNvdXJjZSBkYXRhXG4gICAgICAgIGxvYWRlci5sb2FkKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJldHJ5TG9hZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFzdGF0ZS5hY3RpdmVMb2FkZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5hY3RpdmVMb2FkZXIubG9hZCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBhYm9ydExvYWQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5hY3RpdmVMb2FkZXIpIHtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUxvYWRlci5hYm9ydCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklOSVQpO1xuICAgICAgICBmaXJlKCdsb2FkLWFib3J0Jyk7XG4gICAgfTtcblxuICAgIC8vXG4gICAgLy8gbG9naWMgdG8gcHJvY2VzcyBhIGZpbGVcbiAgICAvL1xuICAgIGNvbnN0IHByb2Nlc3MgPSAocHJvY2Vzc29yLCBvbnByb2Nlc3MpID0+IHtcbiAgICAgICAgLy8gcHJvY2Vzc2luZyB3YXMgYWJvcnRlZFxuICAgICAgICBpZiAoc3RhdGUucHJvY2Vzc2luZ0Fib3J0ZWQpIHtcbiAgICAgICAgICAgIHN0YXRlLnByb2Nlc3NpbmdBYm9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBub3cgcHJvY2Vzc2luZ1xuICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HKTtcblxuICAgICAgICAvLyByZXNldCBhYm9ydCBjYWxsYmFja1xuICAgICAgICBhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUgPSBudWxsO1xuXG4gICAgICAgIC8vIGlmIG5vIGZpbGUgbG9hZGVkIHdlJ2xsIHdhaXQgZm9yIHRoZSBsb2FkIGV2ZW50XG4gICAgICAgIGlmICghKHN0YXRlLmZpbGUgaW5zdGFuY2VvZiBCbG9iKSkge1xuICAgICAgICAgICAgYXBpLm9uKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHByb2Nlc3MocHJvY2Vzc29yLCBvbnByb2Nlc3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXR1cCBwcm9jZXNzb3JcbiAgICAgICAgcHJvY2Vzc29yLm9uKCdsb2FkJywgc2VydmVyRmlsZVJlZmVyZW5jZSA9PiB7XG4gICAgICAgICAgICAvLyBuZWVkIHRoaXMgaWQgdG8gYmUgYWJsZSB0byByZXZlcnQgdGhlIHVwbG9hZFxuICAgICAgICAgICAgc3RhdGUudHJhbnNmZXJJZCA9IG51bGw7XG4gICAgICAgICAgICBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlID0gc2VydmVyRmlsZVJlZmVyZW5jZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVnaXN0ZXIgdHJhbnNmZXIgaWRcbiAgICAgICAgcHJvY2Vzc29yLm9uKCd0cmFuc2ZlcicsIHRyYW5zZmVySWQgPT4ge1xuICAgICAgICAgICAgLy8gbmVlZCB0aGlzIGlkIHRvIGJlIGFibGUgdG8gcmV2ZXJ0IHRoZSB1cGxvYWRcbiAgICAgICAgICAgIHN0YXRlLnRyYW5zZmVySWQgPSB0cmFuc2ZlcklkO1xuICAgICAgICB9KTtcblxuICAgICAgICBwcm9jZXNzb3Iub24oJ2xvYWQtcGVyY2VpdmVkJywgc2VydmVyRmlsZVJlZmVyZW5jZSA9PiB7XG4gICAgICAgICAgICAvLyBubyBsb25nZXIgcmVxdWlyZWRcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVByb2Nlc3NvciA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIG5lZWQgdGhpcyBpZCB0byBiZSBhYmxlIHRvIHJldmVyIHRoZSB1cGxvYWRcbiAgICAgICAgICAgIHN0YXRlLnRyYW5zZmVySWQgPSBudWxsO1xuICAgICAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSA9IHNlcnZlckZpbGVSZWZlcmVuY2U7XG5cbiAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEUpO1xuICAgICAgICAgICAgZmlyZSgncHJvY2Vzcy1jb21wbGV0ZScsIHNlcnZlckZpbGVSZWZlcmVuY2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwcm9jZXNzb3Iub24oJ3N0YXJ0JywgKCkgPT4ge1xuICAgICAgICAgICAgZmlyZSgncHJvY2Vzcy1zdGFydCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwcm9jZXNzb3Iub24oJ2Vycm9yJywgZXJyb3IgPT4ge1xuICAgICAgICAgICAgc3RhdGUuYWN0aXZlUHJvY2Vzc29yID0gbnVsbDtcbiAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLlBST0NFU1NJTkdfRVJST1IpO1xuICAgICAgICAgICAgZmlyZSgncHJvY2Vzcy1lcnJvcicsIGVycm9yKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJvY2Vzc29yLm9uKCdhYm9ydCcsIHNlcnZlckZpbGVSZWZlcmVuY2UgPT4ge1xuICAgICAgICAgICAgc3RhdGUuYWN0aXZlUHJvY2Vzc29yID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gaWYgZmlsZSB3YXMgdXBsb2FkZWQgYnV0IHByb2Nlc3Npbmcgd2FzIGNhbmNlbGxlZCBkdXJpbmcgcGVyY2VpdmVkIHByb2Nlc3NvciB0aW1lIHN0b3JlIGZpbGUgcmVmZXJlbmNlXG4gICAgICAgICAgICBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlID0gc2VydmVyRmlsZVJlZmVyZW5jZTtcblxuICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuSURMRSk7XG4gICAgICAgICAgICBmaXJlKCdwcm9jZXNzLWFib3J0Jyk7XG5cbiAgICAgICAgICAgIC8vIGhhcyB0aW1lb3V0IHNvIGRvZXNuJ3QgaW50ZXJmZXJlIHdpdGggcmVtb3ZlIGFjdGlvblxuICAgICAgICAgICAgaWYgKGFib3J0UHJvY2Vzc2luZ1JlcXVlc3RDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIGFib3J0UHJvY2Vzc2luZ1JlcXVlc3RDb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBwcm9jZXNzb3Iub24oJ3Byb2dyZXNzJywgcHJvZ3Jlc3MgPT4ge1xuICAgICAgICAgICAgZmlyZSgncHJvY2Vzcy1wcm9ncmVzcycsIHByb2dyZXNzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gd2hlbiBzdWNjZXNzZnVsbHkgdHJhbnNmb3JtZWRcbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGZpbGUgPT4ge1xuICAgICAgICAgICAgLy8gaWYgd2FzIGFyY2hpdmVkIGluIHRoZSBtZWFuIHRpbWUsIGRvbid0IHByb2Nlc3NcbiAgICAgICAgICAgIGlmIChzdGF0ZS5hcmNoaXZlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBwcm9jZXNzIGZpbGUhXG4gICAgICAgICAgICBwcm9jZXNzb3IucHJvY2VzcyhmaWxlLCB7IC4uLm1ldGFkYXRhIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyB0cmFuc2Zvcm0gcGhhc2VcbiAgICAgICAgY29uc3QgZXJyb3IgPSBjb25zb2xlLmVycm9yO1xuXG4gICAgICAgIC8vIHN0YXJ0IHByb2Nlc3NpbmcgdGhlIGZpbGVcbiAgICAgICAgb25wcm9jZXNzKHN0YXRlLmZpbGUsIHN1Y2Nlc3MsIGVycm9yKTtcblxuICAgICAgICAvLyBzZXQgYXMgYWN0aXZlIHByb2Nlc3NvclxuICAgICAgICBzdGF0ZS5hY3RpdmVQcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlcXVlc3RQcm9jZXNzaW5nID0gKCkgPT4ge1xuICAgICAgICBzdGF0ZS5wcm9jZXNzaW5nQWJvcnRlZCA9IGZhbHNlO1xuICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HX1FVRVVFRCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFib3J0UHJvY2Vzc2luZyA9ICgpID0+XG4gICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS5hY3RpdmVQcm9jZXNzb3IpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5wcm9jZXNzaW5nQWJvcnRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5JRExFKTtcbiAgICAgICAgICAgICAgICBmaXJlKCdwcm9jZXNzLWFib3J0Jyk7XG5cbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc3RhdGUuYWN0aXZlUHJvY2Vzc29yLmFib3J0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgLy9cbiAgICAvLyBsb2dpYyB0byByZXZlcnQgYSBwcm9jZXNzZWQgZmlsZVxuICAgIC8vXG4gICAgY29uc3QgcmV2ZXJ0ID0gKHJldmVydEZpbGVVcGxvYWQsIGZvcmNlUmV2ZXJ0KSA9PlxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBhIGNvbXBsZXRlZCB1cGxvYWQgd2lsbCBoYXZlIGEgc2VydmVyRmlsZVJlZmVyZW5jZSwgYSBmYWlsZWQgY2h1bmtlZCB1cGxvYWQgd2hlcmVcbiAgICAgICAgICAgIC8vIGdldHRpbmcgYSBzZXJ2ZXJJZCBzdWNjZWVkZWQgYnV0ID49MCBjaHVua3MgaGF2ZSBiZWVuIHVwbG9hZGVkIHdpbGwgaGF2ZSB0cmFuc2ZlcklkIHNldFxuICAgICAgICAgICAgY29uc3Qgc2VydmVyVHJhbnNmZXJJZCA9XG4gICAgICAgICAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSAhPT0gbnVsbCA/IHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgOiBzdGF0ZS50cmFuc2ZlcklkO1xuXG4gICAgICAgICAgICAvLyBjYW5ub3QgcmV2ZXJ0IHdpdGhvdXQgYSBzZXJ2ZXIgaWQgZm9yIHRoaXMgcHJvY2Vzc1xuICAgICAgICAgICAgaWYgKHNlcnZlclRyYW5zZmVySWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZXZlcnQgdGhlIHVwbG9hZCAoZmlyZSBhbmQgZm9yZ2V0KVxuICAgICAgICAgICAgcmV2ZXJ0RmlsZVVwbG9hZChcbiAgICAgICAgICAgICAgICBzZXJ2ZXJUcmFuc2ZlcklkLFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgZmlsZSBzZXJ2ZXIgaWQgYW5kIHRyYW5zZmVyIGlkIGFzIG5vdyBpdCdzIG5vdCBhdmFpbGFibGUgb24gdGhlIHNlcnZlclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUudHJhbnNmZXJJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3Qgc2V0IGVycm9yIHN0YXRlIHdoZW4gcmV2ZXJ0aW5nIGlzIG9wdGlvbmFsLCBpdCB3aWxsIGFsd2F5cyByZXNvbHZlXG4gICAgICAgICAgICAgICAgICAgIGlmICghZm9yY2VSZXZlcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIG9oIG5vIGVycm9yc1xuICAgICAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUik7XG4gICAgICAgICAgICAgICAgICAgIGZpcmUoJ3Byb2Nlc3MtcmV2ZXJ0LWVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gZmlyZSBldmVudFxuICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuSURMRSk7XG4gICAgICAgICAgICBmaXJlKCdwcm9jZXNzLXJldmVydCcpO1xuICAgICAgICB9KTtcblxuICAgIC8vIGV4cG9zZWQgbWV0aG9kc1xuICAgIGNvbnN0IHNldE1ldGFkYXRhID0gKGtleSwgdmFsdWUsIHNpbGVudCkgPT4ge1xuICAgICAgICBjb25zdCBrZXlzID0ga2V5LnNwbGl0KCcuJyk7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBrZXlzWzBdO1xuICAgICAgICBjb25zdCBsYXN0ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgbGV0IGRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiAoZGF0YSA9IGRhdGFba2V5XSkpO1xuXG4gICAgICAgIC8vIGNvbXBhcmUgb2xkIHZhbHVlIGFnYWluc3QgbmV3IHZhbHVlLCBpZiB0aGV5J3JlIHRoZSBzYW1lLCB3ZSdyZSBub3QgdXBkYXRpbmdcbiAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGRhdGFbbGFzdF0pID09PSBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpIHJldHVybjtcblxuICAgICAgICAvLyB1cGRhdGUgdmFsdWVcbiAgICAgICAgZGF0YVtsYXN0XSA9IHZhbHVlO1xuXG4gICAgICAgIC8vIGZpcmUgdXBkYXRlXG4gICAgICAgIGZpcmUoJ21ldGFkYXRhLXVwZGF0ZScsIHtcbiAgICAgICAgICAgIGtleTogcm9vdCxcbiAgICAgICAgICAgIHZhbHVlOiBtZXRhZGF0YVtyb290XSxcbiAgICAgICAgICAgIHNpbGVudCxcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGdldE1ldGFkYXRhID0ga2V5ID0+IGRlZXBDbG9uZU9iamVjdChrZXkgPyBtZXRhZGF0YVtrZXldIDogbWV0YWRhdGEpO1xuXG4gICAgY29uc3QgYXBpID0ge1xuICAgICAgICBpZDogeyBnZXQ6ICgpID0+IGlkIH0sXG4gICAgICAgIG9yaWdpbjogeyBnZXQ6ICgpID0+IG9yaWdpbiwgc2V0OiB2YWx1ZSA9PiAob3JpZ2luID0gdmFsdWUpIH0sXG4gICAgICAgIHNlcnZlcklkOiB7IGdldDogKCkgPT4gc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSB9LFxuICAgICAgICB0cmFuc2ZlcklkOiB7IGdldDogKCkgPT4gc3RhdGUudHJhbnNmZXJJZCB9LFxuICAgICAgICBzdGF0dXM6IHsgZ2V0OiAoKSA9PiBzdGF0ZS5zdGF0dXMgfSxcbiAgICAgICAgZmlsZW5hbWU6IHsgZ2V0OiAoKSA9PiBzdGF0ZS5maWxlLm5hbWUgfSxcbiAgICAgICAgZmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uOiB7IGdldDogKCkgPT4gZ2V0RmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uKHN0YXRlLmZpbGUubmFtZSkgfSxcbiAgICAgICAgZmlsZUV4dGVuc2lvbjogeyBnZXQ6IGdldEZpbGVFeHRlbnNpb24gfSxcbiAgICAgICAgZmlsZVR5cGU6IHsgZ2V0OiBnZXRGaWxlVHlwZSB9LFxuICAgICAgICBmaWxlU2l6ZTogeyBnZXQ6IGdldEZpbGVTaXplIH0sXG4gICAgICAgIGZpbGU6IHsgZ2V0OiBnZXRGaWxlIH0sXG4gICAgICAgIHJlbGF0aXZlUGF0aDogeyBnZXQ6ICgpID0+IHN0YXRlLmZpbGUuX3JlbGF0aXZlUGF0aCB9LFxuXG4gICAgICAgIHNvdXJjZTogeyBnZXQ6ICgpID0+IHN0YXRlLnNvdXJjZSB9LFxuXG4gICAgICAgIGdldE1ldGFkYXRhLFxuICAgICAgICBzZXRNZXRhZGF0YTogKGtleSwgdmFsdWUsIHNpbGVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ga2V5O1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TWV0YWRhdGEoa2V5LCBkYXRhW2tleV0sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0TWV0YWRhdGEoa2V5LCB2YWx1ZSwgc2lsZW50KTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICBleHRlbmQ6IChuYW1lLCBoYW5kbGVyKSA9PiAoaXRlbUFQSVtuYW1lXSA9IGhhbmRsZXIpLFxuXG4gICAgICAgIGFib3J0TG9hZCxcbiAgICAgICAgcmV0cnlMb2FkLFxuICAgICAgICByZXF1ZXN0UHJvY2Vzc2luZyxcbiAgICAgICAgYWJvcnRQcm9jZXNzaW5nLFxuXG4gICAgICAgIGxvYWQsXG4gICAgICAgIHByb2Nlc3MsXG4gICAgICAgIHJldmVydCxcblxuICAgICAgICAuLi5vbigpLFxuXG4gICAgICAgIGZyZWV6ZTogKCkgPT4gKHN0YXRlLmZyb3plbiA9IHRydWUpLFxuXG4gICAgICAgIHJlbGVhc2U6ICgpID0+IChzdGF0ZS5yZWxlYXNlZCA9IHRydWUpLFxuICAgICAgICByZWxlYXNlZDogeyBnZXQ6ICgpID0+IHN0YXRlLnJlbGVhc2VkIH0sXG5cbiAgICAgICAgYXJjaGl2ZTogKCkgPT4gKHN0YXRlLmFyY2hpdmVkID0gdHJ1ZSksXG4gICAgICAgIGFyY2hpdmVkOiB7IGdldDogKCkgPT4gc3RhdGUuYXJjaGl2ZWQgfSxcbiAgICB9O1xuXG4gICAgLy8gY3JlYXRlIGl0IGhlcmUgaW5zdGVhZCBvZiByZXR1cm5pbmcgaXQgaW5zdGFudGx5IHNvIHdlIGNhbiBleHRlbmQgaXQgbGF0ZXJcbiAgICBjb25zdCBpdGVtQVBJID0gY3JlYXRlT2JqZWN0KGFwaSk7XG5cbiAgICByZXR1cm4gaXRlbUFQSTtcbn07XG5cbmNvbnN0IGdldEl0ZW1JbmRleEJ5UXVlcnkgPSAoaXRlbXMsIHF1ZXJ5KSA9PiB7XG4gICAgLy8ganVzdCByZXR1cm4gZmlyc3QgaW5kZXhcbiAgICBpZiAoaXNFbXB0eShxdWVyeSkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLy8gaW52YWxpZCBxdWVyaWVzXG4gICAgaWYgKCFpc1N0cmluZyhxdWVyeSkpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8vIHJldHVybiBpdGVtIGJ5IGlkIChvciAtMSBpZiBub3QgZm91bmQpXG4gICAgcmV0dXJuIGl0ZW1zLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IHF1ZXJ5KTtcbn07XG5cbmNvbnN0IGdldEl0ZW1CeUlkID0gKGl0ZW1zLCBpdGVtSWQpID0+IHtcbiAgICBjb25zdCBpbmRleCA9IGdldEl0ZW1JbmRleEJ5UXVlcnkoaXRlbXMsIGl0ZW1JZCk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBpdGVtc1tpbmRleF0gfHwgbnVsbDtcbn07XG5cbmNvbnN0IGZldGNoQmxvYiA9ICh1cmwsIGxvYWQsIGVycm9yLCBwcm9ncmVzcywgYWJvcnQsIGhlYWRlcnMpID0+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gc2VuZFJlcXVlc3QobnVsbCwgdXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InLFxuICAgIH0pO1xuXG4gICAgcmVxdWVzdC5vbmxvYWQgPSB4aHIgPT4ge1xuICAgICAgICAvLyBnZXQgaGVhZGVyc1xuICAgICAgICBjb25zdCBoZWFkZXJzID0geGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpO1xuXG4gICAgICAgIC8vIGdldCBmaWxlbmFtZVxuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGdldEZpbGVJbmZvRnJvbUhlYWRlcnMoaGVhZGVycykubmFtZSB8fCBnZXRGaWxlbmFtZUZyb21VUkwodXJsKTtcblxuICAgICAgICAvLyBjcmVhdGUgcmVzcG9uc2VcbiAgICAgICAgbG9hZChjcmVhdGVSZXNwb25zZSgnbG9hZCcsIHhoci5zdGF0dXMsIGdldEZpbGVGcm9tQmxvYih4aHIucmVzcG9uc2UsIGZpbGVuYW1lKSwgaGVhZGVycykpO1xuICAgIH07XG5cbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSB4aHIgPT4ge1xuICAgICAgICBlcnJvcihjcmVhdGVSZXNwb25zZSgnZXJyb3InLCB4aHIuc3RhdHVzLCB4aHIuc3RhdHVzVGV4dCwgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7XG4gICAgfTtcblxuICAgIHJlcXVlc3Qub25oZWFkZXJzID0geGhyID0+IHtcbiAgICAgICAgaGVhZGVycyhjcmVhdGVSZXNwb25zZSgnaGVhZGVycycsIHhoci5zdGF0dXMsIG51bGwsIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpO1xuICAgIH07XG5cbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcik7XG4gICAgcmVxdWVzdC5vbnByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgcmVxdWVzdC5vbmFib3J0ID0gYWJvcnQ7XG5cbiAgICAvLyBzaG91bGQgcmV0dXJuIHJlcXVlc3RcbiAgICByZXR1cm4gcmVxdWVzdDtcbn07XG5cbmNvbnN0IGdldERvbWFpbkZyb21VUkwgPSB1cmwgPT4ge1xuICAgIGlmICh1cmwuaW5kZXhPZignLy8nKSA9PT0gMCkge1xuICAgICAgICB1cmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIHVybDtcbiAgICB9XG4gICAgcmV0dXJuIHVybFxuICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAucmVwbGFjZSgnYmxvYjonLCAnJylcbiAgICAgICAgLnJlcGxhY2UoLyhbYS16XSk/OlxcL1xcLy8sICckMScpXG4gICAgICAgIC5zcGxpdCgnLycpWzBdO1xufTtcblxuY29uc3QgaXNFeHRlcm5hbFVSTCA9IHVybCA9PlxuICAgICh1cmwuaW5kZXhPZignOicpID4gLTEgfHwgdXJsLmluZGV4T2YoJy8vJykgPiAtMSkgJiZcbiAgICBnZXREb21haW5Gcm9tVVJMKGxvY2F0aW9uLmhyZWYpICE9PSBnZXREb21haW5Gcm9tVVJMKHVybCk7XG5cbmNvbnN0IGR5bmFtaWNMYWJlbCA9IGxhYmVsID0+ICguLi5wYXJhbXMpID0+IChpc0Z1bmN0aW9uKGxhYmVsKSA/IGxhYmVsKC4uLnBhcmFtcykgOiBsYWJlbCk7XG5cbmNvbnN0IGlzTW9ja0l0ZW0gPSBpdGVtID0+ICFpc0ZpbGUoaXRlbS5maWxlKTtcblxuY29uc3QgbGlzdFVwZGF0ZWQgPSAoZGlzcGF0Y2gsIHN0YXRlKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHN0YXRlLmxpc3RVcGRhdGVUaW1lb3V0KTtcbiAgICBzdGF0ZS5saXN0VXBkYXRlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaCgnRElEX1VQREFURV9JVEVNUycsIHsgaXRlbXM6IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKSB9KTtcbiAgICB9LCAwKTtcbn07XG5cbmNvbnN0IG9wdGlvbmFsUHJvbWlzZSA9IChmbiwgLi4ucGFyYW1zKSA9PlxuICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICBpZiAoIWZuKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGZuKC4uLnBhcmFtcyk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXN1bHQudGhlbihyZXNvbHZlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG5jb25zdCBzb3J0SXRlbXMgPSAoc3RhdGUsIGNvbXBhcmUpID0+IHtcbiAgICBzdGF0ZS5pdGVtcy5zb3J0KChhLCBiKSA9PiBjb21wYXJlKGNyZWF0ZUl0ZW1BUEkoYSksIGNyZWF0ZUl0ZW1BUEkoYikpKTtcbn07XG5cbi8vIHJldHVybnMgaXRlbSBiYXNlZCBvbiBzdGF0ZVxuY29uc3QgZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUgPSAoc3RhdGUsIGl0ZW1IYW5kbGVyKSA9PiAoe1xuICAgIHF1ZXJ5LFxuICAgIHN1Y2Nlc3MgPSAoKSA9PiB7fSxcbiAgICBmYWlsdXJlID0gKCkgPT4ge30sXG4gICAgLi4ub3B0aW9uc1xufSA9IHt9KSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IGdldEl0ZW1CeVF1ZXJ5KHN0YXRlLml0ZW1zLCBxdWVyeSk7XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIGZhaWx1cmUoe1xuICAgICAgICAgICAgZXJyb3I6IGNyZWF0ZVJlc3BvbnNlKCdlcnJvcicsIDAsICdJdGVtIG5vdCBmb3VuZCcpLFxuICAgICAgICAgICAgZmlsZTogbnVsbCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaXRlbUhhbmRsZXIoaXRlbSwgc3VjY2VzcywgZmFpbHVyZSwgb3B0aW9ucyB8fCB7fSk7XG59O1xuXG5jb25zdCBhY3Rpb25zID0gKGRpc3BhdGNoLCBxdWVyeSwgc3RhdGUpID0+ICh7XG4gICAgLyoqXG4gICAgICogQWJvcnRzIGFsbCBvbmdvaW5nIHByb2Nlc3Nlc1xuICAgICAqL1xuICAgIEFCT1JUX0FMTDogKCkgPT4ge1xuICAgICAgICBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcykuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIGl0ZW0uZnJlZXplKCk7XG4gICAgICAgICAgICBpdGVtLmFib3J0TG9hZCgpO1xuICAgICAgICAgICAgaXRlbS5hYm9ydFByb2Nlc3NpbmcoKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgaW5pdGlhbCBmaWxlc1xuICAgICAqL1xuICAgIERJRF9TRVRfRklMRVM6ICh7IHZhbHVlID0gW10gfSkgPT4ge1xuICAgICAgICAvLyBtYXAgdmFsdWVzIHRvIGZpbGUgb2JqZWN0c1xuICAgICAgICBjb25zdCBmaWxlcyA9IHZhbHVlLm1hcChmaWxlID0+ICh7XG4gICAgICAgICAgICBzb3VyY2U6IGZpbGUuc291cmNlID8gZmlsZS5zb3VyY2UgOiBmaWxlLFxuICAgICAgICAgICAgb3B0aW9uczogZmlsZS5vcHRpb25zLFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgLy8gbG9vcCBvdmVyIGZpbGVzLCBpZiBmaWxlIGlzIGluIGxpc3QsIGxlYXZlIGl0IGJlLCBpZiBub3QsIHJlbW92ZVxuICAgICAgICAvLyB0ZXN0IGlmIGl0ZW1zIHNob3VsZCBiZSBtb3ZlZFxuICAgICAgICBsZXQgYWN0aXZlSXRlbXMgPSBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcyk7XG5cbiAgICAgICAgYWN0aXZlSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIC8vIGlmIGl0ZW0gbm90IGlzIGluIG5ldyB2YWx1ZSwgcmVtb3ZlXG4gICAgICAgICAgICBpZiAoIWZpbGVzLmZpbmQoZmlsZSA9PiBmaWxlLnNvdXJjZSA9PT0gaXRlbS5zb3VyY2UgfHwgZmlsZS5zb3VyY2UgPT09IGl0ZW0uZmlsZSkpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCB7IHF1ZXJ5OiBpdGVtLCByZW1vdmU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhZGQgbmV3IGZpbGVzXG4gICAgICAgIGFjdGl2ZUl0ZW1zID0gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpO1xuICAgICAgICBmaWxlcy5mb3JFYWNoKChmaWxlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgLy8gaWYgZmlsZSBpcyBhbHJlYWR5IGluIGxpc3RcbiAgICAgICAgICAgIGlmIChhY3RpdmVJdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5zb3VyY2UgPT09IGZpbGUuc291cmNlIHx8IGl0ZW0uZmlsZSA9PT0gZmlsZS5zb3VyY2UpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgLy8gbm90IGluIGxpc3QsIGFkZFxuICAgICAgICAgICAgZGlzcGF0Y2goJ0FERF9JVEVNJywge1xuICAgICAgICAgICAgICAgIC4uLmZpbGUsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IEludGVyYWN0aW9uTWV0aG9kLk5PTkUsXG4gICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIERJRF9VUERBVEVfSVRFTV9NRVRBREFUQTogKHsgaWQsIGFjdGlvbiwgY2hhbmdlIH0pID0+IHtcbiAgICAgICAgLy8gZG9uJ3QgZG8gYW55dGhpbmdcbiAgICAgICAgaWYgKGNoYW5nZS5zaWxlbnQpIHJldHVybjtcblxuICAgICAgICAvLyBpZiBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgaW4gY2xvc2Ugc3VjY2Vzc2lvbiB3ZSBjb21iaW5lZCBhbGwgY2FsbHMgdG9nZXRoZXIgdG8gc2F2ZSByZXNvdXJjZXNcbiAgICAgICAgY2xlYXJUaW1lb3V0KHN0YXRlLml0ZW1VcGRhdGVUaW1lb3V0KTtcbiAgICAgICAgc3RhdGUuaXRlbVVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtQnlJZChzdGF0ZS5pdGVtcywgaWQpO1xuXG4gICAgICAgICAgICAvLyBvbmx5IHJldmVydCBhbmQgYXR0ZW1wdCB0byB1cGxvYWQgd2hlbiB3ZSdyZSB1cGxvYWRpbmcgdG8gYSBzZXJ2ZXJcbiAgICAgICAgICAgIGlmICghcXVlcnkoJ0lTX0FTWU5DJykpIHtcbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgd2UgdXBkYXRlIHRoZSBvdXRwdXQgZGF0YVxuICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ1NIT1VMRF9QUkVQQVJFX09VVFBVVCcsIGZhbHNlLCB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZSxcbiAgICAgICAgICAgICAgICB9KS50aGVuKHNob3VsZFByZXBhcmVPdXRwdXQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBwbHVnaW5zIGRldGVybWluZWQgdGhlIG91dHB1dCBkYXRhIHNob3VsZCBiZSBwcmVwYXJlZCAob3Igbm90KSwgY2FuIGJlIGFkanVzdGVkIHdpdGggYmVmb3JlUHJlcGFyZU91dHB1dCBob29rXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJlZm9yZVByZXBhcmVGaWxlID0gcXVlcnkoJ0dFVF9CRUZPUkVfUFJFUEFSRV9GSUxFJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiZWZvcmVQcmVwYXJlRmlsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFByZXBhcmVPdXRwdXQgPSBiZWZvcmVQcmVwYXJlRmlsZShpdGVtLCBzaG91bGRQcmVwYXJlT3V0cHV0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFByZXBhcmVPdXRwdXQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICdSRVFVRVNUX1BSRVBBUkVfT1VUUFVUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmaWxlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9QUkVQQVJFX09VVFBVVCcsIHsgaWQsIGZpbGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIGlzIGxvY2FsIGl0ZW0gd2UgbmVlZCB0byBlbmFibGUgdXBsb2FkIGJ1dHRvbiBzbyBjaGFuZ2UgY2FuIGJlIHByb3BhZ2F0ZWQgdG8gc2VydmVyXG4gICAgICAgICAgICBpZiAoaXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uTE9DQUwpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX0xPQURfSVRFTScsIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJGaWxlUmVmZXJlbmNlOiBpdGVtLnNvdXJjZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZm9yIGFzeW5jIHNjZW5hcmlvc1xuICAgICAgICAgICAgY29uc3QgdXBsb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHdlIHB1c2ggdGhpcyBmb3J3YXJkIGEgYml0IHNvIHRoZSBpbnRlcmZhY2UgaXMgdXBkYXRlZCBjb3JyZWN0bHlcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJywgeyBxdWVyeTogaWQgfSk7XG4gICAgICAgICAgICAgICAgfSwgMzIpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgcmV2ZXJ0ID0gZG9VcGxvYWQgPT4ge1xuICAgICAgICAgICAgICAgIGl0ZW0ucmV2ZXJ0KFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXZlcnRGdW5jdGlvbihzdGF0ZS5vcHRpb25zLnNlcnZlci51cmwsIHN0YXRlLm9wdGlvbnMuc2VydmVyLnJldmVydCksXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRk9SQ0VfUkVWRVJUJylcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGRvVXBsb2FkID8gdXBsb2FkIDogKCkgPT4ge30pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBhYm9ydCA9IGRvVXBsb2FkID0+IHtcbiAgICAgICAgICAgICAgICBpdGVtLmFib3J0UHJvY2Vzc2luZygpLnRoZW4oZG9VcGxvYWQgPyB1cGxvYWQgOiAoKSA9PiB7fSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgcmUtdXBsb2FkIHRoZSBmaWxlIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBpZiAoaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXZlcnQoc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgY3VycmVudGx5IHVwbG9hZGluZywgY2FuY2VsIHVwbG9hZFxuICAgICAgICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWJvcnQoc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0YXRlLm9wdGlvbnMuaW5zdGFudFVwbG9hZCkge1xuICAgICAgICAgICAgICAgIHVwbG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAwKTtcbiAgICB9LFxuXG4gICAgTU9WRV9JVEVNOiAoeyBxdWVyeSwgaW5kZXggfSkgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KTtcbiAgICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHN0YXRlLml0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIGluZGV4ID0gbGltaXQoaW5kZXgsIDAsIHN0YXRlLml0ZW1zLmxlbmd0aCAtIDEpO1xuICAgICAgICBpZiAoY3VycmVudEluZGV4ID09PSBpbmRleCkgcmV0dXJuO1xuICAgICAgICBzdGF0ZS5pdGVtcy5zcGxpY2UoaW5kZXgsIDAsIHN0YXRlLml0ZW1zLnNwbGljZShjdXJyZW50SW5kZXgsIDEpWzBdKTtcbiAgICB9LFxuXG4gICAgU09SVDogKHsgY29tcGFyZSB9KSA9PiB7XG4gICAgICAgIHNvcnRJdGVtcyhzdGF0ZSwgY29tcGFyZSk7XG4gICAgICAgIGRpc3BhdGNoKCdESURfU09SVF9JVEVNUycsIHtcbiAgICAgICAgICAgIGl0ZW1zOiBxdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpLFxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgQUREX0lURU1TOiAoeyBpdGVtcywgaW5kZXgsIGludGVyYWN0aW9uTWV0aG9kLCBzdWNjZXNzID0gKCkgPT4ge30sIGZhaWx1cmUgPSAoKSA9PiB7fSB9KSA9PiB7XG4gICAgICAgIGxldCBjdXJyZW50SW5kZXggPSBpbmRleDtcblxuICAgICAgICBpZiAoaW5kZXggPT09IC0xIHx8IHR5cGVvZiBpbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGluc2VydExvY2F0aW9uID0gcXVlcnkoJ0dFVF9JVEVNX0lOU0VSVF9MT0NBVElPTicpO1xuICAgICAgICAgICAgY29uc3QgdG90YWxJdGVtcyA9IHF1ZXJ5KCdHRVRfVE9UQUxfSVRFTVMnKTtcbiAgICAgICAgICAgIGN1cnJlbnRJbmRleCA9IGluc2VydExvY2F0aW9uID09PSAnYmVmb3JlJyA/IDAgOiB0b3RhbEl0ZW1zO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaWdub3JlZEZpbGVzID0gcXVlcnkoJ0dFVF9JR05PUkVEX0ZJTEVTJyk7XG4gICAgICAgIGNvbnN0IGlzVmFsaWRGaWxlID0gc291cmNlID0+XG4gICAgICAgICAgICBpc0ZpbGUoc291cmNlKSA/ICFpZ25vcmVkRmlsZXMuaW5jbHVkZXMoc291cmNlLm5hbWUudG9Mb3dlckNhc2UoKSkgOiAhaXNFbXB0eShzb3VyY2UpO1xuICAgICAgICBjb25zdCB2YWxpZEl0ZW1zID0gaXRlbXMuZmlsdGVyKGlzVmFsaWRGaWxlKTtcblxuICAgICAgICBjb25zdCBwcm9taXNlcyA9IHZhbGlkSXRlbXMubWFwKFxuICAgICAgICAgICAgc291cmNlID0+XG4gICAgICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnQUREX0lURU0nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogc291cmNlLnNvdXJjZSB8fCBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZTogcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGN1cnJlbnRJbmRleCsrLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogc291cmNlLm9wdGlvbnMgfHwge30sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICAgICAgICAudGhlbihzdWNjZXNzKVxuICAgICAgICAgICAgLmNhdGNoKGZhaWx1cmUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc291cmNlXG4gICAgICogQHBhcmFtIGluZGV4XG4gICAgICogQHBhcmFtIGludGVyYWN0aW9uTWV0aG9kXG4gICAgICovXG4gICAgQUREX0lURU06ICh7XG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgaW50ZXJhY3Rpb25NZXRob2QsXG4gICAgICAgIHN1Y2Nlc3MgPSAoKSA9PiB7fSxcbiAgICAgICAgZmFpbHVyZSA9ICgpID0+IHt9LFxuICAgICAgICBvcHRpb25zID0ge30sXG4gICAgfSkgPT4ge1xuICAgICAgICAvLyBpZiBubyBzb3VyY2Ugc3VwcGxpZWRcbiAgICAgICAgaWYgKGlzRW1wdHkoc291cmNlKSkge1xuICAgICAgICAgICAgZmFpbHVyZSh7XG4gICAgICAgICAgICAgICAgZXJyb3I6IGNyZWF0ZVJlc3BvbnNlKCdlcnJvcicsIDAsICdObyBzb3VyY2UnKSxcbiAgICAgICAgICAgICAgICBmaWxlOiBudWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaWx0ZXIgb3V0IGludmFsaWQgZmlsZSBpdGVtcywgdXNlZCB0byBmaWx0ZXIgZHJvcHBlZCBkaXJlY3RvcnkgY29udGVudHNcbiAgICAgICAgaWYgKGlzRmlsZShzb3VyY2UpICYmIHN0YXRlLm9wdGlvbnMuaWdub3JlZEZpbGVzLmluY2x1ZGVzKHNvdXJjZS5uYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAvLyBmYWlsIHNpbGVudGx5XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0ZXN0IGlmIHRoZXJlJ3Mgc3RpbGwgcm9vbSBpbiB0aGUgbGlzdCBvZiBmaWxlc1xuICAgICAgICBpZiAoIWhhc1Jvb21Gb3JJdGVtKHN0YXRlKSkge1xuICAgICAgICAgICAgLy8gaWYgbXVsdGlwbGUgYWxsb3dlZCwgd2UgY2FuJ3QgcmVwbGFjZVxuICAgICAgICAgICAgLy8gb3IgaWYgb25seSBhIHNpbmdsZSBpdGVtIGlzIGFsbG93ZWQgYnV0IHdlJ3JlIG5vdCBhbGxvd2VkIHRvIHJlcGxhY2UgaXQgd2UgZXhpdFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuYWxsb3dNdWx0aXBsZSB8fFxuICAgICAgICAgICAgICAgICghc3RhdGUub3B0aW9ucy5hbGxvd011bHRpcGxlICYmICFzdGF0ZS5vcHRpb25zLmFsbG93UmVwbGFjZSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gY3JlYXRlUmVzcG9uc2UoJ3dhcm5pbmcnLCAwLCAnTWF4IGZpbGVzJyk7XG5cbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX01BWF9GSUxFUycsIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGZhaWx1cmUoeyBlcnJvciwgZmlsZTogbnVsbCB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbGV0J3MgcmVwbGFjZSB0aGUgaXRlbVxuICAgICAgICAgICAgLy8gaWQgb2YgZmlyc3QgaXRlbSB3ZSdyZSBhYm91dCB0byByZW1vdmVcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcylbMF07XG5cbiAgICAgICAgICAgIC8vIGlmIGhhcyBiZWVuIHByb2Nlc3NlZCByZW1vdmUgaXQgZnJvbSB0aGUgc2VydmVyIGFzIHdlbGxcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFIHx8XG4gICAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19SRVZFUlRfRVJST1JcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvcmNlUmV2ZXJ0ID0gcXVlcnkoJ0dFVF9GT1JDRV9SRVZFUlQnKTtcbiAgICAgICAgICAgICAgICBpdGVtLnJldmVydChcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oc3RhdGUub3B0aW9ucy5zZXJ2ZXIudXJsLCBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZXZlcnQpLFxuICAgICAgICAgICAgICAgICAgICBmb3JjZVJldmVydFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3JjZVJldmVydCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnkgdG8gYWRkIG5vd1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0FERF9JVEVNJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pOyAvLyBubyBuZWVkIHRvIGhhbmRsZSB0aGlzIGNhdGNoIHN0YXRlIGZvciBub3dcblxuICAgICAgICAgICAgICAgIGlmIChmb3JjZVJldmVydCkgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZW1vdmUgZmlyc3QgaXRlbSBhcyBpdCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoaXMgaXRlbVxuICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogaXRlbS5pZCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoZXJlIGRpZCB0aGUgZmlsZSBvcmlnaW5hdGVcbiAgICAgICAgY29uc3Qgb3JpZ2luID1cbiAgICAgICAgICAgIG9wdGlvbnMudHlwZSA9PT0gJ2xvY2FsJ1xuICAgICAgICAgICAgICAgID8gRmlsZU9yaWdpbi5MT0NBTFxuICAgICAgICAgICAgICAgIDogb3B0aW9ucy50eXBlID09PSAnbGltYm8nXG4gICAgICAgICAgICAgICAgPyBGaWxlT3JpZ2luLkxJTUJPXG4gICAgICAgICAgICAgICAgOiBGaWxlT3JpZ2luLklOUFVUO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBibGFuayBpdGVtXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBjcmVhdGVJdGVtKFxuICAgICAgICAgICAgLy8gd2hlcmUgZGlkIHRoaXMgZmlsZSBjb21lIGZyb21cbiAgICAgICAgICAgIG9yaWdpbixcblxuICAgICAgICAgICAgLy8gYW4gaW5wdXQgZmlsZSBuZXZlciBoYXMgYSBzZXJ2ZXIgZmlsZSByZWZlcmVuY2VcbiAgICAgICAgICAgIG9yaWdpbiA9PT0gRmlsZU9yaWdpbi5JTlBVVCA/IG51bGwgOiBzb3VyY2UsXG5cbiAgICAgICAgICAgIC8vIGZpbGUgbW9jayBkYXRhLCBpZiBkZWZpbmVkXG4gICAgICAgICAgICBvcHRpb25zLmZpbGVcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBzZXQgaW5pdGlhbCBtZXRhIGRhdGFcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucy5tZXRhZGF0YSB8fCB7fSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgaXRlbS5zZXRNZXRhZGF0YShrZXksIG9wdGlvbnMubWV0YWRhdGFba2V5XSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNyZWF0ZWQgdGhlIGl0ZW0sIGxldCBwbHVnaW5zIGFkZCBtZXRob2RzXG4gICAgICAgIGFwcGx5RmlsdGVycygnRElEX0NSRUFURV9JVEVNJywgaXRlbSwgeyBxdWVyeSwgZGlzcGF0Y2ggfSk7XG5cbiAgICAgICAgLy8gd2hlcmUgdG8gaW5zZXJ0IG5ldyBpdGVtc1xuICAgICAgICBjb25zdCBpdGVtSW5zZXJ0TG9jYXRpb24gPSBxdWVyeSgnR0VUX0lURU1fSU5TRVJUX0xPQ0FUSU9OJyk7XG5cbiAgICAgICAgLy8gYWRqdXN0IGluZGV4IGlmIGlzIG5vdCBhbGxvd2VkIHRvIHBpY2sgbG9jYXRpb25cbiAgICAgICAgaWYgKCFzdGF0ZS5vcHRpb25zLml0ZW1JbnNlcnRMb2NhdGlvbkZyZWVkb20pIHtcbiAgICAgICAgICAgIGluZGV4ID0gaXRlbUluc2VydExvY2F0aW9uID09PSAnYmVmb3JlJyA/IC0xIDogc3RhdGUuaXRlbXMubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGl0ZW0gdG8gbGlzdFxuICAgICAgICBpbnNlcnRJdGVtKHN0YXRlLml0ZW1zLCBpdGVtLCBpbmRleCk7XG5cbiAgICAgICAgLy8gc29ydCBpdGVtcyBpbiBsaXN0XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGl0ZW1JbnNlcnRMb2NhdGlvbikgJiYgc291cmNlKSB7XG4gICAgICAgICAgICBzb3J0SXRlbXMoc3RhdGUsIGl0ZW1JbnNlcnRMb2NhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgYSBxdWljayByZWZlcmVuY2UgdG8gdGhlIGl0ZW0gaWRcbiAgICAgICAgY29uc3QgaWQgPSBpdGVtLmlkO1xuXG4gICAgICAgIC8vIG9ic2VydmUgaXRlbSBldmVudHNcbiAgICAgICAgaXRlbS5vbignaW5pdCcsICgpID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfSU5JVF9JVEVNJywgeyBpZCB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbignbG9hZC1pbml0JywgKCkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9TVEFSVF9JVEVNX0xPQUQnLCB7IGlkIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdsb2FkLW1ldGEnLCAoKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX1VQREFURV9JVEVNX01FVEEnLCB7IGlkIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdsb2FkLXByb2dyZXNzJywgcHJvZ3Jlc3MgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9VUERBVEVfSVRFTV9MT0FEX1BST0dSRVNTJywgeyBpZCwgcHJvZ3Jlc3MgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ2xvYWQtcmVxdWVzdC1lcnJvcicsIGVycm9yID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1haW5TdGF0dXMgPSBkeW5hbWljTGFiZWwoc3RhdGUub3B0aW9ucy5sYWJlbEZpbGVMb2FkRXJyb3IpKGVycm9yKTtcblxuICAgICAgICAgICAgLy8gaXMgY2xpZW50IGVycm9yLCBubyB3YXkgdG8gcmVjb3ZlclxuICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPj0gNDAwICYmIGVycm9yLmNvZGUgPCA1MDApIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX0lURU1fSU5WQUxJRCcsIHtcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1haW46IG1haW5TdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWI6IGAke2Vycm9yLmNvZGV9ICgke2Vycm9yLmJvZHl9KWAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyByZWplY3QgdGhlIGZpbGUgc28gY2FuIGJlIGRlYWx0IHdpdGggdGhyb3VnaCBBUElcbiAgICAgICAgICAgICAgICBmYWlsdXJlKHsgZXJyb3IsIGZpbGU6IGNyZWF0ZUl0ZW1BUEkoaXRlbSkgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpcyBwb3NzaWJsZSBzZXJ2ZXIgZXJyb3IsIHNvIG1pZ2h0IGJlIHBvc3NpYmxlIHRvIHJldHJ5XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX0lURU1fTE9BRF9FUlJPUicsIHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgbWFpbjogbWFpblN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgc3ViOiBzdGF0ZS5vcHRpb25zLmxhYmVsVGFwVG9SZXRyeSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ2xvYWQtZmlsZS1lcnJvcicsIGVycm9yID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfSVRFTV9JTlZBTElEJywge1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBlcnJvci5zdGF0dXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZhaWx1cmUoeyBlcnJvcjogZXJyb3Iuc3RhdHVzLCBmaWxlOiBjcmVhdGVJdGVtQVBJKGl0ZW0pIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdsb2FkLWFib3J0JywgKCkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogaWQgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ2xvYWQtc2tpcCcsICgpID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdDT01QTEVURV9MT0FEX0lURU0nLCB7XG4gICAgICAgICAgICAgICAgcXVlcnk6IGlkLFxuICAgICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlQWRkID0gc2hvdWxkQWRkID0+IHtcbiAgICAgICAgICAgICAgICAvLyBubyBzaG91bGQgbm90IGFkZCB0aGlzIGZpbGVcbiAgICAgICAgICAgICAgICBpZiAoIXNob3VsZEFkZCkge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogaWQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbm93IGludGVyZXN0ZWQgaW4gbWV0YWRhdGEgdXBkYXRlc1xuICAgICAgICAgICAgICAgIGl0ZW0ub24oJ21ldGFkYXRhLXVwZGF0ZScsIGNoYW5nZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVVBEQVRFX0lURU1fTUVUQURBVEEnLCB7IGlkLCBjaGFuZ2UgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBsZXQgcGx1Z2lucyBkZWNpZGUgaWYgdGhlIG91dHB1dCBkYXRhIHNob3VsZCBiZSBwcmVwYXJlZCBhdCB0aGlzIHBvaW50XG4gICAgICAgICAgICAgICAgLy8gbWVhbnMgd2UnbGwgZG8gdGhpcyBhbmQgd2FpdCBmb3IgaWRsZSBzdGF0ZVxuICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ1NIT1VMRF9QUkVQQVJFX09VVFBVVCcsIGZhbHNlLCB7IGl0ZW0sIHF1ZXJ5IH0pLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFByZXBhcmVPdXRwdXQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGx1Z2lucyBkZXRlcm1pbmVkIHRoZSBvdXRwdXQgZGF0YSBzaG91bGQgYmUgcHJlcGFyZWQgKG9yIG5vdCksIGNhbiBiZSBhZGp1c3RlZCB3aXRoIGJlZm9yZVByZXBhcmVPdXRwdXQgaG9va1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmVmb3JlUHJlcGFyZUZpbGUgPSBxdWVyeSgnR0VUX0JFRk9SRV9QUkVQQVJFX0ZJTEUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZWZvcmVQcmVwYXJlRmlsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRQcmVwYXJlT3V0cHV0ID0gYmVmb3JlUHJlcGFyZUZpbGUoaXRlbSwgc2hvdWxkUHJlcGFyZU91dHB1dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRDb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnQ09NUExFVEVfTE9BRF9JVEVNJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0VXBkYXRlZChkaXNwYXRjaCwgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhpdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNob3VsZFByZXBhcmVPdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciBpZGxlIHN0YXRlIGFuZCB0aGVuIHJ1biBQUkVQQVJFX09VVFBVVFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUkVRVUVTVF9QUkVQQVJFX09VVFBVVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmaWxlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1BSRVBBUkVfT1VUUFVUJywgeyBpZCwgZmlsZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBpdGVtIGxvYWRlZCwgYWxsb3cgcGx1Z2lucyB0b1xuICAgICAgICAgICAgLy8gLSByZWFkIGRhdGEgKHF1aWNrbHkpXG4gICAgICAgICAgICAvLyAtIGFkZCBtZXRhZGF0YVxuICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignRElEX0xPQURfSVRFTScsIGl0ZW0sIHsgcXVlcnksIGRpc3BhdGNoIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbFByb21pc2UocXVlcnkoJ0dFVF9CRUZPUkVfQUREX0ZJTEUnKSwgY3JlYXRlSXRlbUFQSShpdGVtKSkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUFkZFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWUgfHwgIWUuZXJyb3IgfHwgIWUuc3RhdHVzKSByZXR1cm4gaGFuZGxlQWRkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX0lOVkFMSUQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlLmVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3Mtc3RhcnQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORycsIHsgaWQgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtcHJvZ3Jlc3MnLCBwcm9ncmVzcyA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1MnLCB7IGlkLCBwcm9ncmVzcyB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbigncHJvY2Vzcy1lcnJvcicsIGVycm9yID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SJywge1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICBtYWluOiBkeW5hbWljTGFiZWwoc3RhdGUub3B0aW9ucy5sYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3IpKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgc3ViOiBzdGF0ZS5vcHRpb25zLmxhYmVsVGFwVG9SZXRyeSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtcmV2ZXJ0LWVycm9yJywgZXJyb3IgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfUkVWRVJUX0VSUk9SJywge1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICBtYWluOiBkeW5hbWljTGFiZWwoc3RhdGUub3B0aW9ucy5sYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3IpKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgc3ViOiBzdGF0ZS5vcHRpb25zLmxhYmVsVGFwVG9SZXRyeSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtY29tcGxldGUnLCBzZXJ2ZXJGaWxlUmVmZXJlbmNlID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HJywge1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgIHNlcnZlckZpbGVSZWZlcmVuY2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfREVGSU5FX1ZBTFVFJywgeyBpZCwgdmFsdWU6IHNlcnZlckZpbGVSZWZlcmVuY2UgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtYWJvcnQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX0FCT1JUX0lURU1fUFJPQ0VTU0lORycsIHsgaWQgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtcmV2ZXJ0JywgKCkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HJywgeyBpZCB9KTtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfREVGSU5FX1ZBTFVFJywgeyBpZCwgdmFsdWU6IG51bGwgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGxldCB2aWV3IGtub3cgdGhlIGl0ZW0gaGFzIGJlZW4gaW5zZXJ0ZWRcbiAgICAgICAgZGlzcGF0Y2goJ0RJRF9BRERfSVRFTScsIHsgaWQsIGluZGV4LCBpbnRlcmFjdGlvbk1ldGhvZCB9KTtcblxuICAgICAgICBsaXN0VXBkYXRlZChkaXNwYXRjaCwgc3RhdGUpO1xuXG4gICAgICAgIC8vIHN0YXJ0IGxvYWRpbmcgdGhlIHNvdXJjZVxuICAgICAgICBjb25zdCB7IHVybCwgbG9hZCwgcmVzdG9yZSwgZmV0Y2ggfSA9IHN0YXRlLm9wdGlvbnMuc2VydmVyIHx8IHt9O1xuXG4gICAgICAgIGl0ZW0ubG9hZChcbiAgICAgICAgICAgIHNvdXJjZSxcblxuICAgICAgICAgICAgLy8gdGhpcyBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBsb2FkcyB0aGUgZmlsZSBiYXNlZCBvbiB0aGUgdHlwZSBvZiBmaWxlIChzdHJpbmcsIGJhc2U2NCwgYmxvYiwgZmlsZSkgYW5kIGxvY2F0aW9uIG9mIGZpbGUgKGxvY2FsLCByZW1vdGUsIGxpbWJvKVxuICAgICAgICAgICAgY3JlYXRlRmlsZUxvYWRlcihcbiAgICAgICAgICAgICAgICBvcmlnaW4gPT09IEZpbGVPcmlnaW4uSU5QVVRcbiAgICAgICAgICAgICAgICAgICAgPyAvLyBpbnB1dCwgaWYgaXMgcmVtb3RlLCBzZWUgaWYgc2hvdWxkIHVzZSBjdXN0b20gZmV0Y2gsIGVsc2UgdXNlIGRlZmF1bHQgZmV0Y2hCbG9iXG4gICAgICAgICAgICAgICAgICAgICAgaXNTdHJpbmcoc291cmNlKSAmJiBpc0V4dGVybmFsVVJMKHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZmV0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZUZldGNoRnVuY3Rpb24odXJsLCBmZXRjaClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZldGNoQmxvYiAvLyByZW1vdGUgdXJsXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGZldGNoQmxvYiAvLyB0cnkgdG8gZmV0Y2ggdXJsXG4gICAgICAgICAgICAgICAgICAgIDogLy8gbGltYm8gb3IgbG9jYWxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luID09PSBGaWxlT3JpZ2luLkxJTUJPXG4gICAgICAgICAgICAgICAgICAgID8gY3JlYXRlRmV0Y2hGdW5jdGlvbih1cmwsIHJlc3RvcmUpIC8vIGxpbWJvXG4gICAgICAgICAgICAgICAgICAgIDogY3JlYXRlRmV0Y2hGdW5jdGlvbih1cmwsIGxvYWQpIC8vIGxvY2FsXG4gICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAvLyBjYWxsZWQgd2hlbiB0aGUgZmlsZSBpcyBsb2FkZWQgc28gaXQgY2FuIGJlIHBpcGVkIHRocm91Z2ggdGhlIGZpbHRlcnNcbiAgICAgICAgICAgIChmaWxlLCBzdWNjZXNzLCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGxldCdzIHByb2Nlc3MgdGhlIGZpbGVcbiAgICAgICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdMT0FEX0ZJTEUnLCBmaWxlLCB7IHF1ZXJ5IH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIFJFUVVFU1RfUFJFUEFSRV9PVVRQVVQ6ICh7IGl0ZW0sIHN1Y2Nlc3MsIGZhaWx1cmUgPSAoKSA9PiB7fSB9KSA9PiB7XG4gICAgICAgIC8vIGVycm9yIHJlc3BvbnNlIGlmIGl0ZW0gYXJjaGl2ZWRcbiAgICAgICAgY29uc3QgZXJyID0ge1xuICAgICAgICAgICAgZXJyb3I6IGNyZWF0ZVJlc3BvbnNlKCdlcnJvcicsIDAsICdJdGVtIG5vdCBmb3VuZCcpLFxuICAgICAgICAgICAgZmlsZTogbnVsbCxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBkb24ndCBoYW5kbGUgYXJjaGl2ZWQgaXRlbXMsIGFuIGl0ZW0gY291bGQgaGF2ZSBiZWVuIGFyY2hpdmVkIChsb2FkIGFib3J0ZWQpIHdoaWxlIHdhaXRpbmcgdG8gYmUgcHJlcGFyZWRcbiAgICAgICAgaWYgKGl0ZW0uYXJjaGl2ZWQpIHJldHVybiBmYWlsdXJlKGVycik7XG5cbiAgICAgICAgLy8gYWxsb3cgcGx1Z2lucyB0byBhbHRlciB0aGUgZmlsZSBkYXRhXG4gICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ1BSRVBBUkVfT1VUUFVUJywgaXRlbS5maWxlLCB7IHF1ZXJ5LCBpdGVtIH0pLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ0NPTVBMRVRFX1BSRVBBUkVfT1VUUFVUJywgcmVzdWx0LCB7IHF1ZXJ5LCBpdGVtIH0pLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICAvLyBkb24ndCBoYW5kbGUgYXJjaGl2ZWQgaXRlbXMsIGFuIGl0ZW0gY291bGQgaGF2ZSBiZWVuIGFyY2hpdmVkIChsb2FkIGFib3J0ZWQpIHdoaWxlIGJlaW5nIHByZXBhcmVkXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uYXJjaGl2ZWQpIHJldHVybiBmYWlsdXJlKGVycik7XG5cbiAgICAgICAgICAgICAgICAvLyB3ZSBkb25lIVxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgQ09NUExFVEVfTE9BRF9JVEVNOiAoeyBpdGVtLCBkYXRhIH0pID0+IHtcbiAgICAgICAgY29uc3QgeyBzdWNjZXNzLCBzb3VyY2UgfSA9IGRhdGE7XG5cbiAgICAgICAgLy8gc29ydCBpdGVtcyBpbiBsaXN0XG4gICAgICAgIGNvbnN0IGl0ZW1JbnNlcnRMb2NhdGlvbiA9IHF1ZXJ5KCdHRVRfSVRFTV9JTlNFUlRfTE9DQVRJT04nKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oaXRlbUluc2VydExvY2F0aW9uKSAmJiBzb3VyY2UpIHtcbiAgICAgICAgICAgIHNvcnRJdGVtcyhzdGF0ZSwgaXRlbUluc2VydExvY2F0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldCBpbnRlcmZhY2Uga25vdyB0aGUgaXRlbSBoYXMgbG9hZGVkXG4gICAgICAgIGRpc3BhdGNoKCdESURfTE9BRF9JVEVNJywge1xuICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIHNlcnZlckZpbGVSZWZlcmVuY2U6IGl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLklOUFVUID8gbnVsbCA6IHNvdXJjZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaXRlbSBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgbG9hZGVkIGFuZCBhZGRlZCB0byB0aGVcbiAgICAgICAgLy8gbGlzdCBvZiBpdGVtcyBzbyBjYW4gbm93IGJlIHNhZmVseSByZXR1cm5lZCBmb3IgdXNlXG4gICAgICAgIHN1Y2Nlc3MoY3JlYXRlSXRlbUFQSShpdGVtKSk7XG5cbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGxvY2FsIHNlcnZlciBmaWxlIHdlIG5lZWQgdG8gc2hvdyBhIGRpZmZlcmVudCBzdGF0ZVxuICAgICAgICBpZiAoaXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uTE9DQUwpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfTE9BRF9MT0NBTF9JVEVNJywgeyBpZDogaXRlbS5pZCB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGlzIGEgdGVtcCBzZXJ2ZXIgZmlsZSB3ZSBwcmV2ZW50IGFzeW5jIHVwbG9hZCBjYWxsIGhlcmUgKGFzIHRoZSBmaWxlIGlzIGFscmVhZHkgb24gdGhlIHNlcnZlcilcbiAgICAgICAgaWYgKGl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLkxJTUJPKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORycsIHtcbiAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJGaWxlUmVmZXJlbmNlOiBzb3VyY2UsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9ERUZJTkVfVkFMVUUnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uc2VydmVySWQgfHwgc291cmNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZCB3ZSBhcmUgYWxsb3dlZCB0byB1cGxvYWQgdGhlIGZpbGUgaW1tZWRpYXRlbHksIGxldHMgZG8gaXRcbiAgICAgICAgaWYgKHF1ZXJ5KCdJU19BU1lOQycpICYmIHN0YXRlLm9wdGlvbnMuaW5zdGFudFVwbG9hZCkge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJywgeyBxdWVyeTogaXRlbS5pZCB9KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBSRVRSWV9JVEVNX0xPQUQ6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBpdGVtID0+IHtcbiAgICAgICAgLy8gdHJ5IGxvYWRpbmcgdGhlIHNvdXJjZSBvbmUgbW9yZSB0aW1lXG4gICAgICAgIGl0ZW0ucmV0cnlMb2FkKCk7XG4gICAgfSksXG5cbiAgICBSRVFVRVNUX0lURU1fUFJFUEFSRTogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIChpdGVtLCBzdWNjZXNzLCBmYWlsdXJlKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgJ1JFUVVFU1RfUFJFUEFSRV9PVVRQVVQnLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHF1ZXJ5OiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfUFJFUEFSRV9PVVRQVVQnLCB7IGlkOiBpdGVtLmlkLCBmaWxlIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IGZpbGUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbHVyZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgfSksXG5cbiAgICBSRVFVRVNUX0lURU1fUFJPQ0VTU0lORzogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIChpdGVtLCBzdWNjZXNzLCBmYWlsdXJlKSA9PiB7XG4gICAgICAgIC8vIGNhbm5vdCBiZSBxdWV1ZWQgKG9yIGlzIGFscmVhZHkgcXVldWVkKVxuICAgICAgICBjb25zdCBpdGVtQ2FuQmVRdWV1ZWRGb3JQcm9jZXNzaW5nID1cbiAgICAgICAgICAgIC8vIHdhaXRpbmcgZm9yIHNvbWV0aGluZ1xuICAgICAgICAgICAgaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuSURMRSB8fFxuICAgICAgICAgICAgLy8gcHJvY2Vzc2luZyB3ZW50IHdyb25nIGVhcmxpZXJcbiAgICAgICAgICAgIGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfRVJST1I7XG5cbiAgICAgICAgLy8gbm90IHJlYWR5IHRvIGJlIHByb2Nlc3NlZFxuICAgICAgICBpZiAoIWl0ZW1DYW5CZVF1ZXVlZEZvclByb2Nlc3NpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NOb3cgPSAoKSA9PlxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdSRVFVRVNUX0lURU1fUFJPQ0VTU0lORycsIHsgcXVlcnk6IGl0ZW0sIHN1Y2Nlc3MsIGZhaWx1cmUgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3MgPSAoKSA9PiAoZG9jdW1lbnQuaGlkZGVuID8gcHJvY2Vzc05vdygpIDogc2V0VGltZW91dChwcm9jZXNzTm93LCAzMikpO1xuXG4gICAgICAgICAgICAvLyBpZiBhbHJlYWR5IGRvbmUgcHJvY2Vzc2luZyBvciB0cmllZCB0byByZXZlcnQgYnV0IGRpZG4ndCB3b3JrLCB0cnkgYWdhaW5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFIHx8XG4gICAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19SRVZFUlRfRVJST1JcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGl0ZW0ucmV2ZXJ0KFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXZlcnRGdW5jdGlvbihzdGF0ZS5vcHRpb25zLnNlcnZlci51cmwsIHN0YXRlLm9wdGlvbnMuc2VydmVyLnJldmVydCksXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRk9SQ0VfUkVWRVJUJylcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHByb2Nlc3MpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7IC8vIGRvbid0IGNvbnRpbnVlIHdpdGggcHJvY2Vzc2luZyBpZiBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5hYm9ydFByb2Nlc3NpbmcoKS50aGVuKHByb2Nlc3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbHJlYWR5IHF1ZXVlZCBmb3IgcHJvY2Vzc2luZ1xuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19RVUVVRUQpIHJldHVybjtcblxuICAgICAgICBpdGVtLnJlcXVlc3RQcm9jZXNzaW5nKCk7XG5cbiAgICAgICAgZGlzcGF0Y2goJ0RJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORycsIHsgaWQ6IGl0ZW0uaWQgfSk7XG5cbiAgICAgICAgZGlzcGF0Y2goJ1BST0NFU1NfSVRFTScsIHsgcXVlcnk6IGl0ZW0sIHN1Y2Nlc3MsIGZhaWx1cmUgfSwgdHJ1ZSk7XG4gICAgfSksXG5cbiAgICBQUk9DRVNTX0lURU06IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCAoaXRlbSwgc3VjY2VzcywgZmFpbHVyZSkgPT4ge1xuICAgICAgICBjb25zdCBtYXhQYXJhbGxlbFVwbG9hZHMgPSBxdWVyeSgnR0VUX01BWF9QQVJBTExFTF9VUExPQURTJyk7XG4gICAgICAgIGNvbnN0IHRvdGFsQ3VycmVudFVwbG9hZHMgPSBxdWVyeSgnR0VUX0lURU1TX0JZX1NUQVRVUycsIEl0ZW1TdGF0dXMuUFJPQ0VTU0lORykubGVuZ3RoO1xuXG4gICAgICAgIC8vIHF1ZXVlIGFuZCB3YWl0IHRpbGwgcXVldWUgaXMgZnJlZWQgdXBcbiAgICAgICAgaWYgKHRvdGFsQ3VycmVudFVwbG9hZHMgPT09IG1heFBhcmFsbGVsVXBsb2Fkcykge1xuICAgICAgICAgICAgLy8gcXVldWUgZm9yIGxhdGVyIHByb2Nlc3NpbmdcbiAgICAgICAgICAgIHN0YXRlLnByb2Nlc3NpbmdRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzLFxuICAgICAgICAgICAgICAgIGZhaWx1cmUsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gc3RvcCBpdCFcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHdhcyBub3QgcXVldWVkIG9yIGlzIGFscmVhZHkgcHJvY2Vzc2luZyBleGl0IGhlcmVcbiAgICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkcpIHJldHVybjtcblxuICAgICAgICBjb25zdCBwcm9jZXNzTmV4dCA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIHByb2Nlc3MgcXVldWV1ZCBpdGVtc1xuICAgICAgICAgICAgY29uc3QgcXVldWVFbnRyeSA9IHN0YXRlLnByb2Nlc3NpbmdRdWV1ZS5zaGlmdCgpO1xuXG4gICAgICAgICAgICAvLyBubyBpdGVtcyBsZWZ0XG4gICAgICAgICAgICBpZiAoIXF1ZXVlRW50cnkpIHJldHVybjtcblxuICAgICAgICAgICAgLy8gZ2V0IGl0ZW0gcmVmZXJlbmNlXG4gICAgICAgICAgICBjb25zdCB7IGlkLCBzdWNjZXNzLCBmYWlsdXJlIH0gPSBxdWV1ZUVudHJ5O1xuICAgICAgICAgICAgY29uc3QgaXRlbVJlZmVyZW5jZSA9IGdldEl0ZW1CeVF1ZXJ5KHN0YXRlLml0ZW1zLCBpZCk7XG5cbiAgICAgICAgICAgIC8vIGlmIGl0ZW0gd2FzIGFyY2hpdmVkIHdoaWxlIGluIHF1ZXVlLCBqdW1wIHRvIG5leHRcbiAgICAgICAgICAgIGlmICghaXRlbVJlZmVyZW5jZSB8fCBpdGVtUmVmZXJlbmNlLmFyY2hpdmVkKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc05leHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHByb2Nlc3MgcXVldWVkIGl0ZW1cbiAgICAgICAgICAgIGRpc3BhdGNoKCdQUk9DRVNTX0lURU0nLCB7IHF1ZXJ5OiBpZCwgc3VjY2VzcywgZmFpbHVyZSB9LCB0cnVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyB3ZSBkb25lIGZ1bmN0aW9uXG4gICAgICAgIGl0ZW0ub25PbmNlKCdwcm9jZXNzLWNvbXBsZXRlJywgKCkgPT4ge1xuICAgICAgICAgICAgc3VjY2VzcyhjcmVhdGVJdGVtQVBJKGl0ZW0pKTtcbiAgICAgICAgICAgIHByb2Nlc3NOZXh0KCk7XG5cbiAgICAgICAgICAgIC8vIGlmIG9yaWdpbiBpcyBsb2NhbCwgYW5kIHdlJ3JlIGluc3RhbnQgdXBsb2FkaW5nLCB0cmlnZ2VyIHJlbW92ZSBvZiBvcmlnaW5hbFxuICAgICAgICAgICAgLy8gYXMgcmV2ZXJ0IHdpbGwgcmVtb3ZlIGZpbGUgZnJvbSBsaXN0XG4gICAgICAgICAgICBjb25zdCBzZXJ2ZXIgPSBzdGF0ZS5vcHRpb25zLnNlcnZlcjtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbnRVcGxvYWQgPSBzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQ7XG4gICAgICAgICAgICBpZiAoaW5zdGFudFVwbG9hZCAmJiBpdGVtLm9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MT0NBTCAmJiBpc0Z1bmN0aW9uKHNlcnZlci5yZW1vdmUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuICAgICAgICAgICAgICAgIGl0ZW0ub3JpZ2luID0gRmlsZU9yaWdpbi5MSU1CTztcbiAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZW1vdmUoaXRlbS5zb3VyY2UsIG5vb3AsIG5vb3ApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBbGwgaXRlbXMgcHJvY2Vzc2VkPyBObyBlcnJvcnM/XG4gICAgICAgICAgICBjb25zdCBhbGxJdGVtc1Byb2Nlc3NlZCA9XG4gICAgICAgICAgICAgICAgcXVlcnkoJ0dFVF9JVEVNU19CWV9TVEFUVVMnLCBJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEUpLmxlbmd0aCA9PT1cbiAgICAgICAgICAgICAgICBzdGF0ZS5pdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoYWxsSXRlbXNQcm9jZXNzZWQpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lOR19BTEwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gd2UgZXJyb3IgZnVuY3Rpb25cbiAgICAgICAgaXRlbS5vbk9uY2UoJ3Byb2Nlc3MtZXJyb3InLCBlcnJvciA9PiB7XG4gICAgICAgICAgICBmYWlsdXJlKHsgZXJyb3IsIGZpbGU6IGNyZWF0ZUl0ZW1BUEkoaXRlbSkgfSk7XG4gICAgICAgICAgICBwcm9jZXNzTmV4dCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBzdGFydCBmaWxlIHByb2Nlc3NpbmdcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHN0YXRlLm9wdGlvbnM7XG4gICAgICAgIGl0ZW0ucHJvY2VzcyhcbiAgICAgICAgICAgIGNyZWF0ZUZpbGVQcm9jZXNzb3IoXG4gICAgICAgICAgICAgICAgY3JlYXRlUHJvY2Vzc29yRnVuY3Rpb24ob3B0aW9ucy5zZXJ2ZXIudXJsLCBvcHRpb25zLnNlcnZlci5wcm9jZXNzLCBvcHRpb25zLm5hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtUcmFuc2ZlcklkOiBpdGVtLnRyYW5zZmVySWQsXG4gICAgICAgICAgICAgICAgICAgIGNodW5rU2VydmVyOiBvcHRpb25zLnNlcnZlci5wYXRjaCxcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtVcGxvYWRzOiBvcHRpb25zLmNodW5rVXBsb2FkcyxcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtGb3JjZTogb3B0aW9ucy5jaHVua0ZvcmNlLFxuICAgICAgICAgICAgICAgICAgICBjaHVua1NpemU6IG9wdGlvbnMuY2h1bmtTaXplLFxuICAgICAgICAgICAgICAgICAgICBjaHVua1JldHJ5RGVsYXlzOiBvcHRpb25zLmNodW5rUmV0cnlEZWxheXMsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd01pbmltdW1VcGxvYWREdXJhdGlvbjogcXVlcnkoJ0dFVF9BTExPV19NSU5JTVVNX1VQTE9BRF9EVVJBVElPTicpLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAvLyBjYWxsZWQgd2hlbiB0aGUgZmlsZSBpcyBhYm91dCB0byBiZSBwcm9jZXNzZWQgc28gaXQgY2FuIGJlIHBpcGVkIHRocm91Z2ggdGhlIHRyYW5zZm9ybSBmaWx0ZXJzXG4gICAgICAgICAgICAoZmlsZSwgc3VjY2VzcywgZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBwbHVnaW5zIHRvIGFsdGVyIHRoZSBmaWxlIGRhdGFcbiAgICAgICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdQUkVQQVJFX09VVFBVVCcsIGZpbGUsIHsgcXVlcnksIGl0ZW0gfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1BSRVBBUkVfT1VUUFVUJywgeyBpZDogaXRlbS5pZCwgZmlsZSB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9KSxcblxuICAgIFJFVFJZX0lURU1fUFJPQ0VTU0lORzogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGl0ZW0gPT4ge1xuICAgICAgICBkaXNwYXRjaCgnUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLCB7IHF1ZXJ5OiBpdGVtIH0pO1xuICAgIH0pLFxuXG4gICAgUkVRVUVTVF9SRU1PVkVfSVRFTTogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGl0ZW0gPT4ge1xuICAgICAgICBvcHRpb25hbFByb21pc2UocXVlcnkoJ0dFVF9CRUZPUkVfUkVNT1ZFX0ZJTEUnKSwgY3JlYXRlSXRlbUFQSShpdGVtKSkudGhlbihzaG91bGRSZW1vdmUgPT4ge1xuICAgICAgICAgICAgaWYgKCFzaG91bGRSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCB7IHF1ZXJ5OiBpdGVtIH0pO1xuICAgICAgICB9KTtcbiAgICB9KSxcblxuICAgIFJFTEVBU0VfSVRFTTogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGl0ZW0gPT4ge1xuICAgICAgICBpdGVtLnJlbGVhc2UoKTtcbiAgICB9KSxcblxuICAgIFJFTU9WRV9JVEVNOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgKGl0ZW0sIHN1Y2Nlc3MsIGZhaWx1cmUsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgcmVtb3ZlRnJvbVZpZXcgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBnZXQgaWQgcmVmZXJlbmNlXG4gICAgICAgICAgICBjb25zdCBpZCA9IGl0ZW0uaWQ7XG5cbiAgICAgICAgICAgIC8vIGFyY2hpdmUgdGhlIGl0ZW0sIHRoaXMgZG9lcyBub3QgcmVtb3ZlIGl0IGZyb20gdGhlIGxpc3RcbiAgICAgICAgICAgIGdldEl0ZW1CeUlkKHN0YXRlLml0ZW1zLCBpZCkuYXJjaGl2ZSgpO1xuXG4gICAgICAgICAgICAvLyB0ZWxsIHRoZSB2aWV3IHRoZSBpdGVtIGhhcyBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfUkVNT1ZFX0lURU0nLCB7IGVycm9yOiBudWxsLCBpZCwgaXRlbSB9KTtcblxuICAgICAgICAgICAgLy8gbm93IHRoZSBsaXN0IGhhcyBiZWVuIG1vZGlmaWVkXG4gICAgICAgICAgICBsaXN0VXBkYXRlZChkaXNwYXRjaCwgc3RhdGUpO1xuXG4gICAgICAgICAgICAvLyBjb3JyZWN0bHkgcmVtb3ZlZFxuICAgICAgICAgICAgc3VjY2VzcyhjcmVhdGVJdGVtQVBJKGl0ZW0pKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBpZiB0aGlzIGlzIGEgbG9jYWwgZmlsZSBhbmQgdGhlIGBzZXJ2ZXIucmVtb3ZlYCBmdW5jdGlvbiBoYXMgYmVlbiBjb25maWd1cmVkLFxuICAgICAgICAvLyBzZW5kIHNvdXJjZSB0aGVyZSBzbyBkZXYgY2FuIHJlbW92ZSBmaWxlIGZyb20gc2VydmVyXG4gICAgICAgIGNvbnN0IHNlcnZlciA9IHN0YXRlLm9wdGlvbnMuc2VydmVyO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBpdGVtLm9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MT0NBTCAmJlxuICAgICAgICAgICAgc2VydmVyICYmXG4gICAgICAgICAgICBpc0Z1bmN0aW9uKHNlcnZlci5yZW1vdmUpICYmXG4gICAgICAgICAgICBvcHRpb25zLnJlbW92ZSAhPT0gZmFsc2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX1NUQVJUX0lURU1fUkVNT1ZFJywgeyBpZDogaXRlbS5pZCB9KTtcblxuICAgICAgICAgICAgc2VydmVyLnJlbW92ZShcbiAgICAgICAgICAgICAgICBpdGVtLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAoKSA9PiByZW1vdmVGcm9tVmlldygpLFxuICAgICAgICAgICAgICAgIHN0YXR1cyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1InLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnZXJyb3InLCAwLCBzdGF0dXMsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbjogZHluYW1pY0xhYmVsKHN0YXRlLm9wdGlvbnMubGFiZWxGaWxlUmVtb3ZlRXJyb3IpKHN0YXR1cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViOiBzdGF0ZS5vcHRpb25zLmxhYmVsVGFwVG9SZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiBpcyByZXF1ZXN0aW5nIHJldmVydCBhbmQgY2FuIHJldmVydCBuZWVkIHRvIGNhbGwgcmV2ZXJ0IGhhbmRsZXIgKG5vdCBjYWxsaW5nIHJlcXVlc3RfIGJlY2F1c2UgdGhhdCB3b3VsZCBhbHNvIHRyaWdnZXIgYmVmb3JlUmVtb3ZlSG9vaylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAob3B0aW9ucy5yZXZlcnQgJiYgaXRlbS5vcmlnaW4gIT09IEZpbGVPcmlnaW4uTE9DQUwgJiYgaXRlbS5zZXJ2ZXJJZCAhPT0gbnVsbCkgfHxcbiAgICAgICAgICAgICAgICAvLyBpZiBjaHVua2VkIHVwbG9hZHMgYXJlIGVuYWJsZWQgYW5kIHdlJ3JlIHVwbG9hZGluZyBpbiBjaHVua3MgZm9yIHRoaXMgc3BlY2lmaWMgZmlsZVxuICAgICAgICAgICAgICAgIC8vIG9yIGlmIHRoZSBmaWxlIGlzbid0IGJpZyBlbm91Z2ggZm9yIGNodW5rZWQgdXBsb2FkcyBidXQgY2h1bmtGb3JjZSBpcyBzZXQgdGhlbiBjYWxsXG4gICAgICAgICAgICAgICAgLy8gcmV2ZXJ0IGJlZm9yZSByZW1vdmluZyBmcm9tIHRoZSB2aWV3Li4uXG4gICAgICAgICAgICAgICAgKHN0YXRlLm9wdGlvbnMuY2h1bmtVcGxvYWRzICYmIGl0ZW0uZmlsZS5zaXplID4gc3RhdGUub3B0aW9ucy5jaHVua1NpemUpIHx8XG4gICAgICAgICAgICAgICAgKHN0YXRlLm9wdGlvbnMuY2h1bmtVcGxvYWRzICYmIHN0YXRlLm9wdGlvbnMuY2h1bmtGb3JjZSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGl0ZW0ucmV2ZXJ0KFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXZlcnRGdW5jdGlvbihzdGF0ZS5vcHRpb25zLnNlcnZlci51cmwsIHN0YXRlLm9wdGlvbnMuc2VydmVyLnJldmVydCksXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRk9SQ0VfUkVWRVJUJylcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjYW4gbm93IHNhZmVseSByZW1vdmUgZnJvbSB2aWV3XG4gICAgICAgICAgICByZW1vdmVGcm9tVmlldygpO1xuICAgICAgICB9XG4gICAgfSksXG5cbiAgICBBQk9SVF9JVEVNX0xPQUQ6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBpdGVtID0+IHtcbiAgICAgICAgaXRlbS5hYm9ydExvYWQoKTtcbiAgICB9KSxcblxuICAgIEFCT1JUX0lURU1fUFJPQ0VTU0lORzogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGl0ZW0gPT4ge1xuICAgICAgICAvLyB0ZXN0IGlmIGlzIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgIGlmIChpdGVtLnNlcnZlcklkKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsIHsgaWQ6IGl0ZW0uaWQgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhYm9ydFxuICAgICAgICBpdGVtLmFib3J0UHJvY2Vzc2luZygpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkUmVtb3ZlID0gc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkO1xuICAgICAgICAgICAgaWYgKHNob3VsZFJlbW92ZSkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHsgcXVlcnk6IGl0ZW0uaWQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pLFxuXG4gICAgUkVRVUVTVF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgaXRlbSA9PiB7XG4gICAgICAgIC8vIG5vdCBpbnN0YW50IHVwbG9hZGluZywgcmV2ZXJ0IGltbWVkaWF0ZWx5XG4gICAgICAgIGlmICghc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsIHsgcXVlcnk6IGl0ZW0gfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3ZSdyZSBpbnN0YW50IHVwbG9hZGluZyB0aGUgZmlsZSB3aWxsIGFsc28gYmUgcmVtb3ZlZCBpZiB3ZSByZXZlcnQsXG4gICAgICAgIC8vIHNvIGlmIGEgYmVmb3JlIHJlbW92ZSBmaWxlIGhvb2sgaXMgZGVmaW5lZCB3ZSBuZWVkIHRvIHJ1biBpdCBub3dcbiAgICAgICAgY29uc3QgaGFuZGxlUmV2ZXJ0ID0gc2hvdWxkUmV2ZXJ0ID0+IHtcbiAgICAgICAgICAgIGlmICghc2hvdWxkUmV2ZXJ0KSByZXR1cm47XG4gICAgICAgICAgICBkaXNwYXRjaCgnUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsIHsgcXVlcnk6IGl0ZW0gfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZm4gPSBxdWVyeSgnR0VUX0JFRk9SRV9SRU1PVkVfRklMRScpO1xuICAgICAgICBpZiAoIWZuKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlUmV2ZXJ0KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdFJlbW92ZVJlc3VsdCA9IGZuKGNyZWF0ZUl0ZW1BUEkoaXRlbSkpO1xuICAgICAgICBpZiAocmVxdWVzdFJlbW92ZVJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVJldmVydCh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdFJlbW92ZVJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlUmV2ZXJ0KHJlcXVlc3RSZW1vdmVSZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0UmVtb3ZlUmVzdWx0LnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJlcXVlc3RSZW1vdmVSZXN1bHQudGhlbihoYW5kbGVSZXZlcnQpO1xuICAgICAgICB9XG4gICAgfSksXG5cbiAgICBSRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgaXRlbSA9PiB7XG4gICAgICAgIGl0ZW0ucmV2ZXJ0KFxuICAgICAgICAgICAgY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oc3RhdGUub3B0aW9ucy5zZXJ2ZXIudXJsLCBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZXZlcnQpLFxuICAgICAgICAgICAgcXVlcnkoJ0dFVF9GT1JDRV9SRVZFUlQnKVxuICAgICAgICApXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkUmVtb3ZlID0gc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkIHx8IGlzTW9ja0l0ZW0oaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCB7IHF1ZXJ5OiBpdGVtLmlkIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pO1xuICAgIH0pLFxuXG4gICAgU0VUX09QVElPTlM6ICh7IG9wdGlvbnMgfSkgPT4ge1xuICAgICAgICAvLyBnZXQgYWxsIGtleXMgcGFzc2VkXG4gICAgICAgIGNvbnN0IG9wdGlvbktleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcblxuICAgICAgICAvLyBnZXQgcHJpb3JpdGl6ZWQga2V5ZWQgdG8gaW5jbHVkZSAocmVtb3ZlIG9uY2Ugbm90IGluIG9wdGlvbnMgb2JqZWN0KVxuICAgICAgICBjb25zdCBwcmlvcml0aXplZE9wdGlvbktleXMgPSBQcmlvcml0aXplZE9wdGlvbnMuZmlsdGVyKGtleSA9PiBvcHRpb25LZXlzLmluY2x1ZGVzKGtleSkpO1xuXG4gICAgICAgIC8vIG9yZGVyIHRoZSBrZXlzLCBwcmlvcml0aXplZCBmaXJzdCwgdGhlbiByZXN0XG4gICAgICAgIGNvbnN0IG9yZGVyZWRPcHRpb25LZXlzID0gW1xuICAgICAgICAgICAgLy8gYWRkIHByaW9yaXRpemVkIGZpcnN0IGlmIHBhc3NlZCB0byBvcHRpb25zLCBlbHNlIHJlbW92ZVxuICAgICAgICAgICAgLi4ucHJpb3JpdGl6ZWRPcHRpb25LZXlzLFxuXG4gICAgICAgICAgICAvLyBwcmV2ZW50IGR1cGxpY2F0ZSBrZXlzXG4gICAgICAgICAgICAuLi5PYmplY3Qua2V5cyhvcHRpb25zKS5maWx0ZXIoa2V5ID0+ICFwcmlvcml0aXplZE9wdGlvbktleXMuaW5jbHVkZXMoa2V5KSksXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gZGlzcGF0Y2ggc2V0IGV2ZW50IGZvciBlYWNoIG9wdGlvblxuICAgICAgICBvcmRlcmVkT3B0aW9uS2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaChgU0VUXyR7ZnJvbUNhbWVscyhrZXksICdfJykudG9VcHBlckNhc2UoKX1gLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnNba2V5XSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxufSk7XG5cbmNvbnN0IFByaW9yaXRpemVkT3B0aW9ucyA9IFtcbiAgICAnc2VydmVyJywgLy8gbXVzdCBiZSBwcm9jZXNzZWQgYmVmb3JlIFwiZmlsZXNcIlxuXTtcblxuY29uc3QgZm9ybWF0RmlsZW5hbWUgPSBuYW1lID0+IG5hbWU7XG5cbmNvbnN0IGNyZWF0ZUVsZW1lbnQkMSA9IHRhZ05hbWUgPT4ge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xufTtcblxuY29uc3QgdGV4dCA9IChub2RlLCB2YWx1ZSkgPT4ge1xuICAgIGxldCB0ZXh0Tm9kZSA9IG5vZGUuY2hpbGROb2Rlc1swXTtcbiAgICBpZiAoIXRleHROb2RlKSB7XG4gICAgICAgIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodmFsdWUpO1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKHRleHROb2RlKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB0ZXh0Tm9kZS5ub2RlVmFsdWUpIHtcbiAgICAgICAgdGV4dE5vZGUubm9kZVZhbHVlID0gdmFsdWU7XG4gICAgfVxufTtcblxuY29uc3QgcG9sYXJUb0NhcnRlc2lhbiA9IChjZW50ZXJYLCBjZW50ZXJZLCByYWRpdXMsIGFuZ2xlSW5EZWdyZWVzKSA9PiB7XG4gICAgY29uc3QgYW5nbGVJblJhZGlhbnMgPSAoKChhbmdsZUluRGVncmVlcyAlIDM2MCkgLSA5MCkgKiBNYXRoLlBJKSAvIDE4MC4wO1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IGNlbnRlclggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyksXG4gICAgICAgIHk6IGNlbnRlclkgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZUluUmFkaWFucyksXG4gICAgfTtcbn07XG5cbmNvbnN0IGRlc2NyaWJlQXJjID0gKHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFyY1N3ZWVwKSA9PiB7XG4gICAgY29uc3Qgc3RhcnQgPSBwb2xhclRvQ2FydGVzaWFuKHgsIHksIHJhZGl1cywgZW5kQW5nbGUpO1xuICAgIGNvbnN0IGVuZCA9IHBvbGFyVG9DYXJ0ZXNpYW4oeCwgeSwgcmFkaXVzLCBzdGFydEFuZ2xlKTtcbiAgICByZXR1cm4gWydNJywgc3RhcnQueCwgc3RhcnQueSwgJ0EnLCByYWRpdXMsIHJhZGl1cywgMCwgYXJjU3dlZXAsIDAsIGVuZC54LCBlbmQueV0uam9pbignICcpO1xufTtcblxuY29uc3QgcGVyY2VudGFnZUFyYyA9ICh4LCB5LCByYWRpdXMsIGZyb20sIHRvKSA9PiB7XG4gICAgbGV0IGFyY1N3ZWVwID0gMTtcbiAgICBpZiAodG8gPiBmcm9tICYmIHRvIC0gZnJvbSA8PSAwLjUpIHtcbiAgICAgICAgYXJjU3dlZXAgPSAwO1xuICAgIH1cbiAgICBpZiAoZnJvbSA+IHRvICYmIGZyb20gLSB0byA+PSAwLjUpIHtcbiAgICAgICAgYXJjU3dlZXAgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZGVzY3JpYmVBcmMoXG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHJhZGl1cyxcbiAgICAgICAgTWF0aC5taW4oMC45OTk5LCBmcm9tKSAqIDM2MCxcbiAgICAgICAgTWF0aC5taW4oMC45OTk5LCB0bykgKiAzNjAsXG4gICAgICAgIGFyY1N3ZWVwXG4gICAgKTtcbn07XG5cbmNvbnN0IGNyZWF0ZSA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAvLyBzdGFydCBhdCAwXG4gICAgcHJvcHMuc3BpbiA9IGZhbHNlO1xuICAgIHByb3BzLnByb2dyZXNzID0gMDtcbiAgICBwcm9wcy5vcGFjaXR5ID0gMDtcblxuICAgIC8vIHN2Z1xuICAgIGNvbnN0IHN2ZyA9IGNyZWF0ZUVsZW1lbnQoJ3N2ZycpO1xuICAgIHJvb3QucmVmLnBhdGggPSBjcmVhdGVFbGVtZW50KCdwYXRoJywge1xuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMixcbiAgICAgICAgJ3N0cm9rZS1saW5lY2FwJzogJ3JvdW5kJyxcbiAgICB9KTtcbiAgICBzdmcuYXBwZW5kQ2hpbGQocm9vdC5yZWYucGF0aCk7XG5cbiAgICByb290LnJlZi5zdmcgPSBzdmc7XG5cbiAgICByb290LmFwcGVuZENoaWxkKHN2Zyk7XG59O1xuXG5jb25zdCB3cml0ZSA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICBpZiAocHJvcHMub3BhY2l0eSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmFsaWduKSB7XG4gICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmFsaWduID0gcHJvcHMuYWxpZ247XG4gICAgfVxuXG4gICAgLy8gZ2V0IHdpZHRoIG9mIHN0cm9rZVxuICAgIGNvbnN0IHJpbmdTdHJva2VXaWR0aCA9IHBhcnNlSW50KGF0dHIocm9vdC5yZWYucGF0aCwgJ3N0cm9rZS13aWR0aCcpLCAxMCk7XG5cbiAgICAvLyBjYWxjdWxhdGUgc2l6ZSBvZiByaW5nXG4gICAgY29uc3Qgc2l6ZSA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoICogMC41O1xuXG4gICAgLy8gcmluZyBzdGF0ZVxuICAgIGxldCByaW5nRnJvbSA9IDA7XG4gICAgbGV0IHJpbmdUbyA9IDA7XG5cbiAgICAvLyBub3cgaW4gYnVzeSBtb2RlXG4gICAgaWYgKHByb3BzLnNwaW4pIHtcbiAgICAgICAgcmluZ0Zyb20gPSAwO1xuICAgICAgICByaW5nVG8gPSAwLjU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmluZ0Zyb20gPSAwO1xuICAgICAgICByaW5nVG8gPSBwcm9wcy5wcm9ncmVzcztcbiAgICB9XG5cbiAgICAvLyBnZXQgYXJjIHBhdGhcbiAgICBjb25zdCBjb29yZGluYXRlcyA9IHBlcmNlbnRhZ2VBcmMoc2l6ZSwgc2l6ZSwgc2l6ZSAtIHJpbmdTdHJva2VXaWR0aCwgcmluZ0Zyb20sIHJpbmdUbyk7XG5cbiAgICAvLyB1cGRhdGUgcHJvZ3Jlc3MgYmFyXG4gICAgYXR0cihyb290LnJlZi5wYXRoLCAnZCcsIGNvb3JkaW5hdGVzKTtcblxuICAgIC8vIGhpZGUgd2hpbGUgY29udGFpbnMgMCB2YWx1ZVxuICAgIGF0dHIocm9vdC5yZWYucGF0aCwgJ3N0cm9rZS1vcGFjaXR5JywgcHJvcHMuc3BpbiB8fCBwcm9wcy5wcm9ncmVzcyA+IDAgPyAxIDogMCk7XG59O1xuXG5jb25zdCBwcm9ncmVzc0luZGljYXRvciA9IGNyZWF0ZVZpZXcoe1xuICAgIHRhZzogJ2RpdicsXG4gICAgbmFtZTogJ3Byb2dyZXNzLWluZGljYXRvcicsXG4gICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGNyZWF0ZSxcbiAgICB3cml0ZSxcbiAgICBtaXhpbnM6IHtcbiAgICAgICAgYXBpczogWydwcm9ncmVzcycsICdzcGluJywgJ2FsaWduJ10sXG4gICAgICAgIHN0eWxlczogWydvcGFjaXR5J10sXG4gICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDUwMCB9LFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3ByaW5nJyxcbiAgICAgICAgICAgICAgICBzdGlmZm5lc3M6IDAuOTUsXG4gICAgICAgICAgICAgICAgZGFtcGluZzogMC42NSxcbiAgICAgICAgICAgICAgICBtYXNzOiAxMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuXG5jb25zdCBjcmVhdGUkMSA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICByb290LmVsZW1lbnQuaW5uZXJIVE1MID0gKHByb3BzLmljb24gfHwgJycpICsgYDxzcGFuPiR7cHJvcHMubGFiZWx9PC9zcGFuPmA7XG5cbiAgICBwcm9wcy5pc0Rpc2FibGVkID0gZmFsc2U7XG59O1xuXG5jb25zdCB3cml0ZSQxID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIGNvbnN0IHsgaXNEaXNhYmxlZCB9ID0gcHJvcHM7XG4gICAgY29uc3Qgc2hvdWxkRGlzYWJsZSA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpIHx8IHByb3BzLm9wYWNpdHkgPT09IDA7XG5cbiAgICBpZiAoc2hvdWxkRGlzYWJsZSAmJiAhaXNEaXNhYmxlZCkge1xuICAgICAgICBwcm9wcy5pc0Rpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgYXR0cihyb290LmVsZW1lbnQsICdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgIH0gZWxzZSBpZiAoIXNob3VsZERpc2FibGUgJiYgaXNEaXNhYmxlZCkge1xuICAgICAgICBwcm9wcy5pc0Rpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgfVxufTtcblxuY29uc3QgZmlsZUFjdGlvbkJ1dHRvbiA9IGNyZWF0ZVZpZXcoe1xuICAgIHRhZzogJ2J1dHRvbicsXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICB9LFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICBuYW1lOiAnZmlsZS1hY3Rpb24tYnV0dG9uJyxcbiAgICBtaXhpbnM6IHtcbiAgICAgICAgYXBpczogWydsYWJlbCddLFxuICAgICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnb3BhY2l0eSddLFxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICBzY2FsZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgc2NhbGVZOiAnc3ByaW5nJyxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZycsXG4gICAgICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiAyNTAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgbGlzdGVuZXJzOiB0cnVlLFxuICAgIH0sXG4gICAgY3JlYXRlOiBjcmVhdGUkMSxcbiAgICB3cml0ZTogd3JpdGUkMSxcbn0pO1xuXG5jb25zdCB0b05hdHVyYWxGaWxlU2l6ZSA9IChieXRlcywgZGVjaW1hbFNlcGFyYXRvciA9ICcuJywgYmFzZSA9IDEwMDAsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICAgbGFiZWxCeXRlcyA9ICdieXRlcycsXG4gICAgICAgIGxhYmVsS2lsb2J5dGVzID0gJ0tCJyxcbiAgICAgICAgbGFiZWxNZWdhYnl0ZXMgPSAnTUInLFxuICAgICAgICBsYWJlbEdpZ2FieXRlcyA9ICdHQicsXG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICAvLyBubyBuZWdhdGl2ZSBieXRlIHNpemVzXG4gICAgYnl0ZXMgPSBNYXRoLnJvdW5kKE1hdGguYWJzKGJ5dGVzKSk7XG5cbiAgICBjb25zdCBLQiA9IGJhc2U7XG4gICAgY29uc3QgTUIgPSBiYXNlICogYmFzZTtcbiAgICBjb25zdCBHQiA9IGJhc2UgKiBiYXNlICogYmFzZTtcblxuICAgIC8vIGp1c3QgYnl0ZXNcbiAgICBpZiAoYnl0ZXMgPCBLQikge1xuICAgICAgICByZXR1cm4gYCR7Ynl0ZXN9ICR7bGFiZWxCeXRlc31gO1xuICAgIH1cblxuICAgIC8vIGtpbG9ieXRlc1xuICAgIGlmIChieXRlcyA8IE1CKSB7XG4gICAgICAgIHJldHVybiBgJHtNYXRoLmZsb29yKGJ5dGVzIC8gS0IpfSAke2xhYmVsS2lsb2J5dGVzfWA7XG4gICAgfVxuXG4gICAgLy8gbWVnYWJ5dGVzXG4gICAgaWYgKGJ5dGVzIDwgR0IpIHtcbiAgICAgICAgcmV0dXJuIGAke3JlbW92ZURlY2ltYWxzV2hlblplcm8oYnl0ZXMgLyBNQiwgMSwgZGVjaW1hbFNlcGFyYXRvcil9ICR7bGFiZWxNZWdhYnl0ZXN9YDtcbiAgICB9XG5cbiAgICAvLyBnaWdhYnl0ZXNcbiAgICByZXR1cm4gYCR7cmVtb3ZlRGVjaW1hbHNXaGVuWmVybyhieXRlcyAvIEdCLCAyLCBkZWNpbWFsU2VwYXJhdG9yKX0gJHtsYWJlbEdpZ2FieXRlc31gO1xufTtcblxuY29uc3QgcmVtb3ZlRGVjaW1hbHNXaGVuWmVybyA9ICh2YWx1ZSwgZGVjaW1hbENvdW50LCBzZXBhcmF0b3IpID0+IHtcbiAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgLnRvRml4ZWQoZGVjaW1hbENvdW50KVxuICAgICAgICAuc3BsaXQoJy4nKVxuICAgICAgICAuZmlsdGVyKHBhcnQgPT4gcGFydCAhPT0gJzAnKVxuICAgICAgICAuam9pbihzZXBhcmF0b3IpO1xufTtcblxuY29uc3QgY3JlYXRlJDIgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgLy8gZmlsZW5hbWVcbiAgICBjb25zdCBmaWxlTmFtZSA9IGNyZWF0ZUVsZW1lbnQkMSgnc3BhbicpO1xuICAgIGZpbGVOYW1lLmNsYXNzTmFtZSA9ICdmaWxlcG9uZC0tZmlsZS1pbmZvLW1haW4nO1xuICAgIC8vIGhpZGUgZm9yIHNjcmVlbnJlYWRlcnNcbiAgICAvLyB0aGUgZmlsZSBpcyBjb250YWluZWQgaW4gYSBmaWVsZHNldCB3aXRoIGxlZ2VuZCB0aGF0IGNvbnRhaW5zIHRoZSBmaWxlbmFtZVxuICAgIC8vIG5vIG5lZWQgdG8gcmVhZCBpdCB0d2ljZVxuICAgIGF0dHIoZmlsZU5hbWUsICdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgcm9vdC5hcHBlbmRDaGlsZChmaWxlTmFtZSk7XG4gICAgcm9vdC5yZWYuZmlsZU5hbWUgPSBmaWxlTmFtZTtcblxuICAgIC8vIGZpbGVzaXplXG4gICAgY29uc3QgZmlsZVNpemUgPSBjcmVhdGVFbGVtZW50JDEoJ3NwYW4nKTtcbiAgICBmaWxlU2l6ZS5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLWZpbGUtaW5mby1zdWInO1xuICAgIHJvb3QuYXBwZW5kQ2hpbGQoZmlsZVNpemUpO1xuICAgIHJvb3QucmVmLmZpbGVTaXplID0gZmlsZVNpemU7XG5cbiAgICAvLyBzZXQgaW5pdGlhbCB2YWx1ZXNcbiAgICB0ZXh0KGZpbGVTaXplLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9XQUlUSU5HX0ZPUl9TSVpFJykpO1xuICAgIHRleHQoZmlsZU5hbWUsIGZvcm1hdEZpbGVuYW1lKHJvb3QucXVlcnkoJ0dFVF9JVEVNX05BTUUnLCBwcm9wcy5pZCkpKTtcbn07XG5cbmNvbnN0IHVwZGF0ZUZpbGUgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgdGV4dChcbiAgICAgICAgcm9vdC5yZWYuZmlsZVNpemUsXG4gICAgICAgIHRvTmF0dXJhbEZpbGVTaXplKFxuICAgICAgICAgICAgcm9vdC5xdWVyeSgnR0VUX0lURU1fU0laRScsIHByb3BzLmlkKSxcbiAgICAgICAgICAgICcuJyxcbiAgICAgICAgICAgIHJvb3QucXVlcnkoJ0dFVF9GSUxFX1NJWkVfQkFTRScpLFxuICAgICAgICAgICAgcm9vdC5xdWVyeSgnR0VUX0ZJTEVfU0laRV9MQUJFTFMnLCByb290LnF1ZXJ5KVxuICAgICAgICApXG4gICAgKTtcbiAgICB0ZXh0KHJvb3QucmVmLmZpbGVOYW1lLCBmb3JtYXRGaWxlbmFtZShyb290LnF1ZXJ5KCdHRVRfSVRFTV9OQU1FJywgcHJvcHMuaWQpKSk7XG59O1xuXG5jb25zdCB1cGRhdGVGaWxlU2l6ZU9uRXJyb3IgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgLy8gaWYgc2l6ZSBpcyBhdmFpbGFibGUgZG9uJ3QgZmFsbGJhY2sgdG8gdW5rbm93biBzaXplIG1lc3NhZ2VcbiAgICBpZiAoaXNJbnQocm9vdC5xdWVyeSgnR0VUX0lURU1fU0laRScsIHByb3BzLmlkKSkpIHtcbiAgICAgICAgdXBkYXRlRmlsZSh7IHJvb3QsIHByb3BzIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGV4dChyb290LnJlZi5maWxlU2l6ZSwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfU0laRV9OT1RfQVZBSUxBQkxFJykpO1xufTtcblxuY29uc3QgZmlsZUluZm8gPSBjcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnZmlsZS1pbmZvJyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgICAgRElEX0xPQURfSVRFTTogdXBkYXRlRmlsZSxcbiAgICAgICAgRElEX1VQREFURV9JVEVNX01FVEE6IHVwZGF0ZUZpbGUsXG4gICAgICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IHVwZGF0ZUZpbGVTaXplT25FcnJvcixcbiAgICAgICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDogdXBkYXRlRmlsZVNpemVPbkVycm9yLFxuICAgIH0pLFxuICAgIGRpZENyZWF0ZVZpZXc6IHJvb3QgPT4ge1xuICAgICAgICBhcHBseUZpbHRlcnMoJ0NSRUFURV9WSUVXJywgeyAuLi5yb290LCB2aWV3OiByb290IH0pO1xuICAgIH0sXG4gICAgY3JlYXRlOiBjcmVhdGUkMixcbiAgICBtaXhpbnM6IHtcbiAgICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWSddLFxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICB0cmFuc2xhdGVYOiAnc3ByaW5nJyxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6ICdzcHJpbmcnLFxuICAgICAgICB9LFxuICAgIH0sXG59KTtcblxuY29uc3QgdG9QZXJjZW50YWdlID0gdmFsdWUgPT4gTWF0aC5yb3VuZCh2YWx1ZSAqIDEwMCk7XG5cbmNvbnN0IGNyZWF0ZSQzID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgLy8gbWFpbiBzdGF0dXNcbiAgICBjb25zdCBtYWluID0gY3JlYXRlRWxlbWVudCQxKCdzcGFuJyk7XG4gICAgbWFpbi5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLWZpbGUtc3RhdHVzLW1haW4nO1xuICAgIHJvb3QuYXBwZW5kQ2hpbGQobWFpbik7XG4gICAgcm9vdC5yZWYubWFpbiA9IG1haW47XG5cbiAgICAvLyBzdWIgc3RhdHVzXG4gICAgY29uc3Qgc3ViID0gY3JlYXRlRWxlbWVudCQxKCdzcGFuJyk7XG4gICAgc3ViLmNsYXNzTmFtZSA9ICdmaWxlcG9uZC0tZmlsZS1zdGF0dXMtc3ViJztcbiAgICByb290LmFwcGVuZENoaWxkKHN1Yik7XG4gICAgcm9vdC5yZWYuc3ViID0gc3ViO1xuXG4gICAgZGlkU2V0SXRlbUxvYWRQcm9ncmVzcyh7IHJvb3QsIGFjdGlvbjogeyBwcm9ncmVzczogbnVsbCB9IH0pO1xufTtcblxuY29uc3QgZGlkU2V0SXRlbUxvYWRQcm9ncmVzcyA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgdGl0bGUgPVxuICAgICAgICBhY3Rpb24ucHJvZ3Jlc3MgPT09IG51bGxcbiAgICAgICAgICAgID8gcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfTE9BRElORycpXG4gICAgICAgICAgICA6IGAke3Jvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX0xPQURJTkcnKX0gJHt0b1BlcmNlbnRhZ2UoYWN0aW9uLnByb2dyZXNzKX0lYDtcbiAgICB0ZXh0KHJvb3QucmVmLm1haW4sIHRpdGxlKTtcbiAgICB0ZXh0KHJvb3QucmVmLnN1Yiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX1RBUF9UT19DQU5DRUwnKSk7XG59O1xuXG5jb25zdCBkaWRTZXRJdGVtUHJvY2Vzc1Byb2dyZXNzID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICBjb25zdCB0aXRsZSA9XG4gICAgICAgIGFjdGlvbi5wcm9ncmVzcyA9PT0gbnVsbFxuICAgICAgICAgICAgPyByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9QUk9DRVNTSU5HJylcbiAgICAgICAgICAgIDogYCR7cm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lORycpfSAke3RvUGVyY2VudGFnZShhY3Rpb24ucHJvZ3Jlc3MpfSVgO1xuICAgIHRleHQocm9vdC5yZWYubWFpbiwgdGl0bGUpO1xuICAgIHRleHQocm9vdC5yZWYuc3ViLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfVEFQX1RPX0NBTkNFTCcpKTtcbn07XG5cbmNvbnN0IGRpZFJlcXVlc3RJdGVtUHJvY2Vzc2luZyA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIHRleHQocm9vdC5yZWYubWFpbiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lORycpKTtcbiAgICB0ZXh0KHJvb3QucmVmLnN1Yiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX1RBUF9UT19DQU5DRUwnKSk7XG59O1xuXG5jb25zdCBkaWRBYm9ydEl0ZW1Qcm9jZXNzaW5nID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgdGV4dChyb290LnJlZi5tYWluLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9QUk9DRVNTSU5HX0FCT1JURUQnKSk7XG4gICAgdGV4dChyb290LnJlZi5zdWIsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9UQVBfVE9fUkVUUlknKSk7XG59O1xuXG5jb25zdCBkaWRDb21wbGV0ZUl0ZW1Qcm9jZXNzaW5nID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgdGV4dChyb290LnJlZi5tYWluLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9QUk9DRVNTSU5HX0NPTVBMRVRFJykpO1xuICAgIHRleHQocm9vdC5yZWYuc3ViLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfVEFQX1RPX1VORE8nKSk7XG59O1xuXG5jb25zdCBjbGVhciA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIHRleHQocm9vdC5yZWYubWFpbiwgJycpO1xuICAgIHRleHQocm9vdC5yZWYuc3ViLCAnJyk7XG59O1xuXG5jb25zdCBlcnJvciA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgdGV4dChyb290LnJlZi5tYWluLCBhY3Rpb24uc3RhdHVzLm1haW4pO1xuICAgIHRleHQocm9vdC5yZWYuc3ViLCBhY3Rpb24uc3RhdHVzLnN1Yik7XG59O1xuXG5jb25zdCBmaWxlU3RhdHVzID0gY3JlYXRlVmlldyh7XG4gICAgbmFtZTogJ2ZpbGUtc3RhdHVzJyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgICAgRElEX0xPQURfSVRFTTogY2xlYXIsXG4gICAgICAgIERJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiBjbGVhcixcbiAgICAgICAgRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HOiBkaWRSZXF1ZXN0SXRlbVByb2Nlc3NpbmcsXG4gICAgICAgIERJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkc6IGRpZEFib3J0SXRlbVByb2Nlc3NpbmcsXG4gICAgICAgIERJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkc6IGRpZENvbXBsZXRlSXRlbVByb2Nlc3NpbmcsXG4gICAgICAgIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTOiBkaWRTZXRJdGVtUHJvY2Vzc1Byb2dyZXNzLFxuICAgICAgICBESURfVVBEQVRFX0lURU1fTE9BRF9QUk9HUkVTUzogZGlkU2V0SXRlbUxvYWRQcm9ncmVzcyxcbiAgICAgICAgRElEX1RIUk9XX0lURU1fTE9BRF9FUlJPUjogZXJyb3IsXG4gICAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IGVycm9yLFxuICAgICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiBlcnJvcixcbiAgICAgICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19SRVZFUlRfRVJST1I6IGVycm9yLFxuICAgICAgICBESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1I6IGVycm9yLFxuICAgIH0pLFxuICAgIGRpZENyZWF0ZVZpZXc6IHJvb3QgPT4ge1xuICAgICAgICBhcHBseUZpbHRlcnMoJ0NSRUFURV9WSUVXJywgeyAuLi5yb290LCB2aWV3OiByb290IH0pO1xuICAgIH0sXG4gICAgY3JlYXRlOiBjcmVhdGUkMyxcbiAgICBtaXhpbnM6IHtcbiAgICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICdvcGFjaXR5J10sXG4gICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDI1MCB9LFxuICAgICAgICAgICAgdHJhbnNsYXRlWDogJ3NwcmluZycsXG4gICAgICAgICAgICB0cmFuc2xhdGVZOiAnc3ByaW5nJyxcbiAgICAgICAgfSxcbiAgICB9LFxufSk7XG5cbi8qKlxuICogQnV0dG9uIGRlZmluaXRpb25zIGZvciB0aGUgZmlsZSB2aWV3XG4gKi9cblxuY29uc3QgQnV0dG9ucyA9IHtcbiAgICBBYm9ydEl0ZW1Mb2FkOiB7XG4gICAgICAgIGxhYmVsOiAnR0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX0xPQUQnLFxuICAgICAgICBhY3Rpb246ICdBQk9SVF9JVEVNX0xPQUQnLFxuICAgICAgICBjbGFzc05hbWU6ICdmaWxlcG9uZC0tYWN0aW9uLWFib3J0LWl0ZW0tbG9hZCcsXG4gICAgICAgIGFsaWduOiAnTE9BRF9JTkRJQ0FUT1JfUE9TSVRJT04nLCAvLyByaWdodFxuICAgIH0sXG4gICAgUmV0cnlJdGVtTG9hZDoge1xuICAgICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fUkVUUllfSVRFTV9MT0FEJyxcbiAgICAgICAgYWN0aW9uOiAnUkVUUllfSVRFTV9MT0FEJyxcbiAgICAgICAgaWNvbjogJ0dFVF9JQ09OX1JFVFJZJyxcbiAgICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1yZXRyeS1pdGVtLWxvYWQnLFxuICAgICAgICBhbGlnbjogJ0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nLCAvLyByaWdodFxuICAgIH0sXG4gICAgUmVtb3ZlSXRlbToge1xuICAgICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fUkVNT1ZFX0lURU0nLFxuICAgICAgICBhY3Rpb246ICdSRVFVRVNUX1JFTU9WRV9JVEVNJyxcbiAgICAgICAgaWNvbjogJ0dFVF9JQ09OX1JFTU9WRScsXG4gICAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tcmVtb3ZlLWl0ZW0nLFxuICAgICAgICBhbGlnbjogJ0JVVFRPTl9SRU1PVkVfSVRFTV9QT1NJVElPTicsIC8vIGxlZnRcbiAgICB9LFxuICAgIFByb2Nlc3NJdGVtOiB7XG4gICAgICAgIGxhYmVsOiAnR0VUX0xBQkVMX0JVVFRPTl9QUk9DRVNTX0lURU0nLFxuICAgICAgICBhY3Rpb246ICdSRVFVRVNUX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgIGljb246ICdHRVRfSUNPTl9QUk9DRVNTJyxcbiAgICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1wcm9jZXNzLWl0ZW0nLFxuICAgICAgICBhbGlnbjogJ0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nLCAvLyByaWdodFxuICAgIH0sXG4gICAgQWJvcnRJdGVtUHJvY2Vzc2luZzoge1xuICAgICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgYWN0aW9uOiAnQUJPUlRfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1hYm9ydC1pdGVtLXByb2Nlc3NpbmcnLFxuICAgICAgICBhbGlnbjogJ0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nLCAvLyByaWdodFxuICAgIH0sXG4gICAgUmV0cnlJdGVtUHJvY2Vzc2luZzoge1xuICAgICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fUkVUUllfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgYWN0aW9uOiAnUkVUUllfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgaWNvbjogJ0dFVF9JQ09OX1JFVFJZJyxcbiAgICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1yZXRyeS1pdGVtLXByb2Nlc3NpbmcnLFxuICAgICAgICBhbGlnbjogJ0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nLCAvLyByaWdodFxuICAgIH0sXG4gICAgUmV2ZXJ0SXRlbVByb2Nlc3Npbmc6IHtcbiAgICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX1VORE9fSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgYWN0aW9uOiAnUkVRVUVTVF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgaWNvbjogJ0dFVF9JQ09OX1VORE8nLFxuICAgICAgICBjbGFzc05hbWU6ICdmaWxlcG9uZC0tYWN0aW9uLXJldmVydC1pdGVtLXByb2Nlc3NpbmcnLFxuICAgICAgICBhbGlnbjogJ0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nLCAvLyByaWdodFxuICAgIH0sXG59O1xuXG4vLyBtYWtlIGEgbGlzdCBvZiBidXR0b25zLCB3ZSBjYW4gdGhlbiByZW1vdmUgYnV0dG9ucyBmcm9tIHRoaXMgbGlzdCBpZiB0aGV5J3JlIGRpc2FibGVkXG5jb25zdCBCdXR0b25LZXlzID0gW107XG5mb3JpbihCdXR0b25zLCBrZXkgPT4ge1xuICAgIEJ1dHRvbktleXMucHVzaChrZXkpO1xufSk7XG5cbmNvbnN0IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0ID0gcm9vdCA9PiB7XG4gICAgaWYgKGdldFJlbW92ZUluZGljYXRvckFsaWdtZW50KHJvb3QpID09PSAncmlnaHQnKSByZXR1cm4gMDtcbiAgICBjb25zdCBidXR0b25SZWN0ID0gcm9vdC5yZWYuYnV0dG9uUmVtb3ZlSXRlbS5yZWN0LmVsZW1lbnQ7XG4gICAgcmV0dXJuIGJ1dHRvblJlY3QuaGlkZGVuID8gbnVsbCA6IGJ1dHRvblJlY3Qud2lkdGggKyBidXR0b25SZWN0LmxlZnQ7XG59O1xuXG5jb25zdCBjYWxjdWxhdGVCdXR0b25XaWR0aCA9IHJvb3QgPT4ge1xuICAgIGNvbnN0IGJ1dHRvblJlY3QgPSByb290LnJlZi5idXR0b25BYm9ydEl0ZW1Mb2FkLnJlY3QuZWxlbWVudDtcbiAgICByZXR1cm4gYnV0dG9uUmVjdC53aWR0aDtcbn07XG5cbi8vIEZvcmNlIG9uIGZ1bGwgcGl4ZWxzIHNvIHRleHQgc3RheXMgY3JpcHNcbmNvbnN0IGNhbGN1bGF0ZUZpbGVWZXJ0aWNhbENlbnRlck9mZnNldCA9IHJvb3QgPT5cbiAgICBNYXRoLmZsb29yKHJvb3QucmVmLmJ1dHRvblJlbW92ZUl0ZW0ucmVjdC5lbGVtZW50LmhlaWdodCAvIDQpO1xuY29uc3QgY2FsY3VsYXRlRmlsZUhvcml6b250YWxDZW50ZXJPZmZzZXQgPSByb290ID0+XG4gICAgTWF0aC5mbG9vcihyb290LnJlZi5idXR0b25SZW1vdmVJdGVtLnJlY3QuZWxlbWVudC5sZWZ0IC8gMik7XG5cbmNvbnN0IGdldExvYWRJbmRpY2F0b3JBbGlnbm1lbnQgPSByb290ID0+IHJvb3QucXVlcnkoJ0dFVF9TVFlMRV9MT0FEX0lORElDQVRPUl9QT1NJVElPTicpO1xuY29uc3QgZ2V0UHJvY2Vzc0luZGljYXRvckFsaWdubWVudCA9IHJvb3QgPT4gcm9vdC5xdWVyeSgnR0VUX1NUWUxFX1BST0dSRVNTX0lORElDQVRPUl9QT1NJVElPTicpO1xuY29uc3QgZ2V0UmVtb3ZlSW5kaWNhdG9yQWxpZ21lbnQgPSByb290ID0+IHJvb3QucXVlcnkoJ0dFVF9TVFlMRV9CVVRUT05fUkVNT1ZFX0lURU1fUE9TSVRJT04nKTtcblxuY29uc3QgRGVmYXVsdFN0eWxlID0ge1xuICAgIGJ1dHRvbkFib3J0SXRlbUxvYWQ6IHsgb3BhY2l0eTogMCB9LFxuICAgIGJ1dHRvblJldHJ5SXRlbUxvYWQ6IHsgb3BhY2l0eTogMCB9LFxuICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMCB9LFxuICAgIGJ1dHRvblByb2Nlc3NJdGVtOiB7IG9wYWNpdHk6IDAgfSxcbiAgICBidXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDAgfSxcbiAgICBidXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDAgfSxcbiAgICBidXR0b25SZXZlcnRJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAwIH0sXG4gICAgbG9hZFByb2dyZXNzSW5kaWNhdG9yOiB7IG9wYWNpdHk6IDAsIGFsaWduOiBnZXRMb2FkSW5kaWNhdG9yQWxpZ25tZW50IH0sXG4gICAgcHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yOiB7IG9wYWNpdHk6IDAsIGFsaWduOiBnZXRQcm9jZXNzSW5kaWNhdG9yQWxpZ25tZW50IH0sXG4gICAgcHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yOiB7IG9wYWNpdHk6IDAsIHNjYWxlWDogMC43NSwgc2NhbGVZOiAwLjc1IH0sXG4gICAgaW5mbzogeyB0cmFuc2xhdGVYOiAwLCB0cmFuc2xhdGVZOiAwLCBvcGFjaXR5OiAwIH0sXG4gICAgc3RhdHVzOiB7IHRyYW5zbGF0ZVg6IDAsIHRyYW5zbGF0ZVk6IDAsIG9wYWNpdHk6IDAgfSxcbn07XG5cbmNvbnN0IElkbGVTdHlsZSA9IHtcbiAgICBidXR0b25SZW1vdmVJdGVtOiB7IG9wYWNpdHk6IDEgfSxcbiAgICBidXR0b25Qcm9jZXNzSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgIHN0YXR1czogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxufTtcblxuY29uc3QgUHJvY2Vzc2luZ1N0eWxlID0ge1xuICAgIGJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6IHsgb3BhY2l0eTogMSB9LFxuICAgIHByb2Nlc3NQcm9ncmVzc0luZGljYXRvcjogeyBvcGFjaXR5OiAxIH0sXG4gICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfSxcbn07XG5cbmNvbnN0IFN0eWxlTWFwID0ge1xuICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IHtcbiAgICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgICAgc3RhdHVzOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0LCBvcGFjaXR5OiAxIH0sXG4gICAgfSxcbiAgICBESURfU1RBUlRfSVRFTV9MT0FEOiB7XG4gICAgICAgIGJ1dHRvbkFib3J0SXRlbUxvYWQ6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBsb2FkUHJvZ3Jlc3NJbmRpY2F0b3I6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9LFxuICAgIH0sXG4gICAgRElEX1RIUk9XX0lURU1fTE9BRF9FUlJPUjoge1xuICAgICAgICBidXR0b25SZXRyeUl0ZW1Mb2FkOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfSxcbiAgICB9LFxuICAgIERJRF9TVEFSVF9JVEVNX1JFTU9WRToge1xuICAgICAgICBwcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3I6IHsgb3BhY2l0eTogMSwgYWxpZ246IGdldFJlbW92ZUluZGljYXRvckFsaWdtZW50IH0sXG4gICAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDAgfSxcbiAgICB9LFxuICAgIERJRF9USFJPV19JVEVNX1JFTU9WRV9FUlJPUjoge1xuICAgICAgICBwcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3I6IHsgb3BhY2l0eTogMCwgYWxpZ246IGdldFJlbW92ZUluZGljYXRvckFsaWdtZW50IH0sXG4gICAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxLCB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgIH0sXG4gICAgRElEX0xPQURfSVRFTTogSWRsZVN0eWxlLFxuICAgIERJRF9MT0FEX0xPQ0FMX0lURU06IHtcbiAgICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgICAgc3RhdHVzOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgfSxcbiAgICBESURfU1RBUlRfSVRFTV9QUk9DRVNTSU5HOiBQcm9jZXNzaW5nU3R5bGUsXG4gICAgRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HOiBQcm9jZXNzaW5nU3R5bGUsXG4gICAgRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1M6IFByb2Nlc3NpbmdTdHlsZSxcbiAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiB7XG4gICAgICAgIGJ1dHRvblJldmVydEl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgaW5mbzogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH0sXG4gICAgfSxcbiAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiB7XG4gICAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBidXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgIH0sXG4gICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19SRVZFUlRfRVJST1I6IHtcbiAgICAgICAgYnV0dG9uUmV2ZXJ0SXRlbVByb2Nlc3Npbmc6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICBpbmZvOiB7IG9wYWNpdHk6IDEgfSxcbiAgICB9LFxuICAgIERJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkc6IHtcbiAgICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIGJ1dHRvblByb2Nlc3NJdGVtOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9LFxuICAgIH0sXG4gICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IElkbGVTdHlsZSxcbn07XG5cbi8vIGNvbXBsZXRlIGluZGljYXRvciB2aWV3XG5jb25zdCBwcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3JWaWV3ID0gY3JlYXRlVmlldyh7XG4gICAgY3JlYXRlOiAoeyByb290IH0pID0+IHtcbiAgICAgICAgcm9vdC5lbGVtZW50LmlubmVySFRNTCA9IHJvb3QucXVlcnkoJ0dFVF9JQ09OX0RPTkUnKTtcbiAgICB9LFxuICAgIG5hbWU6ICdwcm9jZXNzaW5nLWNvbXBsZXRlLWluZGljYXRvcicsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBtaXhpbnM6IHtcbiAgICAgICAgc3R5bGVzOiBbJ3NjYWxlWCcsICdzY2FsZVknLCAnb3BhY2l0eSddLFxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICBzY2FsZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgc2NhbGVZOiAnc3ByaW5nJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDI1MCB9LFxuICAgICAgICB9LFxuICAgIH0sXG59KTtcblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBmaWxlIHZpZXdcbiAqL1xuY29uc3QgY3JlYXRlJDQgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgLy8gY29weSBCdXR0b25zIG9iamVjdFxuICAgIGNvbnN0IExvY2FsQnV0dG9ucyA9IE9iamVjdC5rZXlzKEJ1dHRvbnMpLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgICBwcmV2W2N1cnJdID0geyAuLi5CdXR0b25zW2N1cnJdIH07XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgIH0sIHt9KTtcblxuICAgIGNvbnN0IHsgaWQgfSA9IHByb3BzO1xuXG4gICAgLy8gYWxsb3cgcmV2ZXJ0aW5nIHVwbG9hZFxuICAgIGNvbnN0IGFsbG93UmV2ZXJ0ID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1JFVkVSVCcpO1xuXG4gICAgLy8gYWxsb3cgcmVtb3ZlIGZpbGVcbiAgICBjb25zdCBhbGxvd1JlbW92ZSA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19SRU1PVkUnKTtcblxuICAgIC8vIGFsbG93IHByb2Nlc3NpbmcgdXBsb2FkXG4gICAgY29uc3QgYWxsb3dQcm9jZXNzID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1BST0NFU1MnKTtcblxuICAgIC8vIGlzIGluc3RhbnQgdXBsb2FkaW5nLCBuZWVkIHRoaXMgdG8gZGV0ZXJtaW5lIHRoZSBpY29uIG9mIHRoZSB1bmRvIGJ1dHRvblxuICAgIGNvbnN0IGluc3RhbnRVcGxvYWQgPSByb290LnF1ZXJ5KCdHRVRfSU5TVEFOVF9VUExPQUQnKTtcblxuICAgIC8vIGlzIGFzeW5jIHNldCB1cFxuICAgIGNvbnN0IGlzQXN5bmMgPSByb290LnF1ZXJ5KCdJU19BU1lOQycpO1xuXG4gICAgLy8gc2hvdWxkIGFsaWduIHJlbW92ZSBpdGVtIGJ1dHRvbnNcbiAgICBjb25zdCBhbGlnblJlbW92ZUl0ZW1CdXR0b24gPSByb290LnF1ZXJ5KCdHRVRfU1RZTEVfQlVUVE9OX1JFTU9WRV9JVEVNX0FMSUdOJyk7XG5cbiAgICAvLyBlbmFibGVkIGJ1dHRvbnMgYXJyYXlcbiAgICBsZXQgYnV0dG9uRmlsdGVyO1xuICAgIGlmIChpc0FzeW5jKSB7XG4gICAgICAgIGlmIChhbGxvd1Byb2Nlc3MgJiYgIWFsbG93UmV2ZXJ0KSB7XG4gICAgICAgICAgICAvLyBvbmx5IHJlbW92ZSByZXZlcnQgYnV0dG9uXG4gICAgICAgICAgICBidXR0b25GaWx0ZXIgPSBrZXkgPT4gIS9SZXZlcnRJdGVtUHJvY2Vzc2luZy8udGVzdChrZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKCFhbGxvd1Byb2Nlc3MgJiYgYWxsb3dSZXZlcnQpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgcmVtb3ZlIHByb2Nlc3MgYnV0dG9uXG4gICAgICAgICAgICBidXR0b25GaWx0ZXIgPSBrZXkgPT4gIS9Qcm9jZXNzSXRlbXxSZXRyeUl0ZW1Qcm9jZXNzaW5nfEFib3J0SXRlbVByb2Nlc3NpbmcvLnRlc3Qoa2V5KTtcbiAgICAgICAgfSBlbHNlIGlmICghYWxsb3dQcm9jZXNzICYmICFhbGxvd1JldmVydCkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCBwcm9jZXNzIGJ1dHRvbnNcbiAgICAgICAgICAgIGJ1dHRvbkZpbHRlciA9IGtleSA9PiAhL1Byb2Nlc3MvLnRlc3Qoa2V5KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5vIHByb2Nlc3MgY29udHJvbHMgYXZhaWxhYmxlXG4gICAgICAgIGJ1dHRvbkZpbHRlciA9IGtleSA9PiAhL1Byb2Nlc3MvLnRlc3Qoa2V5KTtcbiAgICB9XG5cbiAgICBjb25zdCBlbmFibGVkQnV0dG9ucyA9IGJ1dHRvbkZpbHRlciA/IEJ1dHRvbktleXMuZmlsdGVyKGJ1dHRvbkZpbHRlcikgOiBCdXR0b25LZXlzLmNvbmNhdCgpO1xuXG4gICAgLy8gdXBkYXRlIGljb24gYW5kIGxhYmVsIGZvciByZXZlcnQgYnV0dG9uIHdoZW4gaW5zdGFudCB1cGxvYWRpbmdcbiAgICBpZiAoaW5zdGFudFVwbG9hZCAmJiBhbGxvd1JldmVydCkge1xuICAgICAgICBMb2NhbEJ1dHRvbnNbJ1JldmVydEl0ZW1Qcm9jZXNzaW5nJ10ubGFiZWwgPSAnR0VUX0xBQkVMX0JVVFRPTl9SRU1PVkVfSVRFTSc7XG4gICAgICAgIExvY2FsQnV0dG9uc1snUmV2ZXJ0SXRlbVByb2Nlc3NpbmcnXS5pY29uID0gJ0dFVF9JQ09OX1JFTU9WRSc7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGxhc3QgYnV0dG9uIChyZXZlcnQpIGlmIG5vdCBhbGxvd2VkXG4gICAgaWYgKGlzQXN5bmMgJiYgIWFsbG93UmV2ZXJ0KSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IFN0eWxlTWFwWydESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HJ107XG4gICAgICAgIG1hcC5pbmZvLnRyYW5zbGF0ZVggPSBjYWxjdWxhdGVGaWxlSG9yaXpvbnRhbENlbnRlck9mZnNldDtcbiAgICAgICAgbWFwLmluZm8udHJhbnNsYXRlWSA9IGNhbGN1bGF0ZUZpbGVWZXJ0aWNhbENlbnRlck9mZnNldDtcbiAgICAgICAgbWFwLnN0YXR1cy50cmFuc2xhdGVZID0gY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0O1xuICAgICAgICBtYXAucHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yID0geyBvcGFjaXR5OiAxLCBzY2FsZVg6IDEsIHNjYWxlWTogMSB9O1xuICAgIH1cblxuICAgIC8vIHNob3VsZCBhbGlnbiBjZW50ZXJcbiAgICBpZiAoaXNBc3luYyAmJiAhYWxsb3dQcm9jZXNzKSB7XG4gICAgICAgIFtcbiAgICAgICAgICAgICdESURfU1RBUlRfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgICAgICdESURfUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgICAgICAgJ0RJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTJyxcbiAgICAgICAgICAgICdESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SJyxcbiAgICAgICAgXS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBTdHlsZU1hcFtrZXldLnN0YXR1cy50cmFuc2xhdGVZID0gY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0O1xuICAgICAgICB9KTtcbiAgICAgICAgU3R5bGVNYXBbJ0RJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1InXS5zdGF0dXMudHJhbnNsYXRlWCA9IGNhbGN1bGF0ZUJ1dHRvbldpZHRoO1xuICAgIH1cblxuICAgIC8vIG1vdmUgcmVtb3ZlIGJ1dHRvbiB0byByaWdodFxuICAgIGlmIChhbGlnblJlbW92ZUl0ZW1CdXR0b24gJiYgYWxsb3dSZXZlcnQpIHtcbiAgICAgICAgTG9jYWxCdXR0b25zWydSZXZlcnRJdGVtUHJvY2Vzc2luZyddLmFsaWduID0gJ0JVVFRPTl9SRU1PVkVfSVRFTV9QT1NJVElPTic7XG4gICAgICAgIGNvbnN0IG1hcCA9IFN0eWxlTWFwWydESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HJ107XG4gICAgICAgIG1hcC5pbmZvLnRyYW5zbGF0ZVggPSBjYWxjdWxhdGVGaWxlSW5mb09mZnNldDtcbiAgICAgICAgbWFwLnN0YXR1cy50cmFuc2xhdGVZID0gY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0O1xuICAgICAgICBtYXAucHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yID0geyBvcGFjaXR5OiAxLCBzY2FsZVg6IDEsIHNjYWxlWTogMSB9O1xuICAgIH1cblxuICAgIC8vIHNob3cvaGlkZSBSZW1vdmVJdGVtIGJ1dHRvblxuICAgIGlmICghYWxsb3dSZW1vdmUpIHtcbiAgICAgICAgTG9jYWxCdXR0b25zWydSZW1vdmVJdGVtJ10uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSB0aGUgYnV0dG9uIHZpZXdzXG4gICAgZm9yaW4oTG9jYWxCdXR0b25zLCAoa2V5LCBkZWZpbml0aW9uKSA9PiB7XG4gICAgICAgIC8vIGNyZWF0ZSBidXR0b25cbiAgICAgICAgY29uc3QgYnV0dG9uVmlldyA9IHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGZpbGVBY3Rpb25CdXR0b24sIHtcbiAgICAgICAgICAgIGxhYmVsOiByb290LnF1ZXJ5KGRlZmluaXRpb24ubGFiZWwpLFxuICAgICAgICAgICAgaWNvbjogcm9vdC5xdWVyeShkZWZpbml0aW9uLmljb24pLFxuICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2hvdWxkIGJlIGFwcGVuZGVkP1xuICAgICAgICBpZiAoZW5hYmxlZEJ1dHRvbnMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgcm9vdC5hcHBlbmRDaGlsZFZpZXcoYnV0dG9uVmlldyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0b2dnbGVcbiAgICAgICAgaWYgKGRlZmluaXRpb24uZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGJ1dHRvblZpZXcuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICBidXR0b25WaWV3LmVsZW1lbnQuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnaGlkZGVuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgcG9zaXRpb24gYXR0cmlidXRlXG4gICAgICAgIGJ1dHRvblZpZXcuZWxlbWVudC5kYXRhc2V0LmFsaWduID0gcm9vdC5xdWVyeShgR0VUX1NUWUxFXyR7ZGVmaW5pdGlvbi5hbGlnbn1gKTtcblxuICAgICAgICAvLyBhZGQgY2xhc3NcbiAgICAgICAgYnV0dG9uVmlldy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoZGVmaW5pdGlvbi5jbGFzc05hbWUpO1xuXG4gICAgICAgIC8vIGhhbmRsZSBpbnRlcmFjdGlvbnNcbiAgICAgICAgYnV0dG9uVmlldy5vbignY2xpY2snLCBlID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBpZiAoZGVmaW5pdGlvbi5kaXNhYmxlZCkgcmV0dXJuO1xuICAgICAgICAgICAgcm9vdC5kaXNwYXRjaChkZWZpbml0aW9uLmFjdGlvbiwgeyBxdWVyeTogaWQgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHNldCByZWZlcmVuY2VcbiAgICAgICAgcm9vdC5yZWZbYGJ1dHRvbiR7a2V5fWBdID0gYnV0dG9uVmlldztcbiAgICB9KTtcblxuICAgIC8vIGNoZWNrbWFya1xuICAgIHJvb3QucmVmLnByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvciA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhwcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3JWaWV3KVxuICAgICk7XG4gICAgcm9vdC5yZWYucHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yLmVsZW1lbnQuZGF0YXNldC5hbGlnbiA9IHJvb3QucXVlcnkoXG4gICAgICAgIGBHRVRfU1RZTEVfQlVUVE9OX1BST0NFU1NfSVRFTV9QT1NJVElPTmBcbiAgICApO1xuXG4gICAgLy8gY3JlYXRlIGZpbGUgaW5mbyB2aWV3XG4gICAgcm9vdC5yZWYuaW5mbyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGZpbGVJbmZvLCB7IGlkIH0pKTtcblxuICAgIC8vIGNyZWF0ZSBmaWxlIHN0YXR1cyB2aWV3XG4gICAgcm9vdC5yZWYuc3RhdHVzID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcocm9vdC5jcmVhdGVDaGlsZFZpZXcoZmlsZVN0YXR1cywgeyBpZCB9KSk7XG5cbiAgICAvLyBhZGQgcHJvZ3Jlc3MgaW5kaWNhdG9yc1xuICAgIGNvbnN0IGxvYWRJbmRpY2F0b3JWaWV3ID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHByb2dyZXNzSW5kaWNhdG9yLCB7XG4gICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgYWxpZ246IHJvb3QucXVlcnkoYEdFVF9TVFlMRV9MT0FEX0lORElDQVRPUl9QT1NJVElPTmApLFxuICAgICAgICB9KVxuICAgICk7XG4gICAgbG9hZEluZGljYXRvclZpZXcuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmaWxlcG9uZC0tbG9hZC1pbmRpY2F0b3InKTtcbiAgICByb290LnJlZi5sb2FkUHJvZ3Jlc3NJbmRpY2F0b3IgPSBsb2FkSW5kaWNhdG9yVmlldztcblxuICAgIGNvbnN0IHByb2dyZXNzSW5kaWNhdG9yVmlldyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhwcm9ncmVzc0luZGljYXRvciwge1xuICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgIGFsaWduOiByb290LnF1ZXJ5KGBHRVRfU1RZTEVfUFJPR1JFU1NfSU5ESUNBVE9SX1BPU0lUSU9OYCksXG4gICAgICAgIH0pXG4gICAgKTtcbiAgICBwcm9ncmVzc0luZGljYXRvclZpZXcuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmaWxlcG9uZC0tcHJvY2Vzcy1pbmRpY2F0b3InKTtcbiAgICByb290LnJlZi5wcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3IgPSBwcm9ncmVzc0luZGljYXRvclZpZXc7XG5cbiAgICAvLyBjdXJyZW50IGFjdGl2ZSBzdHlsZXNcbiAgICByb290LnJlZi5hY3RpdmVTdHlsZXMgPSBbXTtcbn07XG5cbmNvbnN0IHdyaXRlJDIgPSAoeyByb290LCBhY3Rpb25zLCBwcm9wcyB9KSA9PiB7XG4gICAgLy8gcm91dGUgYWN0aW9uc1xuICAgIHJvdXRlKHsgcm9vdCwgYWN0aW9ucywgcHJvcHMgfSk7XG5cbiAgICAvLyBzZWxlY3QgbGFzdCBzdGF0ZSBjaGFuZ2UgYWN0aW9uXG4gICAgbGV0IGFjdGlvbiA9IGFjdGlvbnNcbiAgICAgICAgLmNvbmNhdCgpXG4gICAgICAgIC5maWx0ZXIoYWN0aW9uID0+IC9eRElEXy8udGVzdChhY3Rpb24udHlwZSkpXG4gICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgLmZpbmQoYWN0aW9uID0+IFN0eWxlTWFwW2FjdGlvbi50eXBlXSk7XG5cbiAgICAvLyBhIG5ldyBhY3Rpb24gaGFwcGVuZWQsIGxldCdzIGdldCB0aGUgbWF0Y2hpbmcgc3R5bGVzXG4gICAgaWYgKGFjdGlvbikge1xuICAgICAgICAvLyBkZWZpbmUgbmV3IGFjdGl2ZSBzdHlsZXNcbiAgICAgICAgcm9vdC5yZWYuYWN0aXZlU3R5bGVzID0gW107XG5cbiAgICAgICAgY29uc3Qgc3R5bGVzVG9BcHBseSA9IFN0eWxlTWFwW2FjdGlvbi50eXBlXTtcbiAgICAgICAgZm9yaW4oRGVmYXVsdFN0eWxlLCAobmFtZSwgZGVmYXVsdFN0eWxlcykgPT4ge1xuICAgICAgICAgICAgLy8gZ2V0IHJlZmVyZW5jZSB0byBjb250cm9sXG4gICAgICAgICAgICBjb25zdCBjb250cm9sID0gcm9vdC5yZWZbbmFtZV07XG5cbiAgICAgICAgICAgIC8vIGxvb3Agb3ZlciBhbGwgc3R5bGVzIGZvciB0aGlzIGNvbnRyb2xcbiAgICAgICAgICAgIGZvcmluKGRlZmF1bHRTdHlsZXMsIChrZXksIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzVG9BcHBseVtuYW1lXSAmJiB0eXBlb2Ygc3R5bGVzVG9BcHBseVtuYW1lXVtrZXldICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBzdHlsZXNUb0FwcGx5W25hbWVdW2tleV1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgIHJvb3QucmVmLmFjdGl2ZVN0eWxlcy5wdXNoKHsgY29udHJvbCwga2V5LCB2YWx1ZSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBhcHBseSBhY3RpdmUgc3R5bGVzIHRvIGVsZW1lbnRcbiAgICByb290LnJlZi5hY3RpdmVTdHlsZXMuZm9yRWFjaCgoeyBjb250cm9sLCBrZXksIHZhbHVlIH0pID0+IHtcbiAgICAgICAgY29udHJvbFtrZXldID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUocm9vdCkgOiB2YWx1ZTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IHJvdXRlID0gY3JlYXRlUm91dGUoe1xuICAgIERJRF9TRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fUFJPQ0VTU0lORzogKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICAgICAgcm9vdC5yZWYuYnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZy5sYWJlbCA9IGFjdGlvbi52YWx1ZTtcbiAgICB9LFxuICAgIERJRF9TRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fTE9BRDogKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICAgICAgcm9vdC5yZWYuYnV0dG9uQWJvcnRJdGVtTG9hZC5sYWJlbCA9IGFjdGlvbi52YWx1ZTtcbiAgICB9LFxuICAgIERJRF9TRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fUkVNT1ZBTDogKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICAgICAgcm9vdC5yZWYuYnV0dG9uQWJvcnRJdGVtUmVtb3ZhbC5sYWJlbCA9IGFjdGlvbi52YWx1ZTtcbiAgICB9LFxuICAgIERJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORzogKHsgcm9vdCB9KSA9PiB7XG4gICAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5zcGluID0gdHJ1ZTtcbiAgICAgICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yLnByb2dyZXNzID0gMDtcbiAgICB9LFxuICAgIERJRF9TVEFSVF9JVEVNX0xPQUQ6ICh7IHJvb3QgfSkgPT4ge1xuICAgICAgICByb290LnJlZi5sb2FkUHJvZ3Jlc3NJbmRpY2F0b3Iuc3BpbiA9IHRydWU7XG4gICAgICAgIHJvb3QucmVmLmxvYWRQcm9ncmVzc0luZGljYXRvci5wcm9ncmVzcyA9IDA7XG4gICAgfSxcbiAgICBESURfU1RBUlRfSVRFTV9SRU1PVkU6ICh7IHJvb3QgfSkgPT4ge1xuICAgICAgICByb290LnJlZi5wcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3Iuc3BpbiA9IHRydWU7XG4gICAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5wcm9ncmVzcyA9IDA7XG4gICAgfSxcbiAgICBESURfVVBEQVRFX0lURU1fTE9BRF9QUk9HUkVTUzogKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICAgICAgcm9vdC5yZWYubG9hZFByb2dyZXNzSW5kaWNhdG9yLnNwaW4gPSBmYWxzZTtcbiAgICAgICAgcm9vdC5yZWYubG9hZFByb2dyZXNzSW5kaWNhdG9yLnByb2dyZXNzID0gYWN0aW9uLnByb2dyZXNzO1xuICAgIH0sXG4gICAgRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1M6ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5zcGluID0gZmFsc2U7XG4gICAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5wcm9ncmVzcyA9IGFjdGlvbi5wcm9ncmVzcztcbiAgICB9LFxufSk7XG5cbmNvbnN0IGZpbGUgPSBjcmVhdGVWaWV3KHtcbiAgICBjcmVhdGU6IGNyZWF0ZSQ0LFxuICAgIHdyaXRlOiB3cml0ZSQyLFxuICAgIGRpZENyZWF0ZVZpZXc6IHJvb3QgPT4ge1xuICAgICAgICBhcHBseUZpbHRlcnMoJ0NSRUFURV9WSUVXJywgeyAuLi5yb290LCB2aWV3OiByb290IH0pO1xuICAgIH0sXG4gICAgbmFtZTogJ2ZpbGUnLFxufSk7XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgZmlsZSB2aWV3XG4gKi9cbmNvbnN0IGNyZWF0ZSQ1ID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIC8vIGZpbGVuYW1lXG4gICAgcm9vdC5yZWYuZmlsZU5hbWUgPSBjcmVhdGVFbGVtZW50JDEoJ2xlZ2VuZCcpO1xuICAgIHJvb3QuYXBwZW5kQ2hpbGQocm9vdC5yZWYuZmlsZU5hbWUpO1xuXG4gICAgLy8gZmlsZSBhcHBlbmRlZFxuICAgIHJvb3QucmVmLmZpbGUgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhmaWxlLCB7IGlkOiBwcm9wcy5pZCB9KSk7XG5cbiAgICAvLyBkYXRhIGhhcyBtb3ZlZCB0byBkYXRhLmpzXG4gICAgcm9vdC5yZWYuZGF0YSA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiBEYXRhIHN0b3JhZ2VcbiAqL1xuY29uc3QgZGlkTG9hZEl0ZW0gPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgLy8gdXBkYXRlcyB0aGUgbGVnZW5kIG9mIHRoZSBmaWVsZHNldCBzbyBzY3JlZW5yZWFkZXJzIGNhbiBiZXR0ZXIgZ3JvdXAgYnV0dG9uc1xuICAgIHRleHQocm9vdC5yZWYuZmlsZU5hbWUsIGZvcm1hdEZpbGVuYW1lKHJvb3QucXVlcnkoJ0dFVF9JVEVNX05BTUUnLCBwcm9wcy5pZCkpKTtcbn07XG5cbmNvbnN0IGZpbGVXcmFwcGVyID0gY3JlYXRlVmlldyh7XG4gICAgY3JlYXRlOiBjcmVhdGUkNSxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIHdyaXRlOiBjcmVhdGVSb3V0ZSh7XG4gICAgICAgIERJRF9MT0FEX0lURU06IGRpZExvYWRJdGVtLFxuICAgIH0pLFxuICAgIGRpZENyZWF0ZVZpZXc6IHJvb3QgPT4ge1xuICAgICAgICBhcHBseUZpbHRlcnMoJ0NSRUFURV9WSUVXJywgeyAuLi5yb290LCB2aWV3OiByb290IH0pO1xuICAgIH0sXG4gICAgdGFnOiAnZmllbGRzZXQnLFxuICAgIG5hbWU6ICdmaWxlLXdyYXBwZXInLFxufSk7XG5cbmNvbnN0IFBBTkVMX1NQUklOR19QUk9QUyA9IHsgdHlwZTogJ3NwcmluZycsIGRhbXBpbmc6IDAuNiwgbWFzczogNyB9O1xuXG5jb25zdCBjcmVhdGUkNiA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICd0b3AnLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnY2VudGVyJyxcbiAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogbnVsbCxcbiAgICAgICAgICAgICAgICBzY2FsZVk6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWl4aW5zOiB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IFBBTkVMX1NQUklOR19QUk9QUyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVZJywgJ3NjYWxlWSddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ2JvdHRvbScsXG4gICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWl4aW5zOiB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVZOiBQQU5FTF9TUFJJTkdfUFJPUFMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWSddLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICBdLmZvckVhY2goc2VjdGlvbiA9PiB7XG4gICAgICAgIGNyZWF0ZVNlY3Rpb24ocm9vdCwgc2VjdGlvbiwgcHJvcHMubmFtZSk7XG4gICAgfSk7XG5cbiAgICByb290LmVsZW1lbnQuY2xhc3NMaXN0LmFkZChgZmlsZXBvbmQtLSR7cHJvcHMubmFtZX1gKTtcblxuICAgIHJvb3QucmVmLnNjYWxhYmxlID0gbnVsbDtcbn07XG5cbmNvbnN0IGNyZWF0ZVNlY3Rpb24gPSAocm9vdCwgc2VjdGlvbiwgY2xhc3NOYW1lKSA9PiB7XG4gICAgY29uc3Qgdmlld0NvbnN0cnVjdG9yID0gY3JlYXRlVmlldyh7XG4gICAgICAgIG5hbWU6IGBwYW5lbC0ke3NlY3Rpb24ubmFtZX0gZmlsZXBvbmQtLSR7Y2xhc3NOYW1lfWAsXG4gICAgICAgIG1peGluczogc2VjdGlvbi5taXhpbnMsXG4gICAgICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgfSk7XG5cbiAgICBjb25zdCB2aWV3ID0gcm9vdC5jcmVhdGVDaGlsZFZpZXcodmlld0NvbnN0cnVjdG9yLCBzZWN0aW9uLnByb3BzKTtcblxuICAgIHJvb3QucmVmW3NlY3Rpb24ubmFtZV0gPSByb290LmFwcGVuZENoaWxkVmlldyh2aWV3KTtcbn07XG5cbmNvbnN0IHdyaXRlJDMgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgLy8gdXBkYXRlIHNjYWxhYmxlIHN0YXRlXG4gICAgaWYgKHJvb3QucmVmLnNjYWxhYmxlID09PSBudWxsIHx8IHByb3BzLnNjYWxhYmxlICE9PSByb290LnJlZi5zY2FsYWJsZSkge1xuICAgICAgICByb290LnJlZi5zY2FsYWJsZSA9IGlzQm9vbGVhbihwcm9wcy5zY2FsYWJsZSkgPyBwcm9wcy5zY2FsYWJsZSA6IHRydWU7XG4gICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LnNjYWxhYmxlID0gcm9vdC5yZWYuc2NhbGFibGU7XG4gICAgfVxuXG4gICAgLy8gbm8gaGVpZ2h0LCBjYW4ndCBzZXRcbiAgICBpZiAoIXByb3BzLmhlaWdodCkgcmV0dXJuO1xuXG4gICAgLy8gZ2V0IGNoaWxkIHJlY3RzXG4gICAgY29uc3QgdG9wUmVjdCA9IHJvb3QucmVmLnRvcC5yZWN0LmVsZW1lbnQ7XG4gICAgY29uc3QgYm90dG9tUmVjdCA9IHJvb3QucmVmLmJvdHRvbS5yZWN0LmVsZW1lbnQ7XG5cbiAgICAvLyBtYWtlIHN1cmUgaGVpZ2h0IG5ldmVyIGlzIHNtYWxsZXIgdGhhbiBib3R0b20gYW5kIHRvcCBzZWNpdG9uIGhlaWdodHMgY29tYmluZWQgKHdpbGwgcHJvYmFibHkgbmV2ZXIgaGFwcGVuLCBidXQgd2hvIGtub3dzKVxuICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KHRvcFJlY3QuaGVpZ2h0ICsgYm90dG9tUmVjdC5oZWlnaHQsIHByb3BzLmhlaWdodCk7XG5cbiAgICAvLyBvZmZzZXQgY2VudGVyIHBhcnRcbiAgICByb290LnJlZi5jZW50ZXIudHJhbnNsYXRlWSA9IHRvcFJlY3QuaGVpZ2h0O1xuXG4gICAgLy8gc2NhbGUgY2VudGVyIHBhcnRcbiAgICAvLyB1c2UgbWF0aCBjZWlsIHRvIHByZXZlbnQgdHJhbnNwYXJlbnQgbGluZXMgYmVjYXVzZSBvZiByb3VuZGluZyBlcnJvcnNcbiAgICByb290LnJlZi5jZW50ZXIuc2NhbGVZID0gKGhlaWdodCAtIHRvcFJlY3QuaGVpZ2h0IC0gYm90dG9tUmVjdC5oZWlnaHQpIC8gMTAwO1xuXG4gICAgLy8gb2Zmc2V0IGJvdHRvbSBwYXJ0XG4gICAgcm9vdC5yZWYuYm90dG9tLnRyYW5zbGF0ZVkgPSBoZWlnaHQgLSBib3R0b21SZWN0LmhlaWdodDtcbn07XG5cbmNvbnN0IHBhbmVsID0gY3JlYXRlVmlldyh7XG4gICAgbmFtZTogJ3BhbmVsJyxcbiAgICByZWFkOiAoeyByb290LCBwcm9wcyB9KSA9PiAocHJvcHMuaGVpZ2h0Q3VycmVudCA9IHJvb3QucmVmLmJvdHRvbS50cmFuc2xhdGVZKSxcbiAgICB3cml0ZTogd3JpdGUkMyxcbiAgICBjcmVhdGU6IGNyZWF0ZSQ2LFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgbWl4aW5zOiB7XG4gICAgICAgIGFwaXM6IFsnaGVpZ2h0JywgJ2hlaWdodEN1cnJlbnQnLCAnc2NhbGFibGUnXSxcbiAgICB9LFxufSk7XG5cbmNvbnN0IGNyZWF0ZURyYWdIZWxwZXIgPSBpdGVtcyA9PiB7XG4gICAgY29uc3QgaXRlbUlkcyA9IGl0ZW1zLm1hcChpdGVtID0+IGl0ZW0uaWQpO1xuICAgIGxldCBwcmV2SW5kZXggPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0SW5kZXg6IGluZGV4ID0+IHtcbiAgICAgICAgICAgIHByZXZJbmRleCA9IGluZGV4O1xuICAgICAgICB9LFxuICAgICAgICBnZXRJbmRleDogKCkgPT4gcHJldkluZGV4LFxuICAgICAgICBnZXRJdGVtSW5kZXg6IGl0ZW0gPT4gaXRlbUlkcy5pbmRleE9mKGl0ZW0uaWQpLFxuICAgIH07XG59O1xuXG5jb25zdCBJVEVNX1RSQU5TTEFURV9TUFJJTkcgPSB7XG4gICAgdHlwZTogJ3NwcmluZycsXG4gICAgc3RpZmZuZXNzOiAwLjc1LFxuICAgIGRhbXBpbmc6IDAuNDUsXG4gICAgbWFzczogMTAsXG59O1xuXG5jb25zdCBJVEVNX1NDQUxFX1NQUklORyA9ICdzcHJpbmcnO1xuXG5jb25zdCBTdGF0ZU1hcCA9IHtcbiAgICBESURfU1RBUlRfSVRFTV9MT0FEOiAnYnVzeScsXG4gICAgRElEX1VQREFURV9JVEVNX0xPQURfUFJPR1JFU1M6ICdsb2FkaW5nJyxcbiAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiAnbG9hZC1pbnZhbGlkJyxcbiAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiAnbG9hZC1lcnJvcicsXG4gICAgRElEX0xPQURfSVRFTTogJ2lkbGUnLFxuICAgIERJRF9USFJPV19JVEVNX1JFTU9WRV9FUlJPUjogJ3JlbW92ZS1lcnJvcicsXG4gICAgRElEX1NUQVJUX0lURU1fUkVNT1ZFOiAnYnVzeScsXG4gICAgRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORzogJ2J1c3kgcHJvY2Vzc2luZycsXG4gICAgRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HOiAnYnVzeSBwcm9jZXNzaW5nJyxcbiAgICBESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUzogJ3Byb2Nlc3NpbmcnLFxuICAgIERJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkc6ICdwcm9jZXNzaW5nLWNvbXBsZXRlJyxcbiAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiAncHJvY2Vzc2luZy1lcnJvcicsXG4gICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19SRVZFUlRfRVJST1I6ICdwcm9jZXNzaW5nLXJldmVydC1lcnJvcicsXG4gICAgRElEX0FCT1JUX0lURU1fUFJPQ0VTU0lORzogJ2NhbmNlbGxlZCcsXG4gICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6ICdpZGxlJyxcbn07XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgZmlsZSB2aWV3XG4gKi9cbmNvbnN0IGNyZWF0ZSQ3ID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIC8vIHNlbGVjdFxuICAgIHJvb3QucmVmLmhhbmRsZUNsaWNrID0gZSA9PiByb290LmRpc3BhdGNoKCdESURfQUNUSVZBVEVfSVRFTScsIHsgaWQ6IHByb3BzLmlkIH0pO1xuXG4gICAgLy8gc2V0IGlkXG4gICAgcm9vdC5lbGVtZW50LmlkID0gYGZpbGVwb25kLS1pdGVtLSR7cHJvcHMuaWR9YDtcbiAgICByb290LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVDbGljayk7XG5cbiAgICAvLyBmaWxlIHZpZXdcbiAgICByb290LnJlZi5jb250YWluZXIgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhmaWxlV3JhcHBlciwgeyBpZDogcHJvcHMuaWQgfSkpO1xuXG4gICAgLy8gZmlsZSBwYW5lbFxuICAgIHJvb3QucmVmLnBhbmVsID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcocm9vdC5jcmVhdGVDaGlsZFZpZXcocGFuZWwsIHsgbmFtZTogJ2l0ZW0tcGFuZWwnIH0pKTtcblxuICAgIC8vIGRlZmF1bHQgc3RhcnQgaGVpZ2h0XG4gICAgcm9vdC5yZWYucGFuZWwuaGVpZ2h0ID0gbnVsbDtcblxuICAgIC8vIGJ5IGRlZmF1bHQgbm90IG1hcmtlZCBmb3IgcmVtb3ZhbFxuICAgIHByb3BzLm1hcmtlZEZvclJlbW92YWwgPSBmYWxzZTtcblxuICAgIC8vIGlmIG5vdCBhbGxvd2VkIHRvIHJlb3JkZXIgZmlsZSBpdGVtcywgZXhpdCBoZXJlXG4gICAgaWYgKCFyb290LnF1ZXJ5KCdHRVRfQUxMT1dfUkVPUkRFUicpKSByZXR1cm47XG5cbiAgICAvLyBzZXQgdG8gaWRsZSBzbyBzaG93cyBncmFiIGN1cnNvclxuICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRyYWdTdGF0ZSA9ICdpZGxlJztcblxuICAgIGNvbnN0IGdyYWIgPSBlID0+IHtcbiAgICAgICAgaWYgKCFlLmlzUHJpbWFyeSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCByZW1vdmVkQWN0aXZhdGVMaXN0ZW5lciA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IHtcbiAgICAgICAgICAgIHg6IGUucGFnZVgsXG4gICAgICAgICAgICB5OiBlLnBhZ2VZLFxuICAgICAgICB9O1xuXG4gICAgICAgIHByb3BzLmRyYWdPcmlnaW4gPSB7XG4gICAgICAgICAgICB4OiByb290LnRyYW5zbGF0ZVgsXG4gICAgICAgICAgICB5OiByb290LnRyYW5zbGF0ZVksXG4gICAgICAgIH07XG5cbiAgICAgICAgcHJvcHMuZHJhZ0NlbnRlciA9IHtcbiAgICAgICAgICAgIHg6IGUub2Zmc2V0WCxcbiAgICAgICAgICAgIHk6IGUub2Zmc2V0WSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBkcmFnU3RhdGUgPSBjcmVhdGVEcmFnSGVscGVyKHJvb3QucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKSk7XG5cbiAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0dSQUJfSVRFTScsIHsgaWQ6IHByb3BzLmlkLCBkcmFnU3RhdGUgfSk7XG5cbiAgICAgICAgY29uc3QgZHJhZyA9IGUgPT4ge1xuICAgICAgICAgICAgaWYgKCFlLmlzUHJpbWFyeSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBwcm9wcy5kcmFnT2Zmc2V0ID0ge1xuICAgICAgICAgICAgICAgIHg6IGUucGFnZVggLSBvcmlnaW4ueCxcbiAgICAgICAgICAgICAgICB5OiBlLnBhZ2VZIC0gb3JpZ2luLnksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBpZiBkcmFnZ2VkIHN0b3AgbGlzdGVuaW5nIHRvIGNsaWNrcywgd2lsbCByZS1hZGQgd2hlbiBkb25lIGRyYWdnaW5nXG4gICAgICAgICAgICBjb25zdCBkaXN0ID1cbiAgICAgICAgICAgICAgICBwcm9wcy5kcmFnT2Zmc2V0LnggKiBwcm9wcy5kcmFnT2Zmc2V0LnggKyBwcm9wcy5kcmFnT2Zmc2V0LnkgKiBwcm9wcy5kcmFnT2Zmc2V0Lnk7XG4gICAgICAgICAgICBpZiAoZGlzdCA+IDE2ICYmICFyZW1vdmVkQWN0aXZhdGVMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRBY3RpdmF0ZUxpc3RlbmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVDbGljayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9EUkFHX0lURU0nLCB7IGlkOiBwcm9wcy5pZCwgZHJhZ1N0YXRlIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGRyb3AgPSBlID0+IHtcbiAgICAgICAgICAgIGlmICghZS5pc1ByaW1hcnkpIHJldHVybjtcblxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBkcmFnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGRyb3ApO1xuXG4gICAgICAgICAgICBwcm9wcy5kcmFnT2Zmc2V0ID0ge1xuICAgICAgICAgICAgICAgIHg6IGUucGFnZVggLSBvcmlnaW4ueCxcbiAgICAgICAgICAgICAgICB5OiBlLnBhZ2VZIC0gb3JpZ2luLnksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfRFJPUF9JVEVNJywgeyBpZDogcHJvcHMuaWQsIGRyYWdTdGF0ZSB9KTtcblxuICAgICAgICAgICAgLy8gc3RhcnQgbGlzdGVuaW5nIHRvIGNsaWNrcyBhZ2FpblxuICAgICAgICAgICAgaWYgKHJlbW92ZWRBY3RpdmF0ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiByb290LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVDbGljayksIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgZHJhZyk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGRyb3ApO1xuICAgIH07XG5cbiAgICByb290LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBncmFiKTtcbn07XG5cbmNvbnN0IHJvdXRlJDEgPSBjcmVhdGVSb3V0ZSh7XG4gICAgRElEX1VQREFURV9QQU5FTF9IRUlHSFQ6ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgICAgIHJvb3QuaGVpZ2h0ID0gYWN0aW9uLmhlaWdodDtcbiAgICB9LFxufSk7XG5cbmNvbnN0IHdyaXRlJDQgPSBjcmVhdGVSb3V0ZShcbiAgICB7XG4gICAgICAgIERJRF9HUkFCX0lURU06ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAgICAgICAgIHByb3BzLmRyYWdPcmlnaW4gPSB7XG4gICAgICAgICAgICAgICAgeDogcm9vdC50cmFuc2xhdGVYLFxuICAgICAgICAgICAgICAgIHk6IHJvb3QudHJhbnNsYXRlWSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIERJRF9EUkFHX0lURU06ICh7IHJvb3QgfSkgPT4ge1xuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuZHJhZ1N0YXRlID0gJ2RyYWcnO1xuICAgICAgICB9LFxuICAgICAgICBESURfRFJPUF9JVEVNOiAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICAgICAgICBwcm9wcy5kcmFnT2Zmc2V0ID0gbnVsbDtcbiAgICAgICAgICAgIHByb3BzLmRyYWdPcmlnaW4gPSBudWxsO1xuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuZHJhZ1N0YXRlID0gJ2Ryb3AnO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgKHsgcm9vdCwgYWN0aW9ucywgcHJvcHMsIHNob3VsZE9wdGltaXplIH0pID0+IHtcbiAgICAgICAgaWYgKHJvb3QuZWxlbWVudC5kYXRhc2V0LmRyYWdTdGF0ZSA9PT0gJ2Ryb3AnKSB7XG4gICAgICAgICAgICBpZiAocm9vdC5zY2FsZVggPD0gMSkge1xuICAgICAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRyYWdTdGF0ZSA9ICdpZGxlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNlbGVjdCBsYXN0IHN0YXRlIGNoYW5nZSBhY3Rpb25cbiAgICAgICAgbGV0IGFjdGlvbiA9IGFjdGlvbnNcbiAgICAgICAgICAgIC5jb25jYXQoKVxuICAgICAgICAgICAgLmZpbHRlcihhY3Rpb24gPT4gL15ESURfLy50ZXN0KGFjdGlvbi50eXBlKSlcbiAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgICAgIC5maW5kKGFjdGlvbiA9PiBTdGF0ZU1hcFthY3Rpb24udHlwZV0pO1xuXG4gICAgICAgIC8vIG5vIG5lZWQgdG8gc2V0IHNhbWUgc3RhdGUgdHdpY2VcbiAgICAgICAgaWYgKGFjdGlvbiAmJiBhY3Rpb24udHlwZSAhPT0gcHJvcHMuY3VycmVudFN0YXRlKSB7XG4gICAgICAgICAgICAvLyBzZXQgY3VycmVudCBzdGF0ZVxuICAgICAgICAgICAgcHJvcHMuY3VycmVudFN0YXRlID0gYWN0aW9uLnR5cGU7XG5cbiAgICAgICAgICAgIC8vIHNldCBzdGF0ZVxuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuZmlsZXBvbmRJdGVtU3RhdGUgPSBTdGF0ZU1hcFtwcm9wcy5jdXJyZW50U3RhdGVdIHx8ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcm91dGUgYWN0aW9uc1xuICAgICAgICBjb25zdCBhc3BlY3RSYXRpbyA9XG4gICAgICAgICAgICByb290LnF1ZXJ5KCdHRVRfSVRFTV9QQU5FTF9BU1BFQ1RfUkFUSU8nKSB8fCByb290LnF1ZXJ5KCdHRVRfUEFORUxfQVNQRUNUX1JBVElPJyk7XG4gICAgICAgIGlmICghYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgIHJvdXRlJDEoeyByb290LCBhY3Rpb25zLCBwcm9wcyB9KTtcbiAgICAgICAgICAgIGlmICghcm9vdC5oZWlnaHQgJiYgcm9vdC5yZWYuY29udGFpbmVyLnJlY3QuZWxlbWVudC5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5oZWlnaHQgPSByb290LnJlZi5jb250YWluZXIucmVjdC5lbGVtZW50LmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghc2hvdWxkT3B0aW1pemUpIHtcbiAgICAgICAgICAgIHJvb3QuaGVpZ2h0ID0gcm9vdC5yZWN0LmVsZW1lbnQud2lkdGggKiBhc3BlY3RSYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN5bmMgcGFuZWwgaGVpZ2h0IHdpdGggaXRlbSBoZWlnaHRcbiAgICAgICAgaWYgKHNob3VsZE9wdGltaXplKSB7XG4gICAgICAgICAgICByb290LnJlZi5wYW5lbC5oZWlnaHQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcm9vdC5yZWYucGFuZWwuaGVpZ2h0ID0gcm9vdC5oZWlnaHQ7XG4gICAgfVxuKTtcblxuY29uc3QgaXRlbSA9IGNyZWF0ZVZpZXcoe1xuICAgIGNyZWF0ZTogY3JlYXRlJDcsXG4gICAgd3JpdGU6IHdyaXRlJDQsXG4gICAgZGVzdHJveTogKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVDbGljayk7XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ1JFTEVBU0VfSVRFTScsIHsgcXVlcnk6IHByb3BzLmlkIH0pO1xuICAgIH0sXG4gICAgdGFnOiAnbGknLFxuICAgIG5hbWU6ICdpdGVtJyxcbiAgICBtaXhpbnM6IHtcbiAgICAgICAgYXBpczogW1xuICAgICAgICAgICAgJ2lkJyxcbiAgICAgICAgICAgICdpbnRlcmFjdGlvbk1ldGhvZCcsXG4gICAgICAgICAgICAnbWFya2VkRm9yUmVtb3ZhbCcsXG4gICAgICAgICAgICAnc3Bhd25EYXRlJyxcbiAgICAgICAgICAgICdkcmFnQ2VudGVyJyxcbiAgICAgICAgICAgICdkcmFnT3JpZ2luJyxcbiAgICAgICAgICAgICdkcmFnT2Zmc2V0JyxcbiAgICAgICAgXSxcbiAgICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ29wYWNpdHknLCAnaGVpZ2h0J10sXG4gICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgIHNjYWxlWDogSVRFTV9TQ0FMRV9TUFJJTkcsXG4gICAgICAgICAgICBzY2FsZVk6IElURU1fU0NBTEVfU1BSSU5HLFxuICAgICAgICAgICAgdHJhbnNsYXRlWDogSVRFTV9UUkFOU0xBVEVfU1BSSU5HLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogSVRFTV9UUkFOU0xBVEVfU1BSSU5HLFxuICAgICAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogMTUwIH0sXG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuXG52YXIgZ2V0SXRlbXNQZXJSb3cgPSAoaG9yaXpvbnRhbFNwYWNlLCBpdGVtV2lkdGgpID0+IHtcbiAgICAvLyBhZGQgb25lIHBpeGVsIGxlZXdheSwgd2hlbiB1c2luZyBwZXJjZW50YWdlcyBmb3IgaXRlbSB3aWR0aCB0b3RhbCBpdGVtcyBjYW4gYmUgMS45OSBwZXIgcm93XG5cbiAgICByZXR1cm4gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcigoaG9yaXpvbnRhbFNwYWNlICsgMSkgLyBpdGVtV2lkdGgpKTtcbn07XG5cbmNvbnN0IGdldEl0ZW1JbmRleEJ5UG9zaXRpb24gPSAodmlldywgY2hpbGRyZW4sIHBvc2l0aW9uSW5WaWV3KSA9PiB7XG4gICAgaWYgKCFwb3NpdGlvbkluVmlldykgcmV0dXJuO1xuXG4gICAgY29uc3QgaG9yaXpvbnRhbFNwYWNlID0gdmlldy5yZWN0LmVsZW1lbnQud2lkdGg7XG4gICAgLy8gY29uc3QgY2hpbGRyZW4gPSB2aWV3LmNoaWxkVmlld3M7XG4gICAgY29uc3QgbCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBsZXQgbGFzdCA9IG51bGw7XG5cbiAgICAvLyAtMSwgZG9uJ3QgbW92ZSBpdGVtcyB0byBhY2NvbW9kYXRlIChlaXRoZXIgYWRkIHRvIHRvcCBvciBib3R0b20pXG4gICAgaWYgKGwgPT09IDAgfHwgcG9zaXRpb25JblZpZXcudG9wIDwgY2hpbGRyZW5bMF0ucmVjdC5lbGVtZW50LnRvcCkgcmV0dXJuIC0xO1xuXG4gICAgLy8gbGV0J3MgZ2V0IHRoZSBpdGVtIHdpZHRoXG4gICAgY29uc3QgaXRlbSA9IGNoaWxkcmVuWzBdO1xuICAgIGNvbnN0IGl0ZW1SZWN0ID0gaXRlbS5yZWN0LmVsZW1lbnQ7XG4gICAgY29uc3QgaXRlbUhvcml6b250YWxNYXJnaW4gPSBpdGVtUmVjdC5tYXJnaW5MZWZ0ICsgaXRlbVJlY3QubWFyZ2luUmlnaHQ7XG4gICAgY29uc3QgaXRlbVdpZHRoID0gaXRlbVJlY3Qud2lkdGggKyBpdGVtSG9yaXpvbnRhbE1hcmdpbjtcbiAgICBjb25zdCBpdGVtc1BlclJvdyA9IGdldEl0ZW1zUGVyUm93KGhvcml6b250YWxTcGFjZSwgaXRlbVdpZHRoKTtcblxuICAgIC8vIHN0YWNrXG4gICAgaWYgKGl0ZW1zUGVyUm93ID09PSAxKSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkTWlkID0gY2hpbGQucmVjdC5vdXRlci50b3AgKyBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0ICogMC41O1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uSW5WaWV3LnRvcCA8IGNoaWxkTWlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsO1xuICAgIH1cblxuICAgIC8vIGdyaWRcbiAgICBjb25zdCBpdGVtVmVydGljYWxNYXJnaW4gPSBpdGVtUmVjdC5tYXJnaW5Ub3AgKyBpdGVtUmVjdC5tYXJnaW5Cb3R0b207XG4gICAgY29uc3QgaXRlbUhlaWdodCA9IGl0ZW1SZWN0LmhlaWdodCArIGl0ZW1WZXJ0aWNhbE1hcmdpbjtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbDsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBpbmRleFggPSBpbmRleCAlIGl0ZW1zUGVyUm93O1xuICAgICAgICBjb25zdCBpbmRleFkgPSBNYXRoLmZsb29yKGluZGV4IC8gaXRlbXNQZXJSb3cpO1xuXG4gICAgICAgIGNvbnN0IG9mZnNldFggPSBpbmRleFggKiBpdGVtV2lkdGg7XG4gICAgICAgIGNvbnN0IG9mZnNldFkgPSBpbmRleFkgKiBpdGVtSGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IGl0ZW1Ub3AgPSBvZmZzZXRZIC0gaXRlbVJlY3QubWFyZ2luVG9wO1xuICAgICAgICBjb25zdCBpdGVtUmlnaHQgPSBvZmZzZXRYICsgaXRlbVdpZHRoO1xuICAgICAgICBjb25zdCBpdGVtQm90dG9tID0gb2Zmc2V0WSArIGl0ZW1IZWlnaHQgKyBpdGVtUmVjdC5tYXJnaW5Cb3R0b207XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uSW5WaWV3LnRvcCA8IGl0ZW1Cb3R0b20gJiYgcG9zaXRpb25JblZpZXcudG9wID4gaXRlbVRvcCkge1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uSW5WaWV3LmxlZnQgPCBpdGVtUmlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4ICE9PSBsIC0gMSkge1xuICAgICAgICAgICAgICAgIGxhc3QgPSBpbmRleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFzdCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobGFzdCAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbGFzdDtcbiAgICB9XG5cbiAgICByZXR1cm4gbDtcbn07XG5cbmNvbnN0IGRyb3BBcmVhRGltZW5zaW9ucyA9IHtcbiAgICBoZWlnaHQ6IDAsXG4gICAgd2lkdGg6IDAsXG4gICAgZ2V0IGdldEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0O1xuICAgIH0sXG4gICAgc2V0IHNldEhlaWdodCh2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMuaGVpZ2h0ID09PSAwIHx8IHZhbCA9PT0gMCkgdGhpcy5oZWlnaHQgPSB2YWw7XG4gICAgfSxcbiAgICBnZXQgZ2V0V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoO1xuICAgIH0sXG4gICAgc2V0IHNldFdpZHRoKHZhbCkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA9PT0gMCB8fCB2YWwgPT09IDApIHRoaXMud2lkdGggPSB2YWw7XG4gICAgfSxcbiAgICBzZXREaW1lbnNpb25zOiBmdW5jdGlvbihoZWlnaHQsIHdpZHRoKSB7XG4gICAgICAgIGlmICh0aGlzLmhlaWdodCA9PT0gMCB8fCBoZWlnaHQgPT09IDApIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBpZiAodGhpcy53aWR0aCA9PT0gMCB8fCB3aWR0aCA9PT0gMCkgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIH0sXG59O1xuXG5jb25zdCBjcmVhdGUkOCA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIC8vIG5lZWQgdG8gc2V0IHJvbGUgdG8gbGlzdCBhcyBvdGhlcndpc2UgaXQgd29uJ3QgYmUgcmVhZCBhcyBhIGxpc3QgYnkgVm9pY2VPdmVyXG4gICAgYXR0cihyb290LmVsZW1lbnQsICdyb2xlJywgJ2xpc3QnKTtcblxuICAgIHJvb3QucmVmLmxhc3RJdGVtU3BhbndEYXRlID0gRGF0ZS5ub3coKTtcbn07XG5cbi8qKlxuICogSW5zZXJ0cyBhIG5ldyBpdGVtXG4gKiBAcGFyYW0gcm9vdFxuICogQHBhcmFtIGFjdGlvblxuICovXG5jb25zdCBhZGRJdGVtVmlldyA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgeyBpZCwgaW5kZXgsIGludGVyYWN0aW9uTWV0aG9kIH0gPSBhY3Rpb247XG5cbiAgICByb290LnJlZi5hZGRJbmRleCA9IGluZGV4O1xuXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBsZXQgc3Bhd25EYXRlID0gbm93O1xuICAgIGxldCBvcGFjaXR5ID0gMTtcblxuICAgIGlmIChpbnRlcmFjdGlvbk1ldGhvZCAhPT0gSW50ZXJhY3Rpb25NZXRob2QuTk9ORSkge1xuICAgICAgICBvcGFjaXR5ID0gMDtcbiAgICAgICAgY29uc3QgY29vbGRvd24gPSByb290LnF1ZXJ5KCdHRVRfSVRFTV9JTlNFUlRfSU5URVJWQUwnKTtcbiAgICAgICAgY29uc3QgZGlzdCA9IG5vdyAtIHJvb3QucmVmLmxhc3RJdGVtU3BhbndEYXRlO1xuICAgICAgICBzcGF3bkRhdGUgPSBkaXN0IDwgY29vbGRvd24gPyBub3cgKyAoY29vbGRvd24gLSBkaXN0KSA6IG5vdztcbiAgICB9XG5cbiAgICByb290LnJlZi5sYXN0SXRlbVNwYW53RGF0ZSA9IHNwYXduRGF0ZTtcblxuICAgIHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhcbiAgICAgICAgICAgIC8vIHZpZXcgdHlwZVxuICAgICAgICAgICAgaXRlbSxcblxuICAgICAgICAgICAgLy8gcHJvcHNcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzcGF3bkRhdGUsXG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgaW5kZXhcbiAgICApO1xufTtcblxuY29uc3QgbW92ZUl0ZW0gPSAoaXRlbSwgeCwgeSwgdnggPSAwLCB2eSA9IDEpID0+IHtcbiAgICAvLyBzZXQgdG8gbnVsbCB0byByZW1vdmUgYW5pbWF0aW9uIHdoaWxlIGRyYWdnaW5nXG4gICAgaWYgKGl0ZW0uZHJhZ09mZnNldCkge1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSBpdGVtLmRyYWdPcmlnaW4ueCArIGl0ZW0uZHJhZ09mZnNldC54O1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBpdGVtLmRyYWdPcmlnaW4ueSArIGl0ZW0uZHJhZ09mZnNldC55O1xuICAgICAgICBpdGVtLnNjYWxlWCA9IDEuMDI1O1xuICAgICAgICBpdGVtLnNjYWxlWSA9IDEuMDI1O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IHg7XG4gICAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IHk7XG5cbiAgICAgICAgaWYgKERhdGUubm93KCkgPiBpdGVtLnNwYXduRGF0ZSkge1xuICAgICAgICAgICAgLy8gcmV2ZWFsIGVsZW1lbnRcbiAgICAgICAgICAgIGlmIChpdGVtLm9wYWNpdHkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpbnRyb0l0ZW1WaWV3KGl0ZW0sIHgsIHksIHZ4LCB2eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBpcyBkZWZhdWx0IHNjYWxlIGV2ZXJ5IGZyYW1lXG4gICAgICAgICAgICBpdGVtLnNjYWxlWCA9IDE7XG4gICAgICAgICAgICBpdGVtLnNjYWxlWSA9IDE7XG4gICAgICAgICAgICBpdGVtLm9wYWNpdHkgPSAxO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuY29uc3QgaW50cm9JdGVtVmlldyA9IChpdGVtLCB4LCB5LCB2eCwgdnkpID0+IHtcbiAgICBpZiAoaXRlbS5pbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuTk9ORSkge1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSB4O1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSB5O1xuICAgIH0gZWxzZSBpZiAoaXRlbS5pbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuRFJPUCkge1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSB4IC0gdnggKiAyMDtcblxuICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSB5IC0gdnkgKiAxMDtcblxuICAgICAgICBpdGVtLnNjYWxlWCA9IDAuODtcbiAgICAgICAgaXRlbS5zY2FsZVkgPSAwLjg7XG4gICAgfSBlbHNlIGlmIChpdGVtLmludGVyYWN0aW9uTWV0aG9kID09PSBJbnRlcmFjdGlvbk1ldGhvZC5CUk9XU0UpIHtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVZID0geSAtIDMwO1xuICAgIH0gZWxzZSBpZiAoaXRlbS5pbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuQVBJKSB7XG4gICAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IG51bGw7XG4gICAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IHggLSAzMDtcbiAgICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYW4gZXhpc3RpbmcgaXRlbVxuICogQHBhcmFtIHJvb3RcbiAqIEBwYXJhbSBhY3Rpb25cbiAqL1xuY29uc3QgcmVtb3ZlSXRlbVZpZXcgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGNvbnN0IHsgaWQgfSA9IGFjdGlvbjtcblxuICAgIC8vIGdldCB0aGUgdmlldyBtYXRjaGluZyB0aGUgZ2l2ZW4gaWRcbiAgICBjb25zdCB2aWV3ID0gcm9vdC5jaGlsZFZpZXdzLmZpbmQoY2hpbGQgPT4gY2hpbGQuaWQgPT09IGlkKTtcblxuICAgIC8vIGlmIG5vIHZpZXcgZm91bmQsIGV4aXRcbiAgICBpZiAoIXZpZXcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGFuaW1hdGUgdmlldyBvdXQgb2Ygdmlld1xuICAgIHZpZXcuc2NhbGVYID0gMC45O1xuICAgIHZpZXcuc2NhbGVZID0gMC45O1xuICAgIHZpZXcub3BhY2l0eSA9IDA7XG5cbiAgICAvLyBtYXJrIGZvciByZW1vdmFsXG4gICAgdmlldy5tYXJrZWRGb3JSZW1vdmFsID0gdHJ1ZTtcbn07XG5cbmNvbnN0IGdldEl0ZW1IZWlnaHQgPSBjaGlsZCA9PlxuICAgIGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQgK1xuICAgIGNoaWxkLnJlY3QuZWxlbWVudC5tYXJnaW5Cb3R0b20gKiAwLjUgK1xuICAgIGNoaWxkLnJlY3QuZWxlbWVudC5tYXJnaW5Ub3AgKiAwLjU7XG5jb25zdCBnZXRJdGVtV2lkdGggPSBjaGlsZCA9PlxuICAgIGNoaWxkLnJlY3QuZWxlbWVudC53aWR0aCArXG4gICAgY2hpbGQucmVjdC5lbGVtZW50Lm1hcmdpbkxlZnQgKiAwLjUgK1xuICAgIGNoaWxkLnJlY3QuZWxlbWVudC5tYXJnaW5SaWdodCAqIDAuNTtcblxuY29uc3QgZHJhZ0l0ZW0gPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGNvbnN0IHsgaWQsIGRyYWdTdGF0ZSB9ID0gYWN0aW9uO1xuXG4gICAgLy8gcmVmZXJlbmNlIHRvIGl0ZW1cbiAgICBjb25zdCBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCB7IGlkIH0pO1xuXG4gICAgLy8gZ2V0IHRoZSB2aWV3IG1hdGNoaW5nIHRoZSBnaXZlbiBpZFxuICAgIGNvbnN0IHZpZXcgPSByb290LmNoaWxkVmlld3MuZmluZChjaGlsZCA9PiBjaGlsZC5pZCA9PT0gaWQpO1xuXG4gICAgY29uc3QgbnVtSXRlbXMgPSByb290LmNoaWxkVmlld3MubGVuZ3RoO1xuICAgIGNvbnN0IG9sZEluZGV4ID0gZHJhZ1N0YXRlLmdldEl0ZW1JbmRleChpdGVtKTtcblxuICAgIC8vIGlmIG5vIHZpZXcgZm91bmQsIGV4aXRcbiAgICBpZiAoIXZpZXcpIHJldHVybjtcblxuICAgIGNvbnN0IGRyYWdQb3NpdGlvbiA9IHtcbiAgICAgICAgeDogdmlldy5kcmFnT3JpZ2luLnggKyB2aWV3LmRyYWdPZmZzZXQueCArIHZpZXcuZHJhZ0NlbnRlci54LFxuICAgICAgICB5OiB2aWV3LmRyYWdPcmlnaW4ueSArIHZpZXcuZHJhZ09mZnNldC55ICsgdmlldy5kcmFnQ2VudGVyLnksXG4gICAgfTtcblxuICAgIC8vIGdldCBkcmFnIGFyZWEgZGltZW5zaW9uc1xuICAgIGNvbnN0IGRyYWdIZWlnaHQgPSBnZXRJdGVtSGVpZ2h0KHZpZXcpO1xuICAgIGNvbnN0IGRyYWdXaWR0aCA9IGdldEl0ZW1XaWR0aCh2aWV3KTtcblxuICAgIC8vIGdldCByb3dzIGFuZCBjb2x1bW5zIChUaGVyZSB3aWxsIGFsd2F5cyBiZSBhdCBsZWFzdCBvbmUgcm93IGFuZCBvbmUgY29sdW1uIGlmIGEgZmlsZSBpcyBwcmVzZW50KVxuICAgIGxldCBjb2xzID0gTWF0aC5mbG9vcihyb290LnJlY3Qub3V0ZXIud2lkdGggLyBkcmFnV2lkdGgpO1xuICAgIGlmIChjb2xzID4gbnVtSXRlbXMpIGNvbHMgPSBudW1JdGVtcztcblxuICAgIC8vIHJvd3MgYXJlIHVzZWQgdG8gZmluZCB3aGVuIHdlIGhhdmUgbGVmdCB0aGUgcHJldmlldyBhcmVhIGJvdW5kaW5nIGJveFxuICAgIGNvbnN0IHJvd3MgPSBNYXRoLmZsb29yKG51bUl0ZW1zIC8gY29scyArIDEpO1xuXG4gICAgZHJvcEFyZWFEaW1lbnNpb25zLnNldEhlaWdodCA9IGRyYWdIZWlnaHQgKiByb3dzO1xuICAgIGRyb3BBcmVhRGltZW5zaW9ucy5zZXRXaWR0aCA9IGRyYWdXaWR0aCAqIGNvbHM7XG5cbiAgICAvLyBnZXQgbmV3IGluZGV4IG9mIGRyYWdnZWQgaXRlbVxuICAgIHZhciBsb2NhdGlvbiA9IHtcbiAgICAgICAgeTogTWF0aC5mbG9vcihkcmFnUG9zaXRpb24ueSAvIGRyYWdIZWlnaHQpLFxuICAgICAgICB4OiBNYXRoLmZsb29yKGRyYWdQb3NpdGlvbi54IC8gZHJhZ1dpZHRoKSxcbiAgICAgICAgZ2V0R3JpZEluZGV4OiBmdW5jdGlvbiBnZXRHcmlkSW5kZXgoKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZHJhZ1Bvc2l0aW9uLnkgPiBkcm9wQXJlYURpbWVuc2lvbnMuZ2V0SGVpZ2h0IHx8XG4gICAgICAgICAgICAgICAgZHJhZ1Bvc2l0aW9uLnkgPCAwIHx8XG4gICAgICAgICAgICAgICAgZHJhZ1Bvc2l0aW9uLnggPiBkcm9wQXJlYURpbWVuc2lvbnMuZ2V0V2lkdGggfHxcbiAgICAgICAgICAgICAgICBkcmFnUG9zaXRpb24ueCA8IDBcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkSW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy55ICogY29scyArIHRoaXMueDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q29sSW5kZXg6IGZ1bmN0aW9uIGdldENvbEluZGV4KCkge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSByb290LnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJyk7XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlQ2hpbGRyZW4gPSByb290LmNoaWxkVmlld3MuZmlsdGVyKGNoaWxkID0+IGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQpO1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBpdGVtcy5tYXAoaXRlbSA9PlxuICAgICAgICAgICAgICAgIHZpc2libGVDaGlsZHJlbi5maW5kKGNoaWxkVmlldyA9PiBjaGlsZFZpZXcuaWQgPT09IGl0ZW0uaWQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gY2hpbGRyZW4uZmluZEluZGV4KGNoaWxkID0+IGNoaWxkID09PSB2aWV3KTtcbiAgICAgICAgICAgIGNvbnN0IGRyYWdIZWlnaHQgPSBnZXRJdGVtSGVpZ2h0KHZpZXcpO1xuICAgICAgICAgICAgY29uc3QgbCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBpZHggPSBsO1xuICAgICAgICAgICAgbGV0IGNoaWxkSGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIGxldCBjaGlsZEJvdHRvbSA9IDA7XG4gICAgICAgICAgICBsZXQgY2hpbGRUb3AgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjaGlsZEhlaWdodCA9IGdldEl0ZW1IZWlnaHQoY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgIGNoaWxkVG9wID0gY2hpbGRCb3R0b207XG4gICAgICAgICAgICAgICAgY2hpbGRCb3R0b20gPSBjaGlsZFRvcCArIGNoaWxkSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGlmIChkcmFnUG9zaXRpb24ueSA8IGNoaWxkQm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPiBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJhZ1Bvc2l0aW9uLnkgPCBjaGlsZFRvcCArIGRyYWdIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlkeDtcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgLy8gZ2V0IG5ldyBpbmRleFxuICAgIGNvbnN0IGluZGV4ID0gY29scyA+IDEgPyBsb2NhdGlvbi5nZXRHcmlkSW5kZXgoKSA6IGxvY2F0aW9uLmdldENvbEluZGV4KCk7XG4gICAgcm9vdC5kaXNwYXRjaCgnTU9WRV9JVEVNJywgeyBxdWVyeTogdmlldywgaW5kZXggfSk7XG5cbiAgICAvLyBpZiB0aGUgaW5kZXggb2YgdGhlIGl0ZW0gY2hhbmdlZCwgZGlzcGF0Y2ggcmVvcmRlciBhY3Rpb25cbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBkcmFnU3RhdGUuZ2V0SW5kZXgoKTtcblxuICAgIGlmIChjdXJyZW50SW5kZXggPT09IHVuZGVmaW5lZCB8fCBjdXJyZW50SW5kZXggIT09IGluZGV4KSB7XG4gICAgICAgIGRyYWdTdGF0ZS5zZXRJbmRleChpbmRleCk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1JFT1JERVJfSVRFTVMnLCB7XG4gICAgICAgICAgICBpdGVtczogcm9vdC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpLFxuICAgICAgICAgICAgb3JpZ2luOiBvbGRJbmRleCxcbiAgICAgICAgICAgIHRhcmdldDogaW5kZXgsXG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0dXAgYWN0aW9uIHJvdXRlc1xuICovXG5jb25zdCByb3V0ZSQyID0gY3JlYXRlUm91dGUoe1xuICAgIERJRF9BRERfSVRFTTogYWRkSXRlbVZpZXcsXG4gICAgRElEX1JFTU9WRV9JVEVNOiByZW1vdmVJdGVtVmlldyxcbiAgICBESURfRFJBR19JVEVNOiBkcmFnSXRlbSxcbn0pO1xuXG4vKipcbiAqIFdyaXRlIHRvIHZpZXdcbiAqIEBwYXJhbSByb290XG4gKiBAcGFyYW0gYWN0aW9uc1xuICogQHBhcmFtIHByb3BzXG4gKi9cbmNvbnN0IHdyaXRlJDUgPSAoeyByb290LCBwcm9wcywgYWN0aW9ucywgc2hvdWxkT3B0aW1pemUgfSkgPT4ge1xuICAgIC8vIHJvdXRlIGFjdGlvbnNcbiAgICByb3V0ZSQyKHsgcm9vdCwgcHJvcHMsIGFjdGlvbnMgfSk7XG5cbiAgICBjb25zdCB7IGRyYWdDb29yZGluYXRlcyB9ID0gcHJvcHM7XG5cbiAgICAvLyBhdmFpbGFibGUgc3BhY2Ugb24gaG9yaXpvbnRhbCBheGlzXG4gICAgY29uc3QgaG9yaXpvbnRhbFNwYWNlID0gcm9vdC5yZWN0LmVsZW1lbnQud2lkdGg7XG5cbiAgICAvLyBvbmx5IGRyYXcgY2hpbGRyZW4gdGhhdCBoYXZlIGRpbWVuc2lvbnNcbiAgICBjb25zdCB2aXNpYmxlQ2hpbGRyZW4gPSByb290LmNoaWxkVmlld3MuZmlsdGVyKGNoaWxkID0+IGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQpO1xuXG4gICAgLy8gc29ydCBiYXNlZCBvbiBjdXJyZW50IGFjdGl2ZSBpdGVtc1xuICAgIGNvbnN0IGNoaWxkcmVuID0gcm9vdFxuICAgICAgICAucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKVxuICAgICAgICAubWFwKGl0ZW0gPT4gdmlzaWJsZUNoaWxkcmVuLmZpbmQoY2hpbGQgPT4gY2hpbGQuaWQgPT09IGl0ZW0uaWQpKVxuICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbSk7XG5cbiAgICAvLyBnZXQgaW5kZXhcbiAgICBjb25zdCBkcmFnSW5kZXggPSBkcmFnQ29vcmRpbmF0ZXNcbiAgICAgICAgPyBnZXRJdGVtSW5kZXhCeVBvc2l0aW9uKHJvb3QsIGNoaWxkcmVuLCBkcmFnQ29vcmRpbmF0ZXMpXG4gICAgICAgIDogbnVsbDtcblxuICAgIC8vIGFkZCBpbmRleCBpcyB1c2VkIHRvIHJlc2VydmUgdGhlIGRyb3BwZWQvYWRkZWQgaXRlbSBpbmRleCB0aWxsIHRoZSBhY3R1YWwgaXRlbSBpcyByZW5kZXJlZFxuICAgIGNvbnN0IGFkZEluZGV4ID0gcm9vdC5yZWYuYWRkSW5kZXggfHwgbnVsbDtcblxuICAgIC8vIGFkZCBpbmRleCBubyBsb25nZXIgbmVlZGVkIHRpbGwgcG9zc2libHkgbmV4dCBkcmF3XG4gICAgcm9vdC5yZWYuYWRkSW5kZXggPSBudWxsO1xuXG4gICAgbGV0IGRyYWdJbmRleE9mZnNldCA9IDA7XG4gICAgbGV0IHJlbW92ZUluZGV4T2Zmc2V0ID0gMDtcbiAgICBsZXQgYWRkSW5kZXhPZmZzZXQgPSAwO1xuXG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY2hpbGRSZWN0ID0gY2hpbGRyZW5bMF0ucmVjdC5lbGVtZW50O1xuICAgIGNvbnN0IGl0ZW1WZXJ0aWNhbE1hcmdpbiA9IGNoaWxkUmVjdC5tYXJnaW5Ub3AgKyBjaGlsZFJlY3QubWFyZ2luQm90dG9tO1xuICAgIGNvbnN0IGl0ZW1Ib3Jpem9udGFsTWFyZ2luID0gY2hpbGRSZWN0Lm1hcmdpbkxlZnQgKyBjaGlsZFJlY3QubWFyZ2luUmlnaHQ7XG4gICAgY29uc3QgaXRlbVdpZHRoID0gY2hpbGRSZWN0LndpZHRoICsgaXRlbUhvcml6b250YWxNYXJnaW47XG4gICAgY29uc3QgaXRlbUhlaWdodCA9IGNoaWxkUmVjdC5oZWlnaHQgKyBpdGVtVmVydGljYWxNYXJnaW47XG4gICAgY29uc3QgaXRlbXNQZXJSb3cgPSBnZXRJdGVtc1BlclJvdyhob3Jpem9udGFsU3BhY2UsIGl0ZW1XaWR0aCk7XG5cbiAgICAvLyBzdGFja1xuICAgIGlmIChpdGVtc1BlclJvdyA9PT0gMSkge1xuICAgICAgICBsZXQgb2Zmc2V0WSA9IDA7XG4gICAgICAgIGxldCBkcmFnT2Zmc2V0ID0gMDtcblxuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChkcmFnSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBsZXQgZGlzdCA9IGluZGV4IC0gZHJhZ0luZGV4O1xuICAgICAgICAgICAgICAgIGlmIChkaXN0ID09PSAtMikge1xuICAgICAgICAgICAgICAgICAgICBkcmFnT2Zmc2V0ID0gLWl0ZW1WZXJ0aWNhbE1hcmdpbiAqIDAuMjU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXN0ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBkcmFnT2Zmc2V0ID0gLWl0ZW1WZXJ0aWNhbE1hcmdpbiAqIDAuNzU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXN0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRyYWdPZmZzZXQgPSBpdGVtVmVydGljYWxNYXJnaW4gKiAwLjc1O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlzdCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBkcmFnT2Zmc2V0ID0gaXRlbVZlcnRpY2FsTWFyZ2luICogMC4yNTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkcmFnT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICAgICAgICAgIGNoaWxkLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWNoaWxkLm1hcmtlZEZvclJlbW92YWwpIHtcbiAgICAgICAgICAgICAgICBtb3ZlSXRlbShjaGlsZCwgMCwgb2Zmc2V0WSArIGRyYWdPZmZzZXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgaXRlbUhlaWdodCA9IGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQgKyBpdGVtVmVydGljYWxNYXJnaW47XG5cbiAgICAgICAgICAgIGxldCB2aXN1YWxIZWlnaHQgPSBpdGVtSGVpZ2h0ICogKGNoaWxkLm1hcmtlZEZvclJlbW92YWwgPyBjaGlsZC5vcGFjaXR5IDogMSk7XG5cbiAgICAgICAgICAgIG9mZnNldFkgKz0gdmlzdWFsSGVpZ2h0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gZ3JpZFxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgcHJldlggPSAwO1xuICAgICAgICBsZXQgcHJldlkgPSAwO1xuXG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBkcmFnSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBkcmFnSW5kZXhPZmZzZXQgPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IGFkZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgYWRkSW5kZXhPZmZzZXQgKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNoaWxkLm1hcmtlZEZvclJlbW92YWwgJiYgY2hpbGQub3BhY2l0eSA8IDAuNSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUluZGV4T2Zmc2V0IC09IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHZpc3VhbEluZGV4ID0gaW5kZXggKyBhZGRJbmRleE9mZnNldCArIGRyYWdJbmRleE9mZnNldCArIHJlbW92ZUluZGV4T2Zmc2V0O1xuXG4gICAgICAgICAgICBjb25zdCBpbmRleFggPSB2aXN1YWxJbmRleCAlIGl0ZW1zUGVyUm93O1xuICAgICAgICAgICAgY29uc3QgaW5kZXhZID0gTWF0aC5mbG9vcih2aXN1YWxJbmRleCAvIGl0ZW1zUGVyUm93KTtcblxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IGluZGV4WCAqIGl0ZW1XaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldFkgPSBpbmRleFkgKiBpdGVtSGVpZ2h0O1xuXG4gICAgICAgICAgICBjb25zdCB2ZWN0b3JYID0gTWF0aC5zaWduKG9mZnNldFggLSBwcmV2WCk7XG4gICAgICAgICAgICBjb25zdCB2ZWN0b3JZID0gTWF0aC5zaWduKG9mZnNldFkgLSBwcmV2WSk7XG5cbiAgICAgICAgICAgIHByZXZYID0gb2Zmc2V0WDtcbiAgICAgICAgICAgIHByZXZZID0gb2Zmc2V0WTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLm1hcmtlZEZvclJlbW92YWwpIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKHNob3VsZE9wdGltaXplKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudHJhbnNsYXRlWCA9IG51bGw7XG4gICAgICAgICAgICAgICAgY2hpbGQudHJhbnNsYXRlWSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vdmVJdGVtKGNoaWxkLCBvZmZzZXRYLCBvZmZzZXRZLCB2ZWN0b3JYLCB2ZWN0b3JZKTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBGaWx0ZXJzIGFjdGlvbnMgdGhhdCBhcmUgbWVhbnQgc3BlY2lmaWNhbGx5IGZvciBhIGNlcnRhaW4gY2hpbGQgb2YgdGhlIGxpc3RcbiAqIEBwYXJhbSBjaGlsZFxuICogQHBhcmFtIGFjdGlvbnNcbiAqL1xuY29uc3QgZmlsdGVyU2V0SXRlbUFjdGlvbnMgPSAoY2hpbGQsIGFjdGlvbnMpID0+XG4gICAgYWN0aW9ucy5maWx0ZXIoYWN0aW9uID0+IHtcbiAgICAgICAgLy8gaWYgYWN0aW9uIGhhcyBhbiBpZCwgZmlsdGVyIG91dCBhY3Rpb25zIHRoYXQgZG9uJ3QgaGF2ZSB0aGlzIGNoaWxkIGlkXG4gICAgICAgIGlmIChhY3Rpb24uZGF0YSAmJiBhY3Rpb24uZGF0YS5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmlkID09PSBhY3Rpb24uZGF0YS5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFsbG93IGFsbCBvdGhlciBhY3Rpb25zXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG5jb25zdCBsaXN0ID0gY3JlYXRlVmlldyh7XG4gICAgY3JlYXRlOiBjcmVhdGUkOCxcbiAgICB3cml0ZTogd3JpdGUkNSxcbiAgICB0YWc6ICd1bCcsXG4gICAgbmFtZTogJ2xpc3QnLFxuICAgIGRpZFdyaXRlVmlldzogKHsgcm9vdCB9KSA9PiB7XG4gICAgICAgIHJvb3QuY2hpbGRWaWV3c1xuICAgICAgICAgICAgLmZpbHRlcih2aWV3ID0+IHZpZXcubWFya2VkRm9yUmVtb3ZhbCAmJiB2aWV3Lm9wYWNpdHkgPT09IDAgJiYgdmlldy5yZXN0aW5nKVxuICAgICAgICAgICAgLmZvckVhY2godmlldyA9PiB7XG4gICAgICAgICAgICAgICAgdmlldy5fZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHJvb3QucmVtb3ZlQ2hpbGRWaWV3KHZpZXcpO1xuICAgICAgICAgICAgfSk7XG4gICAgfSxcbiAgICBmaWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZDogZmlsdGVyU2V0SXRlbUFjdGlvbnMsXG4gICAgbWl4aW5zOiB7XG4gICAgICAgIGFwaXM6IFsnZHJhZ0Nvb3JkaW5hdGVzJ10sXG4gICAgfSxcbn0pO1xuXG5jb25zdCBjcmVhdGUkOSA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICByb290LnJlZi5saXN0ID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcocm9vdC5jcmVhdGVDaGlsZFZpZXcobGlzdCkpO1xuICAgIHByb3BzLmRyYWdDb29yZGluYXRlcyA9IG51bGw7XG4gICAgcHJvcHMub3ZlcmZsb3dpbmcgPSBmYWxzZTtcbn07XG5cbmNvbnN0IHN0b3JlRHJhZ0Nvb3JkaW5hdGVzID0gKHsgcm9vdCwgcHJvcHMsIGFjdGlvbiB9KSA9PiB7XG4gICAgaWYgKCFyb290LnF1ZXJ5KCdHRVRfSVRFTV9JTlNFUlRfTE9DQVRJT05fRlJFRURPTScpKSByZXR1cm47XG4gICAgcHJvcHMuZHJhZ0Nvb3JkaW5hdGVzID0ge1xuICAgICAgICBsZWZ0OiBhY3Rpb24ucG9zaXRpb24uc2NvcGVMZWZ0IC0gcm9vdC5yZWYubGlzdC5yZWN0LmVsZW1lbnQubGVmdCxcbiAgICAgICAgdG9wOlxuICAgICAgICAgICAgYWN0aW9uLnBvc2l0aW9uLnNjb3BlVG9wIC1cbiAgICAgICAgICAgIChyb290LnJlY3Qub3V0ZXIudG9wICsgcm9vdC5yZWN0LmVsZW1lbnQubWFyZ2luVG9wICsgcm9vdC5yZWN0LmVsZW1lbnQuc2Nyb2xsVG9wKSxcbiAgICB9O1xufTtcblxuY29uc3QgY2xlYXJEcmFnQ29vcmRpbmF0ZXMgPSAoeyBwcm9wcyB9KSA9PiB7XG4gICAgcHJvcHMuZHJhZ0Nvb3JkaW5hdGVzID0gbnVsbDtcbn07XG5cbmNvbnN0IHJvdXRlJDMgPSBjcmVhdGVSb3V0ZSh7XG4gICAgRElEX0RSQUc6IHN0b3JlRHJhZ0Nvb3JkaW5hdGVzLFxuICAgIERJRF9FTkRfRFJBRzogY2xlYXJEcmFnQ29vcmRpbmF0ZXMsXG59KTtcblxuY29uc3Qgd3JpdGUkNiA9ICh7IHJvb3QsIHByb3BzLCBhY3Rpb25zIH0pID0+IHtcbiAgICAvLyByb3V0ZSBhY3Rpb25zXG4gICAgcm91dGUkMyh7IHJvb3QsIHByb3BzLCBhY3Rpb25zIH0pO1xuXG4gICAgLy8gY3VycmVudCBkcmFnIHBvc2l0aW9uXG4gICAgcm9vdC5yZWYubGlzdC5kcmFnQ29vcmRpbmF0ZXMgPSBwcm9wcy5kcmFnQ29vcmRpbmF0ZXM7XG5cbiAgICAvLyBpZiBjdXJyZW50bHkgb3ZlcmZsb3dpbmcgYnV0IG5vIGxvbmdlciByZWNlaXZlZCBvdmVyZmxvd1xuICAgIGlmIChwcm9wcy5vdmVyZmxvd2luZyAmJiAhcHJvcHMub3ZlcmZsb3cpIHtcbiAgICAgICAgcHJvcHMub3ZlcmZsb3dpbmcgPSBmYWxzZTtcblxuICAgICAgICAvLyByZXNldCBvdmVyZmxvdyBzdGF0ZVxuICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5zdGF0ZSA9ICcnO1xuICAgICAgICByb290LmhlaWdodCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gaWYgaXMgbm90IG92ZXJmbG93aW5nIGN1cnJlbnRseSBidXQgZG9lcyByZWNlaXZlIG92ZXJmbG93IHZhbHVlXG4gICAgaWYgKHByb3BzLm92ZXJmbG93KSB7XG4gICAgICAgIGNvbnN0IG5ld0hlaWdodCA9IE1hdGgucm91bmQocHJvcHMub3ZlcmZsb3cpO1xuICAgICAgICBpZiAobmV3SGVpZ2h0ICE9PSByb290LmhlaWdodCkge1xuICAgICAgICAgICAgcHJvcHMub3ZlcmZsb3dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuc3RhdGUgPSAnb3ZlcmZsb3cnO1xuICAgICAgICAgICAgcm9vdC5oZWlnaHQgPSBuZXdIZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5jb25zdCBsaXN0U2Nyb2xsZXIgPSBjcmVhdGVWaWV3KHtcbiAgICBjcmVhdGU6IGNyZWF0ZSQ5LFxuICAgIHdyaXRlOiB3cml0ZSQ2LFxuICAgIG5hbWU6ICdsaXN0LXNjcm9sbGVyJyxcbiAgICBtaXhpbnM6IHtcbiAgICAgICAgYXBpczogWydvdmVyZmxvdycsICdkcmFnQ29vcmRpbmF0ZXMnXSxcbiAgICAgICAgc3R5bGVzOiBbJ2hlaWdodCcsICd0cmFuc2xhdGVZJ10sXG4gICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6ICdzcHJpbmcnLFxuICAgICAgICB9LFxuICAgIH0sXG59KTtcblxuY29uc3QgYXR0clRvZ2dsZSA9IChlbGVtZW50LCBuYW1lLCBzdGF0ZSwgZW5hYmxlZFZhbHVlID0gJycpID0+IHtcbiAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgYXR0cihlbGVtZW50LCBuYW1lLCBlbmFibGVkVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIH1cbn07XG5cbmNvbnN0IHJlc2V0RmlsZUlucHV0ID0gaW5wdXQgPT4ge1xuICAgIC8vIG5vIHZhbHVlLCBubyBuZWVkIHRvIHJlc2V0XG4gICAgaWYgKCFpbnB1dCB8fCBpbnB1dC52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIC8vIGZvciBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaW5wdXQudmFsdWUgPSAnJztcbiAgICB9IGNhdGNoIChlcnIpIHt9XG5cbiAgICAvLyBmb3IgSUUxMFxuICAgIGlmIChpbnB1dC52YWx1ZSkge1xuICAgICAgICAvLyBxdWlja2x5IGFwcGVuZCBpbnB1dCB0byB0ZW1wIGZvcm0gYW5kIHJlc2V0IGZvcm1cbiAgICAgICAgY29uc3QgZm9ybSA9IGNyZWF0ZUVsZW1lbnQkMSgnZm9ybScpO1xuICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gaW5wdXQucGFyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgcmVmID0gaW5wdXQubmV4dFNpYmxpbmc7XG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICBmb3JtLnJlc2V0KCk7XG5cbiAgICAgICAgLy8gcmUtaW5qZWN0IGlucHV0IHdoZXJlIGl0IG9yaWdpbmFsbHkgd2FzXG4gICAgICAgIGlmIChyZWYpIHtcbiAgICAgICAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGlucHV0LCByZWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5jb25zdCBjcmVhdGUkYSA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAvLyBzZXQgaWQgc28gY2FuIGJlIHJlZmVyZW5jZWQgZnJvbSBvdXRzaWRlIGxhYmVsc1xuICAgIHJvb3QuZWxlbWVudC5pZCA9IGBmaWxlcG9uZC0tYnJvd3Nlci0ke3Byb3BzLmlkfWA7XG5cbiAgICAvLyBzZXQgbmFtZSBvZiBlbGVtZW50IChpcyByZW1vdmVkIHdoZW4gYSB2YWx1ZSBpcyBzZXQpXG4gICAgYXR0cihyb290LmVsZW1lbnQsICduYW1lJywgcm9vdC5xdWVyeSgnR0VUX05BTUUnKSk7XG5cbiAgICAvLyB3ZSBoYXZlIHRvIGxpbmsgdGhpcyBlbGVtZW50IHRvIHRoZSBzdGF0dXMgZWxlbWVudFxuICAgIGF0dHIocm9vdC5lbGVtZW50LCAnYXJpYS1jb250cm9scycsIGBmaWxlcG9uZC0tYXNzaXN0YW50LSR7cHJvcHMuaWR9YCk7XG5cbiAgICAvLyBzZXQgbGFiZWwsIHdlIHVzZSBsYWJlbGxlZCBieSBhcyBvdGhlcndpc2UgdGhlIHNjcmVlbnJlYWRlciBkb2VzIG5vdCByZWFkIHRoZSBcImJyb3dzZVwiIHRleHQgaW4gdGhlIGxhYmVsIChhcyBpdCBoYXMgdGFiaW5kZXg6IDApXG4gICAgYXR0cihyb290LmVsZW1lbnQsICdhcmlhLWxhYmVsbGVkYnknLCBgZmlsZXBvbmQtLWRyb3AtbGFiZWwtJHtwcm9wcy5pZH1gKTtcblxuICAgIC8vIHNldCBjb25maWd1cmFibGUgcHJvcHNcbiAgICBzZXRBY2NlcHRlZEZpbGVUeXBlcyh7IHJvb3QsIGFjdGlvbjogeyB2YWx1ZTogcm9vdC5xdWVyeSgnR0VUX0FDQ0VQVEVEX0ZJTEVfVFlQRVMnKSB9IH0pO1xuICAgIHRvZ2dsZUFsbG93TXVsdGlwbGUoeyByb290LCBhY3Rpb246IHsgdmFsdWU6IHJvb3QucXVlcnkoJ0dFVF9BTExPV19NVUxUSVBMRScpIH0gfSk7XG4gICAgdG9nZ2xlRGlyZWN0b3J5RmlsdGVyKHsgcm9vdCwgYWN0aW9uOiB7IHZhbHVlOiByb290LnF1ZXJ5KCdHRVRfQUxMT1dfRElSRUNUT1JJRVNfT05MWScpIH0gfSk7XG4gICAgdG9nZ2xlRGlzYWJsZWQoeyByb290IH0pO1xuICAgIHRvZ2dsZVJlcXVpcmVkKHsgcm9vdCwgYWN0aW9uOiB7IHZhbHVlOiByb290LnF1ZXJ5KCdHRVRfUkVRVUlSRUQnKSB9IH0pO1xuICAgIHNldENhcHR1cmVNZXRob2QoeyByb290LCBhY3Rpb246IHsgdmFsdWU6IHJvb3QucXVlcnkoJ0dFVF9DQVBUVVJFX01FVEhPRCcpIH0gfSk7XG5cbiAgICAvLyBoYW5kbGUgY2hhbmdlcyB0byB0aGUgaW5wdXQgZmllbGRcbiAgICByb290LnJlZi5oYW5kbGVDaGFuZ2UgPSBlID0+IHtcbiAgICAgICAgaWYgKCFyb290LmVsZW1lbnQudmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGV4dHJhY3QgZmlsZXMgYW5kIG1vdmUgdmFsdWUgb2Ygd2Via2l0UmVsYXRpdmVQYXRoIHBhdGggdG8gX3JlbGF0aXZlUGF0aFxuICAgICAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20ocm9vdC5lbGVtZW50LmZpbGVzKS5tYXAoZmlsZSA9PiB7XG4gICAgICAgICAgICBmaWxlLl9yZWxhdGl2ZVBhdGggPSBmaWxlLndlYmtpdFJlbGF0aXZlUGF0aDtcbiAgICAgICAgICAgIHJldHVybiBmaWxlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB3ZSBhZGQgYSBsaXR0bGUgZGVsYXkgc28gdGhlIE9TIGZpbGUgc2VsZWN0IHdpbmRvdyBjYW4gbW92ZSBvdXQgb2YgdGhlIHdheSBiZWZvcmUgd2UgYWRkIG91ciBmaWxlXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gbG9hZCBmaWxlc1xuICAgICAgICAgICAgcHJvcHMub25sb2FkKGZpbGVzKTtcblxuICAgICAgICAgICAgLy8gcmVzZXQgaW5wdXQsIGl0J3MganVzdCBmb3IgZXhwb3NpbmcgYSBtZXRob2QgdG8gZHJvcCBmaWxlcywgc2hvdWxkIG5vdCByZXRhaW4gYW55IHN0YXRlXG4gICAgICAgICAgICByZXNldEZpbGVJbnB1dChyb290LmVsZW1lbnQpO1xuICAgICAgICB9LCAyNTApO1xuICAgIH07XG5cbiAgICByb290LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgcm9vdC5yZWYuaGFuZGxlQ2hhbmdlKTtcbn07XG5cbmNvbnN0IHNldEFjY2VwdGVkRmlsZVR5cGVzID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICBpZiAoIXJvb3QucXVlcnkoJ0dFVF9BTExPV19TWU5DX0FDQ0VQVF9BVFRSSUJVVEUnKSkgcmV0dXJuO1xuICAgIGF0dHJUb2dnbGUocm9vdC5lbGVtZW50LCAnYWNjZXB0JywgISFhY3Rpb24udmFsdWUsIGFjdGlvbi52YWx1ZSA/IGFjdGlvbi52YWx1ZS5qb2luKCcsJykgOiAnJyk7XG59O1xuXG5jb25zdCB0b2dnbGVBbGxvd011bHRpcGxlID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICBhdHRyVG9nZ2xlKHJvb3QuZWxlbWVudCwgJ211bHRpcGxlJywgYWN0aW9uLnZhbHVlKTtcbn07XG5cbmNvbnN0IHRvZ2dsZURpcmVjdG9yeUZpbHRlciA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgYXR0clRvZ2dsZShyb290LmVsZW1lbnQsICd3ZWJraXRkaXJlY3RvcnknLCBhY3Rpb24udmFsdWUpO1xufTtcblxuY29uc3QgdG9nZ2xlRGlzYWJsZWQgPSAoeyByb290IH0pID0+IHtcbiAgICBjb25zdCBpc0Rpc2FibGVkID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJyk7XG4gICAgY29uc3QgZG9lc0FsbG93QnJvd3NlID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX0JST1dTRScpO1xuICAgIGNvbnN0IGRpc2FibGVGaWVsZCA9IGlzRGlzYWJsZWQgfHwgIWRvZXNBbGxvd0Jyb3dzZTtcbiAgICBhdHRyVG9nZ2xlKHJvb3QuZWxlbWVudCwgJ2Rpc2FibGVkJywgZGlzYWJsZUZpZWxkKTtcbn07XG5cbmNvbnN0IHRvZ2dsZVJlcXVpcmVkID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICAvLyB3YW50IHRvIHJlbW92ZSByZXF1aXJlZCwgYWx3YXlzIHBvc3NpYmxlXG4gICAgaWYgKCFhY3Rpb24udmFsdWUpIHtcbiAgICAgICAgYXR0clRvZ2dsZShyb290LmVsZW1lbnQsICdyZXF1aXJlZCcsIGZhbHNlKTtcbiAgICB9XG4gICAgLy8gaWYgd2FudCB0byBtYWtlIHJlcXVpcmVkLCBvbmx5IHBvc3NpYmxlIHdoZW4gemVybyBpdGVtc1xuICAgIGVsc2UgaWYgKHJvb3QucXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpID09PSAwKSB7XG4gICAgICAgIGF0dHJUb2dnbGUocm9vdC5lbGVtZW50LCAncmVxdWlyZWQnLCB0cnVlKTtcbiAgICB9XG59O1xuXG5jb25zdCBzZXRDYXB0dXJlTWV0aG9kID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICBhdHRyVG9nZ2xlKHJvb3QuZWxlbWVudCwgJ2NhcHR1cmUnLCAhIWFjdGlvbi52YWx1ZSwgYWN0aW9uLnZhbHVlID09PSB0cnVlID8gJycgOiBhY3Rpb24udmFsdWUpO1xufTtcblxuY29uc3QgdXBkYXRlUmVxdWlyZWRTdGF0dXMgPSAoeyByb290IH0pID0+IHtcbiAgICBjb25zdCB7IGVsZW1lbnQgfSA9IHJvb3Q7XG4gICAgLy8gYWx3YXlzIHJlbW92ZSB0aGUgcmVxdWlyZWQgYXR0cmlidXRlIHdoZW4gbW9yZSB0aGFuIHplcm8gaXRlbXNcbiAgICBpZiAocm9vdC5xdWVyeSgnR0VUX1RPVEFMX0lURU1TJykgPiAwKSB7XG4gICAgICAgIGF0dHJUb2dnbGUoZWxlbWVudCwgJ3JlcXVpcmVkJywgZmFsc2UpO1xuICAgICAgICBhdHRyVG9nZ2xlKGVsZW1lbnQsICduYW1lJywgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGFkZCBuYW1lIGF0dHJpYnV0ZVxuICAgICAgICBhdHRyVG9nZ2xlKGVsZW1lbnQsICduYW1lJywgdHJ1ZSwgcm9vdC5xdWVyeSgnR0VUX05BTUUnKSk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGFueSB2YWxpZGF0aW9uIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IHNob3VsZENoZWNrVmFsaWRpdHkgPSByb290LnF1ZXJ5KCdHRVRfQ0hFQ0tfVkFMSURJVFknKTtcbiAgICAgICAgaWYgKHNob3VsZENoZWNrVmFsaWRpdHkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2Ugb25seSBhZGQgcmVxdWlyZWQgaWYgdGhlIGZpZWxkIGhhcyBiZWVuIGRlZW1lZCByZXF1aXJlZFxuICAgICAgICBpZiAocm9vdC5xdWVyeSgnR0VUX1JFUVVJUkVEJykpIHtcbiAgICAgICAgICAgIGF0dHJUb2dnbGUoZWxlbWVudCwgJ3JlcXVpcmVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5jb25zdCB1cGRhdGVGaWVsZFZhbGlkaXR5U3RhdHVzID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgY29uc3Qgc2hvdWxkQ2hlY2tWYWxpZGl0eSA9IHJvb3QucXVlcnkoJ0dFVF9DSEVDS19WQUxJRElUWScpO1xuICAgIGlmICghc2hvdWxkQ2hlY2tWYWxpZGl0eSkgcmV0dXJuO1xuICAgIHJvb3QuZWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eShyb290LnF1ZXJ5KCdHRVRfTEFCRUxfSU5WQUxJRF9GSUVMRCcpKTtcbn07XG5cbmNvbnN0IGJyb3dzZXIgPSBjcmVhdGVWaWV3KHtcbiAgICB0YWc6ICdpbnB1dCcsXG4gICAgbmFtZTogJ2Jyb3dzZXInLFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICB9LFxuICAgIGNyZWF0ZTogY3JlYXRlJGEsXG4gICAgZGVzdHJveTogKHsgcm9vdCB9KSA9PiB7XG4gICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCByb290LnJlZi5oYW5kbGVDaGFuZ2UpO1xuICAgIH0sXG4gICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgICAgRElEX0xPQURfSVRFTTogdXBkYXRlUmVxdWlyZWRTdGF0dXMsXG4gICAgICAgIERJRF9SRU1PVkVfSVRFTTogdXBkYXRlUmVxdWlyZWRTdGF0dXMsXG4gICAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IHVwZGF0ZUZpZWxkVmFsaWRpdHlTdGF0dXMsXG5cbiAgICAgICAgRElEX1NFVF9ESVNBQkxFRDogdG9nZ2xlRGlzYWJsZWQsXG4gICAgICAgIERJRF9TRVRfQUxMT1dfQlJPV1NFOiB0b2dnbGVEaXNhYmxlZCxcbiAgICAgICAgRElEX1NFVF9BTExPV19ESVJFQ1RPUklFU19PTkxZOiB0b2dnbGVEaXJlY3RvcnlGaWx0ZXIsXG4gICAgICAgIERJRF9TRVRfQUxMT1dfTVVMVElQTEU6IHRvZ2dsZUFsbG93TXVsdGlwbGUsXG4gICAgICAgIERJRF9TRVRfQUNDRVBURURfRklMRV9UWVBFUzogc2V0QWNjZXB0ZWRGaWxlVHlwZXMsXG4gICAgICAgIERJRF9TRVRfQ0FQVFVSRV9NRVRIT0Q6IHNldENhcHR1cmVNZXRob2QsXG4gICAgICAgIERJRF9TRVRfUkVRVUlSRUQ6IHRvZ2dsZVJlcXVpcmVkLFxuICAgIH0pLFxufSk7XG5cbmNvbnN0IEtleSA9IHtcbiAgICBFTlRFUjogMTMsXG4gICAgU1BBQ0U6IDMyLFxufTtcblxuY29uc3QgY3JlYXRlJGIgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgLy8gY3JlYXRlIHRoZSBsYWJlbCBhbmQgbGluayBpdCB0byB0aGUgZmlsZSBicm93c2VyXG4gICAgY29uc3QgbGFiZWwgPSBjcmVhdGVFbGVtZW50JDEoJ2xhYmVsJyk7XG4gICAgYXR0cihsYWJlbCwgJ2ZvcicsIGBmaWxlcG9uZC0tYnJvd3Nlci0ke3Byb3BzLmlkfWApO1xuXG4gICAgLy8gdXNlIGZvciBsYWJlbGluZyBmaWxlIGlucHV0IChhcmlhLWxhYmVsbGVkYnkgb24gZmlsZSBpbnB1dClcbiAgICBhdHRyKGxhYmVsLCAnaWQnLCBgZmlsZXBvbmQtLWRyb3AtbGFiZWwtJHtwcm9wcy5pZH1gKTtcblxuICAgIC8vIGhpZGUgdGhlIGxhYmVsIGZvciBzY3JlZW5yZWFkZXJzLCB0aGUgaW5wdXQgZWxlbWVudCB3aWxsIHJlYWQgdGhlIGNvbnRlbnRzIG9mIHRoZSBsYWJlbCB3aGVuIGl0J3MgZm9jdXNzZWQuIElmIHdlIGRvbid0IHNldCBhcmlhLWhpZGRlbiB0aGUgc2NyZWVucmVhZGVyIHdpbGwgYWxzbyBuYXZpZ2F0ZSB0aGUgY29udGVudHMgb2YgdGhlIGxhYmVsIHNlcGFyYXRlbHkgZnJvbSB0aGUgaW5wdXQuXG4gICAgYXR0cihsYWJlbCwgJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgIC8vIGhhbmRsZSBrZXlzXG4gICAgcm9vdC5yZWYuaGFuZGxlS2V5RG93biA9IGUgPT4ge1xuICAgICAgICBjb25zdCBpc0FjdGl2YXRpb25LZXkgPSBlLmtleUNvZGUgPT09IEtleS5FTlRFUiB8fCBlLmtleUNvZGUgPT09IEtleS5TUEFDRTtcbiAgICAgICAgaWYgKCFpc0FjdGl2YXRpb25LZXkpIHJldHVybjtcbiAgICAgICAgLy8gc3RvcHMgZnJvbSB0cmlnZ2VyaW5nIHRoZSBlbGVtZW50IGEgc2Vjb25kIHRpbWVcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIC8vIGNsaWNrIGxpbmsgKHdpbGwgdGhlbiBpbiB0dXJuIGFjdGl2YXRlIGZpbGUgaW5wdXQpXG4gICAgICAgIHJvb3QucmVmLmxhYmVsLmNsaWNrKCk7XG4gICAgfTtcblxuICAgIHJvb3QucmVmLmhhbmRsZUNsaWNrID0gZSA9PiB7XG4gICAgICAgIGNvbnN0IGlzTGFiZWxDbGljayA9IGUudGFyZ2V0ID09PSBsYWJlbCB8fCBsYWJlbC5jb250YWlucyhlLnRhcmdldCk7XG5cbiAgICAgICAgLy8gZG9uJ3Qgd2FudCB0byBjbGljayB0d2ljZVxuICAgICAgICBpZiAoaXNMYWJlbENsaWNrKSByZXR1cm47XG5cbiAgICAgICAgLy8gY2xpY2sgbGluayAod2lsbCB0aGVuIGluIHR1cm4gYWN0aXZhdGUgZmlsZSBpbnB1dClcbiAgICAgICAgcm9vdC5yZWYubGFiZWwuY2xpY2soKTtcbiAgICB9O1xuXG4gICAgLy8gYXR0YWNoIGV2ZW50c1xuICAgIGxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCByb290LnJlZi5oYW5kbGVLZXlEb3duKTtcbiAgICByb290LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVDbGljayk7XG5cbiAgICAvLyB1cGRhdGVcbiAgICB1cGRhdGVMYWJlbFZhbHVlKGxhYmVsLCBwcm9wcy5jYXB0aW9uKTtcblxuICAgIC8vIGFkZCFcbiAgICByb290LmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICByb290LnJlZi5sYWJlbCA9IGxhYmVsO1xufTtcblxuY29uc3QgdXBkYXRlTGFiZWxWYWx1ZSA9IChsYWJlbCwgdmFsdWUpID0+IHtcbiAgICBsYWJlbC5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgICBjb25zdCBjbGlja2FibGUgPSBsYWJlbC5xdWVyeVNlbGVjdG9yKCcuZmlsZXBvbmQtLWxhYmVsLWFjdGlvbicpO1xuICAgIGlmIChjbGlja2FibGUpIHtcbiAgICAgICAgYXR0cihjbGlja2FibGUsICd0YWJpbmRleCcsICcwJyk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbmNvbnN0IGRyb3BMYWJlbCA9IGNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdkcm9wLWxhYmVsJyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGNyZWF0ZTogY3JlYXRlJGIsXG4gICAgZGVzdHJveTogKHsgcm9vdCB9KSA9PiB7XG4gICAgICAgIHJvb3QucmVmLmxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCByb290LnJlZi5oYW5kbGVLZXlEb3duKTtcbiAgICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcm9vdC5yZWYuaGFuZGxlQ2xpY2spO1xuICAgIH0sXG4gICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgICAgRElEX1NFVF9MQUJFTF9JRExFOiAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgICAgICAgICAgdXBkYXRlTGFiZWxWYWx1ZShyb290LnJlZi5sYWJlbCwgYWN0aW9uLnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICB9KSxcbiAgICBtaXhpbnM6IHtcbiAgICAgICAgc3R5bGVzOiBbJ29wYWNpdHknLCAndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJ10sXG4gICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDE1MCB9LFxuICAgICAgICAgICAgdHJhbnNsYXRlWDogJ3NwcmluZycsXG4gICAgICAgICAgICB0cmFuc2xhdGVZOiAnc3ByaW5nJyxcbiAgICAgICAgfSxcbiAgICB9LFxufSk7XG5cbmNvbnN0IGJsb2IgPSBjcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnZHJpcC1ibG9iJyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIG1peGluczoge1xuICAgICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnb3BhY2l0eSddLFxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICBzY2FsZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgc2NhbGVZOiAnc3ByaW5nJyxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZycsXG4gICAgICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiAyNTAgfSxcbiAgICAgICAgfSxcbiAgICB9LFxufSk7XG5cbmNvbnN0IGFkZEJsb2IgPSAoeyByb290IH0pID0+IHtcbiAgICBjb25zdCBjZW50ZXJYID0gcm9vdC5yZWN0LmVsZW1lbnQud2lkdGggKiAwLjU7XG4gICAgY29uc3QgY2VudGVyWSA9IHJvb3QucmVjdC5lbGVtZW50LmhlaWdodCAqIDAuNTtcblxuICAgIHJvb3QucmVmLmJsb2IgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoYmxvYiwge1xuICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgIHNjYWxlWDogMi41LFxuICAgICAgICAgICAgc2NhbGVZOiAyLjUsXG4gICAgICAgICAgICB0cmFuc2xhdGVYOiBjZW50ZXJYLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogY2VudGVyWSxcbiAgICAgICAgfSlcbiAgICApO1xufTtcblxuY29uc3QgbW92ZUJsb2IgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGlmICghcm9vdC5yZWYuYmxvYikge1xuICAgICAgICBhZGRCbG9iKHsgcm9vdCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJvb3QucmVmLmJsb2IudHJhbnNsYXRlWCA9IGFjdGlvbi5wb3NpdGlvbi5zY29wZUxlZnQ7XG4gICAgcm9vdC5yZWYuYmxvYi50cmFuc2xhdGVZID0gYWN0aW9uLnBvc2l0aW9uLnNjb3BlVG9wO1xuICAgIHJvb3QucmVmLmJsb2Iuc2NhbGVYID0gMTtcbiAgICByb290LnJlZi5ibG9iLnNjYWxlWSA9IDE7XG4gICAgcm9vdC5yZWYuYmxvYi5vcGFjaXR5ID0gMTtcbn07XG5cbmNvbnN0IGhpZGVCbG9iID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgaWYgKCFyb290LnJlZi5ibG9iKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcm9vdC5yZWYuYmxvYi5vcGFjaXR5ID0gMDtcbn07XG5cbmNvbnN0IGV4cGxvZGVCbG9iID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgaWYgKCFyb290LnJlZi5ibG9iKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcm9vdC5yZWYuYmxvYi5zY2FsZVggPSAyLjU7XG4gICAgcm9vdC5yZWYuYmxvYi5zY2FsZVkgPSAyLjU7XG4gICAgcm9vdC5yZWYuYmxvYi5vcGFjaXR5ID0gMDtcbn07XG5cbmNvbnN0IHdyaXRlJDcgPSAoeyByb290LCBwcm9wcywgYWN0aW9ucyB9KSA9PiB7XG4gICAgcm91dGUkNCh7IHJvb3QsIHByb3BzLCBhY3Rpb25zIH0pO1xuXG4gICAgY29uc3QgeyBibG9iIH0gPSByb290LnJlZjtcblxuICAgIGlmIChhY3Rpb25zLmxlbmd0aCA9PT0gMCAmJiBibG9iICYmIGJsb2Iub3BhY2l0eSA9PT0gMCkge1xuICAgICAgICByb290LnJlbW92ZUNoaWxkVmlldyhibG9iKTtcbiAgICAgICAgcm9vdC5yZWYuYmxvYiA9IG51bGw7XG4gICAgfVxufTtcblxuY29uc3Qgcm91dGUkNCA9IGNyZWF0ZVJvdXRlKHtcbiAgICBESURfRFJBRzogbW92ZUJsb2IsXG4gICAgRElEX0RST1A6IGV4cGxvZGVCbG9iLFxuICAgIERJRF9FTkRfRFJBRzogaGlkZUJsb2IsXG59KTtcblxuY29uc3QgZHJpcCA9IGNyZWF0ZVZpZXcoe1xuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICBuYW1lOiAnZHJpcCcsXG4gICAgd3JpdGU6IHdyaXRlJDcsXG59KTtcblxuY29uc3Qgc2V0SW5wdXRGaWxlcyA9IChlbGVtZW50LCBmaWxlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIERhdGFUcmFuc2ZlciBpbnN0YW5jZSBhbmQgYWRkIGEgbmV3bHkgY3JlYXRlZCBmaWxlXG4gICAgICAgIGNvbnN0IGRhdGFUcmFuc2ZlciA9IG5ldyBEYXRhVHJhbnNmZXIoKTtcbiAgICAgICAgZmlsZXMuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICAgICAgICAgIGRhdGFUcmFuc2Zlci5pdGVtcy5hZGQoZmlsZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGFUcmFuc2Zlci5pdGVtcy5hZGQoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWxlKFtmaWxlXSwgZmlsZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBmaWxlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQXNzaWduIHRoZSBEYXRhVHJhbnNmZXIgZmlsZXMgbGlzdCB0byB0aGUgZmlsZSBpbnB1dFxuICAgICAgICBlbGVtZW50LmZpbGVzID0gZGF0YVRyYW5zZmVyLmZpbGVzO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcblxuY29uc3QgY3JlYXRlJGMgPSAoeyByb290IH0pID0+IChyb290LnJlZi5maWVsZHMgPSB7fSk7XG5cbmNvbnN0IGdldEZpZWxkID0gKHJvb3QsIGlkKSA9PiByb290LnJlZi5maWVsZHNbaWRdO1xuXG5jb25zdCBzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMgPSByb290ID0+IHtcbiAgICByb290LnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJykuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgaWYgKCFyb290LnJlZi5maWVsZHNbaXRlbS5pZF0pIHJldHVybjtcbiAgICAgICAgcm9vdC5lbGVtZW50LmFwcGVuZENoaWxkKHJvb3QucmVmLmZpZWxkc1tpdGVtLmlkXSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBkaWRSZW9yZGVySXRlbXMgPSAoeyByb290IH0pID0+IHN5bmNGaWVsZFBvc2l0aW9uc1dpdGhJdGVtcyhyb290KTtcblxuY29uc3QgZGlkQWRkSXRlbSA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgZmlsZUl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGFjdGlvbi5pZCk7XG4gICAgY29uc3QgaXNMb2NhbEZpbGUgPSBmaWxlSXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uTE9DQUw7XG4gICAgY29uc3Qgc2hvdWxkVXNlRmlsZUlucHV0ID0gIWlzTG9jYWxGaWxlICYmIHJvb3QucXVlcnkoJ1NIT1VMRF9VUERBVEVfRklMRV9JTlBVVCcpO1xuICAgIGNvbnN0IGRhdGFDb250YWluZXIgPSBjcmVhdGVFbGVtZW50JDEoJ2lucHV0Jyk7XG4gICAgZGF0YUNvbnRhaW5lci50eXBlID0gc2hvdWxkVXNlRmlsZUlucHV0ID8gJ2ZpbGUnIDogJ2hpZGRlbic7XG4gICAgZGF0YUNvbnRhaW5lci5uYW1lID0gcm9vdC5xdWVyeSgnR0VUX05BTUUnKTtcbiAgICBkYXRhQ29udGFpbmVyLmRpc2FibGVkID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJyk7XG4gICAgcm9vdC5yZWYuZmllbGRzW2FjdGlvbi5pZF0gPSBkYXRhQ29udGFpbmVyO1xuICAgIHN5bmNGaWVsZFBvc2l0aW9uc1dpdGhJdGVtcyhyb290KTtcbn07XG5cbmNvbnN0IGRpZExvYWRJdGVtJDEgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGNvbnN0IGZpZWxkID0gZ2V0RmllbGQocm9vdCwgYWN0aW9uLmlkKTtcbiAgICBpZiAoIWZpZWxkKSByZXR1cm47XG5cbiAgICAvLyBzdG9yZSBzZXJ2ZXIgcmVmIGluIGhpZGRlbiBpbnB1dFxuICAgIGlmIChhY3Rpb24uc2VydmVyRmlsZVJlZmVyZW5jZSAhPT0gbnVsbCkgZmllbGQudmFsdWUgPSBhY3Rpb24uc2VydmVyRmlsZVJlZmVyZW5jZTtcblxuICAgIC8vIHN0b3JlIGZpbGUgaXRlbSBpbiBmaWxlIGlucHV0XG4gICAgaWYgKCFyb290LnF1ZXJ5KCdTSE9VTERfVVBEQVRFX0ZJTEVfSU5QVVQnKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgZmlsZUl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGFjdGlvbi5pZCk7XG4gICAgc2V0SW5wdXRGaWxlcyhmaWVsZCwgW2ZpbGVJdGVtLmZpbGVdKTtcbn07XG5cbmNvbnN0IGRpZFByZXBhcmVPdXRwdXQgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIC8vIHRoaXMgdGltZW91dCBwdXNoZXMgdGhlIGhhbmRsZXIgYWZ0ZXIgJ2xvYWQnXG4gICAgaWYgKCFyb290LnF1ZXJ5KCdTSE9VTERfVVBEQVRFX0ZJTEVfSU5QVVQnKSkgcmV0dXJuO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBmaWVsZCA9IGdldEZpZWxkKHJvb3QsIGFjdGlvbi5pZCk7XG4gICAgICAgIGlmICghZmllbGQpIHJldHVybjtcbiAgICAgICAgc2V0SW5wdXRGaWxlcyhmaWVsZCwgW2FjdGlvbi5maWxlXSk7XG4gICAgfSwgMCk7XG59O1xuXG5jb25zdCBkaWRTZXREaXNhYmxlZCA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIHJvb3QuZWxlbWVudC5kaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xufTtcblxuY29uc3QgZGlkUmVtb3ZlSXRlbSA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgZmllbGQgPSBnZXRGaWVsZChyb290LCBhY3Rpb24uaWQpO1xuICAgIGlmICghZmllbGQpIHJldHVybjtcbiAgICBpZiAoZmllbGQucGFyZW50Tm9kZSkgZmllbGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmaWVsZCk7XG4gICAgZGVsZXRlIHJvb3QucmVmLmZpZWxkc1thY3Rpb24uaWRdO1xufTtcblxuLy8gb25seSBydW5zIGZvciBzZXJ2ZXIgZmlsZXMgKHNvIGRvZXNuJ3QgZGVhbCB3aXRoIGZpbGUgaW5wdXQpXG5jb25zdCBkaWREZWZpbmVWYWx1ZSA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgZmllbGQgPSBnZXRGaWVsZChyb290LCBhY3Rpb24uaWQpO1xuICAgIGlmICghZmllbGQpIHJldHVybjtcbiAgICBpZiAoYWN0aW9uLnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIC8vIGNsZWFyIGZpZWxkIHZhbHVlXG4gICAgICAgIGZpZWxkLnJlbW92ZUF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBzZXQgZmllbGQgdmFsdWVcbiAgICAgICAgZmllbGQudmFsdWUgPSBhY3Rpb24udmFsdWU7XG4gICAgfVxuICAgIHN5bmNGaWVsZFBvc2l0aW9uc1dpdGhJdGVtcyhyb290KTtcbn07XG5cbmNvbnN0IHdyaXRlJDggPSBjcmVhdGVSb3V0ZSh7XG4gICAgRElEX1NFVF9ESVNBQkxFRDogZGlkU2V0RGlzYWJsZWQsXG4gICAgRElEX0FERF9JVEVNOiBkaWRBZGRJdGVtLFxuICAgIERJRF9MT0FEX0lURU06IGRpZExvYWRJdGVtJDEsXG4gICAgRElEX1JFTU9WRV9JVEVNOiBkaWRSZW1vdmVJdGVtLFxuICAgIERJRF9ERUZJTkVfVkFMVUU6IGRpZERlZmluZVZhbHVlLFxuICAgIERJRF9QUkVQQVJFX09VVFBVVDogZGlkUHJlcGFyZU91dHB1dCxcbiAgICBESURfUkVPUkRFUl9JVEVNUzogZGlkUmVvcmRlckl0ZW1zLFxuICAgIERJRF9TT1JUX0lURU1TOiBkaWRSZW9yZGVySXRlbXMsXG59KTtcblxuY29uc3QgZGF0YSA9IGNyZWF0ZVZpZXcoe1xuICAgIHRhZzogJ2ZpZWxkc2V0JyxcbiAgICBuYW1lOiAnZGF0YScsXG4gICAgY3JlYXRlOiBjcmVhdGUkYyxcbiAgICB3cml0ZTogd3JpdGUkOCxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxufSk7XG5cbmNvbnN0IGdldFJvb3ROb2RlID0gZWxlbWVudCA9PiAoJ2dldFJvb3ROb2RlJyBpbiBlbGVtZW50ID8gZWxlbWVudC5nZXRSb290Tm9kZSgpIDogZG9jdW1lbnQpO1xuXG5jb25zdCBpbWFnZXMgPSBbJ2pwZycsICdqcGVnJywgJ3BuZycsICdnaWYnLCAnYm1wJywgJ3dlYnAnLCAnc3ZnJywgJ3RpZmYnXTtcbmNvbnN0IHRleHQkMSA9IFsnY3NzJywgJ2NzdicsICdodG1sJywgJ3R4dCddO1xuY29uc3QgbWFwID0ge1xuICAgIHppcDogJ3ppcHxjb21wcmVzc2VkJyxcbiAgICBlcHViOiAnYXBwbGljYXRpb24vZXB1Yit6aXAnLFxufTtcblxuY29uc3QgZ3Vlc3N0aW1hdGVNaW1lVHlwZSA9IChleHRlbnNpb24gPSAnJykgPT4ge1xuICAgIGV4dGVuc2lvbiA9IGV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChpbWFnZXMuaW5jbHVkZXMoZXh0ZW5zaW9uKSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgJ2ltYWdlLycgKyAoZXh0ZW5zaW9uID09PSAnanBnJyA/ICdqcGVnJyA6IGV4dGVuc2lvbiA9PT0gJ3N2ZycgPyAnc3ZnK3htbCcgOiBleHRlbnNpb24pXG4gICAgICAgICk7XG4gICAgfVxuICAgIGlmICh0ZXh0JDEuaW5jbHVkZXMoZXh0ZW5zaW9uKSkge1xuICAgICAgICByZXR1cm4gJ3RleHQvJyArIGV4dGVuc2lvbjtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwW2V4dGVuc2lvbl0gfHwgJyc7XG59O1xuXG5jb25zdCByZXF1ZXN0RGF0YVRyYW5zZmVySXRlbXMgPSBkYXRhVHJhbnNmZXIgPT5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIHRyeSB0byBnZXQgbGlua3MgZnJvbSB0cmFuc2ZlciwgaWYgZm91bmQgd2UnbGwgZXhpdCBpbW1lZGlhdGVseSAodW5sZXNzIGEgZmlsZSBpcyBpbiB0aGUgZGF0YVRyYW5zZmVyIGFzIHdlbGwsIHRoaXMgaXMgYmVjYXVzZSBGaXJlZm94IGNvdWxkIHJlcHJlc2VudCB0aGUgZmlsZSBhcyBhIFVSTCBhbmQgYSBmaWxlIG9iamVjdCBhdCB0aGUgc2FtZSB0aW1lKVxuICAgICAgICBjb25zdCBsaW5rcyA9IGdldExpbmtzKGRhdGFUcmFuc2Zlcik7XG4gICAgICAgIGlmIChsaW5rcy5sZW5ndGggJiYgIWhhc0ZpbGVzKGRhdGFUcmFuc2ZlcikpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGxpbmtzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0cnkgdG8gZ2V0IGZpbGVzIGZyb20gdGhlIHRyYW5zZmVyXG4gICAgICAgIGdldEZpbGVzKGRhdGFUcmFuc2ZlcikudGhlbihyZXNvbHZlKTtcbiAgICB9KTtcblxuLyoqXG4gKiBUZXN0IGlmIGRhdGF0cmFuc2ZlciBoYXMgZmlsZXNcbiAqL1xuY29uc3QgaGFzRmlsZXMgPSBkYXRhVHJhbnNmZXIgPT4ge1xuICAgIGlmIChkYXRhVHJhbnNmZXIuZmlsZXMpIHJldHVybiBkYXRhVHJhbnNmZXIuZmlsZXMubGVuZ3RoID4gMDtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIEV4dHJhY3RzIGZpbGVzIGZyb20gYSBEYXRhVHJhbnNmZXIgb2JqZWN0XG4gKi9cbmNvbnN0IGdldEZpbGVzID0gZGF0YVRyYW5zZmVyID0+XG4gICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBnZXQgdGhlIHRyYW5zZmVyIGl0ZW1zIGFzIHByb21pc2VzXG4gICAgICAgIGNvbnN0IHByb21pc2VkRmlsZXMgPSAoZGF0YVRyYW5zZmVyLml0ZW1zID8gQXJyYXkuZnJvbShkYXRhVHJhbnNmZXIuaXRlbXMpIDogW10pXG5cbiAgICAgICAgICAgIC8vIG9ubHkga2VlcCBmaWxlIHN5c3RlbSBpdGVtcyAoZmlsZXMgYW5kIGRpcmVjdG9yaWVzKVxuICAgICAgICAgICAgLmZpbHRlcihpdGVtID0+IGlzRmlsZVN5c3RlbUl0ZW0oaXRlbSkpXG5cbiAgICAgICAgICAgIC8vIG1hcCBlYWNoIGl0ZW0gdG8gcHJvbWlzZVxuICAgICAgICAgICAgLm1hcChpdGVtID0+IGdldEZpbGVzRnJvbUl0ZW0oaXRlbSkpO1xuXG4gICAgICAgIC8vIGlmIGlzIGVtcHR5LCBzZWUgaWYgd2UgY2FuIGV4dHJhY3Qgc29tZSBpbmZvIGZyb20gdGhlIGZpbGVzIHByb3BlcnR5IGFzIGEgZmFsbGJhY2tcbiAgICAgICAgaWYgKCFwcm9taXNlZEZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gVE9ETzogdGVzdCBmb3IgZGlyZWN0b3JpZXMgKHNob3VsZCBub3QgYmUgYWxsb3dlZClcbiAgICAgICAgICAgIC8vIFVzZSBGaWxlUmVhZGVyLCBwcm9ibGVtIGlzIHRoYXQgdGhlIGZpbGVzIHByb3BlcnR5IGdldHMgbG9zdCBpbiB0aGUgcHJvY2Vzc1xuICAgICAgICAgICAgcmVzb2x2ZShkYXRhVHJhbnNmZXIuZmlsZXMgPyBBcnJheS5mcm9tKGRhdGFUcmFuc2Zlci5maWxlcykgOiBbXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb25lIVxuICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlZEZpbGVzKVxuICAgICAgICAgICAgLnRoZW4ocmV0dXJuZWRGaWxlR3JvdXBzID0+IHtcbiAgICAgICAgICAgICAgICAvLyBmbGF0dGVuIGdyb3Vwc1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gW107XG4gICAgICAgICAgICAgICAgcmV0dXJuZWRGaWxlR3JvdXBzLmZvckVhY2goZ3JvdXAgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmaWxlcy5wdXNoLmFwcGx5KGZpbGVzLCBncm91cCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBkb25lIChmaWx0ZXIgb3V0IGVtcHR5IGZpbGVzKSFcbiAgICAgICAgICAgICAgICByZXNvbHZlKFxuICAgICAgICAgICAgICAgICAgICBmaWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmaWxlID0+IGZpbGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZpbGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlsZS5fcmVsYXRpdmVQYXRoKSBmaWxlLl9yZWxhdGl2ZVBhdGggPSBmaWxlLndlYmtpdFJlbGF0aXZlUGF0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfSk7XG5cbmNvbnN0IGlzRmlsZVN5c3RlbUl0ZW0gPSBpdGVtID0+IHtcbiAgICBpZiAoaXNFbnRyeShpdGVtKSkge1xuICAgICAgICBjb25zdCBlbnRyeSA9IGdldEFzRW50cnkoaXRlbSk7XG4gICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmlzRmlsZSB8fCBlbnRyeS5pc0RpcmVjdG9yeTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXRlbS5raW5kID09PSAnZmlsZSc7XG59O1xuXG5jb25zdCBnZXRGaWxlc0Zyb21JdGVtID0gaXRlbSA9PlxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgaWYgKGlzRGlyZWN0b3J5RW50cnkoaXRlbSkpIHtcbiAgICAgICAgICAgIGdldEZpbGVzSW5EaXJlY3RvcnkoZ2V0QXNFbnRyeShpdGVtKSlcbiAgICAgICAgICAgICAgICAudGhlbihyZXNvbHZlKVxuICAgICAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZShbaXRlbS5nZXRBc0ZpbGUoKV0pO1xuICAgIH0pO1xuXG5jb25zdCBnZXRGaWxlc0luRGlyZWN0b3J5ID0gZW50cnkgPT5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGZpbGVzID0gW107XG5cbiAgICAgICAgLy8gdGhlIHRvdGFsIGVudHJpZXMgdG8gcmVhZFxuICAgICAgICBsZXQgZGlyQ291bnRlciA9IDA7XG4gICAgICAgIGxldCBmaWxlQ291bnRlciA9IDA7XG5cbiAgICAgICAgY29uc3QgcmVzb2x2ZUlmRG9uZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChmaWxlQ291bnRlciA9PT0gMCAmJiBkaXJDb3VudGVyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShmaWxlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gdGhlIHJlY3Vyc2l2ZSBmdW5jdGlvblxuICAgICAgICBjb25zdCByZWFkRW50cmllcyA9IGRpckVudHJ5ID0+IHtcbiAgICAgICAgICAgIGRpckNvdW50ZXIrKztcblxuICAgICAgICAgICAgY29uc3QgZGlyZWN0b3J5UmVhZGVyID0gZGlyRW50cnkuY3JlYXRlUmVhZGVyKCk7XG5cbiAgICAgICAgICAgIC8vIGRpcmVjdG9yaWVzIGFyZSByZXR1cm5lZCBpbiBiYXRjaGVzLCB3ZSBuZWVkIHRvIHByb2Nlc3MgYWxsIGJhdGNoZXMgYmVmb3JlIHdlJ3JlIGRvbmVcbiAgICAgICAgICAgIGNvbnN0IHJlYWRCYXRjaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBkaXJlY3RvcnlSZWFkZXIucmVhZEVudHJpZXMoZW50cmllcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlyQ291bnRlci0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUlmRG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IHJlYWQgbW9yZSBkaXJlY3Rvcmllc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LmlzRGlyZWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZEVudHJpZXMoZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWFkIGFzIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlQ291bnRlcisrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuZmlsZShmaWxlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29ycmVjdGVkRmlsZSA9IGNvcnJlY3RNaXNzaW5nRmlsZVR5cGUoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5mdWxsUGF0aCkgY29ycmVjdGVkRmlsZS5fcmVsYXRpdmVQYXRoID0gZW50cnkuZnVsbFBhdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzLnB1c2goY29ycmVjdGVkRmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVDb3VudGVyLS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVJZkRvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHRvIGdldCBuZXh0IGJhdGNoIG9mIGZpbGVzXG4gICAgICAgICAgICAgICAgICAgIHJlYWRCYXRjaCgpO1xuICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyByZWFkIGZpcnN0IGJhdGNoIG9mIGZpbGVzXG4gICAgICAgICAgICByZWFkQmF0Y2goKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBnbyFcbiAgICAgICAgcmVhZEVudHJpZXMoZW50cnkpO1xuICAgIH0pO1xuXG5jb25zdCBjb3JyZWN0TWlzc2luZ0ZpbGVUeXBlID0gZmlsZSA9PiB7XG4gICAgaWYgKGZpbGUudHlwZS5sZW5ndGgpIHJldHVybiBmaWxlO1xuICAgIGNvbnN0IGRhdGUgPSBmaWxlLmxhc3RNb2RpZmllZERhdGU7XG4gICAgY29uc3QgbmFtZSA9IGZpbGUubmFtZTtcbiAgICBjb25zdCB0eXBlID0gZ3Vlc3N0aW1hdGVNaW1lVHlwZShnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUoZmlsZS5uYW1lKSk7XG4gICAgaWYgKCF0eXBlLmxlbmd0aCkgcmV0dXJuIGZpbGU7XG4gICAgZmlsZSA9IGZpbGUuc2xpY2UoMCwgZmlsZS5zaXplLCB0eXBlKTtcbiAgICBmaWxlLm5hbWUgPSBuYW1lO1xuICAgIGZpbGUubGFzdE1vZGlmaWVkRGF0ZSA9IGRhdGU7XG4gICAgcmV0dXJuIGZpbGU7XG59O1xuXG5jb25zdCBpc0RpcmVjdG9yeUVudHJ5ID0gaXRlbSA9PiBpc0VudHJ5KGl0ZW0pICYmIChnZXRBc0VudHJ5KGl0ZW0pIHx8IHt9KS5pc0RpcmVjdG9yeTtcblxuY29uc3QgaXNFbnRyeSA9IGl0ZW0gPT4gJ3dlYmtpdEdldEFzRW50cnknIGluIGl0ZW07XG5cbmNvbnN0IGdldEFzRW50cnkgPSBpdGVtID0+IGl0ZW0ud2Via2l0R2V0QXNFbnRyeSgpO1xuXG4vKipcbiAqIEV4dHJhY3RzIGxpbmtzIGZyb20gYSBEYXRhVHJhbnNmZXIgb2JqZWN0XG4gKi9cbmNvbnN0IGdldExpbmtzID0gZGF0YVRyYW5zZmVyID0+IHtcbiAgICBsZXQgbGlua3MgPSBbXTtcbiAgICB0cnkge1xuICAgICAgICAvLyBsb29rIGluIG1ldGEgZGF0YSBwcm9wZXJ0eVxuICAgICAgICBsaW5rcyA9IGdldExpbmtzRnJvbVRyYW5zZmVyTWV0YURhdGEoZGF0YVRyYW5zZmVyKTtcbiAgICAgICAgaWYgKGxpbmtzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGxpbmtzO1xuICAgICAgICB9XG4gICAgICAgIGxpbmtzID0gZ2V0TGlua3NGcm9tVHJhbnNmZXJVUkxEYXRhKGRhdGFUcmFuc2Zlcik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBub3BlIG5vcGUgbm9wZSAocHJvYmFibHkgSUUgdHJvdWJsZSlcbiAgICB9XG4gICAgcmV0dXJuIGxpbmtzO1xufTtcblxuY29uc3QgZ2V0TGlua3NGcm9tVHJhbnNmZXJVUkxEYXRhID0gZGF0YVRyYW5zZmVyID0+IHtcbiAgICBsZXQgZGF0YSA9IGRhdGFUcmFuc2Zlci5nZXREYXRhKCd1cmwnKTtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbZGF0YV07XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn07XG5cbmNvbnN0IGdldExpbmtzRnJvbVRyYW5zZmVyTWV0YURhdGEgPSBkYXRhVHJhbnNmZXIgPT4ge1xuICAgIGxldCBkYXRhID0gZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvaHRtbCcpO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgJiYgZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IGRhdGEubWF0Y2goL3NyY1xccyo9XFxzKlwiKC4rPylcIi8pO1xuICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgcmV0dXJuIFttYXRjaGVzWzFdXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW107XG59O1xuXG5jb25zdCBkcmFnTkRyb3BPYnNlcnZlcnMgPSBbXTtcblxuY29uc3QgZXZlbnRQb3NpdGlvbiA9IGUgPT4gKHtcbiAgICBwYWdlTGVmdDogZS5wYWdlWCxcbiAgICBwYWdlVG9wOiBlLnBhZ2VZLFxuICAgIHNjb3BlTGVmdDogZS5vZmZzZXRYIHx8IGUubGF5ZXJYLFxuICAgIHNjb3BlVG9wOiBlLm9mZnNldFkgfHwgZS5sYXllclksXG59KTtcblxuY29uc3QgY3JlYXRlRHJhZ05Ecm9wQ2xpZW50ID0gKGVsZW1lbnQsIHNjb3BlVG9PYnNlcnZlLCBmaWx0ZXJFbGVtZW50KSA9PiB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBnZXREcmFnTkRyb3BPYnNlcnZlcihzY29wZVRvT2JzZXJ2ZSk7XG5cbiAgICBjb25zdCBjbGllbnQgPSB7XG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGZpbHRlckVsZW1lbnQsXG4gICAgICAgIHN0YXRlOiBudWxsLFxuICAgICAgICBvbmRyb3A6ICgpID0+IHt9LFxuICAgICAgICBvbmVudGVyOiAoKSA9PiB7fSxcbiAgICAgICAgb25kcmFnOiAoKSA9PiB7fSxcbiAgICAgICAgb25leGl0OiAoKSA9PiB7fSxcbiAgICAgICAgb25sb2FkOiAoKSA9PiB7fSxcbiAgICAgICAgYWxsb3dkcm9wOiAoKSA9PiB7fSxcbiAgICB9O1xuXG4gICAgY2xpZW50LmRlc3Ryb3kgPSBvYnNlcnZlci5hZGRMaXN0ZW5lcihjbGllbnQpO1xuXG4gICAgcmV0dXJuIGNsaWVudDtcbn07XG5cbmNvbnN0IGdldERyYWdORHJvcE9ic2VydmVyID0gZWxlbWVudCA9PiB7XG4gICAgLy8gc2VlIGlmIGFscmVhZHkgZXhpc3RzLCBpZiBzbywgcmV0dXJuXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBkcmFnTkRyb3BPYnNlcnZlcnMuZmluZChpdGVtID0+IGl0ZW0uZWxlbWVudCA9PT0gZWxlbWVudCk7XG4gICAgaWYgKG9ic2VydmVyKSB7XG4gICAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgbmV3IG9ic2VydmVyLCBkb2VzIG5vdCB5ZXQgZXhpc3QgZm9yIHRoaXMgZWxlbWVudFxuICAgIGNvbnN0IG5ld09ic2VydmVyID0gY3JlYXRlRHJhZ05Ecm9wT2JzZXJ2ZXIoZWxlbWVudCk7XG4gICAgZHJhZ05Ecm9wT2JzZXJ2ZXJzLnB1c2gobmV3T2JzZXJ2ZXIpO1xuICAgIHJldHVybiBuZXdPYnNlcnZlcjtcbn07XG5cbmNvbnN0IGNyZWF0ZURyYWdORHJvcE9ic2VydmVyID0gZWxlbWVudCA9PiB7XG4gICAgY29uc3QgY2xpZW50cyA9IFtdO1xuXG4gICAgY29uc3Qgcm91dGVzID0ge1xuICAgICAgICBkcmFnZW50ZXIsXG4gICAgICAgIGRyYWdvdmVyLFxuICAgICAgICBkcmFnbGVhdmUsXG4gICAgICAgIGRyb3AsXG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZXJzID0ge307XG5cbiAgICBmb3Jpbihyb3V0ZXMsIChldmVudCwgY3JlYXRlSGFuZGxlcikgPT4ge1xuICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBjcmVhdGVIYW5kbGVyKGVsZW1lbnQsIGNsaWVudHMpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXJzW2V2ZW50XSwgZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSB7XG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGFkZExpc3RlbmVyOiBjbGllbnQgPT4ge1xuICAgICAgICAgICAgLy8gYWRkIGFzIGNsaWVudFxuICAgICAgICAgICAgY2xpZW50cy5wdXNoKGNsaWVudCk7XG5cbiAgICAgICAgICAgIC8vIHJldHVybiByZW1vdmVMaXN0ZW5lciBmdW5jdGlvblxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgY2xpZW50XG4gICAgICAgICAgICAgICAgY2xpZW50cy5zcGxpY2UoY2xpZW50cy5pbmRleE9mKGNsaWVudCksIDEpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgbm8gbW9yZSBjbGllbnRzLCBjbGVhbiB1cCBvYnNlcnZlclxuICAgICAgICAgICAgICAgIGlmIChjbGllbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkcmFnTkRyb3BPYnNlcnZlcnMuc3BsaWNlKGRyYWdORHJvcE9ic2VydmVycy5pbmRleE9mKG9ic2VydmVyKSwgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yaW4ocm91dGVzLCBldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXJzW2V2ZW50XSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH07XG5cbiAgICByZXR1cm4gb2JzZXJ2ZXI7XG59O1xuXG5jb25zdCBlbGVtZW50RnJvbVBvaW50ID0gKHJvb3QsIHBvaW50KSA9PiB7XG4gICAgaWYgKCEoJ2VsZW1lbnRGcm9tUG9pbnQnIGluIHJvb3QpKSB7XG4gICAgICAgIHJvb3QgPSBkb2N1bWVudDtcbiAgICB9XG4gICAgcmV0dXJuIHJvb3QuZWxlbWVudEZyb21Qb2ludChwb2ludC54LCBwb2ludC55KTtcbn07XG5cbmNvbnN0IGlzRXZlbnRUYXJnZXQgPSAoZSwgdGFyZ2V0KSA9PiB7XG4gICAgLy8gZ2V0IHJvb3RcbiAgICBjb25zdCByb290ID0gZ2V0Um9vdE5vZGUodGFyZ2V0KTtcblxuICAgIC8vIGdldCBlbGVtZW50IGF0IHBvc2l0aW9uXG4gICAgLy8gaWYgcm9vdCBpcyBub3QgYWN0dWFsIHNoYWRvdyBET00gYW5kIGRvZXMgbm90IGhhdmUgZWxlbWVudEZyb21Qb2ludCBtZXRob2QsIHVzZSB0aGUgb25lIG9uIGRvY3VtZW50XG4gICAgY29uc3QgZWxlbWVudEF0UG9zaXRpb24gPSBlbGVtZW50RnJvbVBvaW50KHJvb3QsIHtcbiAgICAgICAgeDogZS5wYWdlWCAtIHdpbmRvdy5wYWdlWE9mZnNldCxcbiAgICAgICAgeTogZS5wYWdlWSAtIHdpbmRvdy5wYWdlWU9mZnNldCxcbiAgICB9KTtcblxuICAgIC8vIHRlc3QgaWYgdGFyZ2V0IGlzIHRoZSBlbGVtZW50IG9yIGlmIG9uZSBvZiBpdHMgY2hpbGRyZW4gaXNcbiAgICByZXR1cm4gZWxlbWVudEF0UG9zaXRpb24gPT09IHRhcmdldCB8fCB0YXJnZXQuY29udGFpbnMoZWxlbWVudEF0UG9zaXRpb24pO1xufTtcblxubGV0IGluaXRpYWxUYXJnZXQgPSBudWxsO1xuXG5jb25zdCBzZXREcm9wRWZmZWN0ID0gKGRhdGFUcmFuc2ZlciwgZWZmZWN0KSA9PiB7XG4gICAgLy8gaXMgaW4gdHJ5IGNhdGNoIGFzIElFMTEgd2lsbCB0aHJvdyBlcnJvciBpZiBub3RcbiAgICB0cnkge1xuICAgICAgICBkYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9IGVmZmVjdDtcbiAgICB9IGNhdGNoIChlKSB7fVxufTtcblxuY29uc3QgZHJhZ2VudGVyID0gKHJvb3QsIGNsaWVudHMpID0+IGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGluaXRpYWxUYXJnZXQgPSBlLnRhcmdldDtcblxuICAgIGNsaWVudHMuZm9yRWFjaChjbGllbnQgPT4ge1xuICAgICAgICBjb25zdCB7IGVsZW1lbnQsIG9uZW50ZXIgfSA9IGNsaWVudDtcblxuICAgICAgICBpZiAoaXNFdmVudFRhcmdldChlLCBlbGVtZW50KSkge1xuICAgICAgICAgICAgY2xpZW50LnN0YXRlID0gJ2VudGVyJztcblxuICAgICAgICAgICAgLy8gZmlyZSBlbnRlciBldmVudFxuICAgICAgICAgICAgb25lbnRlcihldmVudFBvc2l0aW9uKGUpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuY29uc3QgZHJhZ292ZXIgPSAocm9vdCwgY2xpZW50cykgPT4gZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgZGF0YVRyYW5zZmVyID0gZS5kYXRhVHJhbnNmZXI7XG5cbiAgICByZXF1ZXN0RGF0YVRyYW5zZmVySXRlbXMoZGF0YVRyYW5zZmVyKS50aGVuKGl0ZW1zID0+IHtcbiAgICAgICAgbGV0IG92ZXJEcm9wVGFyZ2V0ID0gZmFsc2U7XG5cbiAgICAgICAgY2xpZW50cy5zb21lKGNsaWVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGZpbHRlckVsZW1lbnQsIGVsZW1lbnQsIG9uZW50ZXIsIG9uZXhpdCwgb25kcmFnLCBhbGxvd2Ryb3AgfSA9IGNsaWVudDtcblxuICAgICAgICAgICAgLy8gYnkgZGVmYXVsdCB3ZSBjYW4gZHJvcFxuICAgICAgICAgICAgc2V0RHJvcEVmZmVjdChkYXRhVHJhbnNmZXIsICdjb3B5Jyk7XG5cbiAgICAgICAgICAgIC8vIGFsbG93IHRyYW5zZmVyIG9mIHRoZXNlIGl0ZW1zXG4gICAgICAgICAgICBjb25zdCBhbGxvd3NUcmFuc2ZlciA9IGFsbG93ZHJvcChpdGVtcyk7XG5cbiAgICAgICAgICAgIC8vIG9ubHkgdXNlZCB3aGVuIGNhbiBiZSBkcm9wcGVkIG9uIHBhZ2VcbiAgICAgICAgICAgIGlmICghYWxsb3dzVHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICBzZXREcm9wRWZmZWN0KGRhdGFUcmFuc2ZlciwgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRhcmdldHRpbmcgdGhpcyBjbGllbnRcbiAgICAgICAgICAgIGlmIChpc0V2ZW50VGFyZ2V0KGUsIGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgb3ZlckRyb3BUYXJnZXQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgLy8gaGFkIG5vIHByZXZpb3VzIHN0YXRlLCBtZWFucyB3ZSBhcmUgZW50ZXJpbmcgdGhpcyBjbGllbnRcbiAgICAgICAgICAgICAgICBpZiAoY2xpZW50LnN0YXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5zdGF0ZSA9ICdlbnRlcic7XG4gICAgICAgICAgICAgICAgICAgIG9uZW50ZXIoZXZlbnRQb3NpdGlvbihlKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBub3cgb3ZlciBlbGVtZW50IChubyBtYXR0ZXIgaWYgaXQgYWxsb3dzIHRoZSBkcm9wIG9yIG5vdClcbiAgICAgICAgICAgICAgICBjbGllbnQuc3RhdGUgPSAnb3Zlcic7XG5cbiAgICAgICAgICAgICAgICAvLyBuZWVkcyB0byBhbGxvdyB0cmFuc2ZlclxuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJFbGVtZW50ICYmICFhbGxvd3NUcmFuc2Zlcikge1xuICAgICAgICAgICAgICAgICAgICBzZXREcm9wRWZmZWN0KGRhdGFUcmFuc2ZlciwgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGRyYWdnaW5nXG4gICAgICAgICAgICAgICAgb25kcmFnKGV2ZW50UG9zaXRpb24oZSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgYmUgb3ZlciBhbiBlbGVtZW50IHRvIGRyb3BcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyRWxlbWVudCAmJiAhb3ZlckRyb3BUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RHJvcEVmZmVjdChkYXRhVHJhbnNmZXIsICdub25lJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbWlnaHQgaGF2ZSBqdXN0IGxlZnQgdGhpcyBjbGllbnQ/XG4gICAgICAgICAgICAgICAgaWYgKGNsaWVudC5zdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQuc3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBvbmV4aXQoZXZlbnRQb3NpdGlvbihlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGRyb3AgPSAocm9vdCwgY2xpZW50cykgPT4gZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgZGF0YVRyYW5zZmVyID0gZS5kYXRhVHJhbnNmZXI7XG5cbiAgICByZXF1ZXN0RGF0YVRyYW5zZmVySXRlbXMoZGF0YVRyYW5zZmVyKS50aGVuKGl0ZW1zID0+IHtcbiAgICAgICAgY2xpZW50cy5mb3JFYWNoKGNsaWVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGZpbHRlckVsZW1lbnQsIGVsZW1lbnQsIG9uZHJvcCwgb25leGl0LCBhbGxvd2Ryb3AgfSA9IGNsaWVudDtcblxuICAgICAgICAgICAgY2xpZW50LnN0YXRlID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gaWYgd2UncmUgZmlsdGVyaW5nIG9uIGVsZW1lbnQgd2UgbmVlZCB0byBiZSBvdmVyIHRoZSBlbGVtZW50IHRvIGRyb3BcbiAgICAgICAgICAgIGlmIChmaWx0ZXJFbGVtZW50ICYmICFpc0V2ZW50VGFyZ2V0KGUsIGVsZW1lbnQpKSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIG5vIHRyYW5zZmVyIGZvciB0aGlzIGNsaWVudFxuICAgICAgICAgICAgaWYgKCFhbGxvd2Ryb3AoaXRlbXMpKSByZXR1cm4gb25leGl0KGV2ZW50UG9zaXRpb24oZSkpO1xuXG4gICAgICAgICAgICAvLyB3ZSBjYW4gZHJvcCB0aGVzZSBpdGVtcyBvbiB0aGlzIGNsaWVudFxuICAgICAgICAgICAgb25kcm9wKGV2ZW50UG9zaXRpb24oZSksIGl0ZW1zKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBkcmFnbGVhdmUgPSAocm9vdCwgY2xpZW50cykgPT4gZSA9PiB7XG4gICAgaWYgKGluaXRpYWxUYXJnZXQgIT09IGUudGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjbGllbnRzLmZvckVhY2goY2xpZW50ID0+IHtcbiAgICAgICAgY29uc3QgeyBvbmV4aXQgfSA9IGNsaWVudDtcblxuICAgICAgICBjbGllbnQuc3RhdGUgPSBudWxsO1xuXG4gICAgICAgIG9uZXhpdChldmVudFBvc2l0aW9uKGUpKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGNyZWF0ZUhvcHBlciA9IChzY29wZSwgdmFsaWRhdGVJdGVtcywgb3B0aW9ucykgPT4ge1xuICAgIC8vIGlzIG5vdyBob3BwZXIgc2NvcGVcbiAgICBzY29wZS5jbGFzc0xpc3QuYWRkKCdmaWxlcG9uZC0taG9wcGVyJyk7XG5cbiAgICAvLyBzaG9ydGN1dHNcbiAgICBjb25zdCB7IGNhdGNoZXNEcm9wc09uUGFnZSwgcmVxdWlyZXNEcm9wT25FbGVtZW50LCBmaWx0ZXJJdGVtcyA9IGl0ZW1zID0+IGl0ZW1zIH0gPSBvcHRpb25zO1xuXG4gICAgLy8gY3JlYXRlIGEgZG5kIGNsaWVudFxuICAgIGNvbnN0IGNsaWVudCA9IGNyZWF0ZURyYWdORHJvcENsaWVudChcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGNhdGNoZXNEcm9wc09uUGFnZSA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IHNjb3BlLFxuICAgICAgICByZXF1aXJlc0Ryb3BPbkVsZW1lbnRcbiAgICApO1xuXG4gICAgLy8gY3VycmVudCBjbGllbnQgc3RhdGVcbiAgICBsZXQgbGFzdFN0YXRlID0gJyc7XG4gICAgbGV0IGN1cnJlbnRTdGF0ZSA9ICcnO1xuXG4gICAgLy8gZGV0ZXJtaW5lcyBpZiBhIGZpbGUgbWF5IGJlIGRyb3BwZWRcbiAgICBjbGllbnQuYWxsb3dkcm9wID0gaXRlbXMgPT4ge1xuICAgICAgICAvLyBUT0RPOiBpZiB3ZSBjYW4sIHRocm93IGVycm9yIHRvIGluZGljYXRlIHRoZSBpdGVtcyBjYW5ub3QgYnkgZHJvcHBlZFxuXG4gICAgICAgIHJldHVybiB2YWxpZGF0ZUl0ZW1zKGZpbHRlckl0ZW1zKGl0ZW1zKSk7XG4gICAgfTtcblxuICAgIGNsaWVudC5vbmRyb3AgPSAocG9zaXRpb24sIGl0ZW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJJdGVtcyhpdGVtcyk7XG5cbiAgICAgICAgaWYgKCF2YWxpZGF0ZUl0ZW1zKGZpbHRlcmVkSXRlbXMpKSB7XG4gICAgICAgICAgICBhcGkub25kcmFnZW5kKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRTdGF0ZSA9ICdkcmFnLWRyb3AnO1xuXG4gICAgICAgIGFwaS5vbmxvYWQoZmlsdGVyZWRJdGVtcywgcG9zaXRpb24pO1xuICAgIH07XG5cbiAgICBjbGllbnQub25kcmFnID0gcG9zaXRpb24gPT4ge1xuICAgICAgICBhcGkub25kcmFnKHBvc2l0aW9uKTtcbiAgICB9O1xuXG4gICAgY2xpZW50Lm9uZW50ZXIgPSBwb3NpdGlvbiA9PiB7XG4gICAgICAgIGN1cnJlbnRTdGF0ZSA9ICdkcmFnLW92ZXInO1xuXG4gICAgICAgIGFwaS5vbmRyYWdzdGFydChwb3NpdGlvbik7XG4gICAgfTtcblxuICAgIGNsaWVudC5vbmV4aXQgPSBwb3NpdGlvbiA9PiB7XG4gICAgICAgIGN1cnJlbnRTdGF0ZSA9ICdkcmFnLWV4aXQnO1xuXG4gICAgICAgIGFwaS5vbmRyYWdlbmQocG9zaXRpb24pO1xuICAgIH07XG5cbiAgICBjb25zdCBhcGkgPSB7XG4gICAgICAgIHVwZGF0ZUhvcHBlclN0YXRlOiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobGFzdFN0YXRlICE9PSBjdXJyZW50U3RhdGUpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5kYXRhc2V0LmhvcHBlclN0YXRlID0gY3VycmVudFN0YXRlO1xuICAgICAgICAgICAgICAgIGxhc3RTdGF0ZSA9IGN1cnJlbnRTdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25sb2FkOiAoKSA9PiB7fSxcbiAgICAgICAgb25kcmFnc3RhcnQ6ICgpID0+IHt9LFxuICAgICAgICBvbmRyYWc6ICgpID0+IHt9LFxuICAgICAgICBvbmRyYWdlbmQ6ICgpID0+IHt9LFxuICAgICAgICBkZXN0cm95OiAoKSA9PiB7XG4gICAgICAgICAgICAvLyBkZXN0cm95IGNsaWVudFxuICAgICAgICAgICAgY2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGFwaTtcbn07XG5cbmxldCBsaXN0ZW5pbmcgPSBmYWxzZTtcbmNvbnN0IGxpc3RlbmVycyQxID0gW107XG5cbmNvbnN0IGhhbmRsZVBhc3RlID0gZSA9PiB7XG4gICAgLy8gaWYgaXMgcGFzdGluZyBpbiBpbnB1dCBvciB0ZXh0YXJlYSBhbmQgdGhlIHRhcmdldCBpcyBvdXRzaWRlIG9mIGEgZmlsZXBvbmQgc2NvcGUsIGlnbm9yZVxuICAgIGNvbnN0IGFjdGl2ZUVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICBpZiAoYWN0aXZlRWwgJiYgL3RleHRhcmVhfGlucHV0L2kudGVzdChhY3RpdmVFbC5ub2RlTmFtZSkpIHtcbiAgICAgICAgLy8gdGVzdCB0ZXh0YXJlYSBvciBpbnB1dCBpcyBjb250YWluZWQgaW4gZmlsZXBvbmQgcm9vdFxuICAgICAgICBsZXQgaW5TY29wZSA9IGZhbHNlO1xuICAgICAgICBsZXQgZWxlbWVudCA9IGFjdGl2ZUVsO1xuICAgICAgICB3aGlsZSAoZWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmaWxlcG9uZC0tcm9vdCcpKSB7XG4gICAgICAgICAgICAgICAgaW5TY29wZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpblNjb3BlKSByZXR1cm47XG4gICAgfVxuXG4gICAgcmVxdWVzdERhdGFUcmFuc2Zlckl0ZW1zKGUuY2xpcGJvYXJkRGF0YSkudGhlbihmaWxlcyA9PiB7XG4gICAgICAgIC8vIG5vIGZpbGVzIHJlY2VpdmVkXG4gICAgICAgIGlmICghZmlsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBub3RpZnkgbGlzdGVuZXJzIG9mIHJlY2VpdmVkIGZpbGVzXG4gICAgICAgIGxpc3RlbmVycyQxLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZmlsZXMpKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGxpc3RlbiA9IGNiID0+IHtcbiAgICAvLyBjYW4ndCBhZGQgdHdpY2VcbiAgICBpZiAobGlzdGVuZXJzJDEuaW5jbHVkZXMoY2IpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhZGQgaW5pdGlhbCBsaXN0ZW5lclxuICAgIGxpc3RlbmVycyQxLnB1c2goY2IpO1xuXG4gICAgLy8gc2V0dXAgcGFzdGUgbGlzdGVuZXIgZm9yIGVudGlyZSBwYWdlXG4gICAgaWYgKGxpc3RlbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGlzdGVuaW5nID0gdHJ1ZTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIGhhbmRsZVBhc3RlKTtcbn07XG5cbmNvbnN0IHVubGlzdGVuID0gbGlzdGVuZXIgPT4ge1xuICAgIGFycmF5UmVtb3ZlKGxpc3RlbmVycyQxLCBsaXN0ZW5lcnMkMS5pbmRleE9mKGxpc3RlbmVyKSk7XG5cbiAgICAvLyBjbGVhbiB1cFxuICAgIGlmIChsaXN0ZW5lcnMkMS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGFzdGUnLCBoYW5kbGVQYXN0ZSk7XG4gICAgICAgIGxpc3RlbmluZyA9IGZhbHNlO1xuICAgIH1cbn07XG5cbmNvbnN0IGNyZWF0ZVBhc3RlciA9ICgpID0+IHtcbiAgICBjb25zdCBjYiA9IGZpbGVzID0+IHtcbiAgICAgICAgYXBpLm9ubG9hZChmaWxlcyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGFwaSA9IHtcbiAgICAgICAgZGVzdHJveTogKCkgPT4ge1xuICAgICAgICAgICAgdW5saXN0ZW4oY2IpO1xuICAgICAgICB9LFxuICAgICAgICBvbmxvYWQ6ICgpID0+IHt9LFxuICAgIH07XG5cbiAgICBsaXN0ZW4oY2IpO1xuXG4gICAgcmV0dXJuIGFwaTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgZmlsZSB2aWV3XG4gKi9cbmNvbnN0IGNyZWF0ZSRkID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIHJvb3QuZWxlbWVudC5pZCA9IGBmaWxlcG9uZC0tYXNzaXN0YW50LSR7cHJvcHMuaWR9YDtcbiAgICBhdHRyKHJvb3QuZWxlbWVudCwgJ3JvbGUnLCAnc3RhdHVzJyk7XG4gICAgYXR0cihyb290LmVsZW1lbnQsICdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgYXR0cihyb290LmVsZW1lbnQsICdhcmlhLXJlbGV2YW50JywgJ2FkZGl0aW9ucycpO1xufTtcblxubGV0IGFkZEZpbGVzTm90aWZpY2F0aW9uVGltZW91dCA9IG51bGw7XG5sZXQgbm90aWZpY2F0aW9uQ2xlYXJUaW1lb3V0ID0gbnVsbDtcblxuY29uc3QgZmlsZW5hbWVzID0gW107XG5cbmNvbnN0IGFzc2lzdCA9IChyb290LCBtZXNzYWdlKSA9PiB7XG4gICAgcm9vdC5lbGVtZW50LnRleHRDb250ZW50ID0gbWVzc2FnZTtcbn07XG5cbmNvbnN0IGNsZWFyJDEgPSByb290ID0+IHtcbiAgICByb290LmVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbn07XG5cbmNvbnN0IGxpc3RNb2RpZmllZCA9IChyb290LCBmaWxlbmFtZSwgbGFiZWwpID0+IHtcbiAgICBjb25zdCB0b3RhbCA9IHJvb3QucXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpO1xuICAgIGFzc2lzdChcbiAgICAgICAgcm9vdCxcbiAgICAgICAgYCR7bGFiZWx9ICR7ZmlsZW5hbWV9LCAke3RvdGFsfSAke1xuICAgICAgICAgICAgdG90YWwgPT09IDFcbiAgICAgICAgICAgICAgICA/IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX0NPVU5UX1NJTkdVTEFSJylcbiAgICAgICAgICAgICAgICA6IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX0NPVU5UX1BMVVJBTCcpXG4gICAgICAgIH1gXG4gICAgKTtcblxuICAgIC8vIGNsZWFyIGdyb3VwIGFmdGVyIHNldCBhbW91bnQgb2YgdGltZSBzbyB0aGUgc3RhdHVzIGlzIG5vdCByZWFkIHR3aWNlXG4gICAgY2xlYXJUaW1lb3V0KG5vdGlmaWNhdGlvbkNsZWFyVGltZW91dCk7XG4gICAgbm90aWZpY2F0aW9uQ2xlYXJUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNsZWFyJDEocm9vdCk7XG4gICAgfSwgMTUwMCk7XG59O1xuXG5jb25zdCBpc1VzaW5nRmlsZVBvbmQgPSByb290ID0+IHJvb3QuZWxlbWVudC5wYXJlbnROb2RlLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuXG5jb25zdCBpdGVtQWRkZWQgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGlmICghaXNVc2luZ0ZpbGVQb25kKHJvb3QpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByb290LmVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICBjb25zdCBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBhY3Rpb24uaWQpO1xuICAgIGZpbGVuYW1lcy5wdXNoKGl0ZW0uZmlsZW5hbWUpO1xuXG4gICAgY2xlYXJUaW1lb3V0KGFkZEZpbGVzTm90aWZpY2F0aW9uVGltZW91dCk7XG4gICAgYWRkRmlsZXNOb3RpZmljYXRpb25UaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGxpc3RNb2RpZmllZChyb290LCBmaWxlbmFtZXMuam9pbignLCAnKSwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfQURERUQnKSk7XG4gICAgICAgIGZpbGVuYW1lcy5sZW5ndGggPSAwO1xuICAgIH0sIDc1MCk7XG59O1xuXG5jb25zdCBpdGVtUmVtb3ZlZCA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgaWYgKCFpc1VzaW5nRmlsZVBvbmQocm9vdCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGl0ZW0gPSBhY3Rpb24uaXRlbTtcbiAgICBsaXN0TW9kaWZpZWQocm9vdCwgaXRlbS5maWxlbmFtZSwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUkVNT1ZFRCcpKTtcbn07XG5cbmNvbnN0IGl0ZW1Qcm9jZXNzZWQgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIC8vIHdpbGwgYWxzbyBub3RpZnkgdGhlIHVzZXIgd2hlbiBGaWxlUG9uZCBpcyBub3QgYmVpbmcgdXNlZCwgYXMgdGhlIHVzZXIgbWlnaHQgYmUgb2NjdXBpZWQgd2l0aCBvdGhlciBhY3Rpdml0aWVzIHdoaWxlIHVwbG9hZGluZyBhIGZpbGVcblxuICAgIGNvbnN0IGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGFjdGlvbi5pZCk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBpdGVtLmZpbGVuYW1lO1xuICAgIGNvbnN0IGxhYmVsID0gcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lOR19DT01QTEVURScpO1xuXG4gICAgYXNzaXN0KHJvb3QsIGAke2ZpbGVuYW1lfSAke2xhYmVsfWApO1xufTtcblxuY29uc3QgaXRlbVByb2Nlc3NlZFVuZG8gPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGFjdGlvbi5pZCk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBpdGVtLmZpbGVuYW1lO1xuICAgIGNvbnN0IGxhYmVsID0gcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lOR19BQk9SVEVEJyk7XG5cbiAgICBhc3Npc3Qocm9vdCwgYCR7ZmlsZW5hbWV9ICR7bGFiZWx9YCk7XG59O1xuXG5jb25zdCBpdGVtRXJyb3IgPSAoeyByb290LCBhY3Rpb24gfSkgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGFjdGlvbi5pZCk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBpdGVtLmZpbGVuYW1lO1xuXG4gICAgLy8gd2lsbCBhbHNvIG5vdGlmeSB0aGUgdXNlciB3aGVuIEZpbGVQb25kIGlzIG5vdCBiZWluZyB1c2VkLCBhcyB0aGUgdXNlciBtaWdodCBiZSBvY2N1cGllZCB3aXRoIG90aGVyIGFjdGl2aXRpZXMgd2hpbGUgdXBsb2FkaW5nIGEgZmlsZVxuXG4gICAgYXNzaXN0KHJvb3QsIGAke2FjdGlvbi5zdGF0dXMubWFpbn0gJHtmaWxlbmFtZX0gJHthY3Rpb24uc3RhdHVzLnN1Yn1gKTtcbn07XG5cbmNvbnN0IGFzc2lzdGFudCA9IGNyZWF0ZVZpZXcoe1xuICAgIGNyZWF0ZTogY3JlYXRlJGQsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBpZ25vcmVSZWN0VXBkYXRlOiB0cnVlLFxuICAgIHdyaXRlOiBjcmVhdGVSb3V0ZSh7XG4gICAgICAgIERJRF9MT0FEX0lURU06IGl0ZW1BZGRlZCxcbiAgICAgICAgRElEX1JFTU9WRV9JVEVNOiBpdGVtUmVtb3ZlZCxcbiAgICAgICAgRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORzogaXRlbVByb2Nlc3NlZCxcblxuICAgICAgICBESURfQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiBpdGVtUHJvY2Vzc2VkVW5kbyxcbiAgICAgICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IGl0ZW1Qcm9jZXNzZWRVbmRvLFxuXG4gICAgICAgIERJRF9USFJPV19JVEVNX1JFTU9WRV9FUlJPUjogaXRlbUVycm9yLFxuICAgICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiBpdGVtRXJyb3IsXG4gICAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IGl0ZW1FcnJvcixcbiAgICAgICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUjogaXRlbUVycm9yLFxuICAgIH0pLFxuICAgIHRhZzogJ3NwYW4nLFxuICAgIG5hbWU6ICdhc3Npc3RhbnQnLFxufSk7XG5cbmNvbnN0IHRvQ2FtZWxzID0gKHN0cmluZywgc2VwYXJhdG9yID0gJy0nKSA9PlxuICAgIHN0cmluZy5yZXBsYWNlKG5ldyBSZWdFeHAoYCR7c2VwYXJhdG9yfS5gLCAnZycpLCBzdWIgPT4gc3ViLmNoYXJBdCgxKS50b1VwcGVyQ2FzZSgpKTtcblxuY29uc3QgZGVib3VuY2UgPSAoZnVuYywgaW50ZXJ2YWwgPSAxNiwgaW1taWRpYXRlT25seSA9IHRydWUpID0+IHtcbiAgICBsZXQgbGFzdCA9IERhdGUubm93KCk7XG4gICAgbGV0IHRpbWVvdXQgPSBudWxsO1xuXG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblxuICAgICAgICBjb25zdCBkaXN0ID0gRGF0ZS5ub3coKSAtIGxhc3Q7XG5cbiAgICAgICAgY29uc3QgZm4gPSAoKSA9PiB7XG4gICAgICAgICAgICBsYXN0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGZ1bmMoLi4uYXJncyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGRpc3QgPCBpbnRlcnZhbCkge1xuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBkZWxheSBieSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGludGVydmFsIGFuZCBkaXN0XG4gICAgICAgICAgICAvLyBmb3IgZXhhbXBsZTogaWYgZGlzdGFuY2UgaXMgMTAgbXMgYW5kIGludGVydmFsIGlzIDE2IG1zLFxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byB3YWl0IGFuIGFkZGl0aW9uYWwgNm1zIGJlZm9yZSBjYWxsaW5nIHRoZSBmdW5jdGlvbilcbiAgICAgICAgICAgIGlmICghaW1taWRpYXRlT25seSkge1xuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZuLCBpbnRlcnZhbCAtIGRpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZ28hXG4gICAgICAgICAgICBmbigpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmNvbnN0IE1BWF9GSUxFU19MSU1JVCA9IDEwMDAwMDA7XG5cbmNvbnN0IHByZXZlbnQgPSBlID0+IGUucHJldmVudERlZmF1bHQoKTtcblxuY29uc3QgY3JlYXRlJGUgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgLy8gQWRkIGlkXG4gICAgY29uc3QgaWQgPSByb290LnF1ZXJ5KCdHRVRfSUQnKTtcbiAgICBpZiAoaWQpIHtcbiAgICAgICAgcm9vdC5lbGVtZW50LmlkID0gaWQ7XG4gICAgfVxuXG4gICAgLy8gQWRkIGNsYXNzTmFtZVxuICAgIGNvbnN0IGNsYXNzTmFtZSA9IHJvb3QucXVlcnkoJ0dFVF9DTEFTU19OQU1FJyk7XG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgICAgICAuZmlsdGVyKG5hbWUgPT4gbmFtZS5sZW5ndGgpXG4gICAgICAgICAgICAuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgICAgICAgICByb290LmVsZW1lbnQuY2xhc3NMaXN0LmFkZChuYW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEZpZWxkIGxhYmVsXG4gICAgcm9vdC5yZWYubGFiZWwgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoZHJvcExhYmVsLCB7XG4gICAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6IG51bGwsXG4gICAgICAgICAgICBjYXB0aW9uOiByb290LnF1ZXJ5KCdHRVRfTEFCRUxfSURMRScpLFxuICAgICAgICB9KVxuICAgICk7XG5cbiAgICAvLyBMaXN0IG9mIGl0ZW1zXG4gICAgcm9vdC5yZWYubGlzdCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGxpc3RTY3JvbGxlciwgeyB0cmFuc2xhdGVZOiBudWxsIH0pKTtcblxuICAgIC8vIEJhY2tncm91bmQgcGFuZWxcbiAgICByb290LnJlZi5wYW5lbCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHBhbmVsLCB7IG5hbWU6ICdwYW5lbC1yb290JyB9KSk7XG5cbiAgICAvLyBBc3Npc3RhbnQgbm90aWZpZXMgYXNzaXN0aXZlIHRlY2ggd2hlbiBjb250ZW50IGNoYW5nZXNcbiAgICByb290LnJlZi5hc3Npc3RhbnQgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhhc3Npc3RhbnQsIHsgLi4ucHJvcHMgfSkpO1xuXG4gICAgLy8gRGF0YVxuICAgIHJvb3QucmVmLmRhdGEgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhkYXRhLCB7IC4uLnByb3BzIH0pKTtcblxuICAgIC8vIE1lYXN1cmUgKHRlc3RzIGlmIGZpeGVkIGhlaWdodCB3YXMgc2V0KVxuICAgIC8vIERPQ1RZUEUgbmVlZHMgdG8gYmUgc2V0IGZvciB0aGlzIHRvIHdvcmtcbiAgICByb290LnJlZi5tZWFzdXJlID0gY3JlYXRlRWxlbWVudCQxKCdkaXYnKTtcbiAgICByb290LnJlZi5tZWFzdXJlLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICByb290LmVsZW1lbnQuYXBwZW5kQ2hpbGQocm9vdC5yZWYubWVhc3VyZSk7XG5cbiAgICAvLyBpbmZvcm1hdGlvbiBvbiB0aGUgcm9vdCBoZWlnaHQgb3IgZml4ZWQgaGVpZ2h0IHN0YXR1c1xuICAgIHJvb3QucmVmLmJvdW5kcyA9IG51bGw7XG5cbiAgICAvLyBhcHBseSBpbml0aWFsIHN0eWxlIHByb3BlcnRpZXNcbiAgICByb290LnF1ZXJ5KCdHRVRfU1RZTEVTJylcbiAgICAgICAgLmZpbHRlcihzdHlsZSA9PiAhaXNFbXB0eShzdHlsZS52YWx1ZSkpXG4gICAgICAgIC5tYXAoKHsgbmFtZSwgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXRbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAvLyBkZXRlcm1pbmUgaWYgd2lkdGggY2hhbmdlZFxuICAgIHJvb3QucmVmLndpZHRoUHJldmlvdXMgPSBudWxsO1xuICAgIHJvb3QucmVmLndpZHRoVXBkYXRlZCA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAgICAgcm9vdC5yZWYudXBkYXRlSGlzdG9yeSA9IFtdO1xuICAgICAgICByb290LmRpc3BhdGNoKCdESURfUkVTSVpFX1JPT1QnKTtcbiAgICB9LCAyNTApO1xuXG4gICAgLy8gaGlzdG9yeSBvZiB1cGRhdGVzXG4gICAgcm9vdC5yZWYucHJldmlvdXNBc3BlY3RSYXRpbyA9IG51bGw7XG4gICAgcm9vdC5yZWYudXBkYXRlSGlzdG9yeSA9IFtdO1xuXG4gICAgLy8gcHJldmVudCBzY3JvbGxpbmcgYW5kIHpvb21pbmcgb24gaU9TIChvbmx5IGlmIHN1cHBvcnRzIHBvaW50ZXIgZXZlbnRzLCBmb3IgdGhlbiB3ZSBjYW4gZW5hYmxlIHJlb3JkZXIpXG4gICAgY29uc3QgY2FuSG92ZXIgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHBvaW50ZXI6IGZpbmUpIGFuZCAoaG92ZXI6IGhvdmVyKScpLm1hdGNoZXM7XG4gICAgY29uc3QgaGFzUG9pbnRlckV2ZW50cyA9ICdQb2ludGVyRXZlbnQnIGluIHdpbmRvdztcbiAgICBpZiAocm9vdC5xdWVyeSgnR0VUX0FMTE9XX1JFT1JERVInKSAmJiBoYXNQb2ludGVyRXZlbnRzICYmICFjYW5Ib3Zlcikge1xuICAgICAgICByb290LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgcHJldmVudCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVzdGFydCcsIHByZXZlbnQpO1xuICAgIH1cblxuICAgIC8vIGFkZCBjcmVkaXRzXG4gICAgY29uc3QgY3JlZGl0cyA9IHJvb3QucXVlcnkoJ0dFVF9DUkVESVRTJyk7XG4gICAgY29uc3QgaGFzQ3JlZGl0cyA9IGNyZWRpdHMubGVuZ3RoID09PSAyO1xuICAgIGlmIChoYXNDcmVkaXRzKSB7XG4gICAgICAgIGNvbnN0IGZyYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGZyYWcuY2xhc3NOYW1lID0gJ2ZpbGVwb25kLS1jcmVkaXRzJztcbiAgICAgICAgZnJhZy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgZnJhZy5ocmVmID0gY3JlZGl0c1swXTtcbiAgICAgICAgZnJhZy50YWJpbmRleCA9IC0xO1xuICAgICAgICBmcmFnLnRhcmdldCA9ICdfYmxhbmsnO1xuICAgICAgICBmcmFnLnJlbCA9ICdub29wZW5lciBub3JlZmVycmVyJztcbiAgICAgICAgZnJhZy50ZXh0Q29udGVudCA9IGNyZWRpdHNbMV07XG4gICAgICAgIHJvb3QuZWxlbWVudC5hcHBlbmRDaGlsZChmcmFnKTtcbiAgICAgICAgcm9vdC5yZWYuY3JlZGl0cyA9IGZyYWc7XG4gICAgfVxufTtcblxuY29uc3Qgd3JpdGUkOSA9ICh7IHJvb3QsIHByb3BzLCBhY3Rpb25zIH0pID0+IHtcbiAgICAvLyByb3V0ZSBhY3Rpb25zXG4gICAgcm91dGUkNSh7IHJvb3QsIHByb3BzLCBhY3Rpb25zIH0pO1xuXG4gICAgLy8gYXBwbHkgc3R5bGUgcHJvcGVydGllc1xuICAgIGFjdGlvbnNcbiAgICAgICAgLmZpbHRlcihhY3Rpb24gPT4gL15ESURfU0VUX1NUWUxFXy8udGVzdChhY3Rpb24udHlwZSkpXG4gICAgICAgIC5maWx0ZXIoYWN0aW9uID0+ICFpc0VtcHR5KGFjdGlvbi5kYXRhLnZhbHVlKSlcbiAgICAgICAgLm1hcCgoeyB0eXBlLCBkYXRhIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0b0NhbWVscyh0eXBlLnN1YnN0cmluZyg4KS50b0xvd2VyQ2FzZSgpLCAnXycpO1xuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXRbbmFtZV0gPSBkYXRhLnZhbHVlO1xuICAgICAgICAgICAgcm9vdC5pbnZhbGlkYXRlTGF5b3V0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgaWYgKHJvb3QucmVjdC5lbGVtZW50LmhpZGRlbikgcmV0dXJuO1xuXG4gICAgaWYgKHJvb3QucmVjdC5lbGVtZW50LndpZHRoICE9PSByb290LnJlZi53aWR0aFByZXZpb3VzKSB7XG4gICAgICAgIHJvb3QucmVmLndpZHRoUHJldmlvdXMgPSByb290LnJlY3QuZWxlbWVudC53aWR0aDtcbiAgICAgICAgcm9vdC5yZWYud2lkdGhVcGRhdGVkKCk7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGJveCBib3VuZHMsIHdlIGRvIHRoaXMgb25seSBvbmNlXG4gICAgbGV0IGJvdW5kcyA9IHJvb3QucmVmLmJvdW5kcztcbiAgICBpZiAoIWJvdW5kcykge1xuICAgICAgICBib3VuZHMgPSByb290LnJlZi5ib3VuZHMgPSBjYWxjdWxhdGVSb290Qm91bmRpbmdCb3hIZWlnaHQocm9vdCk7XG5cbiAgICAgICAgLy8gZGVzdHJveSBtZWFzdXJlIGVsZW1lbnRcbiAgICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUNoaWxkKHJvb3QucmVmLm1lYXN1cmUpO1xuICAgICAgICByb290LnJlZi5tZWFzdXJlID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBnZXQgcXVpY2sgcmVmZXJlbmNlcyB0byB2YXJpb3VzIGhpZ2ggbGV2ZWwgcGFydHMgb2YgdGhlIHVwbG9hZCB0b29sXG4gICAgY29uc3QgeyBob3BwZXIsIGxhYmVsLCBsaXN0LCBwYW5lbCB9ID0gcm9vdC5yZWY7XG5cbiAgICAvLyBzZXRzIGNvcnJlY3Qgc3RhdGUgdG8gaG9wcGVyIHNjb3BlXG4gICAgaWYgKGhvcHBlcikge1xuICAgICAgICBob3BwZXIudXBkYXRlSG9wcGVyU3RhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBib29sIHRvIGluZGljYXRlIGlmIHdlJ3JlIGZ1bGwgb3Igbm90XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSByb290LnF1ZXJ5KCdHRVRfUEFORUxfQVNQRUNUX1JBVElPJyk7XG4gICAgY29uc3QgaXNNdWx0aUl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfTVVMVElQTEUnKTtcbiAgICBjb25zdCB0b3RhbEl0ZW1zID0gcm9vdC5xdWVyeSgnR0VUX1RPVEFMX0lURU1TJyk7XG4gICAgY29uc3QgbWF4SXRlbXMgPSBpc011bHRpSXRlbSA/IHJvb3QucXVlcnkoJ0dFVF9NQVhfRklMRVMnKSB8fCBNQVhfRklMRVNfTElNSVQgOiAxO1xuICAgIGNvbnN0IGF0TWF4Q2FwYWNpdHkgPSB0b3RhbEl0ZW1zID09PSBtYXhJdGVtcztcblxuICAgIC8vIGFjdGlvbiB1c2VkIHRvIGFkZCBpdGVtXG4gICAgY29uc3QgYWRkQWN0aW9uID0gYWN0aW9ucy5maW5kKGFjdGlvbiA9PiBhY3Rpb24udHlwZSA9PT0gJ0RJRF9BRERfSVRFTScpO1xuXG4gICAgLy8gaWYgcmVhY2hlZCBtYXggY2FwYWNpdHkgYW5kIHdlJ3ZlIGp1c3QgcmVhY2hlZCBpdFxuICAgIGlmIChhdE1heENhcGFjaXR5ICYmIGFkZEFjdGlvbikge1xuICAgICAgICAvLyBnZXQgaW50ZXJhY3Rpb24gdHlwZVxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbk1ldGhvZCA9IGFkZEFjdGlvbi5kYXRhLmludGVyYWN0aW9uTWV0aG9kO1xuXG4gICAgICAgIC8vIGhpZGUgbGFiZWxcbiAgICAgICAgbGFiZWwub3BhY2l0eSA9IDA7XG5cbiAgICAgICAgaWYgKGlzTXVsdGlJdGVtKSB7XG4gICAgICAgICAgICBsYWJlbC50cmFuc2xhdGVZID0gLTQwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uTWV0aG9kID09PSBJbnRlcmFjdGlvbk1ldGhvZC5BUEkpIHtcbiAgICAgICAgICAgICAgICBsYWJlbC50cmFuc2xhdGVYID0gNDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGludGVyYWN0aW9uTWV0aG9kID09PSBJbnRlcmFjdGlvbk1ldGhvZC5CUk9XU0UpIHtcbiAgICAgICAgICAgICAgICBsYWJlbC50cmFuc2xhdGVZID0gNDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxhYmVsLnRyYW5zbGF0ZVkgPSAzMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWF0TWF4Q2FwYWNpdHkpIHtcbiAgICAgICAgbGFiZWwub3BhY2l0eSA9IDE7XG4gICAgICAgIGxhYmVsLnRyYW5zbGF0ZVggPSAwO1xuICAgICAgICBsYWJlbC50cmFuc2xhdGVZID0gMDtcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0SXRlbU1hcmdpbiA9IGNhbGN1bGF0ZUxpc3RJdGVtTWFyZ2luKHJvb3QpO1xuXG4gICAgY29uc3QgbGlzdEhlaWdodCA9IGNhbGN1bGF0ZUxpc3RIZWlnaHQocm9vdCk7XG5cbiAgICBjb25zdCBsYWJlbEhlaWdodCA9IGxhYmVsLnJlY3QuZWxlbWVudC5oZWlnaHQ7XG4gICAgY29uc3QgY3VycmVudExhYmVsSGVpZ2h0ID0gIWlzTXVsdGlJdGVtIHx8IGF0TWF4Q2FwYWNpdHkgPyAwIDogbGFiZWxIZWlnaHQ7XG5cbiAgICBjb25zdCBsaXN0TWFyZ2luVG9wID0gYXRNYXhDYXBhY2l0eSA/IGxpc3QucmVjdC5lbGVtZW50Lm1hcmdpblRvcCA6IDA7XG4gICAgY29uc3QgbGlzdE1hcmdpbkJvdHRvbSA9IHRvdGFsSXRlbXMgPT09IDAgPyAwIDogbGlzdC5yZWN0LmVsZW1lbnQubWFyZ2luQm90dG9tO1xuXG4gICAgY29uc3QgdmlzdWFsSGVpZ2h0ID0gY3VycmVudExhYmVsSGVpZ2h0ICsgbGlzdE1hcmdpblRvcCArIGxpc3RIZWlnaHQudmlzdWFsICsgbGlzdE1hcmdpbkJvdHRvbTtcbiAgICBjb25zdCBib3VuZHNIZWlnaHQgPSBjdXJyZW50TGFiZWxIZWlnaHQgKyBsaXN0TWFyZ2luVG9wICsgbGlzdEhlaWdodC5ib3VuZHMgKyBsaXN0TWFyZ2luQm90dG9tO1xuXG4gICAgLy8gbGluayBsaXN0IHRvIGxhYmVsIGJvdHRvbSBwb3NpdGlvblxuICAgIGxpc3QudHJhbnNsYXRlWSA9XG4gICAgICAgIE1hdGgubWF4KDAsIGN1cnJlbnRMYWJlbEhlaWdodCAtIGxpc3QucmVjdC5lbGVtZW50Lm1hcmdpblRvcCkgLSBsaXN0SXRlbU1hcmdpbi50b3A7XG5cbiAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgLy8gZml4ZWQgYXNwZWN0IHJhdGlvXG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIGhlaWdodCBiYXNlZCBvbiB3aWR0aFxuICAgICAgICBjb25zdCB3aWR0aCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB3aWR0aCAqIGFzcGVjdFJhdGlvO1xuXG4gICAgICAgIC8vIGNsZWFyIGhpc3RvcnkgaWYgYXNwZWN0IHJhdGlvIGhhcyBjaGFuZ2VkXG4gICAgICAgIGlmIChhc3BlY3RSYXRpbyAhPT0gcm9vdC5yZWYucHJldmlvdXNBc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgcm9vdC5yZWYucHJldmlvdXNBc3BlY3RSYXRpbyA9IGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgcm9vdC5yZWYudXBkYXRlSGlzdG9yeSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtZW1iZXIgdGhpcyB3aWR0aFxuICAgICAgICBjb25zdCBoaXN0b3J5ID0gcm9vdC5yZWYudXBkYXRlSGlzdG9yeTtcbiAgICAgICAgaGlzdG9yeS5wdXNoKHdpZHRoKTtcblxuICAgICAgICBjb25zdCBNQVhfQk9VTkNFUyA9IDI7XG4gICAgICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA+IE1BWF9CT1VOQ0VTICogMikge1xuICAgICAgICAgICAgY29uc3QgbCA9IGhpc3RvcnkubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgYm90dG9tID0gbCAtIDEwO1xuICAgICAgICAgICAgbGV0IGJvdW5jZXMgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGw7IGkgPj0gYm90dG9tOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVtpXSA9PT0gaGlzdG9yeVtpIC0gMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmNlcysrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChib3VuY2VzID49IE1BWF9CT1VOQ0VTKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbnQgYWRqdXN0IGhlaWdodFxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZml4IGhlaWdodCBvZiBwYW5lbCBzbyBpdCBhZGhlcmVzIHRvIGFzcGVjdCByYXRpb1xuICAgICAgICBwYW5lbC5zY2FsYWJsZSA9IGZhbHNlO1xuICAgICAgICBwYW5lbC5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLy8gYXZhaWxhYmxlIGhlaWdodCBmb3IgbGlzdFxuICAgICAgICBjb25zdCBsaXN0QXZhaWxhYmxlSGVpZ2h0ID1cbiAgICAgICAgICAgIC8vIHRoZSBoZWlnaHQgb2YgdGhlIHBhbmVsIG1pbnVzIHRoZSBsYWJlbCBoZWlnaHRcbiAgICAgICAgICAgIGhlaWdodCAtXG4gICAgICAgICAgICBjdXJyZW50TGFiZWxIZWlnaHQgLVxuICAgICAgICAgICAgLy8gdGhlIHJvb20gd2UgbGVhdmUgb3BlbiBiZXR3ZWVuIHRoZSBlbmQgb2YgdGhlIGxpc3QgYW5kIHRoZSBwYW5lbCBib3R0b21cbiAgICAgICAgICAgIChsaXN0TWFyZ2luQm90dG9tIC0gbGlzdEl0ZW1NYXJnaW4uYm90dG9tKSAtXG4gICAgICAgICAgICAvLyBpZiB3ZSdyZSBmdWxsIHdlIG5lZWQgdG8gbGVhdmUgc29tZSByb29tIGJldHdlZW4gdGhlIHRvcCBvZiB0aGUgcGFuZWwgYW5kIHRoZSBsaXN0XG4gICAgICAgICAgICAoYXRNYXhDYXBhY2l0eSA/IGxpc3RNYXJnaW5Ub3AgOiAwKTtcblxuICAgICAgICBpZiAobGlzdEhlaWdodC52aXN1YWwgPiBsaXN0QXZhaWxhYmxlSGVpZ2h0KSB7XG4gICAgICAgICAgICBsaXN0Lm92ZXJmbG93ID0gbGlzdEF2YWlsYWJsZUhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpc3Qub3ZlcmZsb3cgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IGNvbnRhaW5lciBib3VuZHMgKHNvIHB1c2hlcyBzaWJsaW5ncyBkb3dud2FyZHMpXG4gICAgICAgIHJvb3QuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAoYm91bmRzLmZpeGVkSGVpZ2h0KSB7XG4gICAgICAgIC8vIGZpeGVkIGhlaWdodFxuXG4gICAgICAgIC8vIGZpeCBoZWlnaHQgb2YgcGFuZWxcbiAgICAgICAgcGFuZWwuc2NhbGFibGUgPSBmYWxzZTtcblxuICAgICAgICAvLyBhdmFpbGFibGUgaGVpZ2h0IGZvciBsaXN0XG4gICAgICAgIGNvbnN0IGxpc3RBdmFpbGFibGVIZWlnaHQgPVxuICAgICAgICAgICAgLy8gdGhlIGhlaWdodCBvZiB0aGUgcGFuZWwgbWludXMgdGhlIGxhYmVsIGhlaWdodFxuICAgICAgICAgICAgYm91bmRzLmZpeGVkSGVpZ2h0IC1cbiAgICAgICAgICAgIGN1cnJlbnRMYWJlbEhlaWdodCAtXG4gICAgICAgICAgICAvLyB0aGUgcm9vbSB3ZSBsZWF2ZSBvcGVuIGJldHdlZW4gdGhlIGVuZCBvZiB0aGUgbGlzdCBhbmQgdGhlIHBhbmVsIGJvdHRvbVxuICAgICAgICAgICAgKGxpc3RNYXJnaW5Cb3R0b20gLSBsaXN0SXRlbU1hcmdpbi5ib3R0b20pIC1cbiAgICAgICAgICAgIC8vIGlmIHdlJ3JlIGZ1bGwgd2UgbmVlZCB0byBsZWF2ZSBzb21lIHJvb20gYmV0d2VlbiB0aGUgdG9wIG9mIHRoZSBwYW5lbCBhbmQgdGhlIGxpc3RcbiAgICAgICAgICAgIChhdE1heENhcGFjaXR5ID8gbGlzdE1hcmdpblRvcCA6IDApO1xuXG4gICAgICAgIC8vIHNldCBsaXN0IGhlaWdodFxuICAgICAgICBpZiAobGlzdEhlaWdodC52aXN1YWwgPiBsaXN0QXZhaWxhYmxlSGVpZ2h0KSB7XG4gICAgICAgICAgICBsaXN0Lm92ZXJmbG93ID0gbGlzdEF2YWlsYWJsZUhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpc3Qub3ZlcmZsb3cgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gbmVlZCB0byBzZXQgY29udGFpbmVyIGJvdW5kcyBhcyB0aGVzZSBhcmUgaGFuZGxlcyBieSBDU1MgZml4ZWQgaGVpZ2h0XG4gICAgfSBlbHNlIGlmIChib3VuZHMuY2FwcGVkSGVpZ2h0KSB7XG4gICAgICAgIC8vIG1heC1oZWlnaHRcblxuICAgICAgICAvLyBub3QgYSBmaXhlZCBoZWlnaHQgcGFuZWxcbiAgICAgICAgY29uc3QgaXNDYXBwZWRIZWlnaHQgPSB2aXN1YWxIZWlnaHQgPj0gYm91bmRzLmNhcHBlZEhlaWdodDtcbiAgICAgICAgY29uc3QgcGFuZWxIZWlnaHQgPSBNYXRoLm1pbihib3VuZHMuY2FwcGVkSGVpZ2h0LCB2aXN1YWxIZWlnaHQpO1xuICAgICAgICBwYW5lbC5zY2FsYWJsZSA9IHRydWU7XG4gICAgICAgIHBhbmVsLmhlaWdodCA9IGlzQ2FwcGVkSGVpZ2h0XG4gICAgICAgICAgICA/IHBhbmVsSGVpZ2h0XG4gICAgICAgICAgICA6IHBhbmVsSGVpZ2h0IC0gbGlzdEl0ZW1NYXJnaW4udG9wIC0gbGlzdEl0ZW1NYXJnaW4uYm90dG9tO1xuXG4gICAgICAgIC8vIGF2YWlsYWJsZSBoZWlnaHQgZm9yIGxpc3RcbiAgICAgICAgY29uc3QgbGlzdEF2YWlsYWJsZUhlaWdodCA9XG4gICAgICAgICAgICAvLyB0aGUgaGVpZ2h0IG9mIHRoZSBwYW5lbCBtaW51cyB0aGUgbGFiZWwgaGVpZ2h0XG4gICAgICAgICAgICBwYW5lbEhlaWdodCAtXG4gICAgICAgICAgICBjdXJyZW50TGFiZWxIZWlnaHQgLVxuICAgICAgICAgICAgLy8gdGhlIHJvb20gd2UgbGVhdmUgb3BlbiBiZXR3ZWVuIHRoZSBlbmQgb2YgdGhlIGxpc3QgYW5kIHRoZSBwYW5lbCBib3R0b21cbiAgICAgICAgICAgIChsaXN0TWFyZ2luQm90dG9tIC0gbGlzdEl0ZW1NYXJnaW4uYm90dG9tKSAtXG4gICAgICAgICAgICAvLyBpZiB3ZSdyZSBmdWxsIHdlIG5lZWQgdG8gbGVhdmUgc29tZSByb29tIGJldHdlZW4gdGhlIHRvcCBvZiB0aGUgcGFuZWwgYW5kIHRoZSBsaXN0XG4gICAgICAgICAgICAoYXRNYXhDYXBhY2l0eSA/IGxpc3RNYXJnaW5Ub3AgOiAwKTtcblxuICAgICAgICAvLyBzZXQgbGlzdCBoZWlnaHQgKGlmIGlzIG92ZXJmbG93aW5nKVxuICAgICAgICBpZiAodmlzdWFsSGVpZ2h0ID4gYm91bmRzLmNhcHBlZEhlaWdodCAmJiBsaXN0SGVpZ2h0LnZpc3VhbCA+IGxpc3RBdmFpbGFibGVIZWlnaHQpIHtcbiAgICAgICAgICAgIGxpc3Qub3ZlcmZsb3cgPSBsaXN0QXZhaWxhYmxlSGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGlzdC5vdmVyZmxvdyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgY29udGFpbmVyIGJvdW5kcyAoc28gcHVzaGVzIHNpYmxpbmdzIGRvd253YXJkcylcbiAgICAgICAgcm9vdC5oZWlnaHQgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIGJvdW5kcy5jYXBwZWRIZWlnaHQsXG4gICAgICAgICAgICBib3VuZHNIZWlnaHQgLSBsaXN0SXRlbU1hcmdpbi50b3AgLSBsaXN0SXRlbU1hcmdpbi5ib3R0b21cbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBmbGV4aWJsZSBoZWlnaHRcblxuICAgICAgICAvLyBub3QgYSBmaXhlZCBoZWlnaHQgcGFuZWxcbiAgICAgICAgY29uc3QgaXRlbU1hcmdpbiA9IHRvdGFsSXRlbXMgPiAwID8gbGlzdEl0ZW1NYXJnaW4udG9wICsgbGlzdEl0ZW1NYXJnaW4uYm90dG9tIDogMDtcbiAgICAgICAgcGFuZWwuc2NhbGFibGUgPSB0cnVlO1xuICAgICAgICBwYW5lbC5oZWlnaHQgPSBNYXRoLm1heChsYWJlbEhlaWdodCwgdmlzdWFsSGVpZ2h0IC0gaXRlbU1hcmdpbik7XG5cbiAgICAgICAgLy8gc2V0IGNvbnRhaW5lciBib3VuZHMgKHNvIHB1c2hlcyBzaWJsaW5ncyBkb3dud2FyZHMpXG4gICAgICAgIHJvb3QuaGVpZ2h0ID0gTWF0aC5tYXgobGFiZWxIZWlnaHQsIGJvdW5kc0hlaWdodCAtIGl0ZW1NYXJnaW4pO1xuICAgIH1cblxuICAgIC8vIG1vdmUgY3JlZGl0cyB0byBib3R0b21cbiAgICBpZiAocm9vdC5yZWYuY3JlZGl0cyAmJiBwYW5lbC5oZWlnaHRDdXJyZW50KVxuICAgICAgICByb290LnJlZi5jcmVkaXRzLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7cGFuZWwuaGVpZ2h0Q3VycmVudH1weClgO1xufTtcblxuY29uc3QgY2FsY3VsYXRlTGlzdEl0ZW1NYXJnaW4gPSByb290ID0+IHtcbiAgICBjb25zdCBpdGVtID0gcm9vdC5yZWYubGlzdC5jaGlsZFZpZXdzWzBdLmNoaWxkVmlld3NbMF07XG4gICAgcmV0dXJuIGl0ZW1cbiAgICAgICAgPyB7XG4gICAgICAgICAgICAgIHRvcDogaXRlbS5yZWN0LmVsZW1lbnQubWFyZ2luVG9wLFxuICAgICAgICAgICAgICBib3R0b206IGl0ZW0ucmVjdC5lbGVtZW50Lm1hcmdpbkJvdHRvbSxcbiAgICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICB9O1xufTtcblxuY29uc3QgY2FsY3VsYXRlTGlzdEhlaWdodCA9IHJvb3QgPT4ge1xuICAgIGxldCB2aXN1YWwgPSAwO1xuICAgIGxldCBib3VuZHMgPSAwO1xuXG4gICAgLy8gZ2V0IGZpbGUgbGlzdCByZWZlcmVuY2VcbiAgICBjb25zdCBzY3JvbGxMaXN0ID0gcm9vdC5yZWYubGlzdDtcbiAgICBjb25zdCBpdGVtTGlzdCA9IHNjcm9sbExpc3QuY2hpbGRWaWV3c1swXTtcbiAgICBjb25zdCB2aXNpYmxlQ2hpbGRyZW4gPSBpdGVtTGlzdC5jaGlsZFZpZXdzLmZpbHRlcihjaGlsZCA9PiBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0KTtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHJvb3RcbiAgICAgICAgLnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJylcbiAgICAgICAgLm1hcChpdGVtID0+IHZpc2libGVDaGlsZHJlbi5maW5kKGNoaWxkID0+IGNoaWxkLmlkID09PSBpdGVtLmlkKSlcbiAgICAgICAgLmZpbHRlcihpdGVtID0+IGl0ZW0pO1xuXG4gICAgLy8gbm8gY2hpbGRyZW4sIGRvbmUhXG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHsgdmlzdWFsLCBib3VuZHMgfTtcblxuICAgIGNvbnN0IGhvcml6b250YWxTcGFjZSA9IGl0ZW1MaXN0LnJlY3QuZWxlbWVudC53aWR0aDtcbiAgICBjb25zdCBkcmFnSW5kZXggPSBnZXRJdGVtSW5kZXhCeVBvc2l0aW9uKGl0ZW1MaXN0LCBjaGlsZHJlbiwgc2Nyb2xsTGlzdC5kcmFnQ29vcmRpbmF0ZXMpO1xuXG4gICAgY29uc3QgY2hpbGRSZWN0ID0gY2hpbGRyZW5bMF0ucmVjdC5lbGVtZW50O1xuXG4gICAgY29uc3QgaXRlbVZlcnRpY2FsTWFyZ2luID0gY2hpbGRSZWN0Lm1hcmdpblRvcCArIGNoaWxkUmVjdC5tYXJnaW5Cb3R0b207XG4gICAgY29uc3QgaXRlbUhvcml6b250YWxNYXJnaW4gPSBjaGlsZFJlY3QubWFyZ2luTGVmdCArIGNoaWxkUmVjdC5tYXJnaW5SaWdodDtcblxuICAgIGNvbnN0IGl0ZW1XaWR0aCA9IGNoaWxkUmVjdC53aWR0aCArIGl0ZW1Ib3Jpem9udGFsTWFyZ2luO1xuICAgIGNvbnN0IGl0ZW1IZWlnaHQgPSBjaGlsZFJlY3QuaGVpZ2h0ICsgaXRlbVZlcnRpY2FsTWFyZ2luO1xuXG4gICAgY29uc3QgbmV3SXRlbSA9IHR5cGVvZiBkcmFnSW5kZXggIT09ICd1bmRlZmluZWQnICYmIGRyYWdJbmRleCA+PSAwID8gMSA6IDA7XG4gICAgY29uc3QgcmVtb3ZlZEl0ZW0gPSBjaGlsZHJlbi5maW5kKGNoaWxkID0+IGNoaWxkLm1hcmtlZEZvclJlbW92YWwgJiYgY2hpbGQub3BhY2l0eSA8IDAuNDUpXG4gICAgICAgID8gLTFcbiAgICAgICAgOiAwO1xuICAgIGNvbnN0IHZlcnRpY2FsSXRlbUNvdW50ID0gY2hpbGRyZW4ubGVuZ3RoICsgbmV3SXRlbSArIHJlbW92ZWRJdGVtO1xuICAgIGNvbnN0IGl0ZW1zUGVyUm93ID0gZ2V0SXRlbXNQZXJSb3coaG9yaXpvbnRhbFNwYWNlLCBpdGVtV2lkdGgpO1xuXG4gICAgLy8gc3RhY2tcbiAgICBpZiAoaXRlbXNQZXJSb3cgPT09IDEpIHtcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGl0ZW0ucmVjdC5lbGVtZW50LmhlaWdodCArIGl0ZW1WZXJ0aWNhbE1hcmdpbjtcbiAgICAgICAgICAgIGJvdW5kcyArPSBoZWlnaHQ7XG4gICAgICAgICAgICB2aXN1YWwgKz0gaGVpZ2h0ICogaXRlbS5vcGFjaXR5O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gZ3JpZFxuICAgIGVsc2Uge1xuICAgICAgICBib3VuZHMgPSBNYXRoLmNlaWwodmVydGljYWxJdGVtQ291bnQgLyBpdGVtc1BlclJvdykgKiBpdGVtSGVpZ2h0O1xuICAgICAgICB2aXN1YWwgPSBib3VuZHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdmlzdWFsLCBib3VuZHMgfTtcbn07XG5cbmNvbnN0IGNhbGN1bGF0ZVJvb3RCb3VuZGluZ0JveEhlaWdodCA9IHJvb3QgPT4ge1xuICAgIGNvbnN0IGhlaWdodCA9IHJvb3QucmVmLm1lYXN1cmVIZWlnaHQgfHwgbnVsbDtcbiAgICBjb25zdCBjYXBwZWRIZWlnaHQgPSBwYXJzZUludChyb290LnN0eWxlLm1heEhlaWdodCwgMTApIHx8IG51bGw7XG4gICAgY29uc3QgZml4ZWRIZWlnaHQgPSBoZWlnaHQgPT09IDAgPyBudWxsIDogaGVpZ2h0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FwcGVkSGVpZ2h0LFxuICAgICAgICBmaXhlZEhlaWdodCxcbiAgICB9O1xufTtcblxuY29uc3QgZXhjZWVkc01heEZpbGVzID0gKHJvb3QsIGl0ZW1zKSA9PiB7XG4gICAgY29uc3QgYWxsb3dSZXBsYWNlID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1JFUExBQ0UnKTtcbiAgICBjb25zdCBhbGxvd011bHRpcGxlID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX01VTFRJUExFJyk7XG4gICAgY29uc3QgdG90YWxJdGVtcyA9IHJvb3QucXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpO1xuICAgIGxldCBtYXhJdGVtcyA9IHJvb3QucXVlcnkoJ0dFVF9NQVhfRklMRVMnKTtcblxuICAgIC8vIHRvdGFsIGFtb3VudCBvZiBpdGVtcyBiZWluZyBkcmFnZ2VkXG4gICAgY29uc3QgdG90YWxCcm93c2VJdGVtcyA9IGl0ZW1zLmxlbmd0aDtcblxuICAgIC8vIGlmIGRvZXMgbm90IGFsbG93IG11bHRpcGxlIGl0ZW1zIGFuZCBkcmFnZ2luZyBtb3JlIHRoYW4gb25lIGl0ZW1cbiAgICBpZiAoIWFsbG93TXVsdGlwbGUgJiYgdG90YWxCcm93c2VJdGVtcyA+IDEpIHtcbiAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1RIUk9XX01BWF9GSUxFUycsIHtcbiAgICAgICAgICAgIHNvdXJjZTogaXRlbXMsXG4gICAgICAgICAgICBlcnJvcjogY3JlYXRlUmVzcG9uc2UoJ3dhcm5pbmcnLCAwLCAnTWF4IGZpbGVzJyksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBsaW1pdCBtYXggaXRlbXMgdG8gb25lIGlmIG5vdCBhbGxvd2VkIHRvIGRyb3AgbXVsdGlwbGUgaXRlbXNcbiAgICBtYXhJdGVtcyA9IGFsbG93TXVsdGlwbGUgPyBtYXhJdGVtcyA6IDE7XG5cbiAgICBpZiAoIWFsbG93TXVsdGlwbGUgJiYgYWxsb3dSZXBsYWNlKSB7XG4gICAgICAgIC8vIFRoZXJlIGlzIG9ubHkgb25lIGl0ZW0sIHNvIHRoZXJlIGlzIHJvb20gdG8gcmVwbGFjZSBvciBhZGQgYW4gaXRlbVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gbm8gbW9yZSByb29tP1xuICAgIGNvbnN0IGhhc01heEl0ZW1zID0gaXNJbnQobWF4SXRlbXMpO1xuICAgIGlmIChoYXNNYXhJdGVtcyAmJiB0b3RhbEl0ZW1zICsgdG90YWxCcm93c2VJdGVtcyA+IG1heEl0ZW1zKSB7XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9USFJPV19NQVhfRklMRVMnLCB7XG4gICAgICAgICAgICBzb3VyY2U6IGl0ZW1zLFxuICAgICAgICAgICAgZXJyb3I6IGNyZWF0ZVJlc3BvbnNlKCd3YXJuaW5nJywgMCwgJ01heCBmaWxlcycpLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29uc3QgZ2V0RHJhZ0luZGV4ID0gKGxpc3QsIGNoaWxkcmVuLCBwb3NpdGlvbikgPT4ge1xuICAgIGNvbnN0IGl0ZW1MaXN0ID0gbGlzdC5jaGlsZFZpZXdzWzBdO1xuICAgIHJldHVybiBnZXRJdGVtSW5kZXhCeVBvc2l0aW9uKGl0ZW1MaXN0LCBjaGlsZHJlbiwge1xuICAgICAgICBsZWZ0OiBwb3NpdGlvbi5zY29wZUxlZnQgLSBpdGVtTGlzdC5yZWN0LmVsZW1lbnQubGVmdCxcbiAgICAgICAgdG9wOlxuICAgICAgICAgICAgcG9zaXRpb24uc2NvcGVUb3AgLVxuICAgICAgICAgICAgKGxpc3QucmVjdC5vdXRlci50b3AgKyBsaXN0LnJlY3QuZWxlbWVudC5tYXJnaW5Ub3AgKyBsaXN0LnJlY3QuZWxlbWVudC5zY3JvbGxUb3ApLFxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBFbmFibGUgb3IgZGlzYWJsZSBmaWxlIGRyb3AgZnVuY3Rpb25hbGl0eVxuICovXG5jb25zdCB0b2dnbGVEcm9wID0gcm9vdCA9PiB7XG4gICAgY29uc3QgaXNBbGxvd2VkID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX0RST1AnKTtcbiAgICBjb25zdCBpc0Rpc2FibGVkID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJyk7XG4gICAgY29uc3QgZW5hYmxlZCA9IGlzQWxsb3dlZCAmJiAhaXNEaXNhYmxlZDtcbiAgICBpZiAoZW5hYmxlZCAmJiAhcm9vdC5yZWYuaG9wcGVyKSB7XG4gICAgICAgIGNvbnN0IGhvcHBlciA9IGNyZWF0ZUhvcHBlcihcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudCxcbiAgICAgICAgICAgIGl0ZW1zID0+IHtcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBxdWljayB2YWxpZGF0aW9uIG9mIGRyb3BwZWQgaXRlbXNcbiAgICAgICAgICAgICAgICBjb25zdCBiZWZvcmVEcm9wRmlsZSA9IHJvb3QucXVlcnkoJ0dFVF9CRUZPUkVfRFJPUF9GSUxFJykgfHwgKCgpID0+IHRydWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gYWxsIGl0ZW1zIHNob3VsZCBiZSB2YWxpZGF0ZWQgYnkgYWxsIGZpbHRlcnMgYXMgdmFsaWRcbiAgICAgICAgICAgICAgICBjb25zdCBkcm9wVmFsaWRhdGlvbiA9IHJvb3QucXVlcnkoJ0dFVF9EUk9QX1ZBTElEQVRJT04nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZHJvcFZhbGlkYXRpb25cbiAgICAgICAgICAgICAgICAgICAgPyBpdGVtcy5ldmVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXJzKCdBTExPV19IT1BQRVJfSVRFTScsIGl0ZW0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogcm9vdC5xdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmV2ZXJ5KHJlc3VsdCA9PiByZXN1bHQgPT09IHRydWUpICYmIGJlZm9yZURyb3BGaWxlKGl0ZW0pXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICA6IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbHRlckl0ZW1zOiBpdGVtcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlnbm9yZWRGaWxlcyA9IHJvb3QucXVlcnkoJ0dFVF9JR05PUkVEX0ZJTEVTJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtcy5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGaWxlKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFpZ25vcmVkRmlsZXMuaW5jbHVkZXMoaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2F0Y2hlc0Ryb3BzT25QYWdlOiByb290LnF1ZXJ5KCdHRVRfRFJPUF9PTl9QQUdFJyksXG4gICAgICAgICAgICAgICAgcmVxdWlyZXNEcm9wT25FbGVtZW50OiByb290LnF1ZXJ5KCdHRVRfRFJPUF9PTl9FTEVNRU5UJyksXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgaG9wcGVyLm9ubG9hZCA9IChpdGVtcywgcG9zaXRpb24pID0+IHtcbiAgICAgICAgICAgIC8vIGdldCBpdGVtIGNoaWxkcmVuIGVsZW1lbnRzIGFuZCBzb3J0IGJhc2VkIG9uIGxpc3Qgc29ydFxuICAgICAgICAgICAgY29uc3QgbGlzdCA9IHJvb3QucmVmLmxpc3QuY2hpbGRWaWV3c1swXTtcbiAgICAgICAgICAgIGNvbnN0IHZpc2libGVDaGlsZHJlbiA9IGxpc3QuY2hpbGRWaWV3cy5maWx0ZXIoY2hpbGQgPT4gY2hpbGQucmVjdC5lbGVtZW50LmhlaWdodCk7XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHJvb3RcbiAgICAgICAgICAgICAgICAucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKVxuICAgICAgICAgICAgICAgIC5tYXAoaXRlbSA9PiB2aXNpYmxlQ2hpbGRyZW4uZmluZChjaGlsZCA9PiBjaGlsZC5pZCA9PT0gaXRlbS5pZCkpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihpdGVtID0+IGl0ZW0pO1xuXG4gICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdBRERfSVRFTVMnLCBpdGVtcywgeyBkaXNwYXRjaDogcm9vdC5kaXNwYXRjaCB9KS50aGVuKHF1ZXVlID0+IHtcbiAgICAgICAgICAgICAgICAvLyB0aGVzZSBmaWxlcyBkb24ndCBmaXQgc28gc3RvcCBoZXJlXG4gICAgICAgICAgICAgICAgaWYgKGV4Y2VlZHNNYXhGaWxlcyhyb290LCBxdWV1ZSkpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIC8vIGdvXG4gICAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnQUREX0lURU1TJywge1xuICAgICAgICAgICAgICAgICAgICBpdGVtczogcXVldWUsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBnZXREcmFnSW5kZXgocm9vdC5yZWYubGlzdCwgY2hpbGRyZW4sIHBvc2l0aW9uKSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IEludGVyYWN0aW9uTWV0aG9kLkRST1AsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0RST1AnLCB7IHBvc2l0aW9uIH0pO1xuXG4gICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfRU5EX0RSQUcnLCB7IHBvc2l0aW9uIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGhvcHBlci5vbmRyYWdzdGFydCA9IHBvc2l0aW9uID0+IHtcbiAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9TVEFSVF9EUkFHJywgeyBwb3NpdGlvbiB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBob3BwZXIub25kcmFnID0gZGVib3VuY2UocG9zaXRpb24gPT4ge1xuICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0RSQUcnLCB7IHBvc2l0aW9uIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBob3BwZXIub25kcmFnZW5kID0gcG9zaXRpb24gPT4ge1xuICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0VORF9EUkFHJywgeyBwb3NpdGlvbiB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICByb290LnJlZi5ob3BwZXIgPSBob3BwZXI7XG5cbiAgICAgICAgcm9vdC5yZWYuZHJpcCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGRyaXApKTtcbiAgICB9IGVsc2UgaWYgKCFlbmFibGVkICYmIHJvb3QucmVmLmhvcHBlcikge1xuICAgICAgICByb290LnJlZi5ob3BwZXIuZGVzdHJveSgpO1xuICAgICAgICByb290LnJlZi5ob3BwZXIgPSBudWxsO1xuICAgICAgICByb290LnJlbW92ZUNoaWxkVmlldyhyb290LnJlZi5kcmlwKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEVuYWJsZSBvciBkaXNhYmxlIGJyb3dzZSBmdW5jdGlvbmFsaXR5XG4gKi9cbmNvbnN0IHRvZ2dsZUJyb3dzZSA9IChyb290LCBwcm9wcykgPT4ge1xuICAgIGNvbnN0IGlzQWxsb3dlZCA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19CUk9XU0UnKTtcbiAgICBjb25zdCBpc0Rpc2FibGVkID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJyk7XG4gICAgY29uc3QgZW5hYmxlZCA9IGlzQWxsb3dlZCAmJiAhaXNEaXNhYmxlZDtcbiAgICBpZiAoZW5hYmxlZCAmJiAhcm9vdC5yZWYuYnJvd3Nlcikge1xuICAgICAgICByb290LnJlZi5icm93c2VyID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhicm93c2VyLCB7XG4gICAgICAgICAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgICAgICAgICAgb25sb2FkOiBpdGVtcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ0FERF9JVEVNUycsIGl0ZW1zLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaDogcm9vdC5kaXNwYXRjaCxcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihxdWV1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVzZSBmaWxlcyBkb24ndCBmaXQgc28gc3RvcCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhjZWVkc01heEZpbGVzKHJvb3QsIHF1ZXVlKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXRlbXMhXG4gICAgICAgICAgICAgICAgICAgICAgICByb290LmRpc3BhdGNoKCdBRERfSVRFTVMnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHF1ZXVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogSW50ZXJhY3Rpb25NZXRob2QuQlJPV1NFLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIDBcbiAgICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKCFlbmFibGVkICYmIHJvb3QucmVmLmJyb3dzZXIpIHtcbiAgICAgICAgcm9vdC5yZW1vdmVDaGlsZFZpZXcocm9vdC5yZWYuYnJvd3Nlcik7XG4gICAgICAgIHJvb3QucmVmLmJyb3dzZXIgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogRW5hYmxlIG9yIGRpc2FibGUgcGFzdGUgZnVuY3Rpb25hbGl0eVxuICovXG5jb25zdCB0b2dnbGVQYXN0ZSA9IHJvb3QgPT4ge1xuICAgIGNvbnN0IGlzQWxsb3dlZCA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19QQVNURScpO1xuICAgIGNvbnN0IGlzRGlzYWJsZWQgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKTtcbiAgICBjb25zdCBlbmFibGVkID0gaXNBbGxvd2VkICYmICFpc0Rpc2FibGVkO1xuICAgIGlmIChlbmFibGVkICYmICFyb290LnJlZi5wYXN0ZXIpIHtcbiAgICAgICAgcm9vdC5yZWYucGFzdGVyID0gY3JlYXRlUGFzdGVyKCk7XG4gICAgICAgIHJvb3QucmVmLnBhc3Rlci5vbmxvYWQgPSBpdGVtcyA9PiB7XG4gICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdBRERfSVRFTVMnLCBpdGVtcywgeyBkaXNwYXRjaDogcm9vdC5kaXNwYXRjaCB9KS50aGVuKHF1ZXVlID0+IHtcbiAgICAgICAgICAgICAgICAvLyB0aGVzZSBmaWxlcyBkb24ndCBmaXQgc28gc3RvcCBoZXJlXG4gICAgICAgICAgICAgICAgaWYgKGV4Y2VlZHNNYXhGaWxlcyhyb290LCBxdWV1ZSkpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIC8vIGFkZCBpdGVtcyFcbiAgICAgICAgICAgICAgICByb290LmRpc3BhdGNoKCdBRERfSVRFTVMnLCB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBxdWV1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IC0xLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogSW50ZXJhY3Rpb25NZXRob2QuUEFTVEUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKCFlbmFibGVkICYmIHJvb3QucmVmLnBhc3Rlcikge1xuICAgICAgICByb290LnJlZi5wYXN0ZXIuZGVzdHJveSgpO1xuICAgICAgICByb290LnJlZi5wYXN0ZXIgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogUm91dGUgYWN0aW9uc1xuICovXG5jb25zdCByb3V0ZSQ1ID0gY3JlYXRlUm91dGUoe1xuICAgIERJRF9TRVRfQUxMT1dfQlJPV1NFOiAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICAgIHRvZ2dsZUJyb3dzZShyb290LCBwcm9wcyk7XG4gICAgfSxcbiAgICBESURfU0VUX0FMTE9XX0RST1A6ICh7IHJvb3QgfSkgPT4ge1xuICAgICAgICB0b2dnbGVEcm9wKHJvb3QpO1xuICAgIH0sXG4gICAgRElEX1NFVF9BTExPV19QQVNURTogKHsgcm9vdCB9KSA9PiB7XG4gICAgICAgIHRvZ2dsZVBhc3RlKHJvb3QpO1xuICAgIH0sXG4gICAgRElEX1NFVF9ESVNBQkxFRDogKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgICAgICB0b2dnbGVEcm9wKHJvb3QpO1xuICAgICAgICB0b2dnbGVQYXN0ZShyb290KTtcbiAgICAgICAgdG9nZ2xlQnJvd3NlKHJvb3QsIHByb3BzKTtcbiAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgICAgICBpZiAoaXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuZGlzYWJsZWQgPSAnZGlzYWJsZWQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZGVsZXRlIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRpc2FibGVkOyA8PSB0aGlzIGRvZXMgbm90IHdvcmsgb24gaU9TIDEwXG4gICAgICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWRpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICB9LFxufSk7XG5cbmNvbnN0IHJvb3QgPSBjcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAncm9vdCcsXG4gICAgcmVhZDogKHsgcm9vdCB9KSA9PiB7XG4gICAgICAgIGlmIChyb290LnJlZi5tZWFzdXJlKSB7XG4gICAgICAgICAgICByb290LnJlZi5tZWFzdXJlSGVpZ2h0ID0gcm9vdC5yZWYubWVhc3VyZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZTogY3JlYXRlJGUsXG4gICAgd3JpdGU6IHdyaXRlJDksXG4gICAgZGVzdHJveTogKHsgcm9vdCB9KSA9PiB7XG4gICAgICAgIGlmIChyb290LnJlZi5wYXN0ZXIpIHtcbiAgICAgICAgICAgIHJvb3QucmVmLnBhc3Rlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvb3QucmVmLmhvcHBlcikge1xuICAgICAgICAgICAgcm9vdC5yZWYuaG9wcGVyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgcHJldmVudCk7XG4gICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdnZXN0dXJlc3RhcnQnLCBwcmV2ZW50KTtcbiAgICB9LFxuICAgIG1peGluczoge1xuICAgICAgICBzdHlsZXM6IFsnaGVpZ2h0J10sXG4gICAgfSxcbn0pO1xuXG4vLyBjcmVhdGVzIHRoZSBhcHBcbmNvbnN0IGNyZWF0ZUFwcCA9IChpbml0aWFsT3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgLy8gbGV0IGVsZW1lbnRcbiAgICBsZXQgb3JpZ2luYWxFbGVtZW50ID0gbnVsbDtcblxuICAgIC8vIGdldCBkZWZhdWx0IG9wdGlvbnNcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IGdldE9wdGlvbnMoKTtcblxuICAgIC8vIGNyZWF0ZSB0aGUgZGF0YSBzdG9yZSwgdGhpcyB3aWxsIGNvbnRhaW4gYWxsIG91ciBhcHAgaW5mb1xuICAgIGNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoXG4gICAgICAgIC8vIGluaXRpYWwgc3RhdGUgKHNob3VsZCBiZSBzZXJpYWxpemFibGUpXG4gICAgICAgIGNyZWF0ZUluaXRpYWxTdGF0ZShkZWZhdWx0T3B0aW9ucyksXG5cbiAgICAgICAgLy8gcXVlcmllc1xuICAgICAgICBbcXVlcmllcywgY3JlYXRlT3B0aW9uUXVlcmllcyhkZWZhdWx0T3B0aW9ucyldLFxuXG4gICAgICAgIC8vIGFjdGlvbiBoYW5kbGVyc1xuICAgICAgICBbYWN0aW9ucywgY3JlYXRlT3B0aW9uQWN0aW9ucyhkZWZhdWx0T3B0aW9ucyldXG4gICAgKTtcblxuICAgIC8vIHNldCBpbml0aWFsIG9wdGlvbnNcbiAgICBzdG9yZS5kaXNwYXRjaCgnU0VUX09QVElPTlMnLCB7IG9wdGlvbnM6IGluaXRpYWxPcHRpb25zIH0pO1xuXG4gICAgLy8ga2ljayB0aHJlYWQgaWYgdmlzaWJpbGl0eSBjaGFuZ2VzXG4gICAgY29uc3QgdmlzaWJpbGl0eUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHJldHVybjtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0tJQ0snKTtcbiAgICB9O1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCB2aXNpYmlsaXR5SGFuZGxlcik7XG5cbiAgICAvLyByZS1yZW5kZXIgb24gd2luZG93IHJlc2l6ZSBzdGFydCBhbmQgZmluaXNoXG4gICAgbGV0IHJlc2l6ZURvbmVUaW1lciA9IG51bGw7XG4gICAgbGV0IGlzUmVzaXppbmcgPSBmYWxzZTtcbiAgICBsZXQgaXNSZXNpemluZ0hvcml6b250YWxseSA9IGZhbHNlO1xuICAgIGxldCBpbml0aWFsV2luZG93V2lkdGggPSBudWxsO1xuICAgIGxldCBjdXJyZW50V2luZG93V2lkdGggPSBudWxsO1xuICAgIGNvbnN0IHJlc2l6ZUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmICghaXNSZXNpemluZykge1xuICAgICAgICAgICAgaXNSZXNpemluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZURvbmVUaW1lcik7XG4gICAgICAgIHJlc2l6ZURvbmVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaXNSZXNpemluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaW5pdGlhbFdpbmRvd1dpZHRoID0gbnVsbDtcbiAgICAgICAgICAgIGN1cnJlbnRXaW5kb3dXaWR0aCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaXNSZXNpemluZ0hvcml6b250YWxseSkge1xuICAgICAgICAgICAgICAgIGlzUmVzaXppbmdIb3Jpem9udGFsbHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnRElEX1NUT1BfUkVTSVpFJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplSGFuZGxlcik7XG5cbiAgICAvLyByZW5kZXIgaW5pdGlhbCB2aWV3XG4gICAgY29uc3QgdmlldyA9IHJvb3Qoc3RvcmUsIHsgaWQ6IGdldFVuaXF1ZUlkKCkgfSk7XG5cbiAgICAvL1xuICAgIC8vIFBSSVZBVEUgQVBJIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL1xuICAgIGxldCBpc1Jlc3RpbmcgPSBmYWxzZTtcbiAgICBsZXQgaXNIaWRkZW4gPSBmYWxzZTtcblxuICAgIGNvbnN0IHJlYWRXcml0ZUFwaSA9IHtcbiAgICAgICAgLy8gbmVjZXNzYXJ5IGZvciB1cGRhdGUgbG9vcFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWFkcyBmcm9tIGRvbSAobmV2ZXIgY2FsbCBtYW51YWxseSlcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9yZWFkOiAoKSA9PiB7XG4gICAgICAgICAgICAvLyB0ZXN0IGlmIHdlJ3JlIHJlc2l6aW5nIGhvcml6b250YWxseVxuICAgICAgICAgICAgLy8gVE9ETzogc2VlIGlmIHdlIGNhbiBvcHRpbWl6ZSB0aGlzIGJ5IG1lYXN1cmluZyByb290IHJlY3RcbiAgICAgICAgICAgIGlmIChpc1Jlc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICAgICAgaWYgKCFpbml0aWFsV2luZG93V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFdpbmRvd1dpZHRoID0gY3VycmVudFdpbmRvd1dpZHRoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghaXNSZXNpemluZ0hvcml6b250YWxseSAmJiBjdXJyZW50V2luZG93V2lkdGggIT09IGluaXRpYWxXaW5kb3dXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnRElEX1NUQVJUX1JFU0laRScpO1xuICAgICAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0hpZGRlbiAmJiBpc1Jlc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyB0ZXN0IGlmIGlzIG5vIGxvbmdlciBoaWRkZW5cbiAgICAgICAgICAgICAgICBpc1Jlc3RpbmcgPSB2aWV3LmVsZW1lbnQub2Zmc2V0UGFyZW50ID09PSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiByZXN0aW5nLCBubyBuZWVkIHRvIHJlYWQgYXMgbnVtYmVycyB3aWxsIHN0aWxsIGFsbCBiZSBjb3JyZWN0XG4gICAgICAgICAgICBpZiAoaXNSZXN0aW5nKSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIHJlYWQgdmlldyBkYXRhXG4gICAgICAgICAgICB2aWV3Ll9yZWFkKCk7XG5cbiAgICAgICAgICAgIC8vIGlmIGlzIGhpZGRlbiB3ZSBuZWVkIHRvIGtub3cgc28gd2UgZXhpdCByZXN0IG1vZGUgd2hlbiByZXZlYWxlZFxuICAgICAgICAgICAgaXNIaWRkZW4gPSB2aWV3LnJlY3QuZWxlbWVudC5oaWRkZW47XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyaXRlcyB0byBkb20gKG5ldmVyIGNhbGwgbWFudWFsbHkpXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfd3JpdGU6IHRzID0+IHtcbiAgICAgICAgICAgIC8vIGdldCBhbGwgYWN0aW9ucyBmcm9tIHN0b3JlXG4gICAgICAgICAgICBjb25zdCBhY3Rpb25zID0gc3RvcmVcbiAgICAgICAgICAgICAgICAucHJvY2Vzc0FjdGlvblF1ZXVlKClcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgc2V0IGFjdGlvbnMgKHRoZXNlIHdpbGwgYXV0b21hdGljYWxseSB0cmlnZ2VyIERJRF9TRVQpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihhY3Rpb24gPT4gIS9eU0VUXy8udGVzdChhY3Rpb24udHlwZSkpO1xuXG4gICAgICAgICAgICAvLyBpZiB3YXMgaWRsaW5nIGFuZCBubyBhY3Rpb25zIHN0b3AgaGVyZVxuICAgICAgICAgICAgaWYgKGlzUmVzdGluZyAmJiAhYWN0aW9ucy5sZW5ndGgpIHJldHVybjtcblxuICAgICAgICAgICAgLy8gc29tZSBhY3Rpb25zIG1pZ2h0IHRyaWdnZXIgZXZlbnRzXG4gICAgICAgICAgICByb3V0ZUFjdGlvbnNUb0V2ZW50cyhhY3Rpb25zKTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSB2aWV3XG4gICAgICAgICAgICBpc1Jlc3RpbmcgPSB2aWV3Ll93cml0ZSh0cywgYWN0aW9ucywgaXNSZXNpemluZ0hvcml6b250YWxseSk7XG5cbiAgICAgICAgICAgIC8vIHdpbGwgY2xlYW4gdXAgYWxsIGFyY2hpdmVkIGl0ZW1zXG4gICAgICAgICAgICByZW1vdmVSZWxlYXNlZEl0ZW1zKHN0b3JlLnF1ZXJ5KCdHRVRfSVRFTVMnKSk7XG5cbiAgICAgICAgICAgIC8vIG5vdyBpZGxpbmdcbiAgICAgICAgICAgIGlmIChpc1Jlc3RpbmcpIHtcbiAgICAgICAgICAgICAgICBzdG9yZS5wcm9jZXNzRGlzcGF0Y2hRdWV1ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG5cbiAgICAvL1xuICAgIC8vIEVYUE9TRSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgY29uc3QgY3JlYXRlRXZlbnQgPSBuYW1lID0+IGRhdGEgPT4ge1xuICAgICAgICAvLyBjcmVhdGUgZGVmYXVsdCBldmVudFxuICAgICAgICBjb25zdCBldmVudCA9IHtcbiAgICAgICAgICAgIHR5cGU6IG5hbWUsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gbm8gZGF0YSB0byBhZGRcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb3B5IHJlbGV2YW50IHByb3BzXG4gICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KCdlcnJvcicpKSB7XG4gICAgICAgICAgICBldmVudC5lcnJvciA9IGRhdGEuZXJyb3IgPyB7IC4uLmRhdGEuZXJyb3IgfSA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5zdGF0dXMpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0YXR1cyA9IHsgLi4uZGF0YS5zdGF0dXMgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLmZpbGUpIHtcbiAgICAgICAgICAgIGV2ZW50Lm91dHB1dCA9IGRhdGEuZmlsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG9ubHkgc291cmNlIGlzIGF2YWlsYWJsZSwgZWxzZSBhZGQgaXRlbSBpZiBwb3NzaWJsZVxuICAgICAgICBpZiAoZGF0YS5zb3VyY2UpIHtcbiAgICAgICAgICAgIGV2ZW50LmZpbGUgPSBkYXRhLnNvdXJjZTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLml0ZW0gfHwgZGF0YS5pZCkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRhdGEuaXRlbSA/IGRhdGEuaXRlbSA6IHN0b3JlLnF1ZXJ5KCdHRVRfSVRFTScsIGRhdGEuaWQpO1xuICAgICAgICAgICAgZXZlbnQuZmlsZSA9IGl0ZW0gPyBjcmVhdGVJdGVtQVBJKGl0ZW0pIDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1hcCBhbGwgaXRlbXMgaW4gYSBwb3NzaWJsZSBpdGVtcyBhcnJheVxuICAgICAgICBpZiAoZGF0YS5pdGVtcykge1xuICAgICAgICAgICAgZXZlbnQuaXRlbXMgPSBkYXRhLml0ZW1zLm1hcChjcmVhdGVJdGVtQVBJKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYSBwcm9ncmVzcyBldmVudCBhZGQgdGhlIHByb2dyZXNzIGFtb3VudFxuICAgICAgICBpZiAoL3Byb2dyZXNzLy50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICBldmVudC5wcm9ncmVzcyA9IGRhdGEucHJvZ3Jlc3M7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb3B5IHJlbGV2YW50IHByb3BzXG4gICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KCdvcmlnaW4nKSAmJiBkYXRhLmhhc093blByb3BlcnR5KCd0YXJnZXQnKSkge1xuICAgICAgICAgICAgZXZlbnQub3JpZ2luID0gZGF0YS5vcmlnaW47XG4gICAgICAgICAgICBldmVudC50YXJnZXQgPSBkYXRhLnRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICB9O1xuXG4gICAgY29uc3QgZXZlbnRSb3V0ZXMgPSB7XG4gICAgICAgIERJRF9ERVNUUk9ZOiBjcmVhdGVFdmVudCgnZGVzdHJveScpLFxuXG4gICAgICAgIERJRF9JTklUOiBjcmVhdGVFdmVudCgnaW5pdCcpLFxuXG4gICAgICAgIERJRF9USFJPV19NQVhfRklMRVM6IGNyZWF0ZUV2ZW50KCd3YXJuaW5nJyksXG5cbiAgICAgICAgRElEX0lOSVRfSVRFTTogY3JlYXRlRXZlbnQoJ2luaXRmaWxlJyksXG4gICAgICAgIERJRF9TVEFSVF9JVEVNX0xPQUQ6IGNyZWF0ZUV2ZW50KCdhZGRmaWxlc3RhcnQnKSxcbiAgICAgICAgRElEX1VQREFURV9JVEVNX0xPQURfUFJPR1JFU1M6IGNyZWF0ZUV2ZW50KCdhZGRmaWxlcHJvZ3Jlc3MnKSxcbiAgICAgICAgRElEX0xPQURfSVRFTTogY3JlYXRlRXZlbnQoJ2FkZGZpbGUnKSxcblxuICAgICAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiBbY3JlYXRlRXZlbnQoJ2Vycm9yJyksIGNyZWF0ZUV2ZW50KCdhZGRmaWxlJyldLFxuXG4gICAgICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IFtjcmVhdGVFdmVudCgnZXJyb3InKSwgY3JlYXRlRXZlbnQoJ2FkZGZpbGUnKV0sXG5cbiAgICAgICAgRElEX1RIUk9XX0lURU1fUkVNT1ZFX0VSUk9SOiBbY3JlYXRlRXZlbnQoJ2Vycm9yJyksIGNyZWF0ZUV2ZW50KCdyZW1vdmVmaWxlJyldLFxuXG4gICAgICAgIERJRF9QUkVQQVJFX09VVFBVVDogY3JlYXRlRXZlbnQoJ3ByZXBhcmVmaWxlJyksXG5cbiAgICAgICAgRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORzogY3JlYXRlRXZlbnQoJ3Byb2Nlc3NmaWxlc3RhcnQnKSxcbiAgICAgICAgRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1M6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZXByb2dyZXNzJyksXG4gICAgICAgIERJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkc6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZWFib3J0JyksXG4gICAgICAgIERJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkc6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZScpLFxuICAgICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HX0FMTDogY3JlYXRlRXZlbnQoJ3Byb2Nlc3NmaWxlcycpLFxuICAgICAgICBESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogY3JlYXRlRXZlbnQoJ3Byb2Nlc3NmaWxlcmV2ZXJ0JyksXG5cbiAgICAgICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUjogW2NyZWF0ZUV2ZW50KCdlcnJvcicpLCBjcmVhdGVFdmVudCgncHJvY2Vzc2ZpbGUnKV0sXG5cbiAgICAgICAgRElEX1JFTU9WRV9JVEVNOiBjcmVhdGVFdmVudCgncmVtb3ZlZmlsZScpLFxuXG4gICAgICAgIERJRF9VUERBVEVfSVRFTVM6IGNyZWF0ZUV2ZW50KCd1cGRhdGVmaWxlcycpLFxuXG4gICAgICAgIERJRF9BQ1RJVkFURV9JVEVNOiBjcmVhdGVFdmVudCgnYWN0aXZhdGVmaWxlJyksXG5cbiAgICAgICAgRElEX1JFT1JERVJfSVRFTVM6IGNyZWF0ZUV2ZW50KCdyZW9yZGVyZmlsZXMnKSxcbiAgICB9O1xuXG4gICAgY29uc3QgZXhwb3NlRXZlbnQgPSBldmVudCA9PiB7XG4gICAgICAgIC8vIGNyZWF0ZSBldmVudCBvYmplY3QgdG8gYmUgZGlzcGF0Y2hlZFxuICAgICAgICBjb25zdCBkZXRhaWwgPSB7IHBvbmQ6IGV4cG9ydHMsIC4uLmV2ZW50IH07XG4gICAgICAgIGRlbGV0ZSBkZXRhaWwudHlwZTtcbiAgICAgICAgdmlldy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoYEZpbGVQb25kOiR7ZXZlbnQudHlwZX1gLCB7XG4gICAgICAgICAgICAgICAgLy8gZXZlbnQgaW5mb1xuICAgICAgICAgICAgICAgIGRldGFpbCxcblxuICAgICAgICAgICAgICAgIC8vIGV2ZW50IGJlaGF2aW91clxuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb21wb3NlZDogdHJ1ZSwgLy8gdHJpZ2dlcnMgbGlzdGVuZXJzIG91dHNpZGUgb2Ygc2hhZG93IHJvb3RcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gZXZlbnQgb2JqZWN0IHRvIHBhcmFtcyB1c2VkIGZvciBgb24oKWAgZXZlbnQgaGFuZGxlcnMgYW5kIGNhbGxiYWNrcyBgb25pbml0KClgXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IFtdO1xuXG4gICAgICAgIC8vIGlmIGlzIHBvc3NpYmxlIGVycm9yIGV2ZW50LCBtYWtlIGl0IHRoZSBmaXJzdCBwYXJhbVxuICAgICAgICBpZiAoZXZlbnQuaGFzT3duUHJvcGVydHkoJ2Vycm9yJykpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKGV2ZW50LmVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbGUgaXMgYWx3YXlzIHNlY3Rpb25cbiAgICAgICAgaWYgKGV2ZW50Lmhhc093blByb3BlcnR5KCdmaWxlJykpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKGV2ZW50LmZpbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXBwZW5kIG90aGVyIHByb3BzXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkID0gWyd0eXBlJywgJ2Vycm9yJywgJ2ZpbGUnXTtcbiAgICAgICAgT2JqZWN0LmtleXMoZXZlbnQpXG4gICAgICAgICAgICAuZmlsdGVyKGtleSA9PiAhZmlsdGVyZWQuaW5jbHVkZXMoa2V5KSlcbiAgICAgICAgICAgIC5mb3JFYWNoKGtleSA9PiBwYXJhbXMucHVzaChldmVudFtrZXldKSk7XG5cbiAgICAgICAgLy8gb24odHlwZSwgKCkgPT4geyB9KVxuICAgICAgICBleHBvcnRzLmZpcmUoZXZlbnQudHlwZSwgLi4ucGFyYW1zKTtcblxuICAgICAgICAvLyBvbmluaXQgPSAoKSA9PiB7fVxuICAgICAgICBjb25zdCBoYW5kbGVyID0gc3RvcmUucXVlcnkoYEdFVF9PTiR7ZXZlbnQudHlwZS50b1VwcGVyQ2FzZSgpfWApO1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgaGFuZGxlciguLi5wYXJhbXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHJvdXRlQWN0aW9uc1RvRXZlbnRzID0gYWN0aW9ucyA9PiB7XG4gICAgICAgIGlmICghYWN0aW9ucy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgYWN0aW9uc1xuICAgICAgICAgICAgLmZpbHRlcihhY3Rpb24gPT4gZXZlbnRSb3V0ZXNbYWN0aW9uLnR5cGVdKVxuICAgICAgICAgICAgLmZvckVhY2goYWN0aW9uID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZXMgPSBldmVudFJvdXRlc1thY3Rpb24udHlwZV07XG4gICAgICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkocm91dGVzKSA/IHJvdXRlcyA6IFtyb3V0ZXNdKS5mb3JFYWNoKHJvdXRlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpc24ndCBmYW50YXN0aWMsIGJ1dCBiZWNhdXNlIG9mIHRoZSBzdGFja2luZyBvZiBzZXR0aW1lb3V0cyBwbHVnaW5zIGNhbiBoYW5kbGUgdGhlIGRpZF9sb2FkIGJlZm9yZSB0aGUgZGlkX2luaXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbi50eXBlID09PSAnRElEX0lOSVRfSVRFTScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9zZUV2ZW50KHJvdXRlKGFjdGlvbi5kYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBvc2VFdmVudChyb3V0ZShhY3Rpb24uZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvL1xuICAgIC8vIFBVQkxJQyBBUEkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgY29uc3Qgc2V0T3B0aW9ucyA9IG9wdGlvbnMgPT4gc3RvcmUuZGlzcGF0Y2goJ1NFVF9PUFRJT05TJywgeyBvcHRpb25zIH0pO1xuXG4gICAgY29uc3QgZ2V0RmlsZSA9IHF1ZXJ5ID0+IHN0b3JlLnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU0nLCBxdWVyeSk7XG5cbiAgICBjb25zdCBwcmVwYXJlRmlsZSA9IHF1ZXJ5ID0+XG4gICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdSRVFVRVNUX0lURU1fUFJFUEFSRScsIHtcbiAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpdGVtKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWx1cmU6IGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgY29uc3QgYWRkRmlsZSA9IChzb3VyY2UsIG9wdGlvbnMgPSB7fSkgPT5cbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgYWRkRmlsZXMoW3sgc291cmNlLCBvcHRpb25zIH1dLCB7IGluZGV4OiBvcHRpb25zLmluZGV4IH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oaXRlbXMgPT4gcmVzb2x2ZShpdGVtcyAmJiBpdGVtc1swXSkpXG4gICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIH0pO1xuXG4gICAgY29uc3QgaXNGaWxlUG9uZEZpbGUgPSBvYmogPT4gb2JqLmZpbGUgJiYgb2JqLmlkO1xuXG4gICAgY29uc3QgcmVtb3ZlRmlsZSA9IChxdWVyeSwgb3B0aW9ucykgPT4ge1xuICAgICAgICAvLyBpZiBvbmx5IHBhc3NlZCBvcHRpb25zXG4gICAgICAgIGlmICh0eXBlb2YgcXVlcnkgPT09ICdvYmplY3QnICYmICFpc0ZpbGVQb25kRmlsZShxdWVyeSkgJiYgIW9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBxdWVyeTtcbiAgICAgICAgICAgIHF1ZXJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVxdWVzdCBpdGVtIHJlbW92YWxcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyAuLi5vcHRpb25zLCBxdWVyeSB9KTtcblxuICAgICAgICAvLyBzZWUgaWYgaXRlbSBoYXMgYmVlbiByZW1vdmVkXG4gICAgICAgIHJldHVybiBzdG9yZS5xdWVyeSgnR0VUX0FDVElWRV9JVEVNJywgcXVlcnkpID09PSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCBhZGRGaWxlcyA9ICguLi5hcmdzKSA9PlxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VzID0gW107XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge307XG5cbiAgICAgICAgICAgIC8vIHVzZXIgcGFzc2VkIGEgc291cmNlcyBhcnJheVxuICAgICAgICAgICAgaWYgKGlzQXJyYXkoYXJnc1swXSkpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2guYXBwbHkoc291cmNlcywgYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCBhcmdzWzFdIHx8IHt9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdXNlciBwYXNzZWQgc291cmNlcyBhcyBhcmd1bWVudHMsIGxhc3Qgb25lIG1pZ2h0IGJlIG9wdGlvbnMgb2JqZWN0XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdEFyZ3VtZW50ID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGFzdEFyZ3VtZW50ID09PSAnb2JqZWN0JyAmJiAhKGxhc3RBcmd1bWVudCBpbnN0YW5jZW9mIEJsb2IpKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgYXJncy5wb3AoKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYWRkIHJlc3QgdG8gc291cmNlc1xuICAgICAgICAgICAgICAgIHNvdXJjZXMucHVzaCguLi5hcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0FERF9JVEVNUycsIHtcbiAgICAgICAgICAgICAgICBpdGVtczogc291cmNlcyxcbiAgICAgICAgICAgICAgICBpbmRleDogb3B0aW9ucy5pbmRleCxcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogSW50ZXJhY3Rpb25NZXRob2QuQVBJLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHJlc29sdmUsXG4gICAgICAgICAgICAgICAgZmFpbHVyZTogcmVqZWN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgY29uc3QgZ2V0RmlsZXMgPSAoKSA9PiBzdG9yZS5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpO1xuXG4gICAgY29uc3QgcHJvY2Vzc0ZpbGUgPSBxdWVyeSA9PlxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLCB7XG4gICAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgICAgc3VjY2VzczogaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaXRlbSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsdXJlOiBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgIGNvbnN0IHByZXBhcmVGaWxlcyA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IHF1ZXJpZXMgPSBBcnJheS5pc0FycmF5KGFyZ3NbMF0pID8gYXJnc1swXSA6IGFyZ3M7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gcXVlcmllcy5sZW5ndGggPyBxdWVyaWVzIDogZ2V0RmlsZXMoKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGl0ZW1zLm1hcChwcmVwYXJlRmlsZSkpO1xuICAgIH07XG5cbiAgICBjb25zdCBwcm9jZXNzRmlsZXMgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBxdWVyaWVzID0gQXJyYXkuaXNBcnJheShhcmdzWzBdKSA/IGFyZ3NbMF0gOiBhcmdzO1xuICAgICAgICBpZiAoIXF1ZXJpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlcyA9IGdldEZpbGVzKCkuZmlsdGVyKFxuICAgICAgICAgICAgICAgIGl0ZW0gPT5cbiAgICAgICAgICAgICAgICAgICAgIShpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5JRExFICYmIGl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLkxPQ0FMKSAmJlxuICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyAhPT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HICYmXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc3RhdHVzICE9PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEUgJiZcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgIT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19SRVZFUlRfRVJST1JcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZXMubWFwKHByb2Nlc3NGaWxlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHF1ZXJpZXMubWFwKHByb2Nlc3NGaWxlKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbW92ZUZpbGVzID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgcXVlcmllcyA9IEFycmF5LmlzQXJyYXkoYXJnc1swXSkgPyBhcmdzWzBdIDogYXJncztcblxuICAgICAgICBsZXQgb3B0aW9ucztcbiAgICAgICAgaWYgKHR5cGVvZiBxdWVyaWVzW3F1ZXJpZXMubGVuZ3RoIC0gMV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gcXVlcmllcy5wb3AoKTtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gYXJnc1sxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbGVzID0gZ2V0RmlsZXMoKTtcblxuICAgICAgICBpZiAoIXF1ZXJpZXMubGVuZ3RoKSByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZXMubWFwKGZpbGUgPT4gcmVtb3ZlRmlsZShmaWxlLCBvcHRpb25zKSkpO1xuXG4gICAgICAgIC8vIHdoZW4gcmVtb3ZpbmcgYnkgaW5kZXggdGhlIGluZGV4ZXMgc2hpZnQgYWZ0ZXIgZWFjaCBmaWxlIHJlbW92YWwgc28gd2UgbmVlZCB0byBjb252ZXJ0IGluZGV4ZXMgdG8gaWRzXG4gICAgICAgIGNvbnN0IG1hcHBlZFF1ZXJpZXMgPSBxdWVyaWVzXG4gICAgICAgICAgICAubWFwKHF1ZXJ5ID0+IChpc051bWJlcihxdWVyeSkgPyAoZmlsZXNbcXVlcnldID8gZmlsZXNbcXVlcnldLmlkIDogbnVsbCkgOiBxdWVyeSkpXG4gICAgICAgICAgICAuZmlsdGVyKHF1ZXJ5ID0+IHF1ZXJ5KTtcblxuICAgICAgICByZXR1cm4gbWFwcGVkUXVlcmllcy5tYXAocSA9PiByZW1vdmVGaWxlKHEsIG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZXhwb3J0cyA9IHtcbiAgICAgICAgLy8gc3VwcG9ydHMgZXZlbnRzXG4gICAgICAgIC4uLm9uKCksXG5cbiAgICAgICAgLy8gaW5qZWN0IHByaXZhdGUgYXBpIG1ldGhvZHNcbiAgICAgICAgLi4ucmVhZFdyaXRlQXBpLFxuXG4gICAgICAgIC8vIGluamVjdCBhbGwgZ2V0dGVycyBhbmQgc2V0dGVyc1xuICAgICAgICAuLi5jcmVhdGVPcHRpb25BUEkoc3RvcmUsIGRlZmF1bHRPcHRpb25zKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogT3ZlcnJpZGUgb3B0aW9ucyBkZWZpbmVkIGluIG9wdGlvbnMgb2JqZWN0XG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICAgICAqL1xuICAgICAgICBzZXRPcHRpb25zLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkIHRoZSBnaXZlbiBmaWxlXG4gICAgICAgICAqIEBwYXJhbSBzb3VyY2UgLSB0aGUgc291cmNlIG9mIHRoZSBmaWxlIChlaXRoZXIgYSBGaWxlLCBiYXNlNjQgZGF0YSB1cmkgb3IgdXJsKVxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIG9iamVjdCwgeyBpbmRleDogMCB9XG4gICAgICAgICAqL1xuICAgICAgICBhZGRGaWxlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkIHRoZSBnaXZlbiBmaWxlc1xuICAgICAgICAgKiBAcGFyYW0gc291cmNlcyAtIHRoZSBzb3VyY2VzIG9mIHRoZSBmaWxlcyB0byBsb2FkXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIC0gb2JqZWN0LCB7IGluZGV4OiAwIH1cbiAgICAgICAgICovXG4gICAgICAgIGFkZEZpbGVzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBmaWxlIG9iamVjdHMgbWF0Y2hpbmcgdGhlIGdpdmVuIHF1ZXJ5XG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSB7IHN0cmluZywgbnVtYmVyLCBudWxsIH1cbiAgICAgICAgICovXG4gICAgICAgIGdldEZpbGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwbG9hZCBmaWxlIHdpdGggZ2l2ZW4gbmFtZVxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgeyBzdHJpbmcsIG51bWJlciwgbnVsbCAgfVxuICAgICAgICAgKi9cbiAgICAgICAgcHJvY2Vzc0ZpbGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcXVlc3QgcHJlcGFyZSBvdXRwdXQgZm9yIGZpbGUgd2l0aCBnaXZlbiBuYW1lXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSB7IHN0cmluZywgbnVtYmVyLCBudWxsICB9XG4gICAgICAgICAqL1xuICAgICAgICBwcmVwYXJlRmlsZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlcyBhIGZpbGUgYnkgaXRzIG5hbWVcbiAgICAgICAgICogQHBhcmFtIHF1ZXJ5IHsgc3RyaW5nLCBudW1iZXIsIG51bGwgIH1cbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZUZpbGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmVzIGEgZmlsZSB0byBhIG5ldyBsb2NhdGlvbiBpbiB0aGUgZmlsZXMgbGlzdFxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZUZpbGU6IChxdWVyeSwgaW5kZXgpID0+IHN0b3JlLmRpc3BhdGNoKCdNT1ZFX0lURU0nLCB7IHF1ZXJ5LCBpbmRleCB9KSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhbGwgZmlsZXMgKHdyYXBwZWQgaW4gcHVibGljIGFwaSlcbiAgICAgICAgICovXG4gICAgICAgIGdldEZpbGVzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGFydHMgdXBsb2FkaW5nIGFsbCBmaWxlc1xuICAgICAgICAgKi9cbiAgICAgICAgcHJvY2Vzc0ZpbGVzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGVhcnMgYWxsIGZpbGVzIGZyb20gdGhlIGZpbGVzIGxpc3RcbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZUZpbGVzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGFydHMgcHJlcGFyaW5nIG91dHB1dCBvZiBhbGwgZmlsZXNcbiAgICAgICAgICovXG4gICAgICAgIHByZXBhcmVGaWxlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU29ydCBsaXN0IG9mIGZpbGVzXG4gICAgICAgICAqL1xuICAgICAgICBzb3J0OiBjb21wYXJlID0+IHN0b3JlLmRpc3BhdGNoKCdTT1JUJywgeyBjb21wYXJlIH0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCcm93c2UgdGhlIGZpbGUgc3lzdGVtIGZvciBhIGZpbGVcbiAgICAgICAgICovXG4gICAgICAgIGJyb3dzZTogKCkgPT4ge1xuICAgICAgICAgICAgLy8gbmVlZHMgdG8gYmUgdHJpZ2dlciBkaXJlY3RseSBhcyB1c2VyIGFjdGlvbiBuZWVkcyB0byBiZSB0cmFjZWFibGUgKGlzIG5vdCB0cmFjZWFibGUgaW4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdmlldy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9ZmlsZV0nKTtcbiAgICAgICAgICAgIGlmIChpbnB1dCkge1xuICAgICAgICAgICAgICAgIGlucHV0LmNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3Ryb3lzIHRoZSBhcHBcbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3k6ICgpID0+IHtcbiAgICAgICAgICAgIC8vIHJlcXVlc3QgZGVzdHJ1Y3Rpb25cbiAgICAgICAgICAgIGV4cG9ydHMuZmlyZSgnZGVzdHJveScsIHZpZXcuZWxlbWVudCk7XG5cbiAgICAgICAgICAgIC8vIHN0b3AgYWN0aXZlIHByb2Nlc3NlcyAoZmlsZSB1cGxvYWRzLCBmZXRjaGVzLCBzdHVmZiBsaWtlIHRoYXQpXG4gICAgICAgICAgICAvLyBsb29wIG92ZXIgaXRlbXMgYW5kIGRlcGVuZGluZyBvbiBzdGF0ZXMgY2FsbCBhYm9ydCBmb3Igb25nb2luZyBwcm9jZXNzZXNcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdBQk9SVF9BTEwnKTtcblxuICAgICAgICAgICAgLy8gZGVzdHJveSB2aWV3XG4gICAgICAgICAgICB2aWV3Ll9kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIC8vIHN0b3AgbGlzdGVuaW5nIHRvIHJlc2l6ZVxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUhhbmRsZXIpO1xuXG4gICAgICAgICAgICAvLyBzdG9wIGxpc3RlbmluZyB0byB0aGUgdmlzaWJsaXR5Y2hhbmdlIGV2ZW50XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgdmlzaWJpbGl0eUhhbmRsZXIpO1xuXG4gICAgICAgICAgICAvLyBkaXNwYXRjaCBkZXN0cm95XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnRElEX0RFU1RST1knKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5zZXJ0cyB0aGUgcGx1Z2luIGJlZm9yZSB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGluc2VydEJlZm9yZTogZWxlbWVudCA9PiBpbnNlcnRCZWZvcmUodmlldy5lbGVtZW50LCBlbGVtZW50KSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5zZXJ0cyB0aGUgcGx1Z2luIGFmdGVyIHRoZSB0YXJnZXQgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgaW5zZXJ0QWZ0ZXI6IGVsZW1lbnQgPT4gaW5zZXJ0QWZ0ZXIodmlldy5lbGVtZW50LCBlbGVtZW50KSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQXBwZW5kcyB0aGUgcGx1Z2luIHRvIHRoZSB0YXJnZXQgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgYXBwZW5kVG86IGVsZW1lbnQgPT4gZWxlbWVudC5hcHBlbmRDaGlsZCh2aWV3LmVsZW1lbnQpLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXBsYWNlcyBhbiBlbGVtZW50IHdpdGggdGhlIGFwcFxuICAgICAgICAgKi9cbiAgICAgICAgcmVwbGFjZUVsZW1lbnQ6IGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgLy8gaW5zZXJ0IHRoZSBhcHAgYmVmb3JlIHRoZSBlbGVtZW50XG4gICAgICAgICAgICBpbnNlcnRCZWZvcmUodmlldy5lbGVtZW50LCBlbGVtZW50KTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBvcmlnaW5hbCBlbGVtZW50XG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG5cbiAgICAgICAgICAgIC8vIHJlbWVtYmVyIG9yaWdpbmFsIGVsZW1lbnRcbiAgICAgICAgICAgIG9yaWdpbmFsRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc3RvcmVzIHRoZSBvcmlnaW5hbCBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICByZXN0b3JlRWxlbWVudDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFvcmlnaW5hbEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIG5vIGVsZW1lbnQgdG8gcmVzdG9yZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZXN0b3JlIG9yaWdpbmFsIGVsZW1lbnRcbiAgICAgICAgICAgIGluc2VydEFmdGVyKG9yaWdpbmFsRWxlbWVudCwgdmlldy5lbGVtZW50KTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIG91ciBlbGVtZW50XG4gICAgICAgICAgICB2aWV3LmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh2aWV3LmVsZW1lbnQpO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgcmVmZXJlbmNlXG4gICAgICAgICAgICBvcmlnaW5hbEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGFwcCByb290IGlzIGF0dGFjaGVkIHRvIGdpdmVuIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGlzQXR0YWNoZWRUbzogZWxlbWVudCA9PiB2aWV3LmVsZW1lbnQgPT09IGVsZW1lbnQgfHwgb3JpZ2luYWxFbGVtZW50ID09PSBlbGVtZW50LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSByb290IGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGVsZW1lbnQ6IHtcbiAgICAgICAgICAgIGdldDogKCkgPT4gdmlldy5lbGVtZW50LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHBvbmQgc3RhdHVzXG4gICAgICAgICAqL1xuICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgIGdldDogKCkgPT4gc3RvcmUucXVlcnkoJ0dFVF9TVEFUVVMnKSxcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgLy8gRG9uZSFcbiAgICBzdG9yZS5kaXNwYXRjaCgnRElEX0lOSVQnKTtcblxuICAgIC8vIGNyZWF0ZSBhY3R1YWwgYXBpIG9iamVjdFxuICAgIHJldHVybiBjcmVhdGVPYmplY3QoZXhwb3J0cyk7XG59O1xuXG5jb25zdCBjcmVhdGVBcHBPYmplY3QgPSAoY3VzdG9tT3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgLy8gZGVmYXVsdCBvcHRpb25zXG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7fTtcbiAgICBmb3JpbihnZXRPcHRpb25zKCksIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGRlZmF1bHRPcHRpb25zW2tleV0gPSB2YWx1ZVswXTtcbiAgICB9KTtcblxuICAgIC8vIHNldCBhcHAgb3B0aW9uc1xuICAgIGNvbnN0IGFwcCA9IGNyZWF0ZUFwcCh7XG4gICAgICAgIC8vIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICAuLi5kZWZhdWx0T3B0aW9ucyxcblxuICAgICAgICAvLyBjdXN0b20gb3B0aW9uc1xuICAgICAgICAuLi5jdXN0b21PcHRpb25zLFxuICAgIH0pO1xuXG4gICAgLy8gcmV0dXJuIHRoZSBwbHVnaW4gaW5zdGFuY2VcbiAgICByZXR1cm4gYXBwO1xufTtcblxuY29uc3QgbG93ZXJDYXNlRmlyc3RMZXR0ZXIgPSBzdHJpbmcgPT4gc3RyaW5nLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuXG5jb25zdCBhdHRyaWJ1dGVOYW1lVG9Qcm9wZXJ0eU5hbWUgPSBhdHRyaWJ1dGVOYW1lID0+IHRvQ2FtZWxzKGF0dHJpYnV0ZU5hbWUucmVwbGFjZSgvXmRhdGEtLywgJycpKTtcblxuY29uc3QgbWFwT2JqZWN0ID0gKG9iamVjdCwgcHJvcGVydHlNYXApID0+IHtcbiAgICAvLyByZW1vdmUgdW53YW50ZWRcbiAgICBmb3Jpbihwcm9wZXJ0eU1hcCwgKHNlbGVjdG9yLCBtYXBwaW5nKSA9PiB7XG4gICAgICAgIGZvcmluKG9iamVjdCwgKHByb3BlcnR5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgLy8gY3JlYXRlIHJlZ2V4cCBzaG9ydGN1dFxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JSZWdFeHAgPSBuZXcgUmVnRXhwKHNlbGVjdG9yKTtcblxuICAgICAgICAgICAgLy8gdGVzdHMgaWZcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBzZWxlY3RvclJlZ0V4cC50ZXN0KHByb3BlcnR5KTtcblxuICAgICAgICAgICAgLy8gbm8gbWF0Y2gsIHNraXBcbiAgICAgICAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBhIG1hcHBpbmcsIHRoZSBvcmlnaW5hbCBwcm9wZXJ0eSBpcyBhbHdheXMgcmVtb3ZlZFxuICAgICAgICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XG5cbiAgICAgICAgICAgIC8vIHNob3VsZCBvbmx5IHJlbW92ZSwgd2UgZG9uZSFcbiAgICAgICAgICAgIGlmIChtYXBwaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbW92ZSB2YWx1ZSB0byBuZXcgcHJvcGVydHlcbiAgICAgICAgICAgIGlmIChpc1N0cmluZyhtYXBwaW5nKSkge1xuICAgICAgICAgICAgICAgIG9iamVjdFttYXBwaW5nXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbW92ZSB0byBncm91cFxuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBtYXBwaW5nLmdyb3VwO1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KG1hcHBpbmcpICYmICFvYmplY3RbZ3JvdXBdKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0W2dyb3VwXSA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYmplY3RbZ3JvdXBdW2xvd2VyQ2FzZUZpcnN0TGV0dGVyKHByb3BlcnR5LnJlcGxhY2Uoc2VsZWN0b3JSZWdFeHAsICcnKSldID0gdmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGRvIHN1Ym1hcHBpbmdcbiAgICAgICAgaWYgKG1hcHBpbmcubWFwcGluZykge1xuICAgICAgICAgICAgbWFwT2JqZWN0KG9iamVjdFttYXBwaW5nLmdyb3VwXSwgbWFwcGluZy5tYXBwaW5nKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuY29uc3QgZ2V0QXR0cmlidXRlc0FzT2JqZWN0ID0gKG5vZGUsIGF0dHJpYnV0ZU1hcHBpbmcgPSB7fSkgPT4ge1xuICAgIC8vIHR1cm4gYXR0cmlidXRlcyBpbnRvIG9iamVjdFxuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXTtcbiAgICBmb3Jpbihub2RlLmF0dHJpYnV0ZXMsIGluZGV4ID0+IHtcbiAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5vZGUuYXR0cmlidXRlc1tpbmRleF0pO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgb3V0cHV0ID0gYXR0cmlidXRlc1xuICAgICAgICAuZmlsdGVyKGF0dHJpYnV0ZSA9PiBhdHRyaWJ1dGUubmFtZSlcbiAgICAgICAgLnJlZHVjZSgob2JqLCBhdHRyaWJ1dGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cihub2RlLCBhdHRyaWJ1dGUubmFtZSk7XG5cbiAgICAgICAgICAgIG9ialthdHRyaWJ1dGVOYW1lVG9Qcm9wZXJ0eU5hbWUoYXR0cmlidXRlLm5hbWUpXSA9XG4gICAgICAgICAgICAgICAgdmFsdWUgPT09IGF0dHJpYnV0ZS5uYW1lID8gdHJ1ZSA6IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfSwge30pO1xuXG4gICAgLy8gZG8gbWFwcGluZyBvZiBvYmplY3QgcHJvcGVydGllc1xuICAgIG1hcE9iamVjdChvdXRwdXQsIGF0dHJpYnV0ZU1hcHBpbmcpO1xuXG4gICAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmNvbnN0IGNyZWF0ZUFwcEF0RWxlbWVudCA9IChlbGVtZW50LCBvcHRpb25zID0ge30pID0+IHtcbiAgICAvLyBob3cgYXR0cmlidXRlcyBvZiB0aGUgaW5wdXQgZWxlbWVudCBhcmUgbWFwcGVkIHRvIHRoZSBvcHRpb25zIGZvciB0aGUgcGx1Z2luXG4gICAgY29uc3QgYXR0cmlidXRlTWFwcGluZyA9IHtcbiAgICAgICAgLy8gdHJhbnNsYXRlIHRvIG90aGVyIG5hbWVcbiAgICAgICAgJ15jbGFzcyQnOiAnY2xhc3NOYW1lJyxcbiAgICAgICAgJ15tdWx0aXBsZSQnOiAnYWxsb3dNdWx0aXBsZScsXG4gICAgICAgICdeY2FwdHVyZSQnOiAnY2FwdHVyZU1ldGhvZCcsXG4gICAgICAgICded2Via2l0ZGlyZWN0b3J5JCc6ICdhbGxvd0RpcmVjdG9yaWVzT25seScsXG5cbiAgICAgICAgLy8gZ3JvdXAgdW5kZXIgc2luZ2xlIHByb3BlcnR5XG4gICAgICAgICdec2VydmVyJzoge1xuICAgICAgICAgICAgZ3JvdXA6ICdzZXJ2ZXInLFxuICAgICAgICAgICAgbWFwcGluZzoge1xuICAgICAgICAgICAgICAgICdecHJvY2Vzcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdwcm9jZXNzJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdecmV2ZXJ0Jzoge1xuICAgICAgICAgICAgICAgICAgICBncm91cDogJ3JldmVydCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnXmZldGNoJzoge1xuICAgICAgICAgICAgICAgICAgICBncm91cDogJ2ZldGNoJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdecmVzdG9yZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdyZXN0b3JlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdebG9hZCc6IHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdsb2FkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBkb24ndCBpbmNsdWRlIGluIG9iamVjdFxuICAgICAgICAnXnR5cGUkJzogZmFsc2UsXG4gICAgICAgICdeZmlsZXMkJzogZmFsc2UsXG4gICAgfTtcblxuICAgIC8vIGFkZCBhZGRpdGlvbmFsIG9wdGlvbiB0cmFuc2xhdG9yc1xuICAgIGFwcGx5RmlsdGVycygnU0VUX0FUVFJJQlVURV9UT19PUFRJT05fTUFQJywgYXR0cmlidXRlTWFwcGluZyk7XG5cbiAgICAvLyBjcmVhdGUgZmluYWwgb3B0aW9ucyBvYmplY3QgYnkgc2V0dGluZyBvcHRpb25zIG9iamVjdCBhbmQgdGhlbiBvdmVycmlkaW5nIG9wdGlvbnMgc3VwcGxpZWQgb24gZWxlbWVudFxuICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgfTtcblxuICAgIGNvbnN0IGF0dHJpYnV0ZU9wdGlvbnMgPSBnZXRBdHRyaWJ1dGVzQXNPYmplY3QoXG4gICAgICAgIGVsZW1lbnQubm9kZU5hbWUgPT09ICdGSUVMRFNFVCcgPyBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9ZmlsZV0nKSA6IGVsZW1lbnQsXG4gICAgICAgIGF0dHJpYnV0ZU1hcHBpbmdcbiAgICApO1xuXG4gICAgLy8gbWVyZ2Ugd2l0aCBvcHRpb25zIG9iamVjdFxuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZU9wdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KGF0dHJpYnV0ZU9wdGlvbnNba2V5XSkpIHtcbiAgICAgICAgICAgIGlmICghaXNPYmplY3QobWVyZ2VkT3B0aW9uc1trZXldKSkge1xuICAgICAgICAgICAgICAgIG1lcmdlZE9wdGlvbnNba2V5XSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihtZXJnZWRPcHRpb25zW2tleV0sIGF0dHJpYnV0ZU9wdGlvbnNba2V5XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXJnZWRPcHRpb25zW2tleV0gPSBhdHRyaWJ1dGVPcHRpb25zW2tleV07XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGlmIHBhcmVudCBpcyBhIGZpZWxkc2V0LCBnZXQgZmlsZXMgZnJvbSBwYXJlbnQgYnkgc2VsZWN0aW5nIGFsbCBpbnB1dCBmaWVsZHMgdGhhdCBhcmUgbm90IGZpbGUgdXBsb2FkIGZpZWxkc1xuICAgIC8vIHRoZXNlIHdpbGwgdGhlbiBiZSBhdXRvbWF0aWNhbGx5IHNldCB0byB0aGUgaW5pdGlhbCBmaWxlc1xuICAgIG1lcmdlZE9wdGlvbnMuZmlsZXMgPSAob3B0aW9ucy5maWxlcyB8fCBbXSkuY29uY2F0KFxuICAgICAgICBBcnJheS5mcm9tKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQ6bm90KFt0eXBlPWZpbGVdKScpKS5tYXAoaW5wdXQgPT4gKHtcbiAgICAgICAgICAgIHNvdXJjZTogaW5wdXQudmFsdWUsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogaW5wdXQuZGF0YXNldC50eXBlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpXG4gICAgKTtcblxuICAgIC8vIGJ1aWxkIHBsdWdpblxuICAgIGNvbnN0IGFwcCA9IGNyZWF0ZUFwcE9iamVjdChtZXJnZWRPcHRpb25zKTtcblxuICAgIC8vIGFkZCBhbHJlYWR5IHNlbGVjdGVkIGZpbGVzXG4gICAgaWYgKGVsZW1lbnQuZmlsZXMpIHtcbiAgICAgICAgQXJyYXkuZnJvbShlbGVtZW50LmZpbGVzKS5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICAgICAgYXBwLmFkZEZpbGUoZmlsZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIHJlcGxhY2UgdGhlIHRhcmdldCBlbGVtZW50XG4gICAgYXBwLnJlcGxhY2VFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgLy8gZXhwb3NlXG4gICAgcmV0dXJuIGFwcDtcbn07XG5cbi8vIGlmIGFuIGVsZW1lbnQgaXMgcGFzc2VkLCB3ZSBjcmVhdGUgdGhlIGluc3RhbmNlIGF0IHRoYXQgZWxlbWVudCwgaWYgbm90LCB3ZSBqdXN0IGNyZWF0ZSBhbiB1cCBvYmplY3RcbmNvbnN0IGNyZWF0ZUFwcCQxID0gKC4uLmFyZ3MpID0+XG4gICAgaXNOb2RlKGFyZ3NbMF0pID8gY3JlYXRlQXBwQXRFbGVtZW50KC4uLmFyZ3MpIDogY3JlYXRlQXBwT2JqZWN0KC4uLmFyZ3MpO1xuXG5jb25zdCBQUklWQVRFX01FVEhPRFMgPSBbJ2ZpcmUnLCAnX3JlYWQnLCAnX3dyaXRlJ107XG5cbmNvbnN0IGNyZWF0ZUFwcEFQSSA9IGFwcCA9PiB7XG4gICAgY29uc3QgYXBpID0ge307XG5cbiAgICBjb3B5T2JqZWN0UHJvcGVydGllc1RvT2JqZWN0KGFwcCwgYXBpLCBQUklWQVRFX01FVEhPRFMpO1xuXG4gICAgcmV0dXJuIGFwaTtcbn07XG5cbi8qKlxuICogUmVwbGFjZXMgcGxhY2Vob2xkZXJzIGluIGdpdmVuIHN0cmluZyB3aXRoIHJlcGxhY2VtZW50c1xuICogQHBhcmFtIHN0cmluZyAtIFwiRm9vIHtiYXJ9XCJcIlxuICogQHBhcmFtIHJlcGxhY2VtZW50cyAtIHsgXCJiYXJcIjogMTAgfVxuICovXG5jb25zdCByZXBsYWNlSW5TdHJpbmcgPSAoc3RyaW5nLCByZXBsYWNlbWVudHMpID0+XG4gICAgc3RyaW5nLnJlcGxhY2UoLyg/OnsoW2EtekEtWl0rKX0pL2csIChtYXRjaCwgZ3JvdXApID0+IHJlcGxhY2VtZW50c1tncm91cF0pO1xuXG5jb25zdCBjcmVhdGVXb3JrZXIgPSBmbiA9PiB7XG4gICAgY29uc3Qgd29ya2VyQmxvYiA9IG5ldyBCbG9iKFsnKCcsIGZuLnRvU3RyaW5nKCksICcpKCknXSwge1xuICAgICAgICB0eXBlOiAnYXBwbGljYXRpb24vamF2YXNjcmlwdCcsXG4gICAgfSk7XG4gICAgY29uc3Qgd29ya2VyVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh3b3JrZXJCbG9iKTtcbiAgICBjb25zdCB3b3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlclVSTCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0cmFuc2ZlcjogKG1lc3NhZ2UsIGNiKSA9PiB7fSxcbiAgICAgICAgcG9zdDogKG1lc3NhZ2UsIGNiLCB0cmFuc2Zlckxpc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZ2V0VW5pcXVlSWQoKTtcblxuICAgICAgICAgICAgd29ya2VyLm9ubWVzc2FnZSA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlLmRhdGEuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNiKGUuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyYW5zZmVyTGlzdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGVybWluYXRlOiAoKSA9PiB7XG4gICAgICAgICAgICB3b3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHdvcmtlclVSTCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5cbmNvbnN0IGxvYWRJbWFnZSA9IHVybCA9PlxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICAgIH07XG4gICAgICAgIGltZy5vbmVycm9yID0gZSA9PiB7XG4gICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH07XG4gICAgICAgIGltZy5zcmMgPSB1cmw7XG4gICAgfSk7XG5cbmNvbnN0IHJlbmFtZUZpbGUgPSAoZmlsZSwgbmFtZSkgPT4ge1xuICAgIGNvbnN0IHJlbmFtZWRGaWxlID0gZmlsZS5zbGljZSgwLCBmaWxlLnNpemUsIGZpbGUudHlwZSk7XG4gICAgcmVuYW1lZEZpbGUubGFzdE1vZGlmaWVkRGF0ZSA9IGZpbGUubGFzdE1vZGlmaWVkRGF0ZTtcbiAgICByZW5hbWVkRmlsZS5uYW1lID0gbmFtZTtcbiAgICByZXR1cm4gcmVuYW1lZEZpbGU7XG59O1xuXG5jb25zdCBjb3B5RmlsZSA9IGZpbGUgPT4gcmVuYW1lRmlsZShmaWxlLCBmaWxlLm5hbWUpO1xuXG4vLyBhbHJlYWR5IHJlZ2lzdGVyZWQgcGx1Z2lucyAoY2FuJ3QgcmVnaXN0ZXIgdHdpY2UpXG5jb25zdCByZWdpc3RlcmVkUGx1Z2lucyA9IFtdO1xuXG4vLyBwYXNzIHV0aWxzIHRvIHBsdWdpblxuY29uc3QgY3JlYXRlQXBwUGx1Z2luID0gcGx1Z2luID0+IHtcbiAgICAvLyBhbHJlYWR5IHJlZ2lzdGVyZWRcbiAgICBpZiAocmVnaXN0ZXJlZFBsdWdpbnMuaW5jbHVkZXMocGx1Z2luKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gcmVtZW1iZXIgdGhpcyBwbHVnaW5cbiAgICByZWdpc3RlcmVkUGx1Z2lucy5wdXNoKHBsdWdpbik7XG5cbiAgICAvLyBzZXR1cCFcbiAgICBjb25zdCBwbHVnaW5PdXRsaW5lID0gcGx1Z2luKHtcbiAgICAgICAgYWRkRmlsdGVyLFxuICAgICAgICB1dGlsczoge1xuICAgICAgICAgICAgVHlwZSxcbiAgICAgICAgICAgIGZvcmluLFxuICAgICAgICAgICAgaXNTdHJpbmcsXG4gICAgICAgICAgICBpc0ZpbGUsXG4gICAgICAgICAgICB0b05hdHVyYWxGaWxlU2l6ZSxcbiAgICAgICAgICAgIHJlcGxhY2VJblN0cmluZyxcbiAgICAgICAgICAgIGdldEV4dGVuc2lvbkZyb21GaWxlbmFtZSxcbiAgICAgICAgICAgIGdldEZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbixcbiAgICAgICAgICAgIGd1ZXNzdGltYXRlTWltZVR5cGUsXG4gICAgICAgICAgICBnZXRGaWxlRnJvbUJsb2IsXG4gICAgICAgICAgICBnZXRGaWxlbmFtZUZyb21VUkwsXG4gICAgICAgICAgICBjcmVhdGVSb3V0ZSxcbiAgICAgICAgICAgIGNyZWF0ZVdvcmtlcixcbiAgICAgICAgICAgIGNyZWF0ZVZpZXcsXG4gICAgICAgICAgICBjcmVhdGVJdGVtQVBJLFxuICAgICAgICAgICAgbG9hZEltYWdlLFxuICAgICAgICAgICAgY29weUZpbGUsXG4gICAgICAgICAgICByZW5hbWVGaWxlLFxuICAgICAgICAgICAgY3JlYXRlQmxvYixcbiAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4sXG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyxcbiAgICAgICAgfSxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgIGZpbGVBY3Rpb25CdXR0b24sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBhZGQgcGx1Z2luIG9wdGlvbnMgdG8gZGVmYXVsdCBvcHRpb25zXG4gICAgZXh0ZW5kRGVmYXVsdE9wdGlvbnMocGx1Z2luT3V0bGluZS5vcHRpb25zKTtcbn07XG5cbi8vIGZlYXR1cmUgZGV0ZWN0aW9uIHVzZWQgYnkgc3VwcG9ydGVkKCkgbWV0aG9kXG5jb25zdCBpc09wZXJhTWluaSA9ICgpID0+IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cub3BlcmFtaW5pKSA9PT0gJ1tvYmplY3QgT3BlcmFNaW5pXSc7XG5jb25zdCBoYXNQcm9taXNlcyA9ICgpID0+ICdQcm9taXNlJyBpbiB3aW5kb3c7XG5jb25zdCBoYXNCbG9iU2xpY2UgPSAoKSA9PiAnc2xpY2UnIGluIEJsb2IucHJvdG90eXBlO1xuY29uc3QgaGFzQ3JlYXRlT2JqZWN0VVJMID0gKCkgPT4gJ1VSTCcgaW4gd2luZG93ICYmICdjcmVhdGVPYmplY3RVUkwnIGluIHdpbmRvdy5VUkw7XG5jb25zdCBoYXNWaXNpYmlsaXR5ID0gKCkgPT4gJ3Zpc2liaWxpdHlTdGF0ZScgaW4gZG9jdW1lbnQ7XG5jb25zdCBoYXNUaW1pbmcgPSAoKSA9PiAncGVyZm9ybWFuY2UnIGluIHdpbmRvdzsgLy8gaU9TIDgueFxuY29uc3QgaGFzQ1NTU3VwcG9ydHMgPSAoKSA9PiAnc3VwcG9ydHMnIGluICh3aW5kb3cuQ1NTIHx8IHt9KTsgLy8gdXNlIHRvIGRldGVjdCBTYWZhcmkgOStcbmNvbnN0IGlzSUUxMSA9ICgpID0+IC9NU0lFfFRyaWRlbnQvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG5jb25zdCBzdXBwb3J0ZWQgPSAoKCkgPT4ge1xuICAgIC8vIFJ1bnMgaW1tZWRpYXRlbHkgYW5kIHRoZW4gcmVtZW1iZXJzIHJlc3VsdCBmb3Igc3Vic2VxdWVudCBjYWxsc1xuICAgIGNvbnN0IGlzU3VwcG9ydGVkID1cbiAgICAgICAgLy8gSGFzIHRvIGJlIGEgYnJvd3NlclxuICAgICAgICBpc0Jyb3dzZXIoKSAmJlxuICAgICAgICAvLyBDYW4ndCBydW4gb24gT3BlcmEgTWluaSBkdWUgdG8gbGFjayBvZiBldmVyeXRoaW5nXG4gICAgICAgICFpc09wZXJhTWluaSgpICYmXG4gICAgICAgIC8vIFJlcXVpcmUgdGhlc2UgQVBJcyB0byBmZWF0dXJlIGRldGVjdCBhIG1vZGVybiBicm93c2VyXG4gICAgICAgIGhhc1Zpc2liaWxpdHkoKSAmJlxuICAgICAgICBoYXNQcm9taXNlcygpICYmXG4gICAgICAgIGhhc0Jsb2JTbGljZSgpICYmXG4gICAgICAgIGhhc0NyZWF0ZU9iamVjdFVSTCgpICYmXG4gICAgICAgIGhhc1RpbWluZygpICYmXG4gICAgICAgIC8vIGRvZXNuJ3QgbmVlZCBDU1NTdXBwb3J0cyBidXQgaXMgYSBnb29kIHdheSB0byBkZXRlY3QgU2FmYXJpIDkrICh3ZSBkbyB3YW50IHRvIHN1cHBvcnQgSUUxMSB0aG91Z2gpXG4gICAgICAgIChoYXNDU1NTdXBwb3J0cygpIHx8IGlzSUUxMSgpKTtcblxuICAgIHJldHVybiAoKSA9PiBpc1N1cHBvcnRlZDtcbn0pKCk7XG5cbi8qKlxuICogUGx1Z2luIGludGVybmFsIHN0YXRlIChvdmVyIGFsbCBpbnN0YW5jZXMpXG4gKi9cbmNvbnN0IHN0YXRlID0ge1xuICAgIC8vIGFjdGl2ZSBhcHAgaW5zdGFuY2VzLCB1c2VkIHRvIHJlZHJhdyB0aGUgYXBwcyBhbmQgdG8gZmluZCB0aGUgbGF0ZXJcbiAgICBhcHBzOiBbXSxcbn07XG5cbi8vIHBsdWdpbiBuYW1lXG5jb25zdCBuYW1lID0gJ2ZpbGVwb25kJztcblxuLyoqXG4gKiBQdWJsaWMgUGx1Z2luIG1ldGhvZHNcbiAqL1xuY29uc3QgZm4gPSAoKSA9PiB7fTtcbmxldCBTdGF0dXMkMSA9IHt9O1xubGV0IEZpbGVTdGF0dXMgPSB7fTtcbmxldCBGaWxlT3JpZ2luJDEgPSB7fTtcbmxldCBPcHRpb25UeXBlcyA9IHt9O1xubGV0IGNyZWF0ZSRmID0gZm47XG5sZXQgZGVzdHJveSA9IGZuO1xubGV0IHBhcnNlID0gZm47XG5sZXQgZmluZCA9IGZuO1xubGV0IHJlZ2lzdGVyUGx1Z2luID0gZm47XG5sZXQgZ2V0T3B0aW9ucyQxID0gZm47XG5sZXQgc2V0T3B0aW9ucyQxID0gZm47XG5cbi8vIGlmIG5vdCBzdXBwb3J0ZWQsIG5vIEFQSVxuaWYgKHN1cHBvcnRlZCgpKSB7XG4gICAgLy8gc3RhcnQgcGFpbnRlciBhbmQgZmlyZSBsb2FkIGV2ZW50XG4gICAgY3JlYXRlUGFpbnRlcihcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuYXBwcy5mb3JFYWNoKGFwcCA9PiBhcHAuX3JlYWQoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRzID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmFwcHMuZm9yRWFjaChhcHAgPT4gYXBwLl93cml0ZSh0cykpO1xuICAgICAgICB9XG4gICAgKTtcblxuICAgIC8vIGZpcmUgbG9hZGVkIGV2ZW50IHNvIHdlIGtub3cgd2hlbiBGaWxlUG9uZCBpcyBhdmFpbGFibGVcbiAgICBjb25zdCBkaXNwYXRjaCA9ICgpID0+IHtcbiAgICAgICAgLy8gbGV0IG90aGVycyBrbm93IHdlIGhhdmUgYXJlYSByZWFkeVxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDpsb2FkZWQnLCB7XG4gICAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZCxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlOiBjcmVhdGUkZixcbiAgICAgICAgICAgICAgICAgICAgZGVzdHJveSxcbiAgICAgICAgICAgICAgICAgICAgcGFyc2UsXG4gICAgICAgICAgICAgICAgICAgIGZpbmQsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUGx1Z2luLFxuICAgICAgICAgICAgICAgICAgICBzZXRPcHRpb25zOiBzZXRPcHRpb25zJDEsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gY2xlYW4gdXAgZXZlbnRcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGRpc3BhdGNoKTtcbiAgICB9O1xuXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkaW5nJykge1xuICAgICAgICAvLyBtb3ZlIHRvIGJhY2sgb2YgZXhlY3V0aW9uIHF1ZXVlLCBGaWxlUG9uZCBzaG91bGQgaGF2ZSBiZWVuIGV4cG9ydGVkIGJ5IHRoZW5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBkaXNwYXRjaCgpLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZGlzcGF0Y2gpO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZXMgdGhlIE9wdGlvblR5cGVzIG9iamVjdCBiYXNlZCBvbiB0aGUgY3VycmVudCBvcHRpb25zXG4gICAgY29uc3QgdXBkYXRlT3B0aW9uVHlwZXMgPSAoKSA9PlxuICAgICAgICBmb3JpbihnZXRPcHRpb25zKCksIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBPcHRpb25UeXBlc1trZXldID0gdmFsdWVbMV07XG4gICAgICAgIH0pO1xuXG4gICAgU3RhdHVzJDEgPSB7IC4uLlN0YXR1cyB9O1xuICAgIEZpbGVPcmlnaW4kMSA9IHsgLi4uRmlsZU9yaWdpbiB9O1xuICAgIEZpbGVTdGF0dXMgPSB7IC4uLkl0ZW1TdGF0dXMgfTtcblxuICAgIE9wdGlvblR5cGVzID0ge307XG4gICAgdXBkYXRlT3B0aW9uVHlwZXMoKTtcblxuICAgIC8vIGNyZWF0ZSBtZXRob2QsIGNyZWF0ZXMgYXBwcyBhbmQgYWRkcyB0aGVtIHRvIHRoZSBhcHAgYXJyYXlcbiAgICBjcmVhdGUkZiA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IGFwcCA9IGNyZWF0ZUFwcCQxKC4uLmFyZ3MpO1xuICAgICAgICBhcHAub24oJ2Rlc3Ryb3knLCBkZXN0cm95KTtcbiAgICAgICAgc3RhdGUuYXBwcy5wdXNoKGFwcCk7XG4gICAgICAgIHJldHVybiBjcmVhdGVBcHBBUEkoYXBwKTtcbiAgICB9O1xuXG4gICAgLy8gZGVzdHJveXMgYXBwcyBhbmQgcmVtb3ZlcyB0aGVtIGZyb20gdGhlIGFwcCBhcnJheVxuICAgIGRlc3Ryb3kgPSBob29rID0+IHtcbiAgICAgICAgLy8gcmV0dXJucyB0cnVlIGlmIHRoZSBhcHAgd2FzIGRlc3Ryb3llZCBzdWNjZXNzZnVsbHlcbiAgICAgICAgY29uc3QgaW5kZXhUb1JlbW92ZSA9IHN0YXRlLmFwcHMuZmluZEluZGV4KGFwcCA9PiBhcHAuaXNBdHRhY2hlZFRvKGhvb2spKTtcbiAgICAgICAgaWYgKGluZGV4VG9SZW1vdmUgPj0gMCkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gYXBwc1xuICAgICAgICAgICAgY29uc3QgYXBwID0gc3RhdGUuYXBwcy5zcGxpY2UoaW5kZXhUb1JlbW92ZSwgMSlbMF07XG5cbiAgICAgICAgICAgIC8vIHJlc3RvcmUgb3JpZ2luYWwgZG9tIGVsZW1lbnRcbiAgICAgICAgICAgIGFwcC5yZXN0b3JlRWxlbWVudCgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gcGFyc2VzIHRoZSBnaXZlbiBjb250ZXh0IGZvciBwbHVnaW5zIChkb2VzIG5vdCBpbmNsdWRlIHRoZSBjb250ZXh0IGVsZW1lbnQgaXRzZWxmKVxuICAgIHBhcnNlID0gY29udGV4dCA9PiB7XG4gICAgICAgIC8vIGdldCBhbGwgcG9zc2libGUgaG9va3NcbiAgICAgICAgY29uc3QgbWF0Y2hlZEhvb2tzID0gQXJyYXkuZnJvbShjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke25hbWV9YCkpO1xuXG4gICAgICAgIC8vIGZpbHRlciBvdXQgYWxyZWFkeSBhY3RpdmUgaG9va3NcbiAgICAgICAgY29uc3QgbmV3SG9va3MgPSBtYXRjaGVkSG9va3MuZmlsdGVyKFxuICAgICAgICAgICAgbmV3SG9vayA9PiAhc3RhdGUuYXBwcy5maW5kKGFwcCA9PiBhcHAuaXNBdHRhY2hlZFRvKG5ld0hvb2spKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBuZXcgaW5zdGFuY2UgZm9yIGVhY2ggaG9va1xuICAgICAgICByZXR1cm4gbmV3SG9va3MubWFwKGhvb2sgPT4gY3JlYXRlJGYoaG9vaykpO1xuICAgIH07XG5cbiAgICAvLyByZXR1cm5zIGFuIGFwcCBiYXNlZCBvbiB0aGUgZ2l2ZW4gZWxlbWVudCBob29rXG4gICAgZmluZCA9IGhvb2sgPT4ge1xuICAgICAgICBjb25zdCBhcHAgPSBzdGF0ZS5hcHBzLmZpbmQoYXBwID0+IGFwcC5pc0F0dGFjaGVkVG8oaG9vaykpO1xuICAgICAgICBpZiAoIWFwcCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUFwcEFQSShhcHApO1xuICAgIH07XG5cbiAgICAvLyBhZGRzIGEgcGx1Z2luIGV4dGVuc2lvblxuICAgIHJlZ2lzdGVyUGx1Z2luID0gKC4uLnBsdWdpbnMpID0+IHtcbiAgICAgICAgLy8gcmVnaXN0ZXIgcGx1Z2luc1xuICAgICAgICBwbHVnaW5zLmZvckVhY2goY3JlYXRlQXBwUGx1Z2luKTtcblxuICAgICAgICAvLyB1cGRhdGUgT3B0aW9uVHlwZXMsIGVhY2ggcGx1Z2luIG1pZ2h0IGhhdmUgZXh0ZW5kZWQgdGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICB1cGRhdGVPcHRpb25UeXBlcygpO1xuICAgIH07XG5cbiAgICBnZXRPcHRpb25zJDEgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB7fTtcbiAgICAgICAgZm9yaW4oZ2V0T3B0aW9ucygpLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgb3B0c1trZXldID0gdmFsdWVbMF07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3B0cztcbiAgICB9O1xuXG4gICAgc2V0T3B0aW9ucyQxID0gb3B0cyA9PiB7XG4gICAgICAgIGlmIChpc09iamVjdChvcHRzKSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGV4aXN0aW5nIHBsdWdpbnNcbiAgICAgICAgICAgIHN0YXRlLmFwcHMuZm9yRWFjaChhcHAgPT4ge1xuICAgICAgICAgICAgICAgIGFwcC5zZXRPcHRpb25zKG9wdHMpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIG92ZXJyaWRlIGRlZmF1bHRzXG4gICAgICAgICAgICBzZXRPcHRpb25zKG9wdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmV0dXJuIG5ldyBvcHRpb25zXG4gICAgICAgIHJldHVybiBnZXRPcHRpb25zJDEoKTtcbiAgICB9O1xufVxuXG5leHBvcnQge1xuICAgIEZpbGVPcmlnaW4kMSBhcyBGaWxlT3JpZ2luLFxuICAgIEZpbGVTdGF0dXMsXG4gICAgT3B0aW9uVHlwZXMsXG4gICAgU3RhdHVzJDEgYXMgU3RhdHVzLFxuICAgIGNyZWF0ZSRmIGFzIGNyZWF0ZSxcbiAgICBkZXN0cm95LFxuICAgIGZpbmQsXG4gICAgZ2V0T3B0aW9ucyQxIGFzIGdldE9wdGlvbnMsXG4gICAgcGFyc2UsXG4gICAgcmVnaXN0ZXJQbHVnaW4sXG4gICAgc2V0T3B0aW9ucyQxIGFzIHNldE9wdGlvbnMsXG4gICAgc3VwcG9ydGVkLFxufTtcbiIsICIvKiFcbiAqIEZpbGVQb25kUGx1Z2luRmlsZVZhbGlkYXRlU2l6ZSAyLjIuOFxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cbiAqIFBsZWFzZSB2aXNpdCBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kLyBmb3IgZGV0YWlscy5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG5jb25zdCBwbHVnaW4gPSAoeyBhZGRGaWx0ZXIsIHV0aWxzIH0pID0+IHtcbiAgICAvLyBnZXQgcXVpY2sgcmVmZXJlbmNlIHRvIFR5cGUgdXRpbHNcbiAgICBjb25zdCB7IFR5cGUsIHJlcGxhY2VJblN0cmluZywgdG9OYXR1cmFsRmlsZVNpemUgfSA9IHV0aWxzO1xuXG4gICAgLy8gZmlsdGVyaW5nIGlmIGFuIGl0ZW0gaXMgYWxsb3dlZCBpbiBob3BwZXJcbiAgICBhZGRGaWx0ZXIoJ0FMTE9XX0hPUFBFUl9JVEVNJywgKGZpbGUsIHsgcXVlcnkgfSkgPT4ge1xuICAgICAgICBpZiAoIXF1ZXJ5KCdHRVRfQUxMT1dfRklMRV9TSVpFX1ZBTElEQVRJT04nKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzaXplTWF4ID0gcXVlcnkoJ0dFVF9NQVhfRklMRV9TSVpFJyk7XG4gICAgICAgIGlmIChzaXplTWF4ICE9PSBudWxsICYmIGZpbGUuc2l6ZSA+IHNpemVNYXgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNpemVNaW4gPSBxdWVyeSgnR0VUX01JTl9GSUxFX1NJWkUnKTtcbiAgICAgICAgaWYgKHNpemVNaW4gIT09IG51bGwgJiYgZmlsZS5zaXplIDwgc2l6ZU1pbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG5cbiAgICAvLyBjYWxsZWQgZm9yIGVhY2ggZmlsZSB0aGF0IGlzIGxvYWRlZFxuICAgIC8vIHJpZ2h0IGJlZm9yZSBpdCBpcyBzZXQgdG8gdGhlIGl0ZW0gc3RhdGVcbiAgICAvLyBzaG91bGQgcmV0dXJuIGEgcHJvbWlzZVxuICAgIGFkZEZpbHRlcihcbiAgICAgICAgJ0xPQURfRklMRScsXG4gICAgICAgIChmaWxlLCB7IHF1ZXJ5IH0pID0+XG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgbm90IGFsbG93ZWQsIGFsbCBmaW5lLCBleGl0XG4gICAgICAgICAgICAgICAgaWYgKCFxdWVyeSgnR0VUX0FMTE9XX0ZJTEVfU0laRV9WQUxJREFUSU9OJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmlsZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgZmlsZSBzaG91bGQgYmUgZmlsdGVyZWRcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlRmlsdGVyID0gcXVlcnkoJ0dFVF9GSUxFX1ZBTElEQVRFX1NJWkVfRklMVEVSJyk7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGVGaWx0ZXIgJiYgIWZpbGVGaWx0ZXIoZmlsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmlsZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcmVqZWN0IG9yIHJlc29sdmUgYmFzZWQgb24gZmlsZSBzaXplXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZU1heCA9IHF1ZXJ5KCdHRVRfTUFYX0ZJTEVfU0laRScpO1xuICAgICAgICAgICAgICAgIGlmIChzaXplTWF4ICE9PSBudWxsICYmIGZpbGUuc2l6ZSA+IHNpemVNYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW46IHF1ZXJ5KCdHRVRfTEFCRUxfTUFYX0ZJTEVfU0laRV9FWENFRURFRCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YjogcmVwbGFjZUluU3RyaW5nKHF1ZXJ5KCdHRVRfTEFCRUxfTUFYX0ZJTEVfU0laRScpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzaXplOiB0b05hdHVyYWxGaWxlU2l6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVNYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZJTEVfU0laRV9CQVNFJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZJTEVfU0laRV9MQUJFTFMnLCBxdWVyeSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcmVqZWN0IG9yIHJlc29sdmUgYmFzZWQgb24gZmlsZSBzaXplXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZU1pbiA9IHF1ZXJ5KCdHRVRfTUlOX0ZJTEVfU0laRScpO1xuICAgICAgICAgICAgICAgIGlmIChzaXplTWluICE9PSBudWxsICYmIGZpbGUuc2l6ZSA8IHNpemVNaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW46IHF1ZXJ5KCdHRVRfTEFCRUxfTUlOX0ZJTEVfU0laRV9FWENFRURFRCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YjogcmVwbGFjZUluU3RyaW5nKHF1ZXJ5KCdHRVRfTEFCRUxfTUlOX0ZJTEVfU0laRScpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzaXplOiB0b05hdHVyYWxGaWxlU2l6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVNaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZJTEVfU0laRV9CQVNFJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZJTEVfU0laRV9MQUJFTFMnLCBxdWVyeSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJucyB0aGUgY3VycmVudCBvcHRpb24gdmFsdWVcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFNpemVNYXggPSBxdWVyeSgnR0VUX01BWF9UT1RBTF9GSUxFX1NJWkUnKTtcbiAgICAgICAgICAgICAgICBpZiAodG90YWxTaXplTWF4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCB0aGUgY3VycmVudCB0b3RhbCBmaWxlIHNpemVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRvdGFsU2l6ZSA9IHF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJykucmVkdWNlKCh0b3RhbCwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsICsgaXRlbS5maWxlU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSBzaXplIG9mIHRoZSBuZXcgZmlsZVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRvdGFsU2l6ZSA+IHRvdGFsU2l6ZU1heCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbjogcXVlcnkoJ0dFVF9MQUJFTF9NQVhfVE9UQUxfRklMRV9TSVpFX0VYQ0VFREVEJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YjogcmVwbGFjZUluU3RyaW5nKHF1ZXJ5KCdHRVRfTEFCRUxfTUFYX1RPVEFMX0ZJTEVfU0laRScpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlc2l6ZTogdG9OYXR1cmFsRmlsZVNpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxTaXplTWF4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZJTEVfU0laRV9CQVNFJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkoJ0dFVF9GSUxFX1NJWkVfTEFCRUxTJywgcXVlcnkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBmaWxlIGlzIGZpbmUsIGxldCdzIHBhc3MgaXQgYmFja1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZmlsZSk7XG4gICAgICAgICAgICB9KVxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAvLyBFbmFibGUgb3IgZGlzYWJsZSBmaWxlIHR5cGUgdmFsaWRhdGlvblxuICAgICAgICAgICAgYWxsb3dGaWxlU2l6ZVZhbGlkYXRpb246IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgICAgICAvLyBNYXggaW5kaXZpZHVhbCBmaWxlIHNpemUgaW4gYnl0ZXNcbiAgICAgICAgICAgIG1heEZpbGVTaXplOiBbbnVsbCwgVHlwZS5JTlRdLFxuXG4gICAgICAgICAgICAvLyBNaW4gaW5kaXZpZHVhbCBmaWxlIHNpemUgaW4gYnl0ZXNcbiAgICAgICAgICAgIG1pbkZpbGVTaXplOiBbbnVsbCwgVHlwZS5JTlRdLFxuXG4gICAgICAgICAgICAvLyBNYXggdG90YWwgZmlsZSBzaXplIGluIGJ5dGVzXG4gICAgICAgICAgICBtYXhUb3RhbEZpbGVTaXplOiBbbnVsbCwgVHlwZS5JTlRdLFxuXG4gICAgICAgICAgICAvLyBGaWx0ZXIgdGhlIGZpbGVzIHRoYXQgbmVlZCB0byBiZSB2YWxpZGF0ZWQgZm9yIHNpemVcbiAgICAgICAgICAgIGZpbGVWYWxpZGF0ZVNpemVGaWx0ZXI6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcblxuICAgICAgICAgICAgLy8gZXJyb3IgbGFiZWxzXG4gICAgICAgICAgICBsYWJlbE1pbkZpbGVTaXplRXhjZWVkZWQ6IFsnRmlsZSBpcyB0b28gc21hbGwnLCBUeXBlLlNUUklOR10sXG4gICAgICAgICAgICBsYWJlbE1pbkZpbGVTaXplOiBbJ01pbmltdW0gZmlsZSBzaXplIGlzIHtmaWxlc2l6ZX0nLCBUeXBlLlNUUklOR10sXG5cbiAgICAgICAgICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogWydGaWxlIGlzIHRvbyBsYXJnZScsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgICAgIGxhYmVsTWF4RmlsZVNpemU6IFsnTWF4aW11bSBmaWxlIHNpemUgaXMge2ZpbGVzaXplfScsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICAgICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6IFsnTWF4aW11bSB0b3RhbCBzaXplIGV4Y2VlZGVkJywgVHlwZS5TVFJJTkddLFxuICAgICAgICAgICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiBbJ01heGltdW0gdG90YWwgZmlsZSBzaXplIGlzIHtmaWxlc2l6ZX0nLCBUeXBlLlNUUklOR10sXG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5cbi8vIGZpcmUgcGx1Z2lubG9hZGVkIGV2ZW50IGlmIHJ1bm5pbmcgaW4gYnJvd3NlciwgdGhpcyBhbGxvd3MgcmVnaXN0ZXJpbmcgdGhlIHBsdWdpbiB3aGVuIHVzaW5nIGFzeW5jIHNjcmlwdCB0YWdzXG5jb25zdCBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbmlmIChpc0Jyb3dzZXIpIHtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnRmlsZVBvbmQ6cGx1Z2lubG9hZGVkJywgeyBkZXRhaWw6IHBsdWdpbiB9KSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpbjtcbiIsICIvKiFcbiAqIEZpbGVQb25kUGx1Z2luRmlsZVZhbGlkYXRlVHlwZSAxLjIuOFxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cbiAqIFBsZWFzZSB2aXNpdCBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kLyBmb3IgZGV0YWlscy5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG5jb25zdCBwbHVnaW4gPSAoeyBhZGRGaWx0ZXIsIHV0aWxzIH0pID0+IHtcbiAgLy8gZ2V0IHF1aWNrIHJlZmVyZW5jZSB0byBUeXBlIHV0aWxzXG4gIGNvbnN0IHtcbiAgICBUeXBlLFxuICAgIGlzU3RyaW5nLFxuICAgIHJlcGxhY2VJblN0cmluZyxcbiAgICBndWVzc3RpbWF0ZU1pbWVUeXBlLFxuICAgIGdldEV4dGVuc2lvbkZyb21GaWxlbmFtZSxcbiAgICBnZXRGaWxlbmFtZUZyb21VUkxcbiAgfSA9IHV0aWxzO1xuXG4gIGNvbnN0IG1pbWVUeXBlTWF0Y2hlc1dpbGRDYXJkID0gKG1pbWVUeXBlLCB3aWxkY2FyZCkgPT4ge1xuICAgIGNvbnN0IG1pbWVUeXBlR3JvdXAgPSAoL15bXi9dKy8uZXhlYyhtaW1lVHlwZSkgfHwgW10pLnBvcCgpOyAvLyBpbWFnZS9wbmcgLT4gaW1hZ2VcbiAgICBjb25zdCB3aWxkY2FyZEdyb3VwID0gd2lsZGNhcmQuc2xpY2UoMCwgLTIpOyAvLyBpbWFnZS8qIC0+IGltYWdlXG4gICAgcmV0dXJuIG1pbWVUeXBlR3JvdXAgPT09IHdpbGRjYXJkR3JvdXA7XG4gIH07XG5cbiAgY29uc3QgaXNWYWxpZE1pbWVUeXBlID0gKGFjY2VwdGVkVHlwZXMsIHVzZXJJbnB1dFR5cGUpID0+XG4gICAgYWNjZXB0ZWRUeXBlcy5zb21lKGFjY2VwdGVkVHlwZSA9PiB7XG4gICAgICAvLyBhY2NlcHRlZCBpcyB3aWxkY2FyZCBtaW1lIHR5cGVcbiAgICAgIGlmICgvXFwqJC8udGVzdChhY2NlcHRlZFR5cGUpKSB7XG4gICAgICAgIHJldHVybiBtaW1lVHlwZU1hdGNoZXNXaWxkQ2FyZCh1c2VySW5wdXRUeXBlLCBhY2NlcHRlZFR5cGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBpcyBub3JtYWwgbWltZSB0eXBlXG4gICAgICByZXR1cm4gYWNjZXB0ZWRUeXBlID09PSB1c2VySW5wdXRUeXBlO1xuICAgIH0pO1xuXG4gIGNvbnN0IGdldEl0ZW1UeXBlID0gaXRlbSA9PiB7XG4gICAgLy8gaWYgdGhlIGl0ZW0gaXMgYSB1cmwgd2UgZ3Vlc3MgdGhlIG1pbWUgdHlwZSBieSB0aGUgZXh0ZW5zaW9uXG4gICAgbGV0IHR5cGUgPSAnJztcbiAgICBpZiAoaXNTdHJpbmcoaXRlbSkpIHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gZ2V0RmlsZW5hbWVGcm9tVVJMKGl0ZW0pO1xuICAgICAgY29uc3QgZXh0ZW5zaW9uID0gZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lKGZpbGVuYW1lKTtcbiAgICAgIGlmIChleHRlbnNpb24pIHtcbiAgICAgICAgdHlwZSA9IGd1ZXNzdGltYXRlTWltZVR5cGUoZXh0ZW5zaW9uKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9IGl0ZW0udHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfTtcblxuICBjb25zdCB2YWxpZGF0ZUZpbGUgPSAoaXRlbSwgYWNjZXB0ZWRGaWxlVHlwZXMsIHR5cGVEZXRlY3RvcikgPT4ge1xuICAgIC8vIG5vIHR5cGVzIGRlZmluZWQsIGV2ZXJ5dGhpbmcgaXMgYWxsb3dlZCBcXG8vXG4gICAgaWYgKGFjY2VwdGVkRmlsZVR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gZ2V0cyB0aGUgaXRlbSB0eXBlXG4gICAgY29uc3QgdHlwZSA9IGdldEl0ZW1UeXBlKGl0ZW0pO1xuXG4gICAgLy8gbm8gdHlwZSBkZXRlY3RvciwgdGVzdCBub3dcbiAgICBpZiAoIXR5cGVEZXRlY3Rvcikge1xuICAgICAgcmV0dXJuIGlzVmFsaWRNaW1lVHlwZShhY2NlcHRlZEZpbGVUeXBlcywgdHlwZSk7XG4gICAgfVxuXG4gICAgLy8gdXNlIHR5cGUgZGV0ZWN0b3JcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHlwZURldGVjdG9yKGl0ZW0sIHR5cGUpXG4gICAgICAgIC50aGVuKGRldGVjdGVkVHlwZSA9PiB7XG4gICAgICAgICAgaWYgKGlzVmFsaWRNaW1lVHlwZShhY2NlcHRlZEZpbGVUeXBlcywgZGV0ZWN0ZWRUeXBlKSkge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGFwcGx5TWltZVR5cGVNYXAgPSBtYXAgPT4gYWNjZXB0ZWRGaWxlVHlwZSA9PlxuICAgIG1hcFthY2NlcHRlZEZpbGVUeXBlXSA9PT0gbnVsbFxuICAgICAgPyBmYWxzZVxuICAgICAgOiBtYXBbYWNjZXB0ZWRGaWxlVHlwZV0gfHwgYWNjZXB0ZWRGaWxlVHlwZTtcblxuICAvLyBzZXR1cCBhdHRyaWJ1dGUgbWFwcGluZyBmb3IgYWNjZXB0XG4gIGFkZEZpbHRlcignU0VUX0FUVFJJQlVURV9UT19PUFRJT05fTUFQJywgbWFwID0+XG4gICAgT2JqZWN0LmFzc2lnbihtYXAsIHtcbiAgICAgIGFjY2VwdDogJ2FjY2VwdGVkRmlsZVR5cGVzJ1xuICAgIH0pXG4gICk7XG5cbiAgLy8gZmlsdGVyaW5nIGlmIGFuIGl0ZW0gaXMgYWxsb3dlZCBpbiBob3BwZXJcbiAgYWRkRmlsdGVyKCdBTExPV19IT1BQRVJfSVRFTScsIChmaWxlLCB7IHF1ZXJ5IH0pID0+IHtcbiAgICAvLyBpZiB3ZSBhcmUgbm90IGRvaW5nIGZpbGUgdHlwZSB2YWxpZGF0aW9uIGV4aXRcbiAgICBpZiAoIXF1ZXJ5KCdHRVRfQUxMT1dfRklMRV9UWVBFX1ZBTElEQVRJT04nKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gd2UgdmFsaWRhdGUgdGhlIGZpbGUgYWdhaW5zdCB0aGUgYWNjZXB0ZWQgZmlsZSB0eXBlc1xuICAgIHJldHVybiB2YWxpZGF0ZUZpbGUoZmlsZSwgcXVlcnkoJ0dFVF9BQ0NFUFRFRF9GSUxFX1RZUEVTJykpO1xuICB9KTtcblxuICAvLyBjYWxsZWQgZm9yIGVhY2ggZmlsZSB0aGF0IGlzIGxvYWRlZFxuICAvLyByaWdodCBiZWZvcmUgaXQgaXMgc2V0IHRvIHRoZSBpdGVtIHN0YXRlXG4gIC8vIHNob3VsZCByZXR1cm4gYSBwcm9taXNlXG4gIGFkZEZpbHRlcihcbiAgICAnTE9BRF9GSUxFJyxcbiAgICAoZmlsZSwgeyBxdWVyeSB9KSA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAoIXF1ZXJ5KCdHRVRfQUxMT1dfRklMRV9UWVBFX1ZBTElEQVRJT04nKSkge1xuICAgICAgICAgIHJlc29sdmUoZmlsZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWNjZXB0ZWRGaWxlVHlwZXMgPSBxdWVyeSgnR0VUX0FDQ0VQVEVEX0ZJTEVfVFlQRVMnKTtcblxuICAgICAgICAvLyBjdXN0b20gdHlwZSBkZXRlY3RvciBtZXRob2RcbiAgICAgICAgY29uc3QgdHlwZURldGVjdG9yID0gcXVlcnkoJ0dFVF9GSUxFX1ZBTElEQVRFX1RZUEVfREVURUNUX1RZUEUnKTtcblxuICAgICAgICAvLyBpZiBpbnZhbGlkLCBleGl0IGhlcmVcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IHZhbGlkYXRlRmlsZShcbiAgICAgICAgICBmaWxlLFxuICAgICAgICAgIGFjY2VwdGVkRmlsZVR5cGVzLFxuICAgICAgICAgIHR5cGVEZXRlY3RvclxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZVJlamVjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBhY2NlcHRlZEZpbGVUeXBlc01hcHBlZCA9IGFjY2VwdGVkRmlsZVR5cGVzXG4gICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICBhcHBseU1pbWVUeXBlTWFwKFxuICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRklMRV9WQUxJREFURV9UWVBFX0xBQkVMX0VYUEVDVEVEX1RZUEVTX01BUCcpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5maWx0ZXIobGFiZWwgPT4gbGFiZWwgIT09IGZhbHNlKTtcblxuICAgICAgICAgIGNvbnN0IGFjY2VwdGVkRmlsZVR5cGVzTWFwcGVkX3VuaXF1ZSA9IGFjY2VwdGVkRmlsZVR5cGVzTWFwcGVkLmZpbHRlcihcbiAgICAgICAgICAgIGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICAgIHJldHVybiBhY2NlcHRlZEZpbGVUeXBlc01hcHBlZC5pbmRleE9mKGl0ZW0pID09PSBpbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuXG4gICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICBtYWluOiBxdWVyeSgnR0VUX0xBQkVMX0ZJTEVfVFlQRV9OT1RfQUxMT1dFRCcpLFxuICAgICAgICAgICAgICBzdWI6IHJlcGxhY2VJblN0cmluZyhcbiAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZJTEVfVkFMSURBVEVfVFlQRV9MQUJFTF9FWFBFQ1RFRF9UWVBFUycpLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGFsbFR5cGVzOiBhY2NlcHRlZEZpbGVUeXBlc01hcHBlZF91bmlxdWUuam9pbignLCAnKSxcbiAgICAgICAgICAgICAgICAgIGFsbEJ1dExhc3RUeXBlOiBhY2NlcHRlZEZpbGVUeXBlc01hcHBlZF91bmlxdWVcbiAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDAsIC0xKVxuICAgICAgICAgICAgICAgICAgICAuam9pbignLCAnKSxcbiAgICAgICAgICAgICAgICAgIGxhc3RUeXBlOlxuICAgICAgICAgICAgICAgICAgICBhY2NlcHRlZEZpbGVUeXBlc01hcHBlZF91bmlxdWVbXG4gICAgICAgICAgICAgICAgICAgICAgYWNjZXB0ZWRGaWxlVHlwZXNNYXBwZWQubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaGFzIHJldHVybmVkIG5ldyBmaWxlbmFtZSBpbW1pZGlhdGVseVxuICAgICAgICBpZiAodHlwZW9mIHZhbGlkYXRpb25SZXN1bHQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgIGlmICghdmFsaWRhdGlvblJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVJlamVjdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmaWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlzIHByb21pc2VcbiAgICAgICAgdmFsaWRhdGlvblJlc3VsdFxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoZmlsZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goaGFuZGxlUmVqZWN0aW9uKTtcbiAgICAgIH0pXG4gICk7XG5cbiAgLy8gZXhwb3NlIHBsdWdpblxuICByZXR1cm4ge1xuICAgIC8vIGRlZmF1bHQgb3B0aW9uc1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIC8vIEVuYWJsZSBvciBkaXNhYmxlIGZpbGUgdHlwZSB2YWxpZGF0aW9uXG4gICAgICBhbGxvd0ZpbGVUeXBlVmFsaWRhdGlvbjogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgIC8vIFdoYXQgZmlsZSB0eXBlcyB0byBhY2NlcHRcbiAgICAgIGFjY2VwdGVkRmlsZVR5cGVzOiBbW10sIFR5cGUuQVJSQVldLFxuICAgICAgLy8gLSBtdXN0IGJlIGNvbW1hIHNlcGFyYXRlZFxuICAgICAgLy8gLSBtaW1lIHR5cGVzOiBpbWFnZS9wbmcsIGltYWdlL2pwZWcsIGltYWdlL2dpZlxuICAgICAgLy8gLSBleHRlbnNpb25zOiAucG5nLCAuanBnLCAuanBlZyAoIG5vdCBlbmFibGVkIHlldCApXG4gICAgICAvLyAtIHdpbGRjYXJkczogaW1hZ2UvKlxuXG4gICAgICAvLyBsYWJlbCB0byBzaG93IHdoZW4gYSB0eXBlIGlzIG5vdCBhbGxvd2VkXG4gICAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogWydGaWxlIGlzIG9mIGludmFsaWQgdHlwZScsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgLy8gbmljZXIgbGFiZWxcbiAgICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXM6IFtcbiAgICAgICAgJ0V4cGVjdHMge2FsbEJ1dExhc3RUeXBlfSBvciB7bGFzdFR5cGV9JyxcbiAgICAgICAgVHlwZS5TVFJJTkdcbiAgICAgIF0sXG5cbiAgICAgIC8vIG1hcCBtaW1lIHR5cGVzIHRvIGV4dGVuc2lvbnNcbiAgICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXNNYXA6IFt7fSwgVHlwZS5PQkpFQ1RdLFxuXG4gICAgICAvLyBDdXN0b20gZnVuY3Rpb24gdG8gZGV0ZWN0IHR5cGUgb2YgZmlsZVxuICAgICAgZmlsZVZhbGlkYXRlVHlwZURldGVjdFR5cGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXVxuICAgIH1cbiAgfTtcbn07XG5cbi8vIGZpcmUgcGx1Z2lubG9hZGVkIGV2ZW50IGlmIHJ1bm5pbmcgaW4gYnJvd3NlciwgdGhpcyBhbGxvd3MgcmVnaXN0ZXJpbmcgdGhlIHBsdWdpbiB3aGVuIHVzaW5nIGFzeW5jIHNjcmlwdCB0YWdzXG5jb25zdCBpc0Jyb3dzZXIgPVxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbmlmIChpc0Jyb3dzZXIpIHtcbiAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICBuZXcgQ3VzdG9tRXZlbnQoJ0ZpbGVQb25kOnBsdWdpbmxvYWRlZCcsIHsgZGV0YWlsOiBwbHVnaW4gfSlcbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGx1Z2luO1xuIiwgIi8qIVxuICogRmlsZVBvbmRQbHVnaW5JbWFnZUNyb3AgMi4wLjZcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCwgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQvXG4gKiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9wcWluYS5ubC9maWxlcG9uZC8gZm9yIGRldGFpbHMuXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgKi9cblxuY29uc3QgaXNJbWFnZSA9IGZpbGUgPT4gL15pbWFnZS8udGVzdChmaWxlLnR5cGUpO1xuXG4vKipcbiAqIEltYWdlIEF1dG8gQ3JvcCBQbHVnaW5cbiAqL1xuY29uc3QgcGx1Z2luID0gKHsgYWRkRmlsdGVyLCB1dGlscyB9KSA9PiB7XG4gIGNvbnN0IHsgVHlwZSwgaXNGaWxlLCBnZXROdW1lcmljQXNwZWN0UmF0aW9Gcm9tU3RyaW5nIH0gPSB1dGlscztcblxuICAvLyB0ZXN0cyBpZiBjcm9wIGlzIGFsbG93ZWQgb24gdGhpcyBpdGVtXG4gIGNvbnN0IGFsbG93Q3JvcCA9IChpdGVtLCBxdWVyeSkgPT5cbiAgICAhKCFpc0ltYWdlKGl0ZW0uZmlsZSkgfHwgIXF1ZXJ5KCdHRVRfQUxMT1dfSU1BR0VfQ1JPUCcpKTtcblxuICBjb25zdCBpc09iamVjdCA9IHZhbHVlID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCc7XG5cbiAgY29uc3QgaXNOdW1iZXIgPSB2YWx1ZSA9PiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO1xuXG4gIGNvbnN0IHVwZGF0ZUNyb3AgPSAoaXRlbSwgb2JqKSA9PlxuICAgIGl0ZW0uc2V0TWV0YWRhdGEoJ2Nyb3AnLCBPYmplY3QuYXNzaWduKHt9LCBpdGVtLmdldE1ldGFkYXRhKCdjcm9wJyksIG9iaikpO1xuXG4gIC8vIGV4dGVuZCBpdGVtIG1ldGhvZHNcbiAgYWRkRmlsdGVyKCdESURfQ1JFQVRFX0lURU0nLCAoaXRlbSwgeyBxdWVyeSB9KSA9PiB7XG4gICAgaXRlbS5leHRlbmQoJ3NldEltYWdlQ3JvcCcsIGNyb3AgPT4ge1xuICAgICAgaWYgKCFhbGxvd0Nyb3AoaXRlbSwgcXVlcnkpIHx8ICFpc09iamVjdChjZW50ZXIpKSByZXR1cm47XG4gICAgICBpdGVtLnNldE1ldGFkYXRhKCdjcm9wJywgY3JvcCk7XG4gICAgICByZXR1cm4gY3JvcDtcbiAgICB9KTtcblxuICAgIGl0ZW0uZXh0ZW5kKCdzZXRJbWFnZUNyb3BDZW50ZXInLCBjZW50ZXIgPT4ge1xuICAgICAgaWYgKCFhbGxvd0Nyb3AoaXRlbSwgcXVlcnkpIHx8ICFpc09iamVjdChjZW50ZXIpKSByZXR1cm47XG4gICAgICByZXR1cm4gdXBkYXRlQ3JvcChpdGVtLCB7IGNlbnRlciB9KTtcbiAgICB9KTtcblxuICAgIGl0ZW0uZXh0ZW5kKCdzZXRJbWFnZUNyb3Bab29tJywgem9vbSA9PiB7XG4gICAgICBpZiAoIWFsbG93Q3JvcChpdGVtLCBxdWVyeSkgfHwgIWlzTnVtYmVyKHpvb20pKSByZXR1cm47XG4gICAgICByZXR1cm4gdXBkYXRlQ3JvcChpdGVtLCB7IHpvb206IE1hdGgubWF4KDEsIHpvb20pIH0pO1xuICAgIH0pO1xuXG4gICAgaXRlbS5leHRlbmQoJ3NldEltYWdlQ3JvcFJvdGF0aW9uJywgcm90YXRpb24gPT4ge1xuICAgICAgaWYgKCFhbGxvd0Nyb3AoaXRlbSwgcXVlcnkpIHx8ICFpc051bWJlcihyb3RhdGlvbikpIHJldHVybjtcbiAgICAgIHJldHVybiB1cGRhdGVDcm9wKGl0ZW0sIHsgcm90YXRpb24gfSk7XG4gICAgfSk7XG5cbiAgICBpdGVtLmV4dGVuZCgnc2V0SW1hZ2VDcm9wRmxpcCcsIGZsaXAgPT4ge1xuICAgICAgaWYgKCFhbGxvd0Nyb3AoaXRlbSwgcXVlcnkpIHx8ICFpc09iamVjdChmbGlwKSkgcmV0dXJuO1xuICAgICAgcmV0dXJuIHVwZGF0ZUNyb3AoaXRlbSwgeyBmbGlwIH0pO1xuICAgIH0pO1xuXG4gICAgaXRlbS5leHRlbmQoJ3NldEltYWdlQ3JvcEFzcGVjdFJhdGlvJywgbmV3QXNwZWN0UmF0aW8gPT4ge1xuICAgICAgaWYgKCFhbGxvd0Nyb3AoaXRlbSwgcXVlcnkpIHx8IHR5cGVvZiBuZXdBc3BlY3RSYXRpbyA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHJldHVybjtcblxuICAgICAgY29uc3QgY3VycmVudENyb3AgPSBpdGVtLmdldE1ldGFkYXRhKCdjcm9wJyk7XG5cbiAgICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyhuZXdBc3BlY3RSYXRpbyk7XG5cbiAgICAgIGNvbnN0IG5ld0Nyb3AgPSB7XG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgIHg6IDAuNSxcbiAgICAgICAgICB5OiAwLjVcbiAgICAgICAgfSxcbiAgICAgICAgZmxpcDogY3VycmVudENyb3BcbiAgICAgICAgICA/IE9iamVjdC5hc3NpZ24oe30sIGN1cnJlbnRDcm9wLmZsaXApXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIGhvcml6b250YWw6IGZhbHNlLFxuICAgICAgICAgICAgICB2ZXJ0aWNhbDogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICB6b29tOiAxLFxuICAgICAgICBhc3BlY3RSYXRpb1xuICAgICAgfTtcblxuICAgICAgaXRlbS5zZXRNZXRhZGF0YSgnY3JvcCcsIG5ld0Nyb3ApO1xuXG4gICAgICByZXR1cm4gbmV3Q3JvcDtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gc3Vic2NyaWJlIHRvIGZpbGUgdHJhbnNmb3JtYXRpb25zXG4gIGFkZEZpbHRlcihcbiAgICAnRElEX0xPQURfSVRFTScsXG4gICAgKGl0ZW0sIHsgcXVlcnkgfSkgPT5cbiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gZ2V0IGZpbGUgcmVmZXJlbmNlXG4gICAgICAgIGNvbnN0IGZpbGUgPSBpdGVtLmZpbGU7XG5cbiAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYW4gaW1hZ2Ugd2UgZG8gbm90IGhhdmUgYW55IGJ1c2luZXNzIGNyb3BwaW5nIGl0IGFuZCB3ZSdsbCBjb250aW51ZSB3aXRoIHRoZSB1bmFsdGVyZWQgZGF0YXNldFxuICAgICAgICBpZiAoIWlzRmlsZShmaWxlKSB8fCAhaXNJbWFnZShmaWxlKSB8fCAhcXVlcnkoJ0dFVF9BTExPV19JTUFHRV9DUk9QJykpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFscmVhZHkgaGFzIGNyb3AgbWV0YWRhdGEgc2V0P1xuICAgICAgICBjb25zdCBjcm9wID0gaXRlbS5nZXRNZXRhZGF0YSgnY3JvcCcpO1xuICAgICAgICBpZiAoY3JvcCkge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHRoZSByZXF1aXJlZCBhc3BlY3QgcmF0aW8gYW5kIGV4aXQgaWYgaXQncyBub3Qgc2V0XG4gICAgICAgIGNvbnN0IGh1bWFuQXNwZWN0UmF0aW8gPSBxdWVyeSgnR0VUX0lNQUdFX0NST1BfQVNQRUNUX1JBVElPJyk7XG5cbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgY3JvcCByZWN0YW5nbGVcbiAgICAgICAgaXRlbS5zZXRNZXRhZGF0YSgnY3JvcCcsIHtcbiAgICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgIHg6IDAuNSxcbiAgICAgICAgICAgIHk6IDAuNVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmxpcDoge1xuICAgICAgICAgICAgaG9yaXpvbnRhbDogZmFsc2UsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogZmFsc2VcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICAgIHpvb206IDEsXG4gICAgICAgICAgYXNwZWN0UmF0aW86IGh1bWFuQXNwZWN0UmF0aW9cbiAgICAgICAgICAgID8gZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyhodW1hbkFzcGVjdFJhdGlvKVxuICAgICAgICAgICAgOiBudWxsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHdlIGRvbmUhXG4gICAgICAgIHJlc29sdmUoaXRlbSk7XG4gICAgICB9KVxuICApO1xuXG4gIC8vIEV4cG9zZSBwbHVnaW4gb3B0aW9uc1xuICByZXR1cm4ge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIC8vIGVuYWJsZSBvciBkaXNhYmxlIGltYWdlIGNyb3BwaW5nXG4gICAgICBhbGxvd0ltYWdlQ3JvcDogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgIC8vIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIGNyb3AgKCcxOjEnLCAnMTY6OScsIGV0YylcbiAgICAgIGltYWdlQ3JvcEFzcGVjdFJhdGlvOiBbbnVsbCwgVHlwZS5TVFJJTkddXG4gICAgfVxuICB9O1xufTtcblxuLy8gZmlyZSBwbHVnaW5sb2FkZWQgZXZlbnQgaWYgcnVubmluZyBpbiBicm93c2VyLCB0aGlzIGFsbG93cyByZWdpc3RlcmluZyB0aGUgcGx1Z2luIHdoZW4gdXNpbmcgYXN5bmMgc2NyaXB0IHRhZ3NcbmNvbnN0IGlzQnJvd3NlciA9XG4gIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuaWYgKGlzQnJvd3Nlcikge1xuICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgIG5ldyBDdXN0b21FdmVudCgnRmlsZVBvbmQ6cGx1Z2lubG9hZGVkJywgeyBkZXRhaWw6IHBsdWdpbiB9KVxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwbHVnaW47XG4iLCAiLyohXG4gKiBGaWxlUG9uZFBsdWdpbkltYWdlRXhpZk9yaWVudGF0aW9uIDEuMC4xMVxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cbiAqIFBsZWFzZSB2aXNpdCBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kLyBmb3IgZGV0YWlscy5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4vLyB0ZXN0IGlmIGZpbGUgaXMgb2YgdHlwZSBpbWFnZVxuY29uc3QgaXNKUEVHID0gZmlsZSA9PiAvXmltYWdlXFwvanBlZy8udGVzdChmaWxlLnR5cGUpO1xuXG5jb25zdCBNYXJrZXIgPSB7XG4gIEpQRUc6IDB4ZmZkOCxcbiAgQVBQMTogMHhmZmUxLFxuICBFWElGOiAweDQ1Nzg2OTY2LFxuICBUSUZGOiAweDQ5NDksXG4gIE9yaWVudGF0aW9uOiAweDAxMTIsXG4gIFVua25vd246IDB4ZmYwMFxufTtcblxuY29uc3QgZ2V0VWludDE2ID0gKHZpZXcsIG9mZnNldCwgbGl0dGxlID0gZmFsc2UpID0+XG4gIHZpZXcuZ2V0VWludDE2KG9mZnNldCwgbGl0dGxlKTtcbmNvbnN0IGdldFVpbnQzMiA9ICh2aWV3LCBvZmZzZXQsIGxpdHRsZSA9IGZhbHNlKSA9PlxuICB2aWV3LmdldFVpbnQzMihvZmZzZXQsIGxpdHRsZSk7XG5cbmNvbnN0IGdldEltYWdlT3JpZW50YXRpb24gPSBmaWxlID0+XG4gIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XG4gICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGUudGFyZ2V0LnJlc3VsdCk7XG5cbiAgICAgIC8vIEV2ZXJ5IEpQRUcgZmlsZSBzdGFydHMgZnJvbSBiaW5hcnkgdmFsdWUgJzB4RkZEOCdcbiAgICAgIGlmIChnZXRVaW50MTYodmlldywgMCkgIT09IE1hcmtlci5KUEVHKSB7XG4gICAgICAgIC8vIFRoaXMgYWludCBubyBKUEVHXG4gICAgICAgIHJlc29sdmUoLTEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxlbmd0aCA9IHZpZXcuYnl0ZUxlbmd0aDtcbiAgICAgIGxldCBvZmZzZXQgPSAyO1xuXG4gICAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG1hcmtlciA9IGdldFVpbnQxNih2aWV3LCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gMjtcblxuICAgICAgICAvLyBUaGVyZSdzIG91ciBBUFAxIE1hcmtlclxuICAgICAgICBpZiAobWFya2VyID09PSBNYXJrZXIuQVBQMSkge1xuICAgICAgICAgIGlmIChnZXRVaW50MzIodmlldywgKG9mZnNldCArPSAyKSkgIT09IE1hcmtlci5FWElGKSB7XG4gICAgICAgICAgICAvLyBubyBFWElGIGluZm8gZGVmaW5lZFxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gR2V0IFRJRkYgSGVhZGVyXG4gICAgICAgICAgY29uc3QgbGl0dGxlID0gZ2V0VWludDE2KHZpZXcsIChvZmZzZXQgKz0gNikpID09PSBNYXJrZXIuVElGRjtcbiAgICAgICAgICBvZmZzZXQgKz0gZ2V0VWludDMyKHZpZXcsIG9mZnNldCArIDQsIGxpdHRsZSk7XG5cbiAgICAgICAgICBjb25zdCB0YWdzID0gZ2V0VWludDE2KHZpZXcsIG9mZnNldCwgbGl0dGxlKTtcbiAgICAgICAgICBvZmZzZXQgKz0gMjtcblxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFnczsgaSsrKSB7XG4gICAgICAgICAgICAvLyBmb3VuZCB0aGUgb3JpZW50YXRpb24gdGFnXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGdldFVpbnQxNih2aWV3LCBvZmZzZXQgKyBpICogMTIsIGxpdHRsZSkgPT09IE1hcmtlci5PcmllbnRhdGlvblxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoZ2V0VWludDE2KHZpZXcsIG9mZnNldCArIGkgKiAxMiArIDgsIGxpdHRsZSkpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKChtYXJrZXIgJiBNYXJrZXIuVW5rbm93bikgIT09IE1hcmtlci5Vbmtub3duKSB7XG4gICAgICAgICAgLy8gSW52YWxpZFxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9mZnNldCArPSBnZXRVaW50MTYodmlldywgb2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBOb3RoaW5nIGZvdW5kXG4gICAgICByZXNvbHZlKC0xKTtcbiAgICB9O1xuXG4gICAgLy8gd2UgZG9uJ3QgbmVlZCB0byByZWFkIHRoZSBlbnRpcmUgZmlsZSB0byBnZXQgdGhlIG9yaWVudGF0aW9uXG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUuc2xpY2UoMCwgNjQgKiAxMDI0KSk7XG4gIH0pO1xuXG5jb25zdCBJU19CUk9XU0VSID0gKCgpID0+XG4gIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSgpO1xuY29uc3QgaXNCcm93c2VyID0gKCkgPT4gSVNfQlJPV1NFUjtcblxuLy8gMngxIHBpeGVsIGltYWdlIDkwQ1cgcm90YXRlZCB3aXRoIG9yaWVudGF0aW9uIGhlYWRlclxuY29uc3QgdGVzdFNyYyA9XG4gICdkYXRhOmltYWdlL2pwZztiYXNlNjQsLzlqLzRBQVFTa1pKUmdBQkFRRUFTQUJJQUFELzRRQTZSWGhwWmdBQVRVMEFLZ0FBQUFnQUF3RVNBQU1BQUFBQkFBWUFBQUVvQUFNQUFBQUJBQUlBQUFJVEFBTUFBQUFCQUFFQUFBQUFBQUQvMndCREFQLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy93QUFMQ0FBQkFBSUJBU0lBLzhRQUpnQUJBQUFBQUFBQUFBQUFBQUFBQUFBQUF4QUJBQUFBQUFBQUFBQUFBQUFBQUFBQUFQL2FBQWdCQVFBQVB3QkgvOWs9JztcblxuLy8gc2hvdWxkIGNvcnJlY3Qgb3JpZW50YXRpb24gaWYgaXMgcHJlc2VudGVkIGluIGxhbmRzY2FwZSwgaW4gd2hpY2ggY2FzZSB0aGUgYnJvd3NlciBkb2Vzbid0IGF1dG9jb3JyZWN0XG5sZXQgc2hvdWxkQ29ycmVjdCA9IHVuZGVmaW5lZDtcbmNvbnN0IHRlc3RJbWFnZSA9IGlzQnJvd3NlcigpID8gbmV3IEltYWdlKCkgOiB7fTtcbnRlc3RJbWFnZS5vbmxvYWQgPSAoKSA9PlxuICAoc2hvdWxkQ29ycmVjdCA9IHRlc3RJbWFnZS5uYXR1cmFsV2lkdGggPiB0ZXN0SW1hZ2UubmF0dXJhbEhlaWdodCk7XG50ZXN0SW1hZ2Uuc3JjID0gdGVzdFNyYztcblxuY29uc3Qgc2hvdWxkQ29ycmVjdEltYWdlRXhpZk9yaWVudGF0aW9uID0gKCkgPT4gc2hvdWxkQ29ycmVjdDtcblxuLyoqXG4gKiBSZWFkIEltYWdlIE9yaWVudGF0aW9uIFBsdWdpblxuICovXG5jb25zdCBwbHVnaW4gPSAoeyBhZGRGaWx0ZXIsIHV0aWxzIH0pID0+IHtcbiAgY29uc3QgeyBUeXBlLCBpc0ZpbGUgfSA9IHV0aWxzO1xuXG4gIC8vIHN1YnNjcmliZSB0byBmaWxlIGxvYWQgYW5kIGFwcGVuZCByZXF1aXJlZCBpbmZvXG4gIGFkZEZpbHRlcihcbiAgICAnRElEX0xPQURfSVRFTScsXG4gICAgKGl0ZW0sIHsgcXVlcnkgfSkgPT5cbiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gZ2V0IGZpbGUgcmVmZXJlbmNlXG4gICAgICAgIGNvbnN0IGZpbGUgPSBpdGVtLmZpbGU7XG5cbiAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBqcGVnIGltYWdlIHdlIGFyZSBub3QgaW50ZXJlc3RlZFxuICAgICAgICBpZiAoXG4gICAgICAgICAgIWlzRmlsZShmaWxlKSB8fFxuICAgICAgICAgICFpc0pQRUcoZmlsZSkgfHxcbiAgICAgICAgICAhcXVlcnkoJ0dFVF9BTExPV19JTUFHRV9FWElGX09SSUVOVEFUSU9OJykgfHxcbiAgICAgICAgICAhc2hvdWxkQ29ycmVjdEltYWdlRXhpZk9yaWVudGF0aW9uKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gY29udGludWUgd2l0aCB0aGUgdW5hbHRlcmVkIGRhdGFzZXRcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBvcmllbnRhdGlvbiBmcm9tIGV4aWYgZGF0YVxuICAgICAgICBnZXRJbWFnZU9yaWVudGF0aW9uKGZpbGUpLnRoZW4ob3JpZW50YXRpb24gPT4ge1xuICAgICAgICAgIGl0ZW0uc2V0TWV0YWRhdGEoJ2V4aWYnLCB7IG9yaWVudGF0aW9uIH0pO1xuICAgICAgICAgIHJlc29sdmUoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgKTtcblxuICAvLyBFeHBvc2UgcGx1Z2luIG9wdGlvbnNcbiAgcmV0dXJuIHtcbiAgICBvcHRpb25zOiB7XG4gICAgICAvLyBFbmFibGUgb3IgZGlzYWJsZSBpbWFnZSBvcmllbnRhdGlvbiByZWFkaW5nXG4gICAgICBhbGxvd0ltYWdlRXhpZk9yaWVudGF0aW9uOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXVxuICAgIH1cbiAgfTtcbn07XG5cbi8vIGZpcmUgcGx1Z2lubG9hZGVkIGV2ZW50IGlmIHJ1bm5pbmcgaW4gYnJvd3NlciwgdGhpcyBhbGxvd3MgcmVnaXN0ZXJpbmcgdGhlIHBsdWdpbiB3aGVuIHVzaW5nIGFzeW5jIHNjcmlwdCB0YWdzXG5jb25zdCBpc0Jyb3dzZXIkMSA9XG4gIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuaWYgKGlzQnJvd3NlciQxKSB7XG4gIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgbmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDpwbHVnaW5sb2FkZWQnLCB7IGRldGFpbDogcGx1Z2luIH0pXG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpbjtcbiIsICIvKiFcbiAqIEZpbGVQb25kUGx1Z2luSW1hZ2VQcmV2aWV3IDQuNi4xMVxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cbiAqIFBsZWFzZSB2aXNpdCBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kLyBmb3IgZGV0YWlscy5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4vLyB0ZXN0IGlmIGZpbGUgaXMgb2YgdHlwZSBpbWFnZSBhbmQgY2FuIGJlIHZpZXdlZCBpbiBjYW52YXNcbmNvbnN0IGlzUHJldmlld2FibGVJbWFnZSA9IGZpbGUgPT4gL15pbWFnZS8udGVzdChmaWxlLnR5cGUpO1xuXG5jb25zdCB2ZWN0b3JNdWx0aXBseSA9ICh2LCBhbW91bnQpID0+IGNyZWF0ZVZlY3Rvcih2LnggKiBhbW91bnQsIHYueSAqIGFtb3VudCk7XG5cbmNvbnN0IHZlY3RvckFkZCA9IChhLCBiKSA9PiBjcmVhdGVWZWN0b3IoYS54ICsgYi54LCBhLnkgKyBiLnkpO1xuXG5jb25zdCB2ZWN0b3JOb3JtYWxpemUgPSB2ID0+IHtcbiAgY29uc3QgbCA9IE1hdGguc3FydCh2LnggKiB2LnggKyB2LnkgKiB2LnkpO1xuICBpZiAobCA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVZlY3Rvcih2LnggLyBsLCB2LnkgLyBsKTtcbn07XG5cbmNvbnN0IHZlY3RvclJvdGF0ZSA9ICh2LCByYWRpYW5zLCBvcmlnaW4pID0+IHtcbiAgY29uc3QgY29zID0gTWF0aC5jb3MocmFkaWFucyk7XG4gIGNvbnN0IHNpbiA9IE1hdGguc2luKHJhZGlhbnMpO1xuICBjb25zdCB0ID0gY3JlYXRlVmVjdG9yKHYueCAtIG9yaWdpbi54LCB2LnkgLSBvcmlnaW4ueSk7XG4gIHJldHVybiBjcmVhdGVWZWN0b3IoXG4gICAgb3JpZ2luLnggKyBjb3MgKiB0LnggLSBzaW4gKiB0LnksXG4gICAgb3JpZ2luLnkgKyBzaW4gKiB0LnggKyBjb3MgKiB0LnlcbiAgKTtcbn07XG5cbmNvbnN0IGNyZWF0ZVZlY3RvciA9ICh4ID0gMCwgeSA9IDApID0+ICh7IHgsIHkgfSk7XG5cbmNvbnN0IGdldE1hcmt1cFZhbHVlID0gKHZhbHVlLCBzaXplLCBzY2FsYXIgPSAxLCBheGlzKSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpICogc2NhbGFyO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlICogKGF4aXMgPyBzaXplW2F4aXNdIDogTWF0aC5taW4oc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpKTtcbiAgfVxuICByZXR1cm47XG59O1xuXG5jb25zdCBnZXRNYXJrdXBTdHlsZXMgPSAobWFya3VwLCBzaXplLCBzY2FsZSkgPT4ge1xuICBjb25zdCBsaW5lU3R5bGUgPSBtYXJrdXAuYm9yZGVyU3R5bGUgfHwgbWFya3VwLmxpbmVTdHlsZSB8fCAnc29saWQnO1xuICBjb25zdCBmaWxsID0gbWFya3VwLmJhY2tncm91bmRDb2xvciB8fCBtYXJrdXAuZm9udENvbG9yIHx8ICd0cmFuc3BhcmVudCc7XG4gIGNvbnN0IHN0cm9rZSA9IG1hcmt1cC5ib3JkZXJDb2xvciB8fCBtYXJrdXAubGluZUNvbG9yIHx8ICd0cmFuc3BhcmVudCc7XG4gIGNvbnN0IHN0cm9rZVdpZHRoID0gZ2V0TWFya3VwVmFsdWUoXG4gICAgbWFya3VwLmJvcmRlcldpZHRoIHx8IG1hcmt1cC5saW5lV2lkdGgsXG4gICAgc2l6ZSxcbiAgICBzY2FsZVxuICApO1xuICBjb25zdCBsaW5lQ2FwID0gbWFya3VwLmxpbmVDYXAgfHwgJ3JvdW5kJztcbiAgY29uc3QgbGluZUpvaW4gPSBtYXJrdXAubGluZUpvaW4gfHwgJ3JvdW5kJztcbiAgY29uc3QgZGFzaGVzID1cbiAgICB0eXBlb2YgbGluZVN0eWxlID09PSAnc3RyaW5nJ1xuICAgICAgPyAnJ1xuICAgICAgOiBsaW5lU3R5bGUubWFwKHYgPT4gZ2V0TWFya3VwVmFsdWUodiwgc2l6ZSwgc2NhbGUpKS5qb2luKCcsJyk7XG4gIGNvbnN0IG9wYWNpdHkgPSBtYXJrdXAub3BhY2l0eSB8fCAxO1xuICByZXR1cm4ge1xuICAgICdzdHJva2UtbGluZWNhcCc6IGxpbmVDYXAsXG4gICAgJ3N0cm9rZS1saW5lam9pbic6IGxpbmVKb2luLFxuICAgICdzdHJva2Utd2lkdGgnOiBzdHJva2VXaWR0aCB8fCAwLFxuICAgICdzdHJva2UtZGFzaGFycmF5JzogZGFzaGVzLFxuICAgIHN0cm9rZSxcbiAgICBmaWxsLFxuICAgIG9wYWNpdHlcbiAgfTtcbn07XG5cbmNvbnN0IGlzRGVmaW5lZCA9IHZhbHVlID0+IHZhbHVlICE9IG51bGw7XG5cbmNvbnN0IGdldE1hcmt1cFJlY3QgPSAocmVjdCwgc2l6ZSwgc2NhbGFyID0gMSkgPT4ge1xuICBsZXQgbGVmdCA9XG4gICAgZ2V0TWFya3VwVmFsdWUocmVjdC54LCBzaXplLCBzY2FsYXIsICd3aWR0aCcpIHx8XG4gICAgZ2V0TWFya3VwVmFsdWUocmVjdC5sZWZ0LCBzaXplLCBzY2FsYXIsICd3aWR0aCcpO1xuICBsZXQgdG9wID1cbiAgICBnZXRNYXJrdXBWYWx1ZShyZWN0LnksIHNpemUsIHNjYWxhciwgJ2hlaWdodCcpIHx8XG4gICAgZ2V0TWFya3VwVmFsdWUocmVjdC50b3AsIHNpemUsIHNjYWxhciwgJ2hlaWdodCcpO1xuICBsZXQgd2lkdGggPSBnZXRNYXJrdXBWYWx1ZShyZWN0LndpZHRoLCBzaXplLCBzY2FsYXIsICd3aWR0aCcpO1xuICBsZXQgaGVpZ2h0ID0gZ2V0TWFya3VwVmFsdWUocmVjdC5oZWlnaHQsIHNpemUsIHNjYWxhciwgJ2hlaWdodCcpO1xuICBsZXQgcmlnaHQgPSBnZXRNYXJrdXBWYWx1ZShyZWN0LnJpZ2h0LCBzaXplLCBzY2FsYXIsICd3aWR0aCcpO1xuICBsZXQgYm90dG9tID0gZ2V0TWFya3VwVmFsdWUocmVjdC5ib3R0b20sIHNpemUsIHNjYWxhciwgJ2hlaWdodCcpO1xuXG4gIGlmICghaXNEZWZpbmVkKHRvcCkpIHtcbiAgICBpZiAoaXNEZWZpbmVkKGhlaWdodCkgJiYgaXNEZWZpbmVkKGJvdHRvbSkpIHtcbiAgICAgIHRvcCA9IHNpemUuaGVpZ2h0IC0gaGVpZ2h0IC0gYm90dG9tO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3AgPSBib3R0b207XG4gICAgfVxuICB9XG5cbiAgaWYgKCFpc0RlZmluZWQobGVmdCkpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHdpZHRoKSAmJiBpc0RlZmluZWQocmlnaHQpKSB7XG4gICAgICBsZWZ0ID0gc2l6ZS53aWR0aCAtIHdpZHRoIC0gcmlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlZnQgPSByaWdodDtcbiAgICB9XG4gIH1cblxuICBpZiAoIWlzRGVmaW5lZCh3aWR0aCkpIHtcbiAgICBpZiAoaXNEZWZpbmVkKGxlZnQpICYmIGlzRGVmaW5lZChyaWdodCkpIHtcbiAgICAgIHdpZHRoID0gc2l6ZS53aWR0aCAtIGxlZnQgLSByaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2lkdGggPSAwO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaXNEZWZpbmVkKGhlaWdodCkpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHRvcCkgJiYgaXNEZWZpbmVkKGJvdHRvbSkpIHtcbiAgICAgIGhlaWdodCA9IHNpemUuaGVpZ2h0IC0gdG9wIC0gYm90dG9tO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWlnaHQgPSAwO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgeDogbGVmdCB8fCAwLFxuICAgIHk6IHRvcCB8fCAwLFxuICAgIHdpZHRoOiB3aWR0aCB8fCAwLFxuICAgIGhlaWdodDogaGVpZ2h0IHx8IDBcbiAgfTtcbn07XG5cbmNvbnN0IHBvaW50c1RvUGF0aFNoYXBlID0gcG9pbnRzID0+XG4gIHBvaW50c1xuICAgIC5tYXAoKHBvaW50LCBpbmRleCkgPT4gYCR7aW5kZXggPT09IDAgPyAnTScgOiAnTCd9ICR7cG9pbnQueH0gJHtwb2ludC55fWApXG4gICAgLmpvaW4oJyAnKTtcblxuY29uc3Qgc2V0QXR0cmlidXRlcyA9IChlbGVtZW50LCBhdHRyKSA9PlxuICBPYmplY3Qua2V5cyhhdHRyKS5mb3JFYWNoKGtleSA9PiBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIGF0dHJba2V5XSkpO1xuXG5jb25zdCBucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5jb25zdCBzdmcgPSAodGFnLCBhdHRyKSA9PiB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZyk7XG4gIGlmIChhdHRyKSB7XG4gICAgc2V0QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyKTtcbiAgfVxuICByZXR1cm4gZWxlbWVudDtcbn07XG5cbmNvbnN0IHVwZGF0ZVJlY3QgPSBlbGVtZW50ID0+XG4gIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwge1xuICAgIC4uLmVsZW1lbnQucmVjdCxcbiAgICAuLi5lbGVtZW50LnN0eWxlc1xuICB9KTtcblxuY29uc3QgdXBkYXRlRWxsaXBzZSA9IGVsZW1lbnQgPT4ge1xuICBjb25zdCBjeCA9IGVsZW1lbnQucmVjdC54ICsgZWxlbWVudC5yZWN0LndpZHRoICogMC41O1xuICBjb25zdCBjeSA9IGVsZW1lbnQucmVjdC55ICsgZWxlbWVudC5yZWN0LmhlaWdodCAqIDAuNTtcbiAgY29uc3QgcnggPSBlbGVtZW50LnJlY3Qud2lkdGggKiAwLjU7XG4gIGNvbnN0IHJ5ID0gZWxlbWVudC5yZWN0LmhlaWdodCAqIDAuNTtcbiAgcmV0dXJuIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwge1xuICAgIGN4LFxuICAgIGN5LFxuICAgIHJ4LFxuICAgIHJ5LFxuICAgIC4uLmVsZW1lbnQuc3R5bGVzXG4gIH0pO1xufTtcblxuY29uc3QgSU1BR0VfRklUX1NUWUxFID0ge1xuICBjb250YWluOiAneE1pZFlNaWQgbWVldCcsXG4gIGNvdmVyOiAneE1pZFlNaWQgc2xpY2UnXG59O1xuXG5jb25zdCB1cGRhdGVJbWFnZSA9IChlbGVtZW50LCBtYXJrdXApID0+IHtcbiAgc2V0QXR0cmlidXRlcyhlbGVtZW50LCB7XG4gICAgLi4uZWxlbWVudC5yZWN0LFxuICAgIC4uLmVsZW1lbnQuc3R5bGVzLFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IElNQUdFX0ZJVF9TVFlMRVttYXJrdXAuZml0XSB8fCAnbm9uZSdcbiAgfSk7XG59O1xuXG5jb25zdCBURVhUX0FOQ0hPUiA9IHtcbiAgbGVmdDogJ3N0YXJ0JyxcbiAgY2VudGVyOiAnbWlkZGxlJyxcbiAgcmlnaHQ6ICdlbmQnXG59O1xuXG5jb25zdCB1cGRhdGVUZXh0ID0gKGVsZW1lbnQsIG1hcmt1cCwgc2l6ZSwgc2NhbGUpID0+IHtcbiAgY29uc3QgZm9udFNpemUgPSBnZXRNYXJrdXBWYWx1ZShtYXJrdXAuZm9udFNpemUsIHNpemUsIHNjYWxlKTtcbiAgY29uc3QgZm9udEZhbWlseSA9IG1hcmt1cC5mb250RmFtaWx5IHx8ICdzYW5zLXNlcmlmJztcbiAgY29uc3QgZm9udFdlaWdodCA9IG1hcmt1cC5mb250V2VpZ2h0IHx8ICdub3JtYWwnO1xuICBjb25zdCB0ZXh0QWxpZ24gPSBURVhUX0FOQ0hPUlttYXJrdXAudGV4dEFsaWduXSB8fCAnc3RhcnQnO1xuXG4gIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwge1xuICAgIC4uLmVsZW1lbnQucmVjdCxcbiAgICAuLi5lbGVtZW50LnN0eWxlcyxcbiAgICAnc3Ryb2tlLXdpZHRoJzogMCxcbiAgICAnZm9udC13ZWlnaHQnOiBmb250V2VpZ2h0LFxuICAgICdmb250LXNpemUnOiBmb250U2l6ZSxcbiAgICAnZm9udC1mYW1pbHknOiBmb250RmFtaWx5LFxuICAgICd0ZXh0LWFuY2hvcic6IHRleHRBbGlnblxuICB9KTtcblxuICAvLyB1cGRhdGUgdGV4dFxuICBpZiAoZWxlbWVudC50ZXh0ICE9PSBtYXJrdXAudGV4dCkge1xuICAgIGVsZW1lbnQudGV4dCA9IG1hcmt1cC50ZXh0O1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBtYXJrdXAudGV4dC5sZW5ndGggPyBtYXJrdXAudGV4dCA6ICcgJztcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlTGluZSA9IChlbGVtZW50LCBtYXJrdXAsIHNpemUsIHNjYWxlKSA9PiB7XG4gIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwge1xuICAgIC4uLmVsZW1lbnQucmVjdCxcbiAgICAuLi5lbGVtZW50LnN0eWxlcyxcbiAgICBmaWxsOiAnbm9uZSdcbiAgfSk7XG5cbiAgY29uc3QgbGluZSA9IGVsZW1lbnQuY2hpbGROb2Rlc1swXTtcbiAgY29uc3QgYmVnaW4gPSBlbGVtZW50LmNoaWxkTm9kZXNbMV07XG4gIGNvbnN0IGVuZCA9IGVsZW1lbnQuY2hpbGROb2Rlc1syXTtcblxuICBjb25zdCBvcmlnaW4gPSBlbGVtZW50LnJlY3Q7XG5cbiAgY29uc3QgdGFyZ2V0ID0ge1xuICAgIHg6IGVsZW1lbnQucmVjdC54ICsgZWxlbWVudC5yZWN0LndpZHRoLFxuICAgIHk6IGVsZW1lbnQucmVjdC55ICsgZWxlbWVudC5yZWN0LmhlaWdodFxuICB9O1xuXG4gIHNldEF0dHJpYnV0ZXMobGluZSwge1xuICAgIHgxOiBvcmlnaW4ueCxcbiAgICB5MTogb3JpZ2luLnksXG4gICAgeDI6IHRhcmdldC54LFxuICAgIHkyOiB0YXJnZXQueVxuICB9KTtcblxuICBpZiAoIW1hcmt1cC5saW5lRGVjb3JhdGlvbikgcmV0dXJuO1xuXG4gIGJlZ2luLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGVuZC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gIGNvbnN0IHYgPSB2ZWN0b3JOb3JtYWxpemUoe1xuICAgIHg6IHRhcmdldC54IC0gb3JpZ2luLngsXG4gICAgeTogdGFyZ2V0LnkgLSBvcmlnaW4ueVxuICB9KTtcblxuICBjb25zdCBsID0gZ2V0TWFya3VwVmFsdWUoMC4wNSwgc2l6ZSwgc2NhbGUpO1xuXG4gIGlmIChtYXJrdXAubGluZURlY29yYXRpb24uaW5kZXhPZignYXJyb3ctYmVnaW4nKSAhPT0gLTEpIHtcbiAgICBjb25zdCBhcnJvd0JlZ2luUm90YXRpb25Qb2ludCA9IHZlY3Rvck11bHRpcGx5KHYsIGwpO1xuICAgIGNvbnN0IGFycm93QmVnaW5DZW50ZXIgPSB2ZWN0b3JBZGQob3JpZ2luLCBhcnJvd0JlZ2luUm90YXRpb25Qb2ludCk7XG4gICAgY29uc3QgYXJyb3dCZWdpbkEgPSB2ZWN0b3JSb3RhdGUob3JpZ2luLCAyLCBhcnJvd0JlZ2luQ2VudGVyKTtcbiAgICBjb25zdCBhcnJvd0JlZ2luQiA9IHZlY3RvclJvdGF0ZShvcmlnaW4sIC0yLCBhcnJvd0JlZ2luQ2VudGVyKTtcblxuICAgIHNldEF0dHJpYnV0ZXMoYmVnaW4sIHtcbiAgICAgIHN0eWxlOiAnZGlzcGxheTpibG9jazsnLFxuICAgICAgZDogYE0ke2Fycm93QmVnaW5BLnh9LCR7YXJyb3dCZWdpbkEueX0gTCR7b3JpZ2luLnh9LCR7b3JpZ2luLnl9IEwke1xuICAgICAgICBhcnJvd0JlZ2luQi54XG4gICAgICB9LCR7YXJyb3dCZWdpbkIueX1gXG4gICAgfSk7XG4gIH1cblxuICBpZiAobWFya3VwLmxpbmVEZWNvcmF0aW9uLmluZGV4T2YoJ2Fycm93LWVuZCcpICE9PSAtMSkge1xuICAgIGNvbnN0IGFycm93RW5kUm90YXRpb25Qb2ludCA9IHZlY3Rvck11bHRpcGx5KHYsIC1sKTtcbiAgICBjb25zdCBhcnJvd0VuZENlbnRlciA9IHZlY3RvckFkZCh0YXJnZXQsIGFycm93RW5kUm90YXRpb25Qb2ludCk7XG4gICAgY29uc3QgYXJyb3dFbmRBID0gdmVjdG9yUm90YXRlKHRhcmdldCwgMiwgYXJyb3dFbmRDZW50ZXIpO1xuICAgIGNvbnN0IGFycm93RW5kQiA9IHZlY3RvclJvdGF0ZSh0YXJnZXQsIC0yLCBhcnJvd0VuZENlbnRlcik7XG5cbiAgICBzZXRBdHRyaWJ1dGVzKGVuZCwge1xuICAgICAgc3R5bGU6ICdkaXNwbGF5OmJsb2NrOycsXG4gICAgICBkOiBgTSR7YXJyb3dFbmRBLnh9LCR7YXJyb3dFbmRBLnl9IEwke3RhcmdldC54fSwke3RhcmdldC55fSBMJHtcbiAgICAgICAgYXJyb3dFbmRCLnhcbiAgICAgIH0sJHthcnJvd0VuZEIueX1gXG4gICAgfSk7XG4gIH1cbn07XG5cbmNvbnN0IHVwZGF0ZVBhdGggPSAoZWxlbWVudCwgbWFya3VwLCBzaXplLCBzY2FsZSkgPT4ge1xuICBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIHtcbiAgICAuLi5lbGVtZW50LnN0eWxlcyxcbiAgICBmaWxsOiAnbm9uZScsXG4gICAgZDogcG9pbnRzVG9QYXRoU2hhcGUoXG4gICAgICBtYXJrdXAucG9pbnRzLm1hcChwb2ludCA9PiAoe1xuICAgICAgICB4OiBnZXRNYXJrdXBWYWx1ZShwb2ludC54LCBzaXplLCBzY2FsZSwgJ3dpZHRoJyksXG4gICAgICAgIHk6IGdldE1hcmt1cFZhbHVlKHBvaW50LnksIHNpemUsIHNjYWxlLCAnaGVpZ2h0JylcbiAgICAgIH0pKVxuICAgIClcbiAgfSk7XG59O1xuXG5jb25zdCBjcmVhdGVTaGFwZSA9IG5vZGUgPT4gbWFya3VwID0+IHN2Zyhub2RlLCB7IGlkOiBtYXJrdXAuaWQgfSk7XG5cbmNvbnN0IGNyZWF0ZUltYWdlID0gbWFya3VwID0+IHtcbiAgY29uc3Qgc2hhcGUgPSBzdmcoJ2ltYWdlJywge1xuICAgIGlkOiBtYXJrdXAuaWQsXG4gICAgJ3N0cm9rZS1saW5lY2FwJzogJ3JvdW5kJyxcbiAgICAnc3Ryb2tlLWxpbmVqb2luJzogJ3JvdW5kJyxcbiAgICBvcGFjaXR5OiAnMCdcbiAgfSk7XG4gIHNoYXBlLm9ubG9hZCA9ICgpID0+IHtcbiAgICBzaGFwZS5zZXRBdHRyaWJ1dGUoJ29wYWNpdHknLCBtYXJrdXAub3BhY2l0eSB8fCAxKTtcbiAgfTtcbiAgc2hhcGUuc2V0QXR0cmlidXRlTlMoXG4gICAgJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLFxuICAgICd4bGluazpocmVmJyxcbiAgICBtYXJrdXAuc3JjXG4gICk7XG4gIHJldHVybiBzaGFwZTtcbn07XG5cbmNvbnN0IGNyZWF0ZUxpbmUgPSBtYXJrdXAgPT4ge1xuICBjb25zdCBzaGFwZSA9IHN2ZygnZycsIHtcbiAgICBpZDogbWFya3VwLmlkLFxuICAgICdzdHJva2UtbGluZWNhcCc6ICdyb3VuZCcsXG4gICAgJ3N0cm9rZS1saW5lam9pbic6ICdyb3VuZCdcbiAgfSk7XG5cbiAgY29uc3QgbGluZSA9IHN2ZygnbGluZScpO1xuICBzaGFwZS5hcHBlbmRDaGlsZChsaW5lKTtcblxuICBjb25zdCBiZWdpbiA9IHN2ZygncGF0aCcpO1xuICBzaGFwZS5hcHBlbmRDaGlsZChiZWdpbik7XG5cbiAgY29uc3QgZW5kID0gc3ZnKCdwYXRoJyk7XG4gIHNoYXBlLmFwcGVuZENoaWxkKGVuZCk7XG5cbiAgcmV0dXJuIHNoYXBlO1xufTtcblxuY29uc3QgQ1JFQVRFX1RZUEVfUk9VVEVTID0ge1xuICBpbWFnZTogY3JlYXRlSW1hZ2UsXG4gIHJlY3Q6IGNyZWF0ZVNoYXBlKCdyZWN0JyksXG4gIGVsbGlwc2U6IGNyZWF0ZVNoYXBlKCdlbGxpcHNlJyksXG4gIHRleHQ6IGNyZWF0ZVNoYXBlKCd0ZXh0JyksXG4gIHBhdGg6IGNyZWF0ZVNoYXBlKCdwYXRoJyksXG4gIGxpbmU6IGNyZWF0ZUxpbmVcbn07XG5cbmNvbnN0IFVQREFURV9UWVBFX1JPVVRFUyA9IHtcbiAgcmVjdDogdXBkYXRlUmVjdCxcbiAgZWxsaXBzZTogdXBkYXRlRWxsaXBzZSxcbiAgaW1hZ2U6IHVwZGF0ZUltYWdlLFxuICB0ZXh0OiB1cGRhdGVUZXh0LFxuICBwYXRoOiB1cGRhdGVQYXRoLFxuICBsaW5lOiB1cGRhdGVMaW5lXG59O1xuXG5jb25zdCBjcmVhdGVNYXJrdXBCeVR5cGUgPSAodHlwZSwgbWFya3VwKSA9PiBDUkVBVEVfVFlQRV9ST1VURVNbdHlwZV0obWFya3VwKTtcblxuY29uc3QgdXBkYXRlTWFya3VwQnlUeXBlID0gKGVsZW1lbnQsIHR5cGUsIG1hcmt1cCwgc2l6ZSwgc2NhbGUpID0+IHtcbiAgaWYgKHR5cGUgIT09ICdwYXRoJykge1xuICAgIGVsZW1lbnQucmVjdCA9IGdldE1hcmt1cFJlY3QobWFya3VwLCBzaXplLCBzY2FsZSk7XG4gIH1cbiAgZWxlbWVudC5zdHlsZXMgPSBnZXRNYXJrdXBTdHlsZXMobWFya3VwLCBzaXplLCBzY2FsZSk7XG4gIFVQREFURV9UWVBFX1JPVVRFU1t0eXBlXShlbGVtZW50LCBtYXJrdXAsIHNpemUsIHNjYWxlKTtcbn07XG5cbmNvbnN0IE1BUktVUF9SRUNUID0gW1xuICAneCcsXG4gICd5JyxcbiAgJ2xlZnQnLFxuICAndG9wJyxcbiAgJ3JpZ2h0JyxcbiAgJ2JvdHRvbScsXG4gICd3aWR0aCcsXG4gICdoZWlnaHQnXG5dO1xuXG5jb25zdCB0b09wdGlvbmFsRnJhY3Rpb24gPSB2YWx1ZSA9PlxuICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIC8lLy50ZXN0KHZhbHVlKVxuICAgID8gcGFyc2VGbG9hdCh2YWx1ZSkgLyAxMDBcbiAgICA6IHZhbHVlO1xuXG4vLyBhZGRzIGRlZmF1bHQgbWFya3VwIHByb3BlcnRpZXMsIGNsb25lcyBtYXJrdXBcbmNvbnN0IHByZXBhcmVNYXJrdXAgPSBtYXJrdXAgPT4ge1xuICBjb25zdCBbdHlwZSwgcHJvcHNdID0gbWFya3VwO1xuXG4gIGNvbnN0IHJlY3QgPSBwcm9wcy5wb2ludHNcbiAgICA/IHt9XG4gICAgOiBNQVJLVVBfUkVDVC5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICAgICAgcHJldltjdXJyXSA9IHRvT3B0aW9uYWxGcmFjdGlvbihwcm9wc1tjdXJyXSk7XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgfSwge30pO1xuXG4gIHJldHVybiBbXG4gICAgdHlwZSxcbiAgICB7XG4gICAgICB6SW5kZXg6IDAsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIC4uLnJlY3RcbiAgICB9XG4gIF07XG59O1xuXG5jb25zdCBzb3J0TWFya3VwQnlaSW5kZXggPSAoYSwgYikgPT4ge1xuICBpZiAoYVsxXS56SW5kZXggPiBiWzFdLnpJbmRleCkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIGlmIChhWzFdLnpJbmRleCA8IGJbMV0uekluZGV4KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuY29uc3QgY3JlYXRlTWFya3VwVmlldyA9IF8gPT5cbiAgXy51dGlscy5jcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnaW1hZ2UtcHJldmlldy1tYXJrdXAnLFxuICAgIHRhZzogJ3N2ZycsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBtaXhpbnM6IHtcbiAgICAgIGFwaXM6IFsnd2lkdGgnLCAnaGVpZ2h0JywgJ2Nyb3AnLCAnbWFya3VwJywgJ3Jlc2l6ZScsICdkaXJ0eSddXG4gICAgfSxcbiAgICB3cml0ZTogKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgICAgaWYgKCFwcm9wcy5kaXJ0eSkgcmV0dXJuO1xuXG4gICAgICBjb25zdCB7IGNyb3AsIHJlc2l6ZSwgbWFya3VwIH0gPSBwcm9wcztcblxuICAgICAgY29uc3Qgdmlld1dpZHRoID0gcHJvcHMud2lkdGg7XG4gICAgICBjb25zdCB2aWV3SGVpZ2h0ID0gcHJvcHMuaGVpZ2h0O1xuXG4gICAgICBsZXQgY3JvcFdpZHRoID0gY3JvcC53aWR0aDtcbiAgICAgIGxldCBjcm9wSGVpZ2h0ID0gY3JvcC5oZWlnaHQ7XG5cbiAgICAgIGlmIChyZXNpemUpIHtcbiAgICAgICAgY29uc3QgeyBzaXplIH0gPSByZXNpemU7XG5cbiAgICAgICAgbGV0IG91dHB1dFdpZHRoID0gc2l6ZSAmJiBzaXplLndpZHRoO1xuICAgICAgICBsZXQgb3V0cHV0SGVpZ2h0ID0gc2l6ZSAmJiBzaXplLmhlaWdodDtcbiAgICAgICAgY29uc3Qgb3V0cHV0Rml0ID0gcmVzaXplLm1vZGU7XG4gICAgICAgIGNvbnN0IG91dHB1dFVwc2NhbGUgPSByZXNpemUudXBzY2FsZTtcblxuICAgICAgICBpZiAob3V0cHV0V2lkdGggJiYgIW91dHB1dEhlaWdodCkgb3V0cHV0SGVpZ2h0ID0gb3V0cHV0V2lkdGg7XG4gICAgICAgIGlmIChvdXRwdXRIZWlnaHQgJiYgIW91dHB1dFdpZHRoKSBvdXRwdXRXaWR0aCA9IG91dHB1dEhlaWdodDtcblxuICAgICAgICBjb25zdCBzaG91bGRVcHNjYWxlID1cbiAgICAgICAgICBjcm9wV2lkdGggPCBvdXRwdXRXaWR0aCAmJiBjcm9wSGVpZ2h0IDwgb3V0cHV0SGVpZ2h0O1xuXG4gICAgICAgIGlmICghc2hvdWxkVXBzY2FsZSB8fCAoc2hvdWxkVXBzY2FsZSAmJiBvdXRwdXRVcHNjYWxlKSkge1xuICAgICAgICAgIGxldCBzY2FsYXJXaWR0aCA9IG91dHB1dFdpZHRoIC8gY3JvcFdpZHRoO1xuICAgICAgICAgIGxldCBzY2FsYXJIZWlnaHQgPSBvdXRwdXRIZWlnaHQgLyBjcm9wSGVpZ2h0O1xuXG4gICAgICAgICAgaWYgKG91dHB1dEZpdCA9PT0gJ2ZvcmNlJykge1xuICAgICAgICAgICAgY3JvcFdpZHRoID0gb3V0cHV0V2lkdGg7XG4gICAgICAgICAgICBjcm9wSGVpZ2h0ID0gb3V0cHV0SGVpZ2h0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc2NhbGFyO1xuICAgICAgICAgICAgaWYgKG91dHB1dEZpdCA9PT0gJ2NvdmVyJykge1xuICAgICAgICAgICAgICBzY2FsYXIgPSBNYXRoLm1heChzY2FsYXJXaWR0aCwgc2NhbGFySGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0Rml0ID09PSAnY29udGFpbicpIHtcbiAgICAgICAgICAgICAgc2NhbGFyID0gTWF0aC5taW4oc2NhbGFyV2lkdGgsIHNjYWxhckhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjcm9wV2lkdGggPSBjcm9wV2lkdGggKiBzY2FsYXI7XG4gICAgICAgICAgICBjcm9wSGVpZ2h0ID0gY3JvcEhlaWdodCAqIHNjYWxhcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2l6ZSA9IHtcbiAgICAgICAgd2lkdGg6IHZpZXdXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiB2aWV3SGVpZ2h0XG4gICAgICB9O1xuXG4gICAgICByb290LmVsZW1lbnQuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHNpemUud2lkdGgpO1xuICAgICAgcm9vdC5lbGVtZW50LnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZS5oZWlnaHQpO1xuXG4gICAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKHZpZXdXaWR0aCAvIGNyb3BXaWR0aCwgdmlld0hlaWdodCAvIGNyb3BIZWlnaHQpO1xuXG4gICAgICAvLyBjbGVhclxuICAgICAgcm9vdC5lbGVtZW50LmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAvLyBnZXQgZmlsdGVyXG4gICAgICBjb25zdCBtYXJrdXBGaWx0ZXIgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVJLVVBfRklMVEVSJyk7XG5cbiAgICAgIC8vIGRyYXcgbmV3XG4gICAgICBtYXJrdXBcbiAgICAgICAgLmZpbHRlcihtYXJrdXBGaWx0ZXIpXG4gICAgICAgIC5tYXAocHJlcGFyZU1hcmt1cClcbiAgICAgICAgLnNvcnQoc29ydE1hcmt1cEJ5WkluZGV4KVxuICAgICAgICAuZm9yRWFjaChtYXJrdXAgPT4ge1xuICAgICAgICAgIGNvbnN0IFt0eXBlLCBzZXR0aW5nc10gPSBtYXJrdXA7XG5cbiAgICAgICAgICAvLyBjcmVhdGVcbiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY3JlYXRlTWFya3VwQnlUeXBlKHR5cGUsIHNldHRpbmdzKTtcblxuICAgICAgICAgIC8vIHVwZGF0ZVxuICAgICAgICAgIHVwZGF0ZU1hcmt1cEJ5VHlwZShlbGVtZW50LCB0eXBlLCBzZXR0aW5ncywgc2l6ZSwgc2NhbGUpO1xuXG4gICAgICAgICAgLy8gYWRkXG4gICAgICAgICAgcm9vdC5lbGVtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG5jb25zdCBjcmVhdGVWZWN0b3IkMSA9ICh4LCB5KSA9PiAoeyB4LCB5IH0pO1xuXG5jb25zdCB2ZWN0b3JEb3QgPSAoYSwgYikgPT4gYS54ICogYi54ICsgYS55ICogYi55O1xuXG5jb25zdCB2ZWN0b3JTdWJ0cmFjdCA9IChhLCBiKSA9PiBjcmVhdGVWZWN0b3IkMShhLnggLSBiLngsIGEueSAtIGIueSk7XG5cbmNvbnN0IHZlY3RvckRpc3RhbmNlU3F1YXJlZCA9IChhLCBiKSA9PlxuICB2ZWN0b3JEb3QodmVjdG9yU3VidHJhY3QoYSwgYiksIHZlY3RvclN1YnRyYWN0KGEsIGIpKTtcblxuY29uc3QgdmVjdG9yRGlzdGFuY2UgPSAoYSwgYikgPT4gTWF0aC5zcXJ0KHZlY3RvckRpc3RhbmNlU3F1YXJlZChhLCBiKSk7XG5cbmNvbnN0IGdldE9mZnNldFBvaW50T25FZGdlID0gKGxlbmd0aCwgcm90YXRpb24pID0+IHtcbiAgY29uc3QgYSA9IGxlbmd0aDtcblxuICBjb25zdCBBID0gMS41NzA3OTYzMjY3OTQ4OTY2O1xuICBjb25zdCBCID0gcm90YXRpb247XG4gIGNvbnN0IEMgPSAxLjU3MDc5NjMyNjc5NDg5NjYgLSByb3RhdGlvbjtcblxuICBjb25zdCBzaW5BID0gTWF0aC5zaW4oQSk7XG4gIGNvbnN0IHNpbkIgPSBNYXRoLnNpbihCKTtcbiAgY29uc3Qgc2luQyA9IE1hdGguc2luKEMpO1xuICBjb25zdCBjb3NDID0gTWF0aC5jb3MoQyk7XG4gIGNvbnN0IHJhdGlvID0gYSAvIHNpbkE7XG4gIGNvbnN0IGIgPSByYXRpbyAqIHNpbkI7XG4gIGNvbnN0IGMgPSByYXRpbyAqIHNpbkM7XG5cbiAgcmV0dXJuIGNyZWF0ZVZlY3RvciQxKGNvc0MgKiBiLCBjb3NDICogYyk7XG59O1xuXG5jb25zdCBnZXRSb3RhdGVkUmVjdFNpemUgPSAocmVjdCwgcm90YXRpb24pID0+IHtcbiAgY29uc3QgdyA9IHJlY3Qud2lkdGg7XG4gIGNvbnN0IGggPSByZWN0LmhlaWdodDtcblxuICBjb25zdCBob3IgPSBnZXRPZmZzZXRQb2ludE9uRWRnZSh3LCByb3RhdGlvbik7XG4gIGNvbnN0IHZlciA9IGdldE9mZnNldFBvaW50T25FZGdlKGgsIHJvdGF0aW9uKTtcblxuICBjb25zdCB0bCA9IGNyZWF0ZVZlY3RvciQxKHJlY3QueCArIE1hdGguYWJzKGhvci54KSwgcmVjdC55IC0gTWF0aC5hYnMoaG9yLnkpKTtcblxuICBjb25zdCB0ciA9IGNyZWF0ZVZlY3RvciQxKFxuICAgIHJlY3QueCArIHJlY3Qud2lkdGggKyBNYXRoLmFicyh2ZXIueSksXG4gICAgcmVjdC55ICsgTWF0aC5hYnModmVyLngpXG4gICk7XG5cbiAgY29uc3QgYmwgPSBjcmVhdGVWZWN0b3IkMShcbiAgICByZWN0LnggLSBNYXRoLmFicyh2ZXIueSksXG4gICAgcmVjdC55ICsgcmVjdC5oZWlnaHQgLSBNYXRoLmFicyh2ZXIueClcbiAgKTtcblxuICByZXR1cm4ge1xuICAgIHdpZHRoOiB2ZWN0b3JEaXN0YW5jZSh0bCwgdHIpLFxuICAgIGhlaWdodDogdmVjdG9yRGlzdGFuY2UodGwsIGJsKVxuICB9O1xufTtcblxuY29uc3QgY2FsY3VsYXRlQ2FudmFzU2l6ZSA9IChpbWFnZSwgY2FudmFzQXNwZWN0UmF0aW8sIHpvb20gPSAxKSA9PiB7XG4gIGNvbnN0IGltYWdlQXNwZWN0UmF0aW8gPSBpbWFnZS5oZWlnaHQgLyBpbWFnZS53aWR0aDtcblxuICAvLyBkZXRlcm1pbmUgYWN0dWFsIHBpeGVscyBvbiB4IGFuZCB5IGF4aXNcbiAgbGV0IGNhbnZhc1dpZHRoID0gMTtcbiAgbGV0IGNhbnZhc0hlaWdodCA9IGNhbnZhc0FzcGVjdFJhdGlvO1xuICBsZXQgaW1nV2lkdGggPSAxO1xuICBsZXQgaW1nSGVpZ2h0ID0gaW1hZ2VBc3BlY3RSYXRpbztcbiAgaWYgKGltZ0hlaWdodCA+IGNhbnZhc0hlaWdodCkge1xuICAgIGltZ0hlaWdodCA9IGNhbnZhc0hlaWdodDtcbiAgICBpbWdXaWR0aCA9IGltZ0hlaWdodCAvIGltYWdlQXNwZWN0UmF0aW87XG4gIH1cblxuICBjb25zdCBzY2FsYXIgPSBNYXRoLm1heChjYW52YXNXaWR0aCAvIGltZ1dpZHRoLCBjYW52YXNIZWlnaHQgLyBpbWdIZWlnaHQpO1xuICBjb25zdCB3aWR0aCA9IGltYWdlLndpZHRoIC8gKHpvb20gKiBzY2FsYXIgKiBpbWdXaWR0aCk7XG4gIGNvbnN0IGhlaWdodCA9IHdpZHRoICogY2FudmFzQXNwZWN0UmF0aW87XG5cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHRcbiAgfTtcbn07XG5cbmNvbnN0IGdldEltYWdlUmVjdFpvb21GYWN0b3IgPSAoaW1hZ2VSZWN0LCBjcm9wUmVjdCwgcm90YXRpb24sIGNlbnRlcikgPT4ge1xuICAvLyBjYWxjdWxhdGUgYXZhaWxhYmxlIHNwYWNlIHJvdW5kIGltYWdlIGNlbnRlciBwb3NpdGlvblxuICBjb25zdCBjeCA9IGNlbnRlci54ID4gMC41ID8gMSAtIGNlbnRlci54IDogY2VudGVyLng7XG4gIGNvbnN0IGN5ID0gY2VudGVyLnkgPiAwLjUgPyAxIC0gY2VudGVyLnkgOiBjZW50ZXIueTtcbiAgY29uc3QgaW1hZ2VXaWR0aCA9IGN4ICogMiAqIGltYWdlUmVjdC53aWR0aDtcbiAgY29uc3QgaW1hZ2VIZWlnaHQgPSBjeSAqIDIgKiBpbWFnZVJlY3QuaGVpZ2h0O1xuXG4gIC8vIGNhbGN1bGF0ZSByb3RhdGVkIGNyb3AgcmVjdGFuZ2xlIHNpemVcbiAgY29uc3Qgcm90YXRlZENyb3BTaXplID0gZ2V0Um90YXRlZFJlY3RTaXplKGNyb3BSZWN0LCByb3RhdGlvbik7XG5cbiAgLy8gY2FsY3VsYXRlIHNjYWxhciByZXF1aXJlZCB0byBmaXQgaW1hZ2VcbiAgcmV0dXJuIE1hdGgubWF4KFxuICAgIHJvdGF0ZWRDcm9wU2l6ZS53aWR0aCAvIGltYWdlV2lkdGgsXG4gICAgcm90YXRlZENyb3BTaXplLmhlaWdodCAvIGltYWdlSGVpZ2h0XG4gICk7XG59O1xuXG5jb25zdCBnZXRDZW50ZXJlZENyb3BSZWN0ID0gKGNvbnRhaW5lciwgYXNwZWN0UmF0aW8pID0+IHtcbiAgbGV0IHdpZHRoID0gY29udGFpbmVyLndpZHRoO1xuICBsZXQgaGVpZ2h0ID0gd2lkdGggKiBhc3BlY3RSYXRpbztcbiAgaWYgKGhlaWdodCA+IGNvbnRhaW5lci5oZWlnaHQpIHtcbiAgICBoZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0O1xuICAgIHdpZHRoID0gaGVpZ2h0IC8gYXNwZWN0UmF0aW87XG4gIH1cbiAgY29uc3QgeCA9IChjb250YWluZXIud2lkdGggLSB3aWR0aCkgKiAwLjU7XG4gIGNvbnN0IHkgPSAoY29udGFpbmVyLmhlaWdodCAtIGhlaWdodCkgKiAwLjU7XG5cbiAgcmV0dXJuIHtcbiAgICB4LFxuICAgIHksXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gIH07XG59O1xuXG5jb25zdCBnZXRDdXJyZW50Q3JvcFNpemUgPSAoaW1hZ2VTaXplLCBjcm9wID0ge30pID0+IHtcbiAgbGV0IHsgem9vbSwgcm90YXRpb24sIGNlbnRlciwgYXNwZWN0UmF0aW8gfSA9IGNyb3A7XG5cbiAgaWYgKCFhc3BlY3RSYXRpbykgYXNwZWN0UmF0aW8gPSBpbWFnZVNpemUuaGVpZ2h0IC8gaW1hZ2VTaXplLndpZHRoO1xuXG4gIGNvbnN0IGNhbnZhc1NpemUgPSBjYWxjdWxhdGVDYW52YXNTaXplKGltYWdlU2l6ZSwgYXNwZWN0UmF0aW8sIHpvb20pO1xuXG4gIGNvbnN0IGNhbnZhc0NlbnRlciA9IHtcbiAgICB4OiBjYW52YXNTaXplLndpZHRoICogMC41LFxuICAgIHk6IGNhbnZhc1NpemUuaGVpZ2h0ICogMC41XG4gIH07XG5cbiAgY29uc3Qgc3RhZ2UgPSB7XG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHdpZHRoOiBjYW52YXNTaXplLndpZHRoLFxuICAgIGhlaWdodDogY2FudmFzU2l6ZS5oZWlnaHQsXG4gICAgY2VudGVyOiBjYW52YXNDZW50ZXJcbiAgfTtcblxuICBjb25zdCBzaG91bGRMaW1pdCA9IHR5cGVvZiBjcm9wLnNjYWxlVG9GaXQgPT09ICd1bmRlZmluZWQnIHx8IGNyb3Auc2NhbGVUb0ZpdDtcblxuICBjb25zdCBzdGFnZVpvb21GYWN0b3IgPSBnZXRJbWFnZVJlY3Rab29tRmFjdG9yKFxuICAgIGltYWdlU2l6ZSxcbiAgICBnZXRDZW50ZXJlZENyb3BSZWN0KHN0YWdlLCBhc3BlY3RSYXRpbyksXG4gICAgcm90YXRpb24sXG4gICAgc2hvdWxkTGltaXQgPyBjZW50ZXIgOiB7IHg6IDAuNSwgeTogMC41IH1cbiAgKTtcblxuICBjb25zdCBzY2FsZSA9IHpvb20gKiBzdGFnZVpvb21GYWN0b3I7XG5cbiAgLy8gc3RhcnQgZHJhd2luZ1xuICByZXR1cm4ge1xuICAgIHdpZHRoRmxvYXQ6IGNhbnZhc1NpemUud2lkdGggLyBzY2FsZSxcbiAgICBoZWlnaHRGbG9hdDogY2FudmFzU2l6ZS5oZWlnaHQgLyBzY2FsZSxcbiAgICB3aWR0aDogTWF0aC5yb3VuZChjYW52YXNTaXplLndpZHRoIC8gc2NhbGUpLFxuICAgIGhlaWdodDogTWF0aC5yb3VuZChjYW52YXNTaXplLmhlaWdodCAvIHNjYWxlKVxuICB9O1xufTtcblxuY29uc3QgSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTID0ge1xuICB0eXBlOiAnc3ByaW5nJyxcbiAgc3RpZmZuZXNzOiAwLjUsXG4gIGRhbXBpbmc6IDAuNDUsXG4gIG1hc3M6IDEwXG59O1xuXG4vLyBkb2VzIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIGZsaXBwaW5nXG5jb25zdCBjcmVhdGVCaXRtYXBWaWV3ID0gXyA9PlxuICBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdpbWFnZS1iaXRtYXAnLFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgbWl4aW5zOiB7IHN0eWxlczogWydzY2FsZVgnLCAnc2NhbGVZJ10gfSxcbiAgICBjcmVhdGU6ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAgIHJvb3QuYXBwZW5kQ2hpbGQocHJvcHMuaW1hZ2UpO1xuICAgIH1cbiAgfSk7XG5cbi8vIHNoaWZ0cyBhbmQgcm90YXRlcyBpbWFnZVxuY29uc3QgY3JlYXRlSW1hZ2VDYW52YXNXcmFwcGVyID0gXyA9PlxuICBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdpbWFnZS1jYW52YXMtd3JhcHBlcicsXG4gICAgdGFnOiAnZGl2JyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIG1peGluczoge1xuICAgICAgYXBpczogWydjcm9wJywgJ3dpZHRoJywgJ2hlaWdodCddLFxuICAgICAgc3R5bGVzOiBbXG4gICAgICAgICdvcmlnaW5YJyxcbiAgICAgICAgJ29yaWdpblknLFxuICAgICAgICAndHJhbnNsYXRlWCcsXG4gICAgICAgICd0cmFuc2xhdGVZJyxcbiAgICAgICAgJ3NjYWxlWCcsXG4gICAgICAgICdzY2FsZVknLFxuICAgICAgICAncm90YXRlWidcbiAgICAgIF0sXG4gICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgIG9yaWdpblg6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgb3JpZ2luWTogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICBzY2FsZVg6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgc2NhbGVZOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgIHRyYW5zbGF0ZVg6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgdHJhbnNsYXRlWTogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICByb3RhdGVaOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFNcbiAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZTogKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgICAgcHJvcHMud2lkdGggPSBwcm9wcy5pbWFnZS53aWR0aDtcbiAgICAgIHByb3BzLmhlaWdodCA9IHByb3BzLmltYWdlLmhlaWdodDtcbiAgICAgIHJvb3QucmVmLmJpdG1hcCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhjcmVhdGVCaXRtYXBWaWV3KF8pLCB7IGltYWdlOiBwcm9wcy5pbWFnZSB9KVxuICAgICAgKTtcbiAgICB9LFxuICAgIHdyaXRlOiAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICBjb25zdCB7IGZsaXAgfSA9IHByb3BzLmNyb3A7XG4gICAgICBjb25zdCB7IGJpdG1hcCB9ID0gcm9vdC5yZWY7XG4gICAgICBiaXRtYXAuc2NhbGVYID0gZmxpcC5ob3Jpem9udGFsID8gLTEgOiAxO1xuICAgICAgYml0bWFwLnNjYWxlWSA9IGZsaXAudmVydGljYWwgPyAtMSA6IDE7XG4gICAgfVxuICB9KTtcblxuLy8gY2xpcHMgY2FudmFzIHRvIGNvcnJlY3QgYXNwZWN0IHJhdGlvXG5jb25zdCBjcmVhdGVDbGlwVmlldyA9IF8gPT5cbiAgXy51dGlscy5jcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnaW1hZ2UtY2xpcCcsXG4gICAgdGFnOiAnZGl2JyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIG1peGluczoge1xuICAgICAgYXBpczogW1xuICAgICAgICAnY3JvcCcsXG4gICAgICAgICdtYXJrdXAnLFxuICAgICAgICAncmVzaXplJyxcbiAgICAgICAgJ3dpZHRoJyxcbiAgICAgICAgJ2hlaWdodCcsXG4gICAgICAgICdkaXJ0eScsXG4gICAgICAgICdiYWNrZ3JvdW5kJ1xuICAgICAgXSxcbiAgICAgIHN0eWxlczogWyd3aWR0aCcsICdoZWlnaHQnLCAnb3BhY2l0eSddLFxuICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiAyNTAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZGlkV3JpdGVWaWV3OiBmdW5jdGlvbih7IHJvb3QsIHByb3BzIH0pIHtcbiAgICAgIGlmICghcHJvcHMuYmFja2dyb3VuZCkgcmV0dXJuO1xuICAgICAgcm9vdC5lbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHByb3BzLmJhY2tncm91bmQ7XG4gICAgfSxcbiAgICBjcmVhdGU6ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAgIHJvb3QucmVmLmltYWdlID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KFxuICAgICAgICAgIGNyZWF0ZUltYWdlQ2FudmFzV3JhcHBlcihfKSxcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBwcm9wcylcbiAgICAgICAgKVxuICAgICAgKTtcblxuICAgICAgcm9vdC5yZWYuY3JlYXRlTWFya3VwID0gKCkgPT4ge1xuICAgICAgICBpZiAocm9vdC5yZWYubWFya3VwKSByZXR1cm47XG4gICAgICAgIHJvb3QucmVmLm1hcmt1cCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGNyZWF0ZU1hcmt1cFZpZXcoXyksIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSlcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIHJvb3QucmVmLmRlc3Ryb3lNYXJrdXAgPSAoKSA9PiB7XG4gICAgICAgIGlmICghcm9vdC5yZWYubWFya3VwKSByZXR1cm47XG4gICAgICAgIHJvb3QucmVtb3ZlQ2hpbGRWaWV3KHJvb3QucmVmLm1hcmt1cCk7XG4gICAgICAgIHJvb3QucmVmLm1hcmt1cCA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICAvLyBzZXQgdXAgdHJhbnNwYXJlbmN5IGdyaWRcbiAgICAgIGNvbnN0IHRyYW5zcGFyZW5jeUluZGljYXRvciA9IHJvb3QucXVlcnkoXG4gICAgICAgICdHRVRfSU1BR0VfUFJFVklFV19UUkFOU1BBUkVOQ1lfSU5ESUNBVE9SJ1xuICAgICAgKTtcbiAgICAgIGlmICh0cmFuc3BhcmVuY3lJbmRpY2F0b3IgPT09IG51bGwpIHJldHVybjtcblxuICAgICAgLy8gZ3JpZCBwYXR0ZXJuXG4gICAgICBpZiAodHJhbnNwYXJlbmN5SW5kaWNhdG9yID09PSAnZ3JpZCcpIHtcbiAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQudHJhbnNwYXJlbmN5SW5kaWNhdG9yID0gdHJhbnNwYXJlbmN5SW5kaWNhdG9yO1xuICAgICAgfVxuICAgICAgLy8gYmFzaWMgY29sb3JcbiAgICAgIGVsc2Uge1xuICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC50cmFuc3BhcmVuY3lJbmRpY2F0b3IgPSAnY29sb3InO1xuICAgICAgfVxuICAgIH0sXG4gICAgd3JpdGU6ICh7IHJvb3QsIHByb3BzLCBzaG91bGRPcHRpbWl6ZSB9KSA9PiB7XG4gICAgICBjb25zdCB7IGNyb3AsIG1hcmt1cCwgcmVzaXplLCBkaXJ0eSwgd2lkdGgsIGhlaWdodCB9ID0gcHJvcHM7XG5cbiAgICAgIHJvb3QucmVmLmltYWdlLmNyb3AgPSBjcm9wO1xuXG4gICAgICBjb25zdCBzdGFnZSA9IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgeDogd2lkdGggKiAwLjUsXG4gICAgICAgICAgeTogaGVpZ2h0ICogMC41XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGltYWdlID0ge1xuICAgICAgICB3aWR0aDogcm9vdC5yZWYuaW1hZ2Uud2lkdGgsXG4gICAgICAgIGhlaWdodDogcm9vdC5yZWYuaW1hZ2UuaGVpZ2h0XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBvcmlnaW4gPSB7XG4gICAgICAgIHg6IGNyb3AuY2VudGVyLnggKiBpbWFnZS53aWR0aCxcbiAgICAgICAgeTogY3JvcC5jZW50ZXIueSAqIGltYWdlLmhlaWdodFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdHJhbnNsYXRpb24gPSB7XG4gICAgICAgIHg6IHN0YWdlLmNlbnRlci54IC0gaW1hZ2Uud2lkdGggKiBjcm9wLmNlbnRlci54LFxuICAgICAgICB5OiBzdGFnZS5jZW50ZXIueSAtIGltYWdlLmhlaWdodCAqIGNyb3AuY2VudGVyLnlcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJvdGF0aW9uID0gTWF0aC5QSSAqIDIgKyAoY3JvcC5yb3RhdGlvbiAlIChNYXRoLlBJICogMikpO1xuXG4gICAgICBjb25zdCBjcm9wQXNwZWN0UmF0aW8gPSBjcm9wLmFzcGVjdFJhdGlvIHx8IGltYWdlLmhlaWdodCAvIGltYWdlLndpZHRoO1xuXG4gICAgICBjb25zdCBzaG91bGRMaW1pdCA9XG4gICAgICAgIHR5cGVvZiBjcm9wLnNjYWxlVG9GaXQgPT09ICd1bmRlZmluZWQnIHx8IGNyb3Auc2NhbGVUb0ZpdDtcblxuICAgICAgY29uc3Qgc3RhZ2Vab29tRmFjdG9yID0gZ2V0SW1hZ2VSZWN0Wm9vbUZhY3RvcihcbiAgICAgICAgaW1hZ2UsXG4gICAgICAgIGdldENlbnRlcmVkQ3JvcFJlY3Qoc3RhZ2UsIGNyb3BBc3BlY3RSYXRpbyksXG4gICAgICAgIHJvdGF0aW9uLFxuICAgICAgICBzaG91bGRMaW1pdCA/IGNyb3AuY2VudGVyIDogeyB4OiAwLjUsIHk6IDAuNSB9XG4gICAgICApO1xuXG4gICAgICBjb25zdCBzY2FsZSA9IGNyb3Auem9vbSAqIHN0YWdlWm9vbUZhY3RvcjtcblxuICAgICAgLy8gdXBkYXRlIG1hcmt1cCB2aWV3XG4gICAgICBpZiAobWFya3VwICYmIG1hcmt1cC5sZW5ndGgpIHtcbiAgICAgICAgcm9vdC5yZWYuY3JlYXRlTWFya3VwKCk7XG4gICAgICAgIHJvb3QucmVmLm1hcmt1cC53aWR0aCA9IHdpZHRoO1xuICAgICAgICByb290LnJlZi5tYXJrdXAuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICByb290LnJlZi5tYXJrdXAucmVzaXplID0gcmVzaXplO1xuICAgICAgICByb290LnJlZi5tYXJrdXAuZGlydHkgPSBkaXJ0eTtcbiAgICAgICAgcm9vdC5yZWYubWFya3VwLm1hcmt1cCA9IG1hcmt1cDtcbiAgICAgICAgcm9vdC5yZWYubWFya3VwLmNyb3AgPSBnZXRDdXJyZW50Q3JvcFNpemUoaW1hZ2UsIGNyb3ApO1xuICAgICAgfSBlbHNlIGlmIChyb290LnJlZi5tYXJrdXApIHtcbiAgICAgICAgcm9vdC5yZWYuZGVzdHJveU1hcmt1cCgpO1xuICAgICAgfVxuXG4gICAgICAvLyB1cGRhdGUgaW1hZ2Ugdmlld1xuICAgICAgY29uc3QgaW1hZ2VWaWV3ID0gcm9vdC5yZWYuaW1hZ2U7XG5cbiAgICAgIC8vIGRvbid0IHVwZGF0ZSBjbGlwIGxheW91dFxuICAgICAgaWYgKHNob3VsZE9wdGltaXplKSB7XG4gICAgICAgIGltYWdlVmlldy5vcmlnaW5YID0gbnVsbDtcbiAgICAgICAgaW1hZ2VWaWV3Lm9yaWdpblkgPSBudWxsO1xuICAgICAgICBpbWFnZVZpZXcudHJhbnNsYXRlWCA9IG51bGw7XG4gICAgICAgIGltYWdlVmlldy50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgaW1hZ2VWaWV3LnJvdGF0ZVogPSBudWxsO1xuICAgICAgICBpbWFnZVZpZXcuc2NhbGVYID0gbnVsbDtcbiAgICAgICAgaW1hZ2VWaWV3LnNjYWxlWSA9IG51bGw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaW1hZ2VWaWV3Lm9yaWdpblggPSBvcmlnaW4ueDtcbiAgICAgIGltYWdlVmlldy5vcmlnaW5ZID0gb3JpZ2luLnk7XG4gICAgICBpbWFnZVZpZXcudHJhbnNsYXRlWCA9IHRyYW5zbGF0aW9uLng7XG4gICAgICBpbWFnZVZpZXcudHJhbnNsYXRlWSA9IHRyYW5zbGF0aW9uLnk7XG4gICAgICBpbWFnZVZpZXcucm90YXRlWiA9IHJvdGF0aW9uO1xuICAgICAgaW1hZ2VWaWV3LnNjYWxlWCA9IHNjYWxlO1xuICAgICAgaW1hZ2VWaWV3LnNjYWxlWSA9IHNjYWxlO1xuICAgIH1cbiAgfSk7XG5cbmNvbnN0IGNyZWF0ZUltYWdlVmlldyA9IF8gPT5cbiAgXy51dGlscy5jcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnaW1hZ2UtcHJldmlldycsXG4gICAgdGFnOiAnZGl2JyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIG1peGluczoge1xuICAgICAgYXBpczogWydpbWFnZScsICdjcm9wJywgJ21hcmt1cCcsICdyZXNpemUnLCAnZGlydHknLCAnYmFja2dyb3VuZCddLFxuICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVknLCAnc2NhbGVYJywgJ3NjYWxlWScsICdvcGFjaXR5J10sXG4gICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgIHNjYWxlWDogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICBzY2FsZVk6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgdHJhbnNsYXRlWTogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiA0MDAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlOiAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICByb290LnJlZi5jbGlwID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGNyZWF0ZUNsaXBWaWV3KF8pLCB7XG4gICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgIGltYWdlOiBwcm9wcy5pbWFnZSxcbiAgICAgICAgICBjcm9wOiBwcm9wcy5jcm9wLFxuICAgICAgICAgIG1hcmt1cDogcHJvcHMubWFya3VwLFxuICAgICAgICAgIHJlc2l6ZTogcHJvcHMucmVzaXplLFxuICAgICAgICAgIGRpcnR5OiBwcm9wcy5kaXJ0eSxcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBwcm9wcy5iYWNrZ3JvdW5kXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0sXG4gICAgd3JpdGU6ICh7IHJvb3QsIHByb3BzLCBzaG91bGRPcHRpbWl6ZSB9KSA9PiB7XG4gICAgICBjb25zdCB7IGNsaXAgfSA9IHJvb3QucmVmO1xuXG4gICAgICBjb25zdCB7IGltYWdlLCBjcm9wLCBtYXJrdXAsIHJlc2l6ZSwgZGlydHkgfSA9IHByb3BzO1xuXG4gICAgICBjbGlwLmNyb3AgPSBjcm9wO1xuICAgICAgY2xpcC5tYXJrdXAgPSBtYXJrdXA7XG4gICAgICBjbGlwLnJlc2l6ZSA9IHJlc2l6ZTtcbiAgICAgIGNsaXAuZGlydHkgPSBkaXJ0eTtcblxuICAgICAgLy8gZG9uJ3QgdXBkYXRlIGNsaXAgbGF5b3V0XG4gICAgICBjbGlwLm9wYWNpdHkgPSBzaG91bGRPcHRpbWl6ZSA/IDAgOiAxO1xuXG4gICAgICAvLyBkb24ndCByZS1yZW5kZXIgaWYgb3B0aW1pemluZyBvciBoaWRkZW4gKHdpZHRoIHdpbGwgYmUgemVybyByZXN1bHRpbmcgaW4gd2VpcmQgYW5pbWF0aW9ucylcbiAgICAgIGlmIChzaG91bGRPcHRpbWl6ZSB8fCByb290LnJlY3QuZWxlbWVudC5oaWRkZW4pIHJldHVybjtcblxuICAgICAgLy8gY2FsY3VsYXRlIHNjYWxlZCBwcmV2aWV3IGltYWdlIHNpemVcbiAgICAgIGNvbnN0IGltYWdlQXNwZWN0UmF0aW8gPSBpbWFnZS5oZWlnaHQgLyBpbWFnZS53aWR0aDtcbiAgICAgIGxldCBhc3BlY3RSYXRpbyA9IGNyb3AuYXNwZWN0UmF0aW8gfHwgaW1hZ2VBc3BlY3RSYXRpbztcblxuICAgICAgLy8gY2FsY3VsYXRlIGNvbnRhaW5lciBzaXplXG4gICAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IHJvb3QucmVjdC5pbm5lci53aWR0aDtcbiAgICAgIGNvbnN0IGNvbnRhaW5lckhlaWdodCA9IHJvb3QucmVjdC5pbm5lci5oZWlnaHQ7XG5cbiAgICAgIGxldCBmaXhlZFByZXZpZXdIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19IRUlHSFQnKTtcbiAgICAgIGNvbnN0IG1pblByZXZpZXdIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NSU5fSEVJR0hUJyk7XG4gICAgICBjb25zdCBtYXhQcmV2aWV3SGVpZ2h0ID0gcm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFYX0hFSUdIVCcpO1xuXG4gICAgICBjb25zdCBwYW5lbEFzcGVjdFJhdGlvID0gcm9vdC5xdWVyeSgnR0VUX1BBTkVMX0FTUEVDVF9SQVRJTycpO1xuICAgICAgY29uc3QgYWxsb3dNdWx0aXBsZSA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19NVUxUSVBMRScpO1xuXG4gICAgICBpZiAocGFuZWxBc3BlY3RSYXRpbyAmJiAhYWxsb3dNdWx0aXBsZSkge1xuICAgICAgICBmaXhlZFByZXZpZXdIZWlnaHQgPSBjb250YWluZXJXaWR0aCAqIHBhbmVsQXNwZWN0UmF0aW87XG4gICAgICAgIGFzcGVjdFJhdGlvID0gcGFuZWxBc3BlY3RSYXRpbztcbiAgICAgIH1cblxuICAgICAgLy8gZGV0ZXJtaW5lIGNsaXAgd2lkdGggYW5kIGhlaWdodFxuICAgICAgbGV0IGNsaXBIZWlnaHQgPVxuICAgICAgICBmaXhlZFByZXZpZXdIZWlnaHQgIT09IG51bGxcbiAgICAgICAgICA/IGZpeGVkUHJldmlld0hlaWdodFxuICAgICAgICAgIDogTWF0aC5tYXgoXG4gICAgICAgICAgICAgIG1pblByZXZpZXdIZWlnaHQsXG4gICAgICAgICAgICAgIE1hdGgubWluKGNvbnRhaW5lcldpZHRoICogYXNwZWN0UmF0aW8sIG1heFByZXZpZXdIZWlnaHQpXG4gICAgICAgICAgICApO1xuXG4gICAgICBsZXQgY2xpcFdpZHRoID0gY2xpcEhlaWdodCAvIGFzcGVjdFJhdGlvO1xuICAgICAgaWYgKGNsaXBXaWR0aCA+IGNvbnRhaW5lcldpZHRoKSB7XG4gICAgICAgIGNsaXBXaWR0aCA9IGNvbnRhaW5lcldpZHRoO1xuICAgICAgICBjbGlwSGVpZ2h0ID0gY2xpcFdpZHRoICogYXNwZWN0UmF0aW87XG4gICAgICB9XG5cbiAgICAgIGlmIChjbGlwSGVpZ2h0ID4gY29udGFpbmVySGVpZ2h0KSB7XG4gICAgICAgIGNsaXBIZWlnaHQgPSBjb250YWluZXJIZWlnaHQ7XG4gICAgICAgIGNsaXBXaWR0aCA9IGNvbnRhaW5lckhlaWdodCAvIGFzcGVjdFJhdGlvO1xuICAgICAgfVxuXG4gICAgICBjbGlwLndpZHRoID0gY2xpcFdpZHRoO1xuICAgICAgY2xpcC5oZWlnaHQgPSBjbGlwSGVpZ2h0O1xuICAgIH1cbiAgfSk7XG5cbmxldCBTVkdfTUFTSyA9IGA8c3ZnIHdpZHRoPVwiNTAwXCIgaGVpZ2h0PVwiMjAwXCIgdmlld0JveD1cIjAgMCA1MDAgMjAwXCIgcHJlc2VydmVBc3BlY3RSYXRpbz1cIm5vbmVcIj5cbiAgICA8ZGVmcz5cbiAgICAgICAgPHJhZGlhbEdyYWRpZW50IGlkPVwiZ3JhZGllbnQtX19VSURfX1wiIGN4PVwiLjVcIiBjeT1cIjEuMjVcIiByPVwiMS4xNVwiPlxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSc1MCUnIHN0b3AtY29sb3I9JyMwMDAwMDAnLz5cbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0nNTYlJyBzdG9wLWNvbG9yPScjMGEwYTBhJy8+XG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9JzYzJScgc3RvcC1jb2xvcj0nIzI2MjYyNicvPlxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSc2OSUnIHN0b3AtY29sb3I9JyM0ZjRmNGYnLz5cbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0nNzUlJyBzdG9wLWNvbG9yPScjODA4MDgwJy8+XG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9JzgxJScgc3RvcC1jb2xvcj0nI2IxYjFiMScvPlxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSc4OCUnIHN0b3AtY29sb3I9JyNkYWRhZGEnLz5cbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0nOTQlJyBzdG9wLWNvbG9yPScjZjZmNmY2Jy8+XG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9JzEwMCUnIHN0b3AtY29sb3I9JyNmZmZmZmYnLz5cbiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD5cbiAgICAgICAgPG1hc2sgaWQ9XCJtYXNrLV9fVUlEX19cIj5cbiAgICAgICAgICAgIDxyZWN0IHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIjUwMFwiIGhlaWdodD1cIjIwMFwiIGZpbGw9XCJ1cmwoI2dyYWRpZW50LV9fVUlEX18pXCI+PC9yZWN0PlxuICAgICAgICA8L21hc2s+XG4gICAgPC9kZWZzPlxuICAgIDxyZWN0IHg9XCIwXCIgd2lkdGg9XCI1MDBcIiBoZWlnaHQ9XCIyMDBcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgbWFzaz1cInVybCgjbWFzay1fX1VJRF9fKVwiPjwvcmVjdD5cbjwvc3ZnPmA7XG5cbmxldCBTVkdNYXNrVW5pcXVlSWQgPSAwO1xuXG5jb25zdCBjcmVhdGVJbWFnZU92ZXJsYXlWaWV3ID0gZnBBUEkgPT5cbiAgZnBBUEkudXRpbHMuY3JlYXRlVmlldyh7XG4gICAgbmFtZTogJ2ltYWdlLXByZXZpZXctb3ZlcmxheScsXG4gICAgdGFnOiAnZGl2JyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGNyZWF0ZTogKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgICAgbGV0IG1hc2sgPSBTVkdfTUFTSztcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdiYXNlJykpIHtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5oYXNoLCAnJylcbiAgICAgICAgKS5ocmVmO1xuICAgICAgICBtYXNrID0gbWFzay5yZXBsYWNlKC91cmxcXChcXCMvZywgJ3VybCgnICsgdXJsICsgJyMnKTtcbiAgICAgIH1cblxuICAgICAgU1ZHTWFza1VuaXF1ZUlkKys7XG4gICAgICByb290LmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcbiAgICAgICAgYGZpbGVwb25kLS1pbWFnZS1wcmV2aWV3LW92ZXJsYXktJHtwcm9wcy5zdGF0dXN9YFxuICAgICAgKTtcbiAgICAgIHJvb3QuZWxlbWVudC5pbm5lckhUTUwgPSBtYXNrLnJlcGxhY2UoL19fVUlEX18vZywgU1ZHTWFza1VuaXF1ZUlkKTtcbiAgICB9LFxuICAgIG1peGluczoge1xuICAgICAgc3R5bGVzOiBbJ29wYWNpdHknXSxcbiAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAnc3ByaW5nJywgbWFzczogMjUgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbi8qKlxuICogQml0bWFwIFdvcmtlclxuICovXG5jb25zdCBCaXRtYXBXb3JrZXIgPSBmdW5jdGlvbigpIHtcbiAgc2VsZi5vbm1lc3NhZ2UgPSBlID0+IHtcbiAgICBjcmVhdGVJbWFnZUJpdG1hcChlLmRhdGEubWVzc2FnZS5maWxlKS50aGVuKGJpdG1hcCA9PiB7XG4gICAgICBzZWxmLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCwgbWVzc2FnZTogYml0bWFwIH0sIFtiaXRtYXBdKTtcbiAgICB9KTtcbiAgfTtcbn07XG5cbi8qKlxuICogQ29sb3JNYXRyaXggV29ya2VyXG4gKi9cbmNvbnN0IENvbG9yTWF0cml4V29ya2VyID0gZnVuY3Rpb24oKSB7XG4gIHNlbGYub25tZXNzYWdlID0gZSA9PiB7XG4gICAgY29uc3QgaW1hZ2VEYXRhID0gZS5kYXRhLm1lc3NhZ2UuaW1hZ2VEYXRhO1xuICAgIGNvbnN0IG1hdHJpeCA9IGUuZGF0YS5tZXNzYWdlLmNvbG9yTWF0cml4O1xuXG4gICAgY29uc3QgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuICAgIGNvbnN0IGwgPSBkYXRhLmxlbmd0aDtcblxuICAgIGNvbnN0IG0xMSA9IG1hdHJpeFswXTtcbiAgICBjb25zdCBtMTIgPSBtYXRyaXhbMV07XG4gICAgY29uc3QgbTEzID0gbWF0cml4WzJdO1xuICAgIGNvbnN0IG0xNCA9IG1hdHJpeFszXTtcbiAgICBjb25zdCBtMTUgPSBtYXRyaXhbNF07XG5cbiAgICBjb25zdCBtMjEgPSBtYXRyaXhbNV07XG4gICAgY29uc3QgbTIyID0gbWF0cml4WzZdO1xuICAgIGNvbnN0IG0yMyA9IG1hdHJpeFs3XTtcbiAgICBjb25zdCBtMjQgPSBtYXRyaXhbOF07XG4gICAgY29uc3QgbTI1ID0gbWF0cml4WzldO1xuXG4gICAgY29uc3QgbTMxID0gbWF0cml4WzEwXTtcbiAgICBjb25zdCBtMzIgPSBtYXRyaXhbMTFdO1xuICAgIGNvbnN0IG0zMyA9IG1hdHJpeFsxMl07XG4gICAgY29uc3QgbTM0ID0gbWF0cml4WzEzXTtcbiAgICBjb25zdCBtMzUgPSBtYXRyaXhbMTRdO1xuXG4gICAgY29uc3QgbTQxID0gbWF0cml4WzE1XTtcbiAgICBjb25zdCBtNDIgPSBtYXRyaXhbMTZdO1xuICAgIGNvbnN0IG00MyA9IG1hdHJpeFsxN107XG4gICAgY29uc3QgbTQ0ID0gbWF0cml4WzE4XTtcbiAgICBjb25zdCBtNDUgPSBtYXRyaXhbMTldO1xuXG4gICAgbGV0IGluZGV4ID0gMCxcbiAgICAgIHIgPSAwLjAsXG4gICAgICBnID0gMC4wLFxuICAgICAgYiA9IDAuMCxcbiAgICAgIGEgPSAwLjA7XG5cbiAgICBmb3IgKDsgaW5kZXggPCBsOyBpbmRleCArPSA0KSB7XG4gICAgICByID0gZGF0YVtpbmRleF0gLyAyNTU7XG4gICAgICBnID0gZGF0YVtpbmRleCArIDFdIC8gMjU1O1xuICAgICAgYiA9IGRhdGFbaW5kZXggKyAyXSAvIDI1NTtcbiAgICAgIGEgPSBkYXRhW2luZGV4ICsgM10gLyAyNTU7XG4gICAgICBkYXRhW2luZGV4XSA9IE1hdGgubWF4KFxuICAgICAgICAwLFxuICAgICAgICBNYXRoLm1pbigociAqIG0xMSArIGcgKiBtMTIgKyBiICogbTEzICsgYSAqIG0xNCArIG0xNSkgKiAyNTUsIDI1NSlcbiAgICAgICk7XG4gICAgICBkYXRhW2luZGV4ICsgMV0gPSBNYXRoLm1heChcbiAgICAgICAgMCxcbiAgICAgICAgTWF0aC5taW4oKHIgKiBtMjEgKyBnICogbTIyICsgYiAqIG0yMyArIGEgKiBtMjQgKyBtMjUpICogMjU1LCAyNTUpXG4gICAgICApO1xuICAgICAgZGF0YVtpbmRleCArIDJdID0gTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIE1hdGgubWluKChyICogbTMxICsgZyAqIG0zMiArIGIgKiBtMzMgKyBhICogbTM0ICsgbTM1KSAqIDI1NSwgMjU1KVxuICAgICAgKTtcbiAgICAgIGRhdGFbaW5kZXggKyAzXSA9IE1hdGgubWF4KFxuICAgICAgICAwLFxuICAgICAgICBNYXRoLm1pbigociAqIG00MSArIGcgKiBtNDIgKyBiICogbTQzICsgYSAqIG00NCArIG00NSkgKiAyNTUsIDI1NSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgc2VsZi5wb3N0TWVzc2FnZSh7IGlkOiBlLmRhdGEuaWQsIG1lc3NhZ2U6IGltYWdlRGF0YSB9LCBbXG4gICAgICBpbWFnZURhdGEuZGF0YS5idWZmZXJcbiAgICBdKTtcbiAgfTtcbn07XG5cbmNvbnN0IGdldEltYWdlU2l6ZSA9ICh1cmwsIGNiKSA9PiB7XG4gIGxldCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgY29uc3Qgd2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gaW1hZ2UubmF0dXJhbEhlaWdodDtcbiAgICBpbWFnZSA9IG51bGw7XG4gICAgY2Iod2lkdGgsIGhlaWdodCk7XG4gIH07XG4gIGltYWdlLnNyYyA9IHVybDtcbn07XG5cbmNvbnN0IHRyYW5zZm9ybXMgPSB7XG4gIDE6ICgpID0+IFsxLCAwLCAwLCAxLCAwLCAwXSxcbiAgMjogd2lkdGggPT4gWy0xLCAwLCAwLCAxLCB3aWR0aCwgMF0sXG4gIDM6ICh3aWR0aCwgaGVpZ2h0KSA9PiBbLTEsIDAsIDAsIC0xLCB3aWR0aCwgaGVpZ2h0XSxcbiAgNDogKHdpZHRoLCBoZWlnaHQpID0+IFsxLCAwLCAwLCAtMSwgMCwgaGVpZ2h0XSxcbiAgNTogKCkgPT4gWzAsIDEsIDEsIDAsIDAsIDBdLFxuICA2OiAod2lkdGgsIGhlaWdodCkgPT4gWzAsIDEsIC0xLCAwLCBoZWlnaHQsIDBdLFxuICA3OiAod2lkdGgsIGhlaWdodCkgPT4gWzAsIC0xLCAtMSwgMCwgaGVpZ2h0LCB3aWR0aF0sXG4gIDg6IHdpZHRoID0+IFswLCAtMSwgMSwgMCwgMCwgd2lkdGhdXG59O1xuXG5jb25zdCBmaXhJbWFnZU9yaWVudGF0aW9uID0gKGN0eCwgd2lkdGgsIGhlaWdodCwgb3JpZW50YXRpb24pID0+IHtcbiAgLy8gbm8gb3JpZW50YXRpb24gc3VwcGxpZWRcbiAgaWYgKG9yaWVudGF0aW9uID09PSAtMSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGN0eC50cmFuc2Zvcm0uYXBwbHkoY3R4LCB0cmFuc2Zvcm1zW29yaWVudGF0aW9uXSh3aWR0aCwgaGVpZ2h0KSk7XG59O1xuXG4vLyBkcmF3cyB0aGUgcHJldmlldyBpbWFnZSB0byBjYW52YXNcbmNvbnN0IGNyZWF0ZVByZXZpZXdJbWFnZSA9IChkYXRhLCB3aWR0aCwgaGVpZ2h0LCBvcmllbnRhdGlvbikgPT4ge1xuICAvLyBjYW4ndCBkcmF3IG9uIGhhbGYgcGl4ZWxzXG4gIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCk7XG4gIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0KTtcblxuICAvLyBkcmF3IGltYWdlXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgLy8gaWYgaXMgcm90YXRlZCBpbmNvcnJlY3RseSBzd2FwIHdpZHRoIGFuZCBoZWlnaHRcbiAgaWYgKG9yaWVudGF0aW9uID49IDUgJiYgb3JpZW50YXRpb24gPD0gOCkge1xuICAgIFt3aWR0aCwgaGVpZ2h0XSA9IFtoZWlnaHQsIHdpZHRoXTtcbiAgfVxuXG4gIC8vIGNvcnJlY3QgaW1hZ2Ugb3JpZW50YXRpb25cbiAgZml4SW1hZ2VPcmllbnRhdGlvbihjdHgsIHdpZHRoLCBoZWlnaHQsIG9yaWVudGF0aW9uKTtcblxuICAvLyBkcmF3IHRoZSBpbWFnZVxuICBjdHguZHJhd0ltYWdlKGRhdGEsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gIHJldHVybiBjYW52YXM7XG59O1xuXG5jb25zdCBpc0JpdG1hcCA9IGZpbGUgPT4gL15pbWFnZS8udGVzdChmaWxlLnR5cGUpICYmICEvc3ZnLy50ZXN0KGZpbGUudHlwZSk7XG5cbmNvbnN0IE1BWF9XSURUSCA9IDEwO1xuY29uc3QgTUFYX0hFSUdIVCA9IDEwO1xuXG5jb25zdCBjYWxjdWxhdGVBdmVyYWdlQ29sb3IgPSBpbWFnZSA9PiB7XG4gIGNvbnN0IHNjYWxhciA9IE1hdGgubWluKE1BWF9XSURUSCAvIGltYWdlLndpZHRoLCBNQVhfSEVJR0hUIC8gaW1hZ2UuaGVpZ2h0KTtcblxuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gIGNvbnN0IHdpZHRoID0gKGNhbnZhcy53aWR0aCA9IE1hdGguY2VpbChpbWFnZS53aWR0aCAqIHNjYWxhcikpO1xuICBjb25zdCBoZWlnaHQgPSAoY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbChpbWFnZS5oZWlnaHQgKiBzY2FsYXIpKTtcbiAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gIGxldCBkYXRhID0gbnVsbDtcbiAgdHJ5IHtcbiAgICBkYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KS5kYXRhO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgbCA9IGRhdGEubGVuZ3RoO1xuXG4gIGxldCByID0gMDtcbiAgbGV0IGcgPSAwO1xuICBsZXQgYiA9IDA7XG4gIGxldCBpID0gMDtcblxuICBmb3IgKDsgaSA8IGw7IGkgKz0gNCkge1xuICAgIHIgKz0gZGF0YVtpXSAqIGRhdGFbaV07XG4gICAgZyArPSBkYXRhW2kgKyAxXSAqIGRhdGFbaSArIDFdO1xuICAgIGIgKz0gZGF0YVtpICsgMl0gKiBkYXRhW2kgKyAyXTtcbiAgfVxuXG4gIHIgPSBhdmVyYWdlQ29sb3IociwgbCk7XG4gIGcgPSBhdmVyYWdlQ29sb3IoZywgbCk7XG4gIGIgPSBhdmVyYWdlQ29sb3IoYiwgbCk7XG5cbiAgcmV0dXJuIHsgciwgZywgYiB9O1xufTtcblxuY29uc3QgYXZlcmFnZUNvbG9yID0gKGMsIGwpID0+IE1hdGguZmxvb3IoTWF0aC5zcXJ0KGMgLyAobCAvIDQpKSk7XG5cbmNvbnN0IGNsb25lQ2FudmFzID0gKG9yaWdpbiwgdGFyZ2V0KSA9PiB7XG4gIHRhcmdldCA9IHRhcmdldCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgdGFyZ2V0LndpZHRoID0gb3JpZ2luLndpZHRoO1xuICB0YXJnZXQuaGVpZ2h0ID0gb3JpZ2luLmhlaWdodDtcbiAgY29uc3QgY3R4ID0gdGFyZ2V0LmdldENvbnRleHQoJzJkJyk7XG4gIGN0eC5kcmF3SW1hZ2Uob3JpZ2luLCAwLCAwKTtcbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmNvbnN0IGNsb25lSW1hZ2VEYXRhID0gaW1hZ2VEYXRhID0+IHtcbiAgbGV0IGlkO1xuICB0cnkge1xuICAgIGlkID0gbmV3IEltYWdlRGF0YShpbWFnZURhdGEud2lkdGgsIGltYWdlRGF0YS5oZWlnaHQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgaWQgPSBjdHguY3JlYXRlSW1hZ2VEYXRhKGltYWdlRGF0YS53aWR0aCwgaW1hZ2VEYXRhLmhlaWdodCk7XG4gIH1cbiAgaWQuZGF0YS5zZXQobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGltYWdlRGF0YS5kYXRhKSk7XG4gIHJldHVybiBpZDtcbn07XG5cbmNvbnN0IGxvYWRJbWFnZSA9IHVybCA9PlxuICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgaW1nLmNyb3NzT3JpZ2luID0gJ0Fub255bW91cyc7XG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHJlc29sdmUoaW1nKTtcbiAgICB9O1xuICAgIGltZy5vbmVycm9yID0gZSA9PiB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfTtcbiAgICBpbWcuc3JjID0gdXJsO1xuICB9KTtcblxuY29uc3QgY3JlYXRlSW1hZ2VXcmFwcGVyVmlldyA9IF8gPT4ge1xuICAvLyBjcmVhdGUgb3ZlcmxheSB2aWV3XG4gIGNvbnN0IE92ZXJsYXlWaWV3ID0gY3JlYXRlSW1hZ2VPdmVybGF5VmlldyhfKTtcblxuICBjb25zdCBJbWFnZVZpZXcgPSBjcmVhdGVJbWFnZVZpZXcoXyk7XG5cbiAgY29uc3QgeyBjcmVhdGVXb3JrZXIgfSA9IF8udXRpbHM7XG5cbiAgY29uc3QgYXBwbHlGaWx0ZXIgPSAocm9vdCwgZmlsdGVyLCB0YXJnZXQpID0+XG4gICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAvLyB3aWxsIHN0b3JlIGltYWdlIGRhdGEgZm9yIGZ1dHVyZSBmaWx0ZXIgdXBkYXRlc1xuICAgICAgaWYgKCFyb290LnJlZi5pbWFnZURhdGEpIHtcbiAgICAgICAgcm9vdC5yZWYuaW1hZ2VEYXRhID0gdGFyZ2V0XG4gICAgICAgICAgLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgICAuZ2V0SW1hZ2VEYXRhKDAsIDAsIHRhcmdldC53aWR0aCwgdGFyZ2V0LmhlaWdodCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGdldCBpbWFnZSBkYXRhIHJlZmVyZW5jZVxuICAgICAgY29uc3QgaW1hZ2VEYXRhID0gY2xvbmVJbWFnZURhdGEocm9vdC5yZWYuaW1hZ2VEYXRhKTtcblxuICAgICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyLmxlbmd0aCAhPT0gMjApIHtcbiAgICAgICAgdGFyZ2V0LmdldENvbnRleHQoJzJkJykucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XG4gICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHdvcmtlciA9IGNyZWF0ZVdvcmtlcihDb2xvck1hdHJpeFdvcmtlcik7XG4gICAgICB3b3JrZXIucG9zdChcbiAgICAgICAge1xuICAgICAgICAgIGltYWdlRGF0YSxcbiAgICAgICAgICBjb2xvck1hdHJpeDogZmlsdGVyXG4gICAgICAgIH0sXG4gICAgICAgIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAvLyBhcHBseSBmaWx0ZXJlZCBjb2xvcnNcbiAgICAgICAgICB0YXJnZXQuZ2V0Q29udGV4dCgnMmQnKS5wdXRJbWFnZURhdGEocmVzcG9uc2UsIDAsIDApO1xuXG4gICAgICAgICAgLy8gc3RvcCB3b3JrZXJcbiAgICAgICAgICB3b3JrZXIudGVybWluYXRlKCk7XG5cbiAgICAgICAgICAvLyBkb25lIVxuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgW2ltYWdlRGF0YS5kYXRhLmJ1ZmZlcl1cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgY29uc3QgcmVtb3ZlSW1hZ2VWaWV3ID0gKHJvb3QsIGltYWdlVmlldykgPT4ge1xuICAgIHJvb3QucmVtb3ZlQ2hpbGRWaWV3KGltYWdlVmlldyk7XG4gICAgaW1hZ2VWaWV3LmltYWdlLndpZHRoID0gMTtcbiAgICBpbWFnZVZpZXcuaW1hZ2UuaGVpZ2h0ID0gMTtcbiAgICBpbWFnZVZpZXcuX2Rlc3Ryb3koKTtcbiAgfTtcblxuICAvLyByZW1vdmUgYW4gaW1hZ2VcbiAgY29uc3Qgc2hpZnRJbWFnZSA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIGNvbnN0IGltYWdlVmlldyA9IHJvb3QucmVmLmltYWdlcy5zaGlmdCgpO1xuICAgIGltYWdlVmlldy5vcGFjaXR5ID0gMDtcbiAgICBpbWFnZVZpZXcudHJhbnNsYXRlWSA9IC0xNTtcbiAgICByb290LnJlZi5pbWFnZVZpZXdCaW4ucHVzaChpbWFnZVZpZXcpO1xuICAgIHJldHVybiBpbWFnZVZpZXc7XG4gIH07XG5cbiAgLy8gYWRkIG5ldyBpbWFnZVxuICBjb25zdCBwdXNoSW1hZ2UgPSAoeyByb290LCBwcm9wcywgaW1hZ2UgfSkgPT4ge1xuICAgIGNvbnN0IGlkID0gcHJvcHMuaWQ7XG4gICAgY29uc3QgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZCB9KTtcbiAgICBpZiAoIWl0ZW0pIHJldHVybjtcblxuICAgIGNvbnN0IGNyb3AgPSBpdGVtLmdldE1ldGFkYXRhKCdjcm9wJykgfHwge1xuICAgICAgY2VudGVyOiB7XG4gICAgICAgIHg6IDAuNSxcbiAgICAgICAgeTogMC41XG4gICAgICB9LFxuICAgICAgZmxpcDoge1xuICAgICAgICBob3Jpem9udGFsOiBmYWxzZSxcbiAgICAgICAgdmVydGljYWw6IGZhbHNlXG4gICAgICB9LFxuICAgICAgem9vbTogMSxcbiAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgYXNwZWN0UmF0aW86IG51bGxcbiAgICB9O1xuXG4gICAgY29uc3QgYmFja2dyb3VuZCA9IHJvb3QucXVlcnkoXG4gICAgICAnR0VUX0lNQUdFX1RSQU5TRk9STV9DQU5WQVNfQkFDS0dST1VORF9DT0xPUidcbiAgICApO1xuXG4gICAgbGV0IG1hcmt1cDtcbiAgICBsZXQgcmVzaXplO1xuICAgIGxldCBkaXJ0eSA9IGZhbHNlO1xuICAgIGlmIChyb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVJLVVBfU0hPVycpKSB7XG4gICAgICBtYXJrdXAgPSBpdGVtLmdldE1ldGFkYXRhKCdtYXJrdXAnKSB8fCBbXTtcbiAgICAgIHJlc2l6ZSA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ3Jlc2l6ZScpO1xuICAgICAgZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGFwcGVuZCBpbWFnZSBwcmVzZW50ZXJcbiAgICBjb25zdCBpbWFnZVZpZXcgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KEltYWdlVmlldywge1xuICAgICAgICBpZCxcbiAgICAgICAgaW1hZ2UsXG4gICAgICAgIGNyb3AsXG4gICAgICAgIHJlc2l6ZSxcbiAgICAgICAgbWFya3VwLFxuICAgICAgICBkaXJ0eSxcbiAgICAgICAgYmFja2dyb3VuZCxcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgc2NhbGVYOiAxLjE1LFxuICAgICAgICBzY2FsZVk6IDEuMTUsXG4gICAgICAgIHRyYW5zbGF0ZVk6IDE1XG4gICAgICB9KSxcbiAgICAgIHJvb3QuY2hpbGRWaWV3cy5sZW5ndGhcbiAgICApO1xuICAgIHJvb3QucmVmLmltYWdlcy5wdXNoKGltYWdlVmlldyk7XG5cbiAgICAvLyByZXZlYWwgdGhlIHByZXZpZXcgaW1hZ2VcbiAgICBpbWFnZVZpZXcub3BhY2l0eSA9IDE7XG4gICAgaW1hZ2VWaWV3LnNjYWxlWCA9IDE7XG4gICAgaW1hZ2VWaWV3LnNjYWxlWSA9IDE7XG4gICAgaW1hZ2VWaWV3LnRyYW5zbGF0ZVkgPSAwO1xuXG4gICAgLy8gdGhlIHByZXZpZXcgaXMgbm93IHJlYWR5IHRvIGJlIGRyYXduXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByb290LmRpc3BhdGNoKCdESURfSU1BR0VfUFJFVklFV19TSE9XJywgeyBpZCB9KTtcbiAgICB9LCAyNTApO1xuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZUltYWdlID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIHsgaWQ6IHByb3BzLmlkIH0pO1xuICAgIGlmICghaXRlbSkgcmV0dXJuO1xuICAgIGNvbnN0IGltYWdlVmlldyA9IHJvb3QucmVmLmltYWdlc1tyb290LnJlZi5pbWFnZXMubGVuZ3RoIC0gMV07XG4gICAgaW1hZ2VWaWV3LmNyb3AgPSBpdGVtLmdldE1ldGFkYXRhKCdjcm9wJyk7XG4gICAgaW1hZ2VWaWV3LmJhY2tncm91bmQgPSByb290LnF1ZXJ5KFxuICAgICAgJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fQ0FOVkFTX0JBQ0tHUk9VTkRfQ09MT1InXG4gICAgKTtcbiAgICBpZiAocm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFSS1VQX1NIT1cnKSkge1xuICAgICAgaW1hZ2VWaWV3LmRpcnR5ID0gdHJ1ZTtcbiAgICAgIGltYWdlVmlldy5yZXNpemUgPSBpdGVtLmdldE1ldGFkYXRhKCdyZXNpemUnKTtcbiAgICAgIGltYWdlVmlldy5tYXJrdXAgPSBpdGVtLmdldE1ldGFkYXRhKCdtYXJrdXAnKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gcmVwbGFjZSBpbWFnZSBwcmV2aWV3XG4gIGNvbnN0IGRpZFVwZGF0ZUl0ZW1NZXRhZGF0YSA9ICh7IHJvb3QsIHByb3BzLCBhY3Rpb24gfSkgPT4ge1xuICAgIC8vIG9ubHkgZmlsdGVyIGFuZCBjcm9wIHRyaWdnZXIgcmVkcmF3XG4gICAgaWYgKCEvY3JvcHxmaWx0ZXJ8bWFya3VwfHJlc2l6ZS8udGVzdChhY3Rpb24uY2hhbmdlLmtleSkpIHJldHVybjtcblxuICAgIC8vIG5vIGltYWdlcyB0byB1cGRhdGUsIGV4aXRcbiAgICBpZiAoIXJvb3QucmVmLmltYWdlcy5sZW5ndGgpIHJldHVybjtcblxuICAgIC8vIG5vIGl0ZW0gZm91bmQsIGV4aXRcbiAgICBjb25zdCBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCB7IGlkOiBwcm9wcy5pZCB9KTtcbiAgICBpZiAoIWl0ZW0pIHJldHVybjtcblxuICAgIC8vIGZvciBub3csIHVwZGF0ZSBleGlzdGluZyBpbWFnZSB3aGVuIGZpbHRlcmluZ1xuICAgIGlmICgvZmlsdGVyLy50ZXN0KGFjdGlvbi5jaGFuZ2Uua2V5KSkge1xuICAgICAgY29uc3QgaW1hZ2VWaWV3ID0gcm9vdC5yZWYuaW1hZ2VzW3Jvb3QucmVmLmltYWdlcy5sZW5ndGggLSAxXTtcbiAgICAgIGFwcGx5RmlsdGVyKHJvb3QsIGFjdGlvbi5jaGFuZ2UudmFsdWUsIGltYWdlVmlldy5pbWFnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKC9jcm9wfG1hcmt1cHxyZXNpemUvLnRlc3QoYWN0aW9uLmNoYW5nZS5rZXkpKSB7XG4gICAgICBjb25zdCBjcm9wID0gaXRlbS5nZXRNZXRhZGF0YSgnY3JvcCcpO1xuICAgICAgY29uc3QgaW1hZ2UgPSByb290LnJlZi5pbWFnZXNbcm9vdC5yZWYuaW1hZ2VzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAvLyBpZiBhc3BlY3QgcmF0aW8gaGFzIGNoYW5nZWQsIHdlIG5lZWQgdG8gY3JlYXRlIGEgbmV3IGltYWdlXG4gICAgICBpZiAoXG4gICAgICAgIGNyb3AgJiZcbiAgICAgICAgY3JvcC5hc3BlY3RSYXRpbyAmJlxuICAgICAgICBpbWFnZS5jcm9wICYmXG4gICAgICAgIGltYWdlLmNyb3AuYXNwZWN0UmF0aW8gJiZcbiAgICAgICAgTWF0aC5hYnMoY3JvcC5hc3BlY3RSYXRpbyAtIGltYWdlLmNyb3AuYXNwZWN0UmF0aW8pID4gMC4wMDAwMVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGltYWdlVmlldyA9IHNoaWZ0SW1hZ2UoeyByb290IH0pO1xuICAgICAgICBwdXNoSW1hZ2UoeyByb290LCBwcm9wcywgaW1hZ2U6IGNsb25lQ2FudmFzKGltYWdlVmlldy5pbWFnZSkgfSk7XG4gICAgICB9XG4gICAgICAvLyBpZiBub3QsIHdlIGNhbiB1cGRhdGUgdGhlIGN1cnJlbnQgaW1hZ2VcbiAgICAgIGVsc2Uge1xuICAgICAgICB1cGRhdGVJbWFnZSh7IHJvb3QsIHByb3BzIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBjYW5DcmVhdGVJbWFnZUJpdG1hcCA9IGZpbGUgPT4ge1xuICAgIC8vIEZpcmVmb3ggdmVyc2lvbnMgYmVmb3JlIDU4IHdpbGwgZnJlZXplIHdoZW4gcnVubmluZyBjcmVhdGVJbWFnZUJpdG1hcFxuICAgIC8vIGluIGEgV2ViIFdvcmtlciBzbyB3ZSBkZXRlY3QgdGhvc2UgdmVyc2lvbnMgYW5kIHJldHVybiBmYWxzZSBmb3Igc3VwcG9ydFxuICAgIGNvbnN0IHVzZXJBZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIGNvbnN0IGlzRmlyZWZveCA9IHVzZXJBZ2VudC5tYXRjaCgvRmlyZWZveFxcLyhbMC05XSspXFwuLyk7XG4gICAgY29uc3QgZmlyZWZveFZlcnNpb24gPSBpc0ZpcmVmb3ggPyBwYXJzZUludChpc0ZpcmVmb3hbMV0pIDogbnVsbDtcbiAgICBpZiAoZmlyZWZveFZlcnNpb24gPD0gNTgpIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiAnY3JlYXRlSW1hZ2VCaXRtYXAnIGluIHdpbmRvdyAmJiBpc0JpdG1hcChmaWxlKTtcbiAgfTtcblxuICAvKipcbiAgICogV3JpdGUgaGFuZGxlciBmb3Igd2hlbiBwcmV2aWV3IGNvbnRhaW5lciBoYXMgYmVlbiBjcmVhdGVkXG4gICAqL1xuICBjb25zdCBkaWRDcmVhdGVQcmV2aWV3Q29udGFpbmVyID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgIGNvbnN0IHsgaWQgfSA9IHByb3BzO1xuXG4gICAgLy8gd2UgbmVlZCB0byBnZXQgdGhlIGZpbGUgZGF0YSB0byBkZXRlcm1pbmUgdGhlIGV2ZW50dWFsIGltYWdlIHNpemVcbiAgICBjb25zdCBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBpZCk7XG4gICAgaWYgKCFpdGVtKSByZXR1cm47XG5cbiAgICAvLyBnZXQgdXJsIHRvIGZpbGUgKHdlJ2xsIHJldm9rZSBpdCBsYXRlciBvbiB3aGVuIGRvbmUpXG4gICAgY29uc3QgZmlsZVVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoaXRlbS5maWxlKTtcblxuICAgIC8vIGRldGVybWluZSBpbWFnZSBzaXplIG9mIHRoaXMgaXRlbVxuICAgIGdldEltYWdlU2l6ZShmaWxlVVJMLCAod2lkdGgsIGhlaWdodCkgPT4ge1xuICAgICAgLy8gd2UgY2FuIG5vdyBzY2FsZSB0aGUgcGFuZWwgdG8gdGhlIGZpbmFsIHNpemVcbiAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9JTUFHRV9QUkVWSUVXX0NBTENVTEFURV9TSVpFJywge1xuICAgICAgICBpZCxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgZHJhd1ByZXZpZXcgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgY29uc3QgeyBpZCB9ID0gcHJvcHM7XG5cbiAgICAvLyB3ZSBuZWVkIHRvIGdldCB0aGUgZmlsZSBkYXRhIHRvIGRldGVybWluZSB0aGUgZXZlbnR1YWwgaW1hZ2Ugc2l6ZVxuICAgIGNvbnN0IGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGlkKTtcbiAgICBpZiAoIWl0ZW0pIHJldHVybjtcblxuICAgIC8vIGdldCB1cmwgdG8gZmlsZSAod2UnbGwgcmV2b2tlIGl0IGxhdGVyIG9uIHdoZW4gZG9uZSlcbiAgICBjb25zdCBmaWxlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChpdGVtLmZpbGUpO1xuXG4gICAgLy8gZmFsbGJhY2tcbiAgICBjb25zdCBsb2FkUHJldmlld0ZhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgLy8gbGV0J3Mgc2NhbGUgdGhlIGltYWdlIGluIHRoZSBtYWluIHRocmVhZCA6KFxuICAgICAgbG9hZEltYWdlKGZpbGVVUkwpLnRoZW4ocHJldmlld0ltYWdlTG9hZGVkKTtcbiAgICB9O1xuXG4gICAgLy8gaW1hZ2UgaXMgbm93IHJlYWR5XG4gICAgY29uc3QgcHJldmlld0ltYWdlTG9hZGVkID0gaW1hZ2VEYXRhID0+IHtcbiAgICAgIC8vIHRoZSBmaWxlIHVybCBpcyBubyBsb25nZXIgbmVlZGVkXG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGZpbGVVUkwpO1xuXG4gICAgICAvLyBkcmF3IHRoZSBzY2FsZWQgZG93biB2ZXJzaW9uIGhlcmUgYW5kIHVzZSB0aGF0IGFzIHNvdXJjZSBzbyBiaXRtYXBkYXRhIGNhbiBiZSBjbG9zZWRcbiAgICAgIC8vIG9yaWVudGF0aW9uIGluZm9cbiAgICAgIGNvbnN0IGV4aWYgPSBpdGVtLmdldE1ldGFkYXRhKCdleGlmJykgfHwge307XG4gICAgICBjb25zdCBvcmllbnRhdGlvbiA9IGV4aWYub3JpZW50YXRpb24gfHwgLTE7XG5cbiAgICAgIC8vIGdldCB3aWR0aCBhbmQgaGVpZ2h0IGZyb20gYWN0aW9uLCBhbmQgc3dhcCBpZiBvcmllbnRhdGlvbiBpcyBpbmNvcnJlY3RcbiAgICAgIGxldCB7IHdpZHRoLCBoZWlnaHQgfSA9IGltYWdlRGF0YTtcblxuICAgICAgLy8gaWYgbm8gd2lkdGggb3IgaGVpZ2h0LCBqdXN0IHJldHVybiBlYXJseS5cbiAgICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkgcmV0dXJuO1xuXG4gICAgICBpZiAob3JpZW50YXRpb24gPj0gNSAmJiBvcmllbnRhdGlvbiA8PSA4KSB7XG4gICAgICAgIFt3aWR0aCwgaGVpZ2h0XSA9IFtoZWlnaHQsIHdpZHRoXTtcbiAgICAgIH1cblxuICAgICAgLy8gc2NhbGUgY2FudmFzIGJhc2VkIG9uIHBpeGVsIGRlbnNpdHlcbiAgICAgIC8vIHdlIG11bHRpcGx5IGJ5IC43NSBhcyB0aGF0IGNyZWF0ZXMgc21hbGxlciBidXQgc3RpbGwgY2xlYXIgaW1hZ2VzIG9uIHNjcmVlbnMgd2l0aCBoaWdoIHJlcyBkaXNwbGF5c1xuICAgICAgY29uc3QgcGl4ZWxEZW5zaXR5RmFjdG9yID0gTWF0aC5tYXgoMSwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gKiAwLjc1KTtcblxuICAgICAgLy8gd2Ugd2FudCBhcyBtdWNoIHBpeGVscyB0byB3b3JrIHdpdGggYXMgcG9zc2libGUsXG4gICAgICAvLyB0aGlzIG11bHRpcGxpZXMgdGhlIG1pbmltdW0gaW1hZ2UgcmVzb2x1dGlvbixcbiAgICAgIC8vIHNvIHdoZW4gem9vbWluZyBpbiBpdCBkb2Vzbid0IGdldCB0b28gYmx1cnJ5XG4gICAgICBjb25zdCB6b29tRmFjdG9yID0gcm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfWk9PTV9GQUNUT1InKTtcblxuICAgICAgLy8gaW1hZWcgc2NhbGUgZmFjdG9yXG4gICAgICBjb25zdCBzY2FsZUZhY3RvciA9IHpvb21GYWN0b3IgKiBwaXhlbERlbnNpdHlGYWN0b3I7XG5cbiAgICAgIC8vIGNhbGN1bGF0ZSBzY2FsZWQgcHJldmlldyBpbWFnZSBzaXplXG4gICAgICBjb25zdCBwcmV2aWV3SW1hZ2VSYXRpbyA9IGhlaWdodCAvIHdpZHRoO1xuXG4gICAgICAvLyBjYWxjdWxhdGUgaW1hZ2UgcHJldmlldyBoZWlnaHQgYW5kIHdpZHRoXG4gICAgICBjb25zdCBwcmV2aWV3Q29udGFpbmVyV2lkdGggPSByb290LnJlY3QuZWxlbWVudC53aWR0aDtcbiAgICAgIGNvbnN0IHByZXZpZXdDb250YWluZXJIZWlnaHQgPSByb290LnJlY3QuZWxlbWVudC5oZWlnaHQ7XG5cbiAgICAgIGxldCBpbWFnZVdpZHRoID0gcHJldmlld0NvbnRhaW5lcldpZHRoO1xuICAgICAgbGV0IGltYWdlSGVpZ2h0ID0gaW1hZ2VXaWR0aCAqIHByZXZpZXdJbWFnZVJhdGlvO1xuXG4gICAgICBpZiAocHJldmlld0ltYWdlUmF0aW8gPiAxKSB7XG4gICAgICAgIGltYWdlV2lkdGggPSBNYXRoLm1pbih3aWR0aCwgcHJldmlld0NvbnRhaW5lcldpZHRoICogc2NhbGVGYWN0b3IpO1xuICAgICAgICBpbWFnZUhlaWdodCA9IGltYWdlV2lkdGggKiBwcmV2aWV3SW1hZ2VSYXRpbztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGltYWdlSGVpZ2h0ID0gTWF0aC5taW4oaGVpZ2h0LCBwcmV2aWV3Q29udGFpbmVySGVpZ2h0ICogc2NhbGVGYWN0b3IpO1xuICAgICAgICBpbWFnZVdpZHRoID0gaW1hZ2VIZWlnaHQgLyBwcmV2aWV3SW1hZ2VSYXRpbztcbiAgICAgIH1cblxuICAgICAgLy8gdHJhbnNmZXIgdG8gaW1hZ2UgdGFnIHNvIG5vIGNhbnZhcyBtZW1vcnkgd2FzdGVkIG9uIGlPU1xuICAgICAgY29uc3QgcHJldmlld0ltYWdlID0gY3JlYXRlUHJldmlld0ltYWdlKFxuICAgICAgICBpbWFnZURhdGEsXG4gICAgICAgIGltYWdlV2lkdGgsXG4gICAgICAgIGltYWdlSGVpZ2h0LFxuICAgICAgICBvcmllbnRhdGlvblxuICAgICAgKTtcblxuICAgICAgLy8gZG9uZVxuICAgICAgY29uc3QgZG9uZSA9ICgpID0+IHtcbiAgICAgICAgLy8gY2FsY3VsYXRlIGF2ZXJhZ2UgaW1hZ2UgY29sb3IsIGRpc2FibGVkIGZvciBub3dcbiAgICAgICAgY29uc3QgYXZlcmFnZUNvbG9yID0gcm9vdC5xdWVyeShcbiAgICAgICAgICAnR0VUX0lNQUdFX1BSRVZJRVdfQ0FMQ1VMQVRFX0FWRVJBR0VfSU1BR0VfQ09MT1InXG4gICAgICAgIClcbiAgICAgICAgICA/IGNhbGN1bGF0ZUF2ZXJhZ2VDb2xvcihkYXRhKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgaXRlbS5zZXRNZXRhZGF0YSgnY29sb3InLCBhdmVyYWdlQ29sb3IsIHRydWUpO1xuXG4gICAgICAgIC8vIGRhdGEgaGFzIGJlZW4gdHJhbnNmZXJyZWQgdG8gY2FudmFzICggaWYgd2FzIEltYWdlQml0bWFwIClcbiAgICAgICAgaWYgKCdjbG9zZScgaW4gaW1hZ2VEYXRhKSB7XG4gICAgICAgICAgaW1hZ2VEYXRhLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaG93IHRoZSBvdmVybGF5XG4gICAgICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cub3BhY2l0eSA9IDE7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBmaXJzdCBpbWFnZVxuICAgICAgICBwdXNoSW1hZ2UoeyByb290LCBwcm9wcywgaW1hZ2U6IHByZXZpZXdJbWFnZSB9KTtcbiAgICAgIH07XG5cbiAgICAgIC8vIGFwcGx5IGZpbHRlclxuICAgICAgY29uc3QgZmlsdGVyID0gaXRlbS5nZXRNZXRhZGF0YSgnZmlsdGVyJyk7XG4gICAgICBpZiAoZmlsdGVyKSB7XG4gICAgICAgIGFwcGx5RmlsdGVyKHJvb3QsIGZpbHRlciwgcHJldmlld0ltYWdlKS50aGVuKGRvbmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBpZiB3ZSBzdXBwb3J0IHNjYWxpbmcgdXNpbmcgY3JlYXRlSW1hZ2VCaXRtYXAgd2UgdXNlIGEgd29ya2VyXG4gICAgaWYgKGNhbkNyZWF0ZUltYWdlQml0bWFwKGl0ZW0uZmlsZSkpIHtcbiAgICAgIC8vIGxldCdzIHNjYWxlIHRoZSBpbWFnZSBpbiBhIHdvcmtlclxuICAgICAgY29uc3Qgd29ya2VyID0gY3JlYXRlV29ya2VyKEJpdG1hcFdvcmtlcik7XG5cbiAgICAgIHdvcmtlci5wb3N0KFxuICAgICAgICB7XG4gICAgICAgICAgZmlsZTogaXRlbS5maWxlXG4gICAgICAgIH0sXG4gICAgICAgIGltYWdlQml0bWFwID0+IHtcbiAgICAgICAgICAvLyBkZXN0cm95IHdvcmtlclxuICAgICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcblxuICAgICAgICAgIC8vIG5vIGJpdG1hcCByZXR1cm5lZCwgbXVzdCBiZSBzb21ldGhpbmcgd3JvbmcsXG4gICAgICAgICAgLy8gdHJ5IHRoZSBvbGRzY2hvb2wgd2F5XG4gICAgICAgICAgaWYgKCFpbWFnZUJpdG1hcCkge1xuICAgICAgICAgICAgbG9hZFByZXZpZXdGYWxsYmFjaygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHlheSB3ZSBnb3Qgb3VyIGJpdG1hcCwgbGV0J3MgY29udGludWUgc2hvd2luZyB0aGUgcHJldmlld1xuICAgICAgICAgIHByZXZpZXdJbWFnZUxvYWRlZChpbWFnZUJpdG1hcCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNyZWF0ZSBmYWxsYmFjayBwcmV2aWV3XG4gICAgICBsb2FkUHJldmlld0ZhbGxiYWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBXcml0ZSBoYW5kbGVyIGZvciB3aGVuIHRoZSBwcmV2aWV3IGltYWdlIGlzIHJlYWR5IHRvIGJlIGFuaW1hdGVkXG4gICAqL1xuICBjb25zdCBkaWREcmF3UHJldmlldyA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIC8vIGdldCBsYXN0IGFkZGVkIGltYWdlXG4gICAgY29uc3QgaW1hZ2UgPSByb290LnJlZi5pbWFnZXNbcm9vdC5yZWYuaW1hZ2VzLmxlbmd0aCAtIDFdO1xuICAgIGltYWdlLnRyYW5zbGF0ZVkgPSAwO1xuICAgIGltYWdlLnNjYWxlWCA9IDEuMDtcbiAgICBpbWFnZS5zY2FsZVkgPSAxLjA7XG4gICAgaW1hZ2Uub3BhY2l0eSA9IDE7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdyaXRlIGhhbmRsZXIgZm9yIHdoZW4gdGhlIHByZXZpZXcgaGFzIGJlZW4gbG9hZGVkXG4gICAqL1xuICBjb25zdCByZXN0b3JlT3ZlcmxheSA9ICh7IHJvb3QgfSkgPT4ge1xuICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cub3BhY2l0eSA9IDE7XG4gICAgcm9vdC5yZWYub3ZlcmxheUVycm9yLm9wYWNpdHkgPSAwO1xuICAgIHJvb3QucmVmLm92ZXJsYXlTdWNjZXNzLm9wYWNpdHkgPSAwO1xuICB9O1xuXG4gIGNvbnN0IGRpZFRocm93RXJyb3IgPSAoeyByb290IH0pID0+IHtcbiAgICByb290LnJlZi5vdmVybGF5U2hhZG93Lm9wYWNpdHkgPSAwLjI1O1xuICAgIHJvb3QucmVmLm92ZXJsYXlFcnJvci5vcGFjaXR5ID0gMTtcbiAgfTtcblxuICBjb25zdCBkaWRDb21wbGV0ZVByb2Nlc3NpbmcgPSAoeyByb290IH0pID0+IHtcbiAgICByb290LnJlZi5vdmVybGF5U2hhZG93Lm9wYWNpdHkgPSAwLjI1O1xuICAgIHJvb3QucmVmLm92ZXJsYXlTdWNjZXNzLm9wYWNpdHkgPSAxO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3QgY3JlYXRlID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgLy8gaW1hZ2Ugdmlld1xuICAgIHJvb3QucmVmLmltYWdlcyA9IFtdO1xuXG4gICAgLy8gdGhlIHByZXZpZXcgaW1hZ2UgZGF0YSAod2UgbmVlZCB0aGlzIHRvIGZpbHRlciB0aGUgaW1hZ2UpXG4gICAgcm9vdC5yZWYuaW1hZ2VEYXRhID0gbnVsbDtcblxuICAgIC8vIGltYWdlIGJpblxuICAgIHJvb3QucmVmLmltYWdlVmlld0JpbiA9IFtdO1xuXG4gICAgLy8gaW1hZ2Ugb3ZlcmxheXNcbiAgICByb290LnJlZi5vdmVybGF5U2hhZG93ID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhPdmVybGF5Vmlldywge1xuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICBzdGF0dXM6ICdpZGxlJ1xuICAgICAgfSlcbiAgICApO1xuXG4gICAgcm9vdC5yZWYub3ZlcmxheVN1Y2Nlc3MgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KE92ZXJsYXlWaWV3LCB7XG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnXG4gICAgICB9KVxuICAgICk7XG5cbiAgICByb290LnJlZi5vdmVybGF5RXJyb3IgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KE92ZXJsYXlWaWV3LCB7XG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIHN0YXR1czogJ2ZhaWx1cmUnXG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIF8udXRpbHMuY3JlYXRlVmlldyh7XG4gICAgbmFtZTogJ2ltYWdlLXByZXZpZXctd3JhcHBlcicsXG4gICAgY3JlYXRlLFxuICAgIHN0eWxlczogWydoZWlnaHQnXSxcbiAgICBhcGlzOiBbJ2hlaWdodCddLFxuICAgIGRlc3Ryb3k6ICh7IHJvb3QgfSkgPT4ge1xuICAgICAgLy8gd2UgcmVzaXplIHRoZSBpbWFnZSBzbyBtZW1vcnkgb24gaU9TIDEyIGlzIHJlbGVhc2VkIG1vcmUgcXVpY2tseSAoaXQgc2VlbXMpXG4gICAgICByb290LnJlZi5pbWFnZXMuZm9yRWFjaChpbWFnZVZpZXcgPT4ge1xuICAgICAgICBpbWFnZVZpZXcuaW1hZ2Uud2lkdGggPSAxO1xuICAgICAgICBpbWFnZVZpZXcuaW1hZ2UuaGVpZ2h0ID0gMTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGlkV3JpdGVWaWV3OiAoeyByb290IH0pID0+IHtcbiAgICAgIHJvb3QucmVmLmltYWdlcy5mb3JFYWNoKGltYWdlVmlldyA9PiB7XG4gICAgICAgIGltYWdlVmlldy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICB3cml0ZTogXy51dGlscy5jcmVhdGVSb3V0ZShcbiAgICAgIHtcbiAgICAgICAgLy8gaW1hZ2UgcHJldmlldyBzdGF0ZWRcbiAgICAgICAgRElEX0lNQUdFX1BSRVZJRVdfRFJBVzogZGlkRHJhd1ByZXZpZXcsXG4gICAgICAgIERJRF9JTUFHRV9QUkVWSUVXX0NPTlRBSU5FUl9DUkVBVEU6IGRpZENyZWF0ZVByZXZpZXdDb250YWluZXIsXG4gICAgICAgIERJRF9GSU5JU0hfQ0FMQ1VMQVRFX1BSRVZJRVdTSVpFOiBkcmF3UHJldmlldyxcbiAgICAgICAgRElEX1VQREFURV9JVEVNX01FVEFEQVRBOiBkaWRVcGRhdGVJdGVtTWV0YWRhdGEsXG5cbiAgICAgICAgLy8gZmlsZSBzdGF0ZXNcbiAgICAgICAgRElEX1RIUk9XX0lURU1fTE9BRF9FUlJPUjogZGlkVGhyb3dFcnJvcixcbiAgICAgICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUjogZGlkVGhyb3dFcnJvcixcbiAgICAgICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDogZGlkVGhyb3dFcnJvcixcbiAgICAgICAgRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORzogZGlkQ29tcGxldGVQcm9jZXNzaW5nLFxuICAgICAgICBESURfU1RBUlRfSVRFTV9QUk9DRVNTSU5HOiByZXN0b3JlT3ZlcmxheSxcbiAgICAgICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IHJlc3RvcmVPdmVybGF5XG4gICAgICB9LFxuICAgICAgKHsgcm9vdCB9KSA9PiB7XG4gICAgICAgIC8vIHZpZXdzIG9uIGRlYXRoIHJvd1xuICAgICAgICBjb25zdCB2aWV3c1RvUmVtb3ZlID0gcm9vdC5yZWYuaW1hZ2VWaWV3QmluLmZpbHRlcihcbiAgICAgICAgICBpbWFnZVZpZXcgPT4gaW1hZ2VWaWV3Lm9wYWNpdHkgPT09IDBcbiAgICAgICAgKTtcblxuICAgICAgICAvLyB2aWV3cyB0byByZXRhaW5cbiAgICAgICAgcm9vdC5yZWYuaW1hZ2VWaWV3QmluID0gcm9vdC5yZWYuaW1hZ2VWaWV3QmluLmZpbHRlcihcbiAgICAgICAgICBpbWFnZVZpZXcgPT4gaW1hZ2VWaWV3Lm9wYWNpdHkgPiAwXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHRoZXNlIHZpZXdzXG4gICAgICAgIHZpZXdzVG9SZW1vdmUuZm9yRWFjaChpbWFnZVZpZXcgPT4gcmVtb3ZlSW1hZ2VWaWV3KHJvb3QsIGltYWdlVmlldykpO1xuICAgICAgICB2aWV3c1RvUmVtb3ZlLmxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgKVxuICB9KTtcbn07XG5cbi8qKlxuICogSW1hZ2UgUHJldmlldyBQbHVnaW5cbiAqL1xuY29uc3QgcGx1Z2luID0gZnBBUEkgPT4ge1xuICBjb25zdCB7IGFkZEZpbHRlciwgdXRpbHMgfSA9IGZwQVBJO1xuICBjb25zdCB7IFR5cGUsIGNyZWF0ZVJvdXRlLCBpc0ZpbGUgfSA9IHV0aWxzO1xuXG4gIC8vIGltYWdlUHJldmlld1ZpZXdcbiAgY29uc3QgaW1hZ2VQcmV2aWV3VmlldyA9IGNyZWF0ZUltYWdlV3JhcHBlclZpZXcoZnBBUEkpO1xuXG4gIC8vIGNhbGxlZCBmb3IgZWFjaCB2aWV3IHRoYXQgaXMgY3JlYXRlZCByaWdodCBhZnRlciB0aGUgJ2NyZWF0ZScgbWV0aG9kXG4gIGFkZEZpbHRlcignQ1JFQVRFX1ZJRVcnLCB2aWV3QVBJID0+IHtcbiAgICAvLyBnZXQgcmVmZXJlbmNlIHRvIGNyZWF0ZWQgdmlld1xuICAgIGNvbnN0IHsgaXMsIHZpZXcsIHF1ZXJ5IH0gPSB2aWV3QVBJO1xuXG4gICAgLy8gb25seSBob29rIHVwIHRvIGl0ZW0gdmlldyBhbmQgb25seSBpZiBpcyBlbmFibGVkIGZvciB0aGlzIGNyb3BwZXJcbiAgICBpZiAoIWlzKCdmaWxlJykgfHwgIXF1ZXJ5KCdHRVRfQUxMT1dfSU1BR0VfUFJFVklFVycpKSByZXR1cm47XG5cbiAgICAvLyBjcmVhdGUgdGhlIGltYWdlIHByZXZpZXcgcGx1Z2luLCBidXQgb25seSBkbyBzbyBpZiB0aGUgaXRlbSBpcyBhbiBpbWFnZVxuICAgIGNvbnN0IGRpZExvYWRJdGVtID0gKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgICAgY29uc3QgeyBpZCB9ID0gcHJvcHM7XG4gICAgICBjb25zdCBpdGVtID0gcXVlcnkoJ0dFVF9JVEVNJywgaWQpO1xuXG4gICAgICAvLyBpdGVtIGNvdWxkIHRoZW9yZXRpY2FsbHkgaGF2ZSBiZWVuIHJlbW92ZWQgaW4gdGhlIG1lYW4gdGltZVxuICAgICAgaWYgKCFpdGVtIHx8ICFpc0ZpbGUoaXRlbS5maWxlKSB8fCBpdGVtLmFyY2hpdmVkKSByZXR1cm47XG5cbiAgICAgIC8vIGdldCB0aGUgZmlsZSBvYmplY3RcbiAgICAgIGNvbnN0IGZpbGUgPSBpdGVtLmZpbGU7XG5cbiAgICAgIC8vIGV4aXQgaWYgdGhpcyBpcyBub3QgYW4gaW1hZ2VcbiAgICAgIGlmICghaXNQcmV2aWV3YWJsZUltYWdlKGZpbGUpKSByZXR1cm47XG5cbiAgICAgIC8vIHRlc3QgaWYgaXMgZmlsdGVyZWRcbiAgICAgIGlmICghcXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX0ZJTFRFUl9JVEVNJykoaXRlbSkpIHJldHVybjtcblxuICAgICAgLy8gZXhpdCBpZiBpbWFnZSBzaXplIGlzIHRvbyBoaWdoIGFuZCBubyBjcmVhdGVJbWFnZUJpdG1hcCBzdXBwb3J0XG4gICAgICAvLyB0aGlzIHdvdWxkIHNpbXBseSBicmluZyB0aGUgYnJvd3NlciB0byBpdHMga25lZXMgYW5kIHRoYXQgaXMgbm90IHdoYXQgd2Ugd2FudFxuICAgICAgY29uc3Qgc3VwcG9ydHNDcmVhdGVJbWFnZUJpdG1hcCA9ICdjcmVhdGVJbWFnZUJpdG1hcCcgaW4gKHdpbmRvdyB8fCB7fSk7XG4gICAgICBjb25zdCBtYXhQcmV2aWV3RmlsZVNpemUgPSBxdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFYX0ZJTEVfU0laRScpO1xuICAgICAgaWYgKFxuICAgICAgICAhc3VwcG9ydHNDcmVhdGVJbWFnZUJpdG1hcCAmJlxuICAgICAgICAobWF4UHJldmlld0ZpbGVTaXplICYmIGZpbGUuc2l6ZSA+IG1heFByZXZpZXdGaWxlU2l6ZSlcbiAgICAgIClcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICAvLyBzZXQgcHJldmlldyB2aWV3XG4gICAgICByb290LnJlZi5pbWFnZVByZXZpZXcgPSB2aWV3LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgdmlldy5jcmVhdGVDaGlsZFZpZXcoaW1hZ2VQcmV2aWV3VmlldywgeyBpZCB9KVxuICAgICAgKTtcblxuICAgICAgLy8gdXBkYXRlIGhlaWdodCBpZiBpcyBmaXhlZFxuICAgICAgY29uc3QgZml4ZWRQcmV2aWV3SGVpZ2h0ID0gcm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfSEVJR0hUJyk7XG4gICAgICBpZiAoZml4ZWRQcmV2aWV3SGVpZ2h0KSB7XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9VUERBVEVfUEFORUxfSEVJR0hUJywge1xuICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgIGhlaWdodDogZml4ZWRQcmV2aWV3SGVpZ2h0XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBub3cgcmVhZHlcbiAgICAgIGNvbnN0IHF1ZXVlID1cbiAgICAgICAgIXN1cHBvcnRzQ3JlYXRlSW1hZ2VCaXRtYXAgJiZcbiAgICAgICAgZmlsZS5zaXplID4gcXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX01BWF9JTlNUQU5UX1BSRVZJRVdfRklMRV9TSVpFJyk7XG4gICAgICByb290LmRpc3BhdGNoKCdESURfSU1BR0VfUFJFVklFV19DT05UQUlORVJfQ1JFQVRFJywgeyBpZCB9LCBxdWV1ZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc2NhbGVJdGVtID0gKHJvb3QsIHByb3BzKSA9PiB7XG4gICAgICBpZiAoIXJvb3QucmVmLmltYWdlUHJldmlldykgcmV0dXJuO1xuXG4gICAgICBsZXQgeyBpZCB9ID0gcHJvcHM7XG5cbiAgICAgIC8vIGdldCBpdGVtXG4gICAgICBjb25zdCBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCB7IGlkIH0pO1xuICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG5cbiAgICAgIC8vIGlmIGlzIGZpeGVkIGhlaWdodCBvciBwYW5lbCBoYXMgYXNwZWN0IHJhdGlvLCBleGl0IGhlcmUsIGhlaWdodCBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWRcbiAgICAgIGNvbnN0IHBhbmVsQXNwZWN0UmF0aW8gPSByb290LnF1ZXJ5KCdHRVRfUEFORUxfQVNQRUNUX1JBVElPJyk7XG4gICAgICBjb25zdCBpdGVtUGFuZWxBc3BlY3RSYXRpbyA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNX1BBTkVMX0FTUEVDVF9SQVRJTycpO1xuICAgICAgY29uc3QgZml4ZWRIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19IRUlHSFQnKTtcbiAgICAgIGlmIChwYW5lbEFzcGVjdFJhdGlvIHx8IGl0ZW1QYW5lbEFzcGVjdFJhdGlvIHx8IGZpeGVkSGVpZ2h0KSByZXR1cm47XG5cbiAgICAgIC8vIG5vIGRhdGEhXG4gICAgICBsZXQgeyBpbWFnZVdpZHRoLCBpbWFnZUhlaWdodCB9ID0gcm9vdC5yZWY7XG4gICAgICBpZiAoIWltYWdlV2lkdGggfHwgIWltYWdlSGVpZ2h0KSByZXR1cm47XG5cbiAgICAgIC8vIGdldCBoZWlnaHQgbWluIGFuZCBtYXhcbiAgICAgIGNvbnN0IG1pblByZXZpZXdIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NSU5fSEVJR0hUJyk7XG4gICAgICBjb25zdCBtYXhQcmV2aWV3SGVpZ2h0ID0gcm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFYX0hFSUdIVCcpO1xuXG4gICAgICAvLyBvcmllbnRhdGlvbiBpbmZvXG4gICAgICBjb25zdCBleGlmID0gaXRlbS5nZXRNZXRhZGF0YSgnZXhpZicpIHx8IHt9O1xuICAgICAgY29uc3Qgb3JpZW50YXRpb24gPSBleGlmLm9yaWVudGF0aW9uIHx8IC0xO1xuXG4gICAgICAvLyBnZXQgd2lkdGggYW5kIGhlaWdodCBmcm9tIGFjdGlvbiwgYW5kIHN3YXAgb2Ygb3JpZW50YXRpb24gaXMgaW5jb3JyZWN0XG4gICAgICBpZiAob3JpZW50YXRpb24gPj0gNSAmJiBvcmllbnRhdGlvbiA8PSA4KVxuICAgICAgICBbaW1hZ2VXaWR0aCwgaW1hZ2VIZWlnaHRdID0gW2ltYWdlSGVpZ2h0LCBpbWFnZVdpZHRoXTtcblxuICAgICAgLy8gc2NhbGUgdXAgd2lkdGggYW5kIGhlaWdodCB3aGVuIHdlJ3JlIGRlYWxpbmcgd2l0aCBhbiBTVkdcbiAgICAgIGlmICghaXNCaXRtYXAoaXRlbS5maWxlKSB8fCByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19VUFNDQUxFJykpIHtcbiAgICAgICAgY29uc3Qgc2NhbGFyID0gMjA0OCAvIGltYWdlV2lkdGg7XG4gICAgICAgIGltYWdlV2lkdGggKj0gc2NhbGFyO1xuICAgICAgICBpbWFnZUhlaWdodCAqPSBzY2FsYXI7XG4gICAgICB9XG5cbiAgICAgIC8vIGltYWdlIGFzcGVjdCByYXRpb1xuICAgICAgY29uc3QgaW1hZ2VBc3BlY3RSYXRpbyA9IGltYWdlSGVpZ2h0IC8gaW1hZ2VXaWR0aDtcblxuICAgICAgLy8gd2UgbmVlZCB0aGUgaXRlbSB0byBnZXQgdG8gdGhlIGNyb3Agc2l6ZVxuICAgICAgY29uc3QgcHJldmlld0FzcGVjdFJhdGlvID1cbiAgICAgICAgKGl0ZW0uZ2V0TWV0YWRhdGEoJ2Nyb3AnKSB8fCB7fSkuYXNwZWN0UmF0aW8gfHwgaW1hZ2VBc3BlY3RSYXRpbztcblxuICAgICAgLy8gcHJldmlldyBoZWlnaHQgcmFuZ2VcbiAgICAgIGxldCBwcmV2aWV3SGVpZ2h0TWF4ID0gTWF0aC5tYXgoXG4gICAgICAgIG1pblByZXZpZXdIZWlnaHQsXG4gICAgICAgIE1hdGgubWluKGltYWdlSGVpZ2h0LCBtYXhQcmV2aWV3SGVpZ2h0KVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGl0ZW1XaWR0aCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoO1xuICAgICAgY29uc3QgcHJldmlld0hlaWdodCA9IE1hdGgubWluKFxuICAgICAgICBpdGVtV2lkdGggKiBwcmV2aWV3QXNwZWN0UmF0aW8sXG4gICAgICAgIHByZXZpZXdIZWlnaHRNYXhcbiAgICAgICk7XG5cbiAgICAgIC8vIHJlcXVlc3QgdXBkYXRlIHRvIHBhbmVsIGhlaWdodFxuICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1VQREFURV9QQU5FTF9IRUlHSFQnLCB7XG4gICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICBoZWlnaHQ6IHByZXZpZXdIZWlnaHRcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBkaWRSZXNpemVWaWV3ID0gKHsgcm9vdCB9KSA9PiB7XG4gICAgICAvLyBhY3Rpb25zIGluIG5leHQgd3JpdGUgb3BlcmF0aW9uXG4gICAgICByb290LnJlZi5zaG91bGRSZXNjYWxlID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgY29uc3QgZGlkVXBkYXRlSXRlbU1ldGFkYXRhID0gKHsgcm9vdCwgYWN0aW9uIH0pID0+IHtcbiAgICAgIGlmIChhY3Rpb24uY2hhbmdlLmtleSAhPT0gJ2Nyb3AnKSByZXR1cm47XG5cbiAgICAgIC8vIGFjdGlvbnMgaW4gbmV4dCB3cml0ZSBvcGVyYXRpb25cbiAgICAgIHJvb3QucmVmLnNob3VsZFJlc2NhbGUgPSB0cnVlO1xuICAgIH07XG5cbiAgICBjb25zdCBkaWRDYWxjdWxhdGVQcmV2aWV3U2l6ZSA9ICh7IHJvb3QsIGFjdGlvbiB9KSA9PiB7XG4gICAgICAvLyByZW1lbWJlciBkaW1lbnNpb25zXG4gICAgICByb290LnJlZi5pbWFnZVdpZHRoID0gYWN0aW9uLndpZHRoO1xuICAgICAgcm9vdC5yZWYuaW1hZ2VIZWlnaHQgPSBhY3Rpb24uaGVpZ2h0O1xuXG4gICAgICAvLyBhY3Rpb25zIGluIG5leHQgd3JpdGUgb3BlcmF0aW9uXG4gICAgICByb290LnJlZi5zaG91bGRSZXNjYWxlID0gdHJ1ZTtcbiAgICAgIHJvb3QucmVmLnNob3VsZERyYXdQcmV2aWV3ID0gdHJ1ZTtcblxuICAgICAgLy8gYXMgaW1hZ2UgbG9hZCBjb3VsZCB0YWtlIGEgd2hpbGUgYW5kIGZpcmUgd2hlbiBkcmF3IGxvb3AgaXMgcmVzdGluZyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSBraWNrXG4gICAgICByb290LmRpc3BhdGNoKCdLSUNLJyk7XG4gICAgfTtcblxuICAgIC8vIHN0YXJ0IHdyaXRpbmdcbiAgICB2aWV3LnJlZ2lzdGVyV3JpdGVyKFxuICAgICAgY3JlYXRlUm91dGUoXG4gICAgICAgIHtcbiAgICAgICAgICBESURfUkVTSVpFX1JPT1Q6IGRpZFJlc2l6ZVZpZXcsXG4gICAgICAgICAgRElEX1NUT1BfUkVTSVpFOiBkaWRSZXNpemVWaWV3LFxuICAgICAgICAgIERJRF9MT0FEX0lURU06IGRpZExvYWRJdGVtLFxuICAgICAgICAgIERJRF9JTUFHRV9QUkVWSUVXX0NBTENVTEFURV9TSVpFOiBkaWRDYWxjdWxhdGVQcmV2aWV3U2l6ZSxcbiAgICAgICAgICBESURfVVBEQVRFX0lURU1fTUVUQURBVEE6IGRpZFVwZGF0ZUl0ZW1NZXRhZGF0YVxuICAgICAgICB9LFxuICAgICAgICAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICAgICAgLy8gbm8gcHJldmlldyB2aWV3IGF0dGFjaGVkXG4gICAgICAgICAgaWYgKCFyb290LnJlZi5pbWFnZVByZXZpZXcpIHJldHVybjtcblxuICAgICAgICAgIC8vIGRvbid0IGRvIGFueXRoaW5nIHdoaWxlIGhpZGRlblxuICAgICAgICAgIGlmIChyb290LnJlY3QuZWxlbWVudC5oaWRkZW4pIHJldHVybjtcblxuICAgICAgICAgIC8vIHJlc2l6ZSB0aGUgaXRlbSBwYW5lbFxuICAgICAgICAgIGlmIChyb290LnJlZi5zaG91bGRSZXNjYWxlKSB7XG4gICAgICAgICAgICByZXNjYWxlSXRlbShyb290LCBwcm9wcyk7XG4gICAgICAgICAgICByb290LnJlZi5zaG91bGRSZXNjYWxlID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJvb3QucmVmLnNob3VsZERyYXdQcmV2aWV3KSB7XG4gICAgICAgICAgICAvLyBxdWV1ZSB0aWxsIG5leHQgZnJhbWUgc28gd2UncmUgc3VyZSB0aGUgaGVpZ2h0IGhhcyBiZWVuIGFwcGxpZWQgdGhpcyBmb3JjZXMgdGhlIGRyYXcgaW1hZ2UgY2FsbCBpbnNpZGUgdGhlIHdyYXBwZXIgdmlldyB0byB1c2UgdGhlIGNvcnJlY3QgaGVpZ2h0XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAvLyB0aGlzIHJlcXVlc3RBbmltYXRpb25GcmFtZSBuZXN0aW5nIGlzIGhvcnJpYmxlIGJ1dCBpdCBmaXhlcyBhbiBpc3N1ZSB3aXRoIDEwMGh6IGRpc3BsYXlzIG9uIENocm9tZVxuICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcHFpbmEvZmlsZXBvbmQtcGx1Z2luLWltYWdlLXByZXZpZXcvaXNzdWVzLzU3XG4gICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0ZJTklTSF9DQUxDVUxBVEVfUFJFVklFV1NJWkUnLCB7XG4gICAgICAgICAgICAgICAgICBpZDogcHJvcHMuaWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcm9vdC5yZWYuc2hvdWxkRHJhd1ByZXZpZXcgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcblxuICAvLyBleHBvc2UgcGx1Z2luXG4gIHJldHVybiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgLy8gRW5hYmxlIG9yIGRpc2FibGUgaW1hZ2UgcHJldmlld1xuICAgICAgYWxsb3dJbWFnZVByZXZpZXc6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAvLyBmaWx0ZXJzIGZpbGUgaXRlbXMgdG8gZGV0ZXJtaW5lIHdoaWNoIGFyZSBzaG93biBhcyBwcmV2aWV3XG4gICAgICBpbWFnZVByZXZpZXdGaWx0ZXJJdGVtOiBbKCkgPT4gdHJ1ZSwgVHlwZS5GVU5DVElPTl0sXG5cbiAgICAgIC8vIEZpeGVkIHByZXZpZXcgaGVpZ2h0XG4gICAgICBpbWFnZVByZXZpZXdIZWlnaHQ6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgIC8vIE1pbiBpbWFnZSBoZWlnaHRcbiAgICAgIGltYWdlUHJldmlld01pbkhlaWdodDogWzQ0LCBUeXBlLklOVF0sXG5cbiAgICAgIC8vIE1heCBpbWFnZSBoZWlnaHRcbiAgICAgIGltYWdlUHJldmlld01heEhlaWdodDogWzI1NiwgVHlwZS5JTlRdLFxuXG4gICAgICAvLyBNYXggc2l6ZSBvZiBwcmV2aWV3IGZpbGUgZm9yIHdoZW4gY3JlYXRlSW1hZ2VCaXRtYXAgaXMgbm90IHN1cHBvcnRlZFxuICAgICAgaW1hZ2VQcmV2aWV3TWF4RmlsZVNpemU6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgIC8vIFRoZSBhbW91bnQgb2YgZXh0cmEgcGl4ZWxzIGFkZGVkIHRvIHRoZSBpbWFnZSBwcmV2aWV3IHRvIGFsbG93IGNvbWZvcnRhYmxlIHpvb21pbmdcbiAgICAgIGltYWdlUHJldmlld1pvb21GYWN0b3I6IFsyLCBUeXBlLklOVF0sXG5cbiAgICAgIC8vIFNob3VsZCB3ZSB1cHNjYWxlIHNtYWxsIGltYWdlcyB0byBmaXQgdGhlIG1heCBib3VuZGluZyBib3ggb2YgdGhlIHByZXZpZXcgYXJlYVxuICAgICAgaW1hZ2VQcmV2aWV3VXBzY2FsZTogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAvLyBNYXggc2l6ZSBvZiBwcmV2aWV3IGZpbGUgdGhhdCB3ZSBhbGxvdyB0byB0cnkgdG8gaW5zdGFudCBwcmV2aWV3IGlmIGNyZWF0ZUltYWdlQml0bWFwIGlzIG5vdCBzdXBwb3J0ZWQsIGVsc2UgaW1hZ2UgaXMgcXVldWVkIGZvciBsb2FkaW5nXG4gICAgICBpbWFnZVByZXZpZXdNYXhJbnN0YW50UHJldmlld0ZpbGVTaXplOiBbMTAwMDAwMCwgVHlwZS5JTlRdLFxuXG4gICAgICAvLyBTdHlsZSBvZiB0aGUgdHJhbnNwYXJhbmN5IGluZGljYXRvciB1c2VkIGJlaGluZCBpbWFnZXNcbiAgICAgIGltYWdlUHJldmlld1RyYW5zcGFyZW5jeUluZGljYXRvcjogW251bGwsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgLy8gRW5hYmxlcyBvciBkaXNhYmxlcyByZWFkaW5nIGF2ZXJhZ2UgaW1hZ2UgY29sb3JcbiAgICAgIGltYWdlUHJldmlld0NhbGN1bGF0ZUF2ZXJhZ2VJbWFnZUNvbG9yOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgIC8vIEVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHByZXZpZXdpbmcgb2YgbWFya3VwXG4gICAgICBpbWFnZVByZXZpZXdNYXJrdXBTaG93OiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgLy8gQWxsb3dzIGZpbHRlcmluZyBvZiBtYXJrdXAgdG8gb25seSBzaG93IGNlcnRhaW4gc2hhcGVzXG4gICAgICBpbWFnZVByZXZpZXdNYXJrdXBGaWx0ZXI6IFsoKSA9PiB0cnVlLCBUeXBlLkZVTkNUSU9OXVxuICAgIH1cbiAgfTtcbn07XG5cbi8vIGZpcmUgcGx1Z2lubG9hZGVkIGV2ZW50IGlmIHJ1bm5pbmcgaW4gYnJvd3NlciwgdGhpcyBhbGxvd3MgcmVnaXN0ZXJpbmcgdGhlIHBsdWdpbiB3aGVuIHVzaW5nIGFzeW5jIHNjcmlwdCB0YWdzXG5jb25zdCBpc0Jyb3dzZXIgPVxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbmlmIChpc0Jyb3dzZXIpIHtcbiAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICBuZXcgQ3VzdG9tRXZlbnQoJ0ZpbGVQb25kOnBsdWdpbmxvYWRlZCcsIHsgZGV0YWlsOiBwbHVnaW4gfSlcbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGx1Z2luO1xuIiwgIi8qIVxuICogRmlsZVBvbmRQbHVnaW5JbWFnZVJlc2l6ZSAyLjAuMTBcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCwgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQvXG4gKiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9wcWluYS5ubC9maWxlcG9uZC8gZm9yIGRldGFpbHMuXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgKi9cblxuLy8gdGVzdCBpZiBmaWxlIGlzIG9mIHR5cGUgaW1hZ2VcbmNvbnN0IGlzSW1hZ2UgPSBmaWxlID0+IC9eaW1hZ2UvLnRlc3QoZmlsZS50eXBlKTtcblxuY29uc3QgZ2V0SW1hZ2VTaXplID0gKHVybCwgY2IpID0+IHtcbiAgICBsZXQgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICBpbWFnZSA9IG51bGw7XG4gICAgICAgIGNiKHsgd2lkdGgsIGhlaWdodCB9KTtcbiAgICB9O1xuICAgIGltYWdlLm9uZXJyb3IgPSAoKSA9PiBjYihudWxsKTtcbiAgICBpbWFnZS5zcmMgPSB1cmw7XG59O1xuXG4vKipcbiAqIEltYWdlIEF1dG8gUmVzaXplIFBsdWdpblxuICovXG5jb25zdCBwbHVnaW4gPSAoeyBhZGRGaWx0ZXIsIHV0aWxzIH0pID0+IHtcbiAgICBjb25zdCB7IFR5cGUgfSA9IHV0aWxzO1xuXG4gICAgLy8gc3Vic2NyaWJlIHRvIGZpbGUgbG9hZCBhbmQgYXBwZW5kIHJlcXVpcmVkIHRyYW5zZm9ybWF0aW9uc1xuICAgIGFkZEZpbHRlcihcbiAgICAgICAgJ0RJRF9MT0FEX0lURU0nLFxuICAgICAgICAoaXRlbSwgeyBxdWVyeSB9KSA9PlxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGdldCBmaWxlIHJlZmVyZW5jZVxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBpdGVtLmZpbGU7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIG5vdCBhbiBpbWFnZSB3ZSBkbyBub3QgaGF2ZSBhbnkgYnVzaW5lc3MgY3JvcHBpbmcgaXRcbiAgICAgICAgICAgICAgICBpZiAoIWlzSW1hZ2UoZmlsZSkgfHwgIXF1ZXJ5KCdHRVRfQUxMT1dfSU1BR0VfUkVTSVpFJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29udGludWUgd2l0aCB0aGUgdW5hbHRlcmVkIGRhdGFzZXRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZSA9IHF1ZXJ5KCdHRVRfSU1BR0VfUkVTSVpFX01PREUnKTtcbiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IHF1ZXJ5KCdHRVRfSU1BR0VfUkVTSVpFX1RBUkdFVF9XSURUSCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHF1ZXJ5KCdHRVRfSU1BR0VfUkVTSVpFX1RBUkdFVF9IRUlHSFQnKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cHNjYWxlID0gcXVlcnkoJ0dFVF9JTUFHRV9SRVNJWkVfVVBTQ0FMRScpO1xuXG4gICAgICAgICAgICAgICAgLy8gbm8gcmVzaXppbmcgdG8gYmUgZG9uZVxuICAgICAgICAgICAgICAgIGlmICh3aWR0aCA9PT0gbnVsbCAmJiBoZWlnaHQgPT09IG51bGwpIHJldHVybiByZXNvbHZlKGl0ZW0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0V2lkdGggPSB3aWR0aCA9PT0gbnVsbCA/IGhlaWdodCA6IHdpZHRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEhlaWdodCA9IGhlaWdodCA9PT0gbnVsbCA/IHRhcmdldFdpZHRoIDogaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgc2hvdWxkIG5vdCB1cHNjYWxlLCB3ZSBuZWVkIHRvIGRldGVybWluZSB0aGUgc2l6ZSBvZiB0aGUgZmlsZVxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgICAgICAgICAgIGdldEltYWdlU2l6ZShmaWxlVVJMLCBzaXplID0+IHtcbiAgICAgICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChmaWxlVVJMKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNpemUpIHJldHVybiByZXNvbHZlKGl0ZW0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCB7IHdpZHRoOiBpbWFnZVdpZHRoLCBoZWlnaHQ6IGltYWdlSGVpZ2h0IH0gPSBzaXplO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCBleGlmIG9yaWVudGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWVudGF0aW9uID0gKGl0ZW0uZ2V0TWV0YWRhdGEoJ2V4aWYnKSB8fCB7fSkub3JpZW50YXRpb24gfHwgLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc3dhcCB3aWR0aCBhbmQgaGVpZ2h0IGlmIG9yaWVudGF0aW9uIG5lZWRzIGNvcnJlY3RpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID49IDUgJiYgb3JpZW50YXRpb24gPD0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgW2ltYWdlV2lkdGgsIGltYWdlSGVpZ2h0XSA9IFtpbWFnZUhlaWdodCwgaW1hZ2VXaWR0aF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBpbWFnZSBpcyBhbHJlYWR5IHBlcmZlY3Qgc2l6ZSwgbm8gdHJhbnNmb3JtYXRpb25zIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZVdpZHRoID09PSB0YXJnZXRXaWR0aCAmJiBpbWFnZUhlaWdodCA9PT0gdGFyZ2V0SGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoaXRlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBjb250YWluZWQ/XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbid0IHVwc2NhbGUgaW1hZ2UsIHNvIGlmIGFscmVhZHkgYXQgY29ycmVjdCBzY2FsZSwgZXhpdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIXVwc2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvdmVyaW5nIHRhcmdldCBzaXplXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ2NvdmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIG9uZSBvZiBlZGdlcyBpcyBzbWFsbGVyIHRoYW4gdGFyZ2V0IHNpemUsIGV4aXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VXaWR0aCA8PSB0YXJnZXRXaWR0aCB8fCBpbWFnZUhlaWdodCA8PSB0YXJnZXRIZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3QgY292ZXJpbmcgdGFyZ2V0IHNpemUsIGlmIGltYWdlIGlzIGNvbnRhaW5lZCBpbiB0YXJnZXQgc2l6ZSwgZXhpdFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaW1hZ2VXaWR0aCA8PSB0YXJnZXRXaWR0aCAmJiBpbWFnZUhlaWdodCA8PSB0YXJnZXRXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGltYWdlIG5lZWRzIHRvIGJlIHJlc2l6ZWRcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zZXRNZXRhZGF0YSgncmVzaXplJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRhcmdldFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGFyZ2V0SGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpdGVtKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIEV4cG9zZSBwbHVnaW4gb3B0aW9uc1xuICAgIHJldHVybiB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIC8vIEVuYWJsZSBvciBkaXNhYmxlIGltYWdlIHJlc2l6aW5nXG4gICAgICAgICAgICBhbGxvd0ltYWdlUmVzaXplOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAgICAgLy8gdGhlIG1ldGhvZCBvZiByZXNjYWxpbmdcbiAgICAgICAgICAgIC8vIC0gZm9yY2UgPT4gZm9yY2Ugc2V0IHNpemVcbiAgICAgICAgICAgIC8vIC0gY292ZXIgPT4gcGljayBiaWdnZXN0IGRpbWVuc2lvblxuICAgICAgICAgICAgLy8gLSBjb250YWluID0+IHBpY2sgc21hbGxlciBkaW1lbnNpb25cbiAgICAgICAgICAgIGltYWdlUmVzaXplTW9kZTogWydjb3ZlcicsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICAgICAgLy8gc2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdXBzY2FsaW5nIG9mIGltYWdlIHNtYWxsZXIgdGhhbiB0aGUgdGFyZ2V0IHdpZHRoIC8gaGVpZ2h0XG4gICAgICAgICAgICBpbWFnZVJlc2l6ZVVwc2NhbGU6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgICAgICAvLyB0YXJnZXQgd2lkdGhcbiAgICAgICAgICAgIGltYWdlUmVzaXplVGFyZ2V0V2lkdGg6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgICAgIC8vIHRhcmdldCBoZWlnaHRcbiAgICAgICAgICAgIGltYWdlUmVzaXplVGFyZ2V0SGVpZ2h0OiBbbnVsbCwgVHlwZS5JTlRdLFxuICAgICAgICB9LFxuICAgIH07XG59O1xuXG4vLyBmaXJlIHBsdWdpbmxvYWRlZCBldmVudCBpZiBydW5uaW5nIGluIGJyb3dzZXIsIHRoaXMgYWxsb3dzIHJlZ2lzdGVyaW5nIHRoZSBwbHVnaW4gd2hlbiB1c2luZyBhc3luYyBzY3JpcHQgdGFnc1xuY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5pZiAoaXNCcm93c2VyKSB7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ0ZpbGVQb25kOnBsdWdpbmxvYWRlZCcsIHsgZGV0YWlsOiBwbHVnaW4gfSkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwbHVnaW47XG4iLCAiLyohXG4gKiBGaWxlUG9uZFBsdWdpbkltYWdlVHJhbnNmb3JtIDMuOC43XG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmQvIGZvciBkZXRhaWxzLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbi8vIHRlc3QgaWYgZmlsZSBpcyBvZiB0eXBlIGltYWdlXG5jb25zdCBpc0ltYWdlID0gZmlsZSA9PiAvXmltYWdlLy50ZXN0KGZpbGUudHlwZSk7XG5cbmNvbnN0IGdldEZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbiA9IG5hbWUgPT4gbmFtZS5zdWJzdHIoMCwgbmFtZS5sYXN0SW5kZXhPZignLicpKSB8fCBuYW1lO1xuXG4vLyBvbmx5IGhhbmRsZXMgaW1hZ2UvanBnLCBpbWFnZS9qcGVnLCBpbWFnZS9wbmcsIGFuZCBpbWFnZS9zdmcreG1sIGZvciBub3dcbmNvbnN0IEV4dGVuc2lvbk1hcCA9IHtcbiAgICBqcGVnOiAnanBnJyxcbiAgICAnc3ZnK3htbCc6ICdzdmcnLFxufTtcblxuY29uc3QgcmVuYW1lRmlsZVRvTWF0Y2hNaW1lVHlwZSA9IChmaWxlbmFtZSwgbWltZVR5cGUpID0+IHtcbiAgICBjb25zdCBuYW1lID0gZ2V0RmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uKGZpbGVuYW1lKTtcbiAgICBjb25zdCB0eXBlID0gbWltZVR5cGUuc3BsaXQoJy8nKVsxXTtcbiAgICBjb25zdCBleHRlbnNpb24gPSBFeHRlbnNpb25NYXBbdHlwZV0gfHwgdHlwZTtcbiAgICByZXR1cm4gYCR7bmFtZX0uJHtleHRlbnNpb259YDtcbn07XG5cbi8vIHJldHVybnMgYWxsIHRoZSB2YWxpZCBvdXRwdXQgZm9ybWF0cyB3ZSBjYW4gZW5jb2RlIHRvd2FyZHNcbmNvbnN0IGdldFZhbGlkT3V0cHV0TWltZVR5cGUgPSB0eXBlID0+ICgvanBlZ3xwbmd8c3ZnXFwreG1sLy50ZXN0KHR5cGUpID8gdHlwZSA6ICdpbWFnZS9qcGVnJyk7XG5cbi8vIHRlc3QgaWYgZmlsZSBpcyBvZiB0eXBlIGltYWdlXG5jb25zdCBpc0ltYWdlJDEgPSBmaWxlID0+IC9eaW1hZ2UvLnRlc3QoZmlsZS50eXBlKTtcblxuY29uc3QgTUFUUklDRVMgPSB7XG4gICAgMTogKCkgPT4gWzEsIDAsIDAsIDEsIDAsIDBdLFxuICAgIDI6IHdpZHRoID0+IFstMSwgMCwgMCwgMSwgd2lkdGgsIDBdLFxuICAgIDM6ICh3aWR0aCwgaGVpZ2h0KSA9PiBbLTEsIDAsIDAsIC0xLCB3aWR0aCwgaGVpZ2h0XSxcbiAgICA0OiAod2lkdGgsIGhlaWdodCkgPT4gWzEsIDAsIDAsIC0xLCAwLCBoZWlnaHRdLFxuICAgIDU6ICgpID0+IFswLCAxLCAxLCAwLCAwLCAwXSxcbiAgICA2OiAod2lkdGgsIGhlaWdodCkgPT4gWzAsIDEsIC0xLCAwLCBoZWlnaHQsIDBdLFxuICAgIDc6ICh3aWR0aCwgaGVpZ2h0KSA9PiBbMCwgLTEsIC0xLCAwLCBoZWlnaHQsIHdpZHRoXSxcbiAgICA4OiB3aWR0aCA9PiBbMCwgLTEsIDEsIDAsIDAsIHdpZHRoXSxcbn07XG5cbmNvbnN0IGdldEltYWdlT3JpZW50YXRpb25NYXRyaXggPSAod2lkdGgsIGhlaWdodCwgb3JpZW50YXRpb24pID0+IHtcbiAgICBpZiAob3JpZW50YXRpb24gPT09IC0xKSB7XG4gICAgICAgIG9yaWVudGF0aW9uID0gMTtcbiAgICB9XG4gICAgcmV0dXJuIE1BVFJJQ0VTW29yaWVudGF0aW9uXSh3aWR0aCwgaGVpZ2h0KTtcbn07XG5cbmNvbnN0IGNyZWF0ZVZlY3RvciA9ICh4LCB5KSA9PiAoeyB4LCB5IH0pO1xuXG5jb25zdCB2ZWN0b3JEb3QgPSAoYSwgYikgPT4gYS54ICogYi54ICsgYS55ICogYi55O1xuXG5jb25zdCB2ZWN0b3JTdWJ0cmFjdCA9IChhLCBiKSA9PiBjcmVhdGVWZWN0b3IoYS54IC0gYi54LCBhLnkgLSBiLnkpO1xuXG5jb25zdCB2ZWN0b3JEaXN0YW5jZVNxdWFyZWQgPSAoYSwgYikgPT4gdmVjdG9yRG90KHZlY3RvclN1YnRyYWN0KGEsIGIpLCB2ZWN0b3JTdWJ0cmFjdChhLCBiKSk7XG5cbmNvbnN0IHZlY3RvckRpc3RhbmNlID0gKGEsIGIpID0+IE1hdGguc3FydCh2ZWN0b3JEaXN0YW5jZVNxdWFyZWQoYSwgYikpO1xuXG5jb25zdCBnZXRPZmZzZXRQb2ludE9uRWRnZSA9IChsZW5ndGgsIHJvdGF0aW9uKSA9PiB7XG4gICAgY29uc3QgYSA9IGxlbmd0aDtcblxuICAgIGNvbnN0IEEgPSAxLjU3MDc5NjMyNjc5NDg5NjY7XG4gICAgY29uc3QgQiA9IHJvdGF0aW9uO1xuICAgIGNvbnN0IEMgPSAxLjU3MDc5NjMyNjc5NDg5NjYgLSByb3RhdGlvbjtcblxuICAgIGNvbnN0IHNpbkEgPSBNYXRoLnNpbihBKTtcbiAgICBjb25zdCBzaW5CID0gTWF0aC5zaW4oQik7XG4gICAgY29uc3Qgc2luQyA9IE1hdGguc2luKEMpO1xuICAgIGNvbnN0IGNvc0MgPSBNYXRoLmNvcyhDKTtcbiAgICBjb25zdCByYXRpbyA9IGEgLyBzaW5BO1xuICAgIGNvbnN0IGIgPSByYXRpbyAqIHNpbkI7XG4gICAgY29uc3QgYyA9IHJhdGlvICogc2luQztcblxuICAgIHJldHVybiBjcmVhdGVWZWN0b3IoY29zQyAqIGIsIGNvc0MgKiBjKTtcbn07XG5cbmNvbnN0IGdldFJvdGF0ZWRSZWN0U2l6ZSA9IChyZWN0LCByb3RhdGlvbikgPT4ge1xuICAgIGNvbnN0IHcgPSByZWN0LndpZHRoO1xuICAgIGNvbnN0IGggPSByZWN0LmhlaWdodDtcblxuICAgIGNvbnN0IGhvciA9IGdldE9mZnNldFBvaW50T25FZGdlKHcsIHJvdGF0aW9uKTtcbiAgICBjb25zdCB2ZXIgPSBnZXRPZmZzZXRQb2ludE9uRWRnZShoLCByb3RhdGlvbik7XG5cbiAgICBjb25zdCB0bCA9IGNyZWF0ZVZlY3RvcihyZWN0LnggKyBNYXRoLmFicyhob3IueCksIHJlY3QueSAtIE1hdGguYWJzKGhvci55KSk7XG5cbiAgICBjb25zdCB0ciA9IGNyZWF0ZVZlY3RvcihyZWN0LnggKyByZWN0LndpZHRoICsgTWF0aC5hYnModmVyLnkpLCByZWN0LnkgKyBNYXRoLmFicyh2ZXIueCkpO1xuXG4gICAgY29uc3QgYmwgPSBjcmVhdGVWZWN0b3IocmVjdC54IC0gTWF0aC5hYnModmVyLnkpLCByZWN0LnkgKyByZWN0LmhlaWdodCAtIE1hdGguYWJzKHZlci54KSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogdmVjdG9yRGlzdGFuY2UodGwsIHRyKSxcbiAgICAgICAgaGVpZ2h0OiB2ZWN0b3JEaXN0YW5jZSh0bCwgYmwpLFxuICAgIH07XG59O1xuXG5jb25zdCBnZXRJbWFnZVJlY3Rab29tRmFjdG9yID0gKGltYWdlUmVjdCwgY3JvcFJlY3QsIHJvdGF0aW9uID0gMCwgY2VudGVyID0geyB4OiAwLjUsIHk6IDAuNSB9KSA9PiB7XG4gICAgLy8gY2FsY3VsYXRlIGF2YWlsYWJsZSBzcGFjZSByb3VuZCBpbWFnZSBjZW50ZXIgcG9zaXRpb25cbiAgICBjb25zdCBjeCA9IGNlbnRlci54ID4gMC41ID8gMSAtIGNlbnRlci54IDogY2VudGVyLng7XG4gICAgY29uc3QgY3kgPSBjZW50ZXIueSA+IDAuNSA/IDEgLSBjZW50ZXIueSA6IGNlbnRlci55O1xuICAgIGNvbnN0IGltYWdlV2lkdGggPSBjeCAqIDIgKiBpbWFnZVJlY3Qud2lkdGg7XG4gICAgY29uc3QgaW1hZ2VIZWlnaHQgPSBjeSAqIDIgKiBpbWFnZVJlY3QuaGVpZ2h0O1xuXG4gICAgLy8gY2FsY3VsYXRlIHJvdGF0ZWQgY3JvcCByZWN0YW5nbGUgc2l6ZVxuICAgIGNvbnN0IHJvdGF0ZWRDcm9wU2l6ZSA9IGdldFJvdGF0ZWRSZWN0U2l6ZShjcm9wUmVjdCwgcm90YXRpb24pO1xuXG4gICAgcmV0dXJuIE1hdGgubWF4KHJvdGF0ZWRDcm9wU2l6ZS53aWR0aCAvIGltYWdlV2lkdGgsIHJvdGF0ZWRDcm9wU2l6ZS5oZWlnaHQgLyBpbWFnZUhlaWdodCk7XG59O1xuXG5jb25zdCBnZXRDZW50ZXJlZENyb3BSZWN0ID0gKGNvbnRhaW5lciwgYXNwZWN0UmF0aW8pID0+IHtcbiAgICBsZXQgd2lkdGggPSBjb250YWluZXIud2lkdGg7XG4gICAgbGV0IGhlaWdodCA9IHdpZHRoICogYXNwZWN0UmF0aW87XG4gICAgaWYgKGhlaWdodCA+IGNvbnRhaW5lci5oZWlnaHQpIHtcbiAgICAgICAgaGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodDtcbiAgICAgICAgd2lkdGggPSBoZWlnaHQgLyBhc3BlY3RSYXRpbztcbiAgICB9XG4gICAgY29uc3QgeCA9IChjb250YWluZXIud2lkdGggLSB3aWR0aCkgKiAwLjU7XG4gICAgY29uc3QgeSA9IChjb250YWluZXIuaGVpZ2h0IC0gaGVpZ2h0KSAqIDAuNTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgfTtcbn07XG5cbmNvbnN0IGNhbGN1bGF0ZUNhbnZhc1NpemUgPSAoaW1hZ2UsIGNhbnZhc0FzcGVjdFJhdGlvLCB6b29tID0gMSkgPT4ge1xuICAgIGNvbnN0IGltYWdlQXNwZWN0UmF0aW8gPSBpbWFnZS5oZWlnaHQgLyBpbWFnZS53aWR0aDtcblxuICAgIC8vIGRldGVybWluZSBhY3R1YWwgcGl4ZWxzIG9uIHggYW5kIHkgYXhpc1xuICAgIGxldCBjYW52YXNXaWR0aCA9IDE7XG4gICAgbGV0IGNhbnZhc0hlaWdodCA9IGNhbnZhc0FzcGVjdFJhdGlvO1xuICAgIGxldCBpbWdXaWR0aCA9IDE7XG4gICAgbGV0IGltZ0hlaWdodCA9IGltYWdlQXNwZWN0UmF0aW87XG4gICAgaWYgKGltZ0hlaWdodCA+IGNhbnZhc0hlaWdodCkge1xuICAgICAgICBpbWdIZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gICAgICAgIGltZ1dpZHRoID0gaW1nSGVpZ2h0IC8gaW1hZ2VBc3BlY3RSYXRpbztcbiAgICB9XG5cbiAgICBjb25zdCBzY2FsYXIgPSBNYXRoLm1heChjYW52YXNXaWR0aCAvIGltZ1dpZHRoLCBjYW52YXNIZWlnaHQgLyBpbWdIZWlnaHQpO1xuICAgIGNvbnN0IHdpZHRoID0gaW1hZ2Uud2lkdGggLyAoem9vbSAqIHNjYWxhciAqIGltZ1dpZHRoKTtcbiAgICBjb25zdCBoZWlnaHQgPSB3aWR0aCAqIGNhbnZhc0FzcGVjdFJhdGlvO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB9O1xufTtcblxuY29uc3QgY2FudmFzUmVsZWFzZSA9IGNhbnZhcyA9PiB7XG4gICAgY2FudmFzLndpZHRoID0gMTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIDEsIDEpO1xufTtcblxuY29uc3QgaXNGbGlwcGVkID0gZmxpcCA9PiBmbGlwICYmIChmbGlwLmhvcml6b250YWwgfHwgZmxpcC52ZXJ0aWNhbCk7XG5cbmNvbnN0IGdldEJpdG1hcCA9IChpbWFnZSwgb3JpZW50YXRpb24sIGZsaXApID0+IHtcbiAgICBpZiAob3JpZW50YXRpb24gPD0gMSAmJiAhaXNGbGlwcGVkKGZsaXApKSB7XG4gICAgICAgIGltYWdlLndpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgICBpbWFnZS5oZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfVxuXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY29uc3Qgd2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gaW1hZ2UubmF0dXJhbEhlaWdodDtcblxuICAgIC8vIGlmIGlzIHJvdGF0ZWQgaW5jb3JyZWN0bHkgc3dhcCB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgY29uc3Qgc3dhcHBlZCA9IG9yaWVudGF0aW9uID49IDUgJiYgb3JpZW50YXRpb24gPD0gODtcbiAgICBpZiAoc3dhcHBlZCkge1xuICAgICAgICBjYW52YXMud2lkdGggPSBoZWlnaHQ7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSB3aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICB9XG5cbiAgICAvLyBkcmF3IHRoZSBpbWFnZSBidXQgZmlyc3QgZml4IG9yaWVudGF0aW9uIGFuZCBzZXQgY29ycmVjdCBmbGlwXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAvLyBnZXQgYmFzZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICBpZiAob3JpZW50YXRpb24pIHtcbiAgICAgICAgY3R4LnRyYW5zZm9ybS5hcHBseShjdHgsIGdldEltYWdlT3JpZW50YXRpb25NYXRyaXgod2lkdGgsIGhlaWdodCwgb3JpZW50YXRpb24pKTtcbiAgICB9XG5cbiAgICBpZiAoaXNGbGlwcGVkKGZsaXApKSB7XG4gICAgICAgIC8vIGZsaXAgaG9yaXpvbnRhbFxuICAgICAgICAvLyBbLTEsIDAsIDAsIDEsIHdpZHRoLCAwXVxuICAgICAgICBjb25zdCBtYXRyaXggPSBbMSwgMCwgMCwgMSwgMCwgMF07XG4gICAgICAgIGlmICgoIXN3YXBwZWQgJiYgZmxpcC5ob3Jpem9udGFsKSB8fCBzd2FwcGVkICYgZmxpcC52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgbWF0cml4WzBdID0gLTE7XG4gICAgICAgICAgICBtYXRyaXhbNF0gPSB3aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZsaXAgdmVydGljYWxcbiAgICAgICAgLy8gWzEsIDAsIDAsIC0xLCAwLCBoZWlnaHRdXG4gICAgICAgIGlmICgoIXN3YXBwZWQgJiYgZmxpcC52ZXJ0aWNhbCkgfHwgKHN3YXBwZWQgJiYgZmxpcC5ob3Jpem9udGFsKSkge1xuICAgICAgICAgICAgbWF0cml4WzNdID0gLTE7XG4gICAgICAgICAgICBtYXRyaXhbNV0gPSBoZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBjdHgudHJhbnNmb3JtKC4uLm1hdHJpeCk7XG4gICAgfVxuXG4gICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICByZXR1cm4gY2FudmFzO1xufTtcblxuY29uc3QgaW1hZ2VUb0ltYWdlRGF0YSA9IChpbWFnZUVsZW1lbnQsIG9yaWVudGF0aW9uLCBjcm9wID0ge30sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHsgY2FudmFzTWVtb3J5TGltaXQsIGJhY2tncm91bmQgPSBudWxsIH0gPSBvcHRpb25zO1xuXG4gICAgY29uc3Qgem9vbSA9IGNyb3Auem9vbSB8fCAxO1xuXG4gICAgLy8gZml4ZXMgcG9zc2libGUgaW1hZ2Ugb3JpZW50YXRpb24gcHJvYmxlbXMgYnkgZHJhd2luZyB0aGUgaW1hZ2Ugb24gdGhlIGNvcnJlY3QgY2FudmFzXG4gICAgY29uc3QgYml0bWFwID0gZ2V0Qml0bWFwKGltYWdlRWxlbWVudCwgb3JpZW50YXRpb24sIGNyb3AuZmxpcCk7XG4gICAgY29uc3QgaW1hZ2VTaXplID0ge1xuICAgICAgICB3aWR0aDogYml0bWFwLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGJpdG1hcC5oZWlnaHQsXG4gICAgfTtcblxuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gY3JvcC5hc3BlY3RSYXRpbyB8fCBpbWFnZVNpemUuaGVpZ2h0IC8gaW1hZ2VTaXplLndpZHRoO1xuXG4gICAgbGV0IGNhbnZhc1NpemUgPSBjYWxjdWxhdGVDYW52YXNTaXplKGltYWdlU2l6ZSwgYXNwZWN0UmF0aW8sIHpvb20pO1xuXG4gICAgaWYgKGNhbnZhc01lbW9yeUxpbWl0KSB7XG4gICAgICAgIGNvbnN0IHJlcXVpcmVkTWVtb3J5ID0gY2FudmFzU2l6ZS53aWR0aCAqIGNhbnZhc1NpemUuaGVpZ2h0O1xuICAgICAgICBpZiAocmVxdWlyZWRNZW1vcnkgPiBjYW52YXNNZW1vcnlMaW1pdCkge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGFyID0gTWF0aC5zcXJ0KGNhbnZhc01lbW9yeUxpbWl0KSAvIE1hdGguc3FydChyZXF1aXJlZE1lbW9yeSk7XG4gICAgICAgICAgICBpbWFnZVNpemUud2lkdGggPSBNYXRoLmZsb29yKGltYWdlU2l6ZS53aWR0aCAqIHNjYWxhcik7XG4gICAgICAgICAgICBpbWFnZVNpemUuaGVpZ2h0ID0gTWF0aC5mbG9vcihpbWFnZVNpemUuaGVpZ2h0ICogc2NhbGFyKTtcbiAgICAgICAgICAgIGNhbnZhc1NpemUgPSBjYWxjdWxhdGVDYW52YXNTaXplKGltYWdlU2l6ZSwgYXNwZWN0UmF0aW8sIHpvb20pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICBjb25zdCBjYW52YXNDZW50ZXIgPSB7XG4gICAgICAgIHg6IGNhbnZhc1NpemUud2lkdGggKiAwLjUsXG4gICAgICAgIHk6IGNhbnZhc1NpemUuaGVpZ2h0ICogMC41LFxuICAgIH07XG5cbiAgICBjb25zdCBzdGFnZSA9IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgICAgd2lkdGg6IGNhbnZhc1NpemUud2lkdGgsXG4gICAgICAgIGhlaWdodDogY2FudmFzU2l6ZS5oZWlnaHQsXG4gICAgICAgIGNlbnRlcjogY2FudmFzQ2VudGVyLFxuICAgIH07XG5cbiAgICBjb25zdCBzaG91bGRMaW1pdCA9IHR5cGVvZiBjcm9wLnNjYWxlVG9GaXQgPT09ICd1bmRlZmluZWQnIHx8IGNyb3Auc2NhbGVUb0ZpdDtcblxuICAgIGNvbnN0IHNjYWxlID1cbiAgICAgICAgem9vbSAqXG4gICAgICAgIGdldEltYWdlUmVjdFpvb21GYWN0b3IoXG4gICAgICAgICAgICBpbWFnZVNpemUsXG4gICAgICAgICAgICBnZXRDZW50ZXJlZENyb3BSZWN0KHN0YWdlLCBhc3BlY3RSYXRpbyksXG4gICAgICAgICAgICBjcm9wLnJvdGF0aW9uLFxuICAgICAgICAgICAgc2hvdWxkTGltaXQgPyBjcm9wLmNlbnRlciA6IHsgeDogMC41LCB5OiAwLjUgfVxuICAgICAgICApO1xuXG4gICAgLy8gc3RhcnQgZHJhd2luZ1xuICAgIGNhbnZhcy53aWR0aCA9IE1hdGgucm91bmQoY2FudmFzU2l6ZS53aWR0aCAvIHNjYWxlKTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5yb3VuZChjYW52YXNTaXplLmhlaWdodCAvIHNjYWxlKTtcblxuICAgIGNhbnZhc0NlbnRlci54IC89IHNjYWxlO1xuICAgIGNhbnZhc0NlbnRlci55IC89IHNjYWxlO1xuXG4gICAgY29uc3QgaW1hZ2VPZmZzZXQgPSB7XG4gICAgICAgIHg6IGNhbnZhc0NlbnRlci54IC0gaW1hZ2VTaXplLndpZHRoICogKGNyb3AuY2VudGVyID8gY3JvcC5jZW50ZXIueCA6IDAuNSksXG4gICAgICAgIHk6IGNhbnZhc0NlbnRlci55IC0gaW1hZ2VTaXplLmhlaWdodCAqIChjcm9wLmNlbnRlciA/IGNyb3AuY2VudGVyLnkgOiAwLjUpLFxuICAgIH07XG5cbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoYmFja2dyb3VuZCkge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gYmFja2dyb3VuZDtcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgLy8gbW92ZSB0byBkcmF3IG9mZnNldFxuICAgIGN0eC50cmFuc2xhdGUoY2FudmFzQ2VudGVyLngsIGNhbnZhc0NlbnRlci55KTtcbiAgICBjdHgucm90YXRlKGNyb3Aucm90YXRpb24gfHwgMCk7XG5cbiAgICAvLyBkcmF3IHRoZSBpbWFnZVxuICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICAgIGJpdG1hcCxcbiAgICAgICAgaW1hZ2VPZmZzZXQueCAtIGNhbnZhc0NlbnRlci54LFxuICAgICAgICBpbWFnZU9mZnNldC55IC0gY2FudmFzQ2VudGVyLnksXG4gICAgICAgIGltYWdlU2l6ZS53aWR0aCxcbiAgICAgICAgaW1hZ2VTaXplLmhlaWdodFxuICAgICk7XG5cbiAgICAvLyBnZXQgZGF0YSBmcm9tIGNhbnZhc1xuICAgIGNvbnN0IGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgIC8vIHJlbGVhc2UgY2FudmFzXG4gICAgY2FudmFzUmVsZWFzZShjYW52YXMpO1xuXG4gICAgLy8gcmV0dXJuIGRhdGFcbiAgICByZXR1cm4gaW1hZ2VEYXRhO1xufTtcblxuLyoqXG4gKiBQb2x5ZmlsbCB0b0Jsb2IgZm9yIEVkZ2VcbiAqL1xuY29uc3QgSVNfQlJPV1NFUiA9ICgoKSA9PlxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSgpO1xuaWYgKElTX0JST1dTRVIpIHtcbiAgICBpZiAoIUhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZS50b0Jsb2IpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZSwgJ3RvQmxvYicsIHtcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihjYWxsYmFjaywgdHlwZSwgcXVhbGl0eSkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhVVJMID0gdGhpcy50b0RhdGFVUkwodHlwZSwgcXVhbGl0eSkuc3BsaXQoJywnKVsxXTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmluU3RyID0gYXRvYihkYXRhVVJMKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlbiA9IGJpblN0ci5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJbaV0gPSBiaW5TdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgQmxvYihbYXJyXSwgeyB0eXBlOiB0eXBlIHx8ICdpbWFnZS9wbmcnIH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY29uc3QgY2FudmFzVG9CbG9iID0gKGNhbnZhcywgb3B0aW9ucywgYmVmb3JlQ3JlYXRlQmxvYiA9IG51bGwpID0+XG4gICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGNvbnN0IHByb21pc2VkSW1hZ2UgPSBiZWZvcmVDcmVhdGVCbG9iID8gYmVmb3JlQ3JlYXRlQmxvYihjYW52YXMpIDogY2FudmFzO1xuICAgICAgICBQcm9taXNlLnJlc29sdmUocHJvbWlzZWRJbWFnZSkudGhlbihjYW52YXMgPT4ge1xuICAgICAgICAgICAgY2FudmFzLnRvQmxvYihyZXNvbHZlLCBvcHRpb25zLnR5cGUsIG9wdGlvbnMucXVhbGl0eSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG5jb25zdCB2ZWN0b3JNdWx0aXBseSA9ICh2LCBhbW91bnQpID0+IGNyZWF0ZVZlY3RvciQxKHYueCAqIGFtb3VudCwgdi55ICogYW1vdW50KTtcblxuY29uc3QgdmVjdG9yQWRkID0gKGEsIGIpID0+IGNyZWF0ZVZlY3RvciQxKGEueCArIGIueCwgYS55ICsgYi55KTtcblxuY29uc3QgdmVjdG9yTm9ybWFsaXplID0gdiA9PiB7XG4gICAgY29uc3QgbCA9IE1hdGguc3FydCh2LnggKiB2LnggKyB2LnkgKiB2LnkpO1xuICAgIGlmIChsID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVZlY3RvciQxKHYueCAvIGwsIHYueSAvIGwpO1xufTtcblxuY29uc3QgdmVjdG9yUm90YXRlID0gKHYsIHJhZGlhbnMsIG9yaWdpbikgPT4ge1xuICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKHJhZGlhbnMpO1xuICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKHJhZGlhbnMpO1xuICAgIGNvbnN0IHQgPSBjcmVhdGVWZWN0b3IkMSh2LnggLSBvcmlnaW4ueCwgdi55IC0gb3JpZ2luLnkpO1xuICAgIHJldHVybiBjcmVhdGVWZWN0b3IkMShvcmlnaW4ueCArIGNvcyAqIHQueCAtIHNpbiAqIHQueSwgb3JpZ2luLnkgKyBzaW4gKiB0LnggKyBjb3MgKiB0LnkpO1xufTtcblxuY29uc3QgY3JlYXRlVmVjdG9yJDEgPSAoeCA9IDAsIHkgPSAwKSA9PiAoeyB4LCB5IH0pO1xuXG5jb25zdCBnZXRNYXJrdXBWYWx1ZSA9ICh2YWx1ZSwgc2l6ZSwgc2NhbGFyID0gMSwgYXhpcykgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKSAqIHNjYWxhcjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICogKGF4aXMgPyBzaXplW2F4aXNdIDogTWF0aC5taW4oc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpKTtcbiAgICB9XG4gICAgcmV0dXJuO1xufTtcblxuY29uc3QgZ2V0TWFya3VwU3R5bGVzID0gKG1hcmt1cCwgc2l6ZSwgc2NhbGUpID0+IHtcbiAgICBjb25zdCBsaW5lU3R5bGUgPSBtYXJrdXAuYm9yZGVyU3R5bGUgfHwgbWFya3VwLmxpbmVTdHlsZSB8fCAnc29saWQnO1xuICAgIGNvbnN0IGZpbGwgPSBtYXJrdXAuYmFja2dyb3VuZENvbG9yIHx8IG1hcmt1cC5mb250Q29sb3IgfHwgJ3RyYW5zcGFyZW50JztcbiAgICBjb25zdCBzdHJva2UgPSBtYXJrdXAuYm9yZGVyQ29sb3IgfHwgbWFya3VwLmxpbmVDb2xvciB8fCAndHJhbnNwYXJlbnQnO1xuICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gZ2V0TWFya3VwVmFsdWUobWFya3VwLmJvcmRlcldpZHRoIHx8IG1hcmt1cC5saW5lV2lkdGgsIHNpemUsIHNjYWxlKTtcbiAgICBjb25zdCBsaW5lQ2FwID0gbWFya3VwLmxpbmVDYXAgfHwgJ3JvdW5kJztcbiAgICBjb25zdCBsaW5lSm9pbiA9IG1hcmt1cC5saW5lSm9pbiB8fCAncm91bmQnO1xuICAgIGNvbnN0IGRhc2hlcyA9XG4gICAgICAgIHR5cGVvZiBsaW5lU3R5bGUgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICA6IGxpbmVTdHlsZS5tYXAodiA9PiBnZXRNYXJrdXBWYWx1ZSh2LCBzaXplLCBzY2FsZSkpLmpvaW4oJywnKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gbWFya3VwLm9wYWNpdHkgfHwgMTtcbiAgICByZXR1cm4ge1xuICAgICAgICAnc3Ryb2tlLWxpbmVjYXAnOiBsaW5lQ2FwLFxuICAgICAgICAnc3Ryb2tlLWxpbmVqb2luJzogbGluZUpvaW4sXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiBzdHJva2VXaWR0aCB8fCAwLFxuICAgICAgICAnc3Ryb2tlLWRhc2hhcnJheSc6IGRhc2hlcyxcbiAgICAgICAgc3Ryb2tlLFxuICAgICAgICBmaWxsLFxuICAgICAgICBvcGFjaXR5LFxuICAgIH07XG59O1xuXG5jb25zdCBpc0RlZmluZWQgPSB2YWx1ZSA9PiB2YWx1ZSAhPSBudWxsO1xuXG5jb25zdCBnZXRNYXJrdXBSZWN0ID0gKHJlY3QsIHNpemUsIHNjYWxhciA9IDEpID0+IHtcbiAgICBsZXQgbGVmdCA9XG4gICAgICAgIGdldE1hcmt1cFZhbHVlKHJlY3QueCwgc2l6ZSwgc2NhbGFyLCAnd2lkdGgnKSB8fFxuICAgICAgICBnZXRNYXJrdXBWYWx1ZShyZWN0LmxlZnQsIHNpemUsIHNjYWxhciwgJ3dpZHRoJyk7XG4gICAgbGV0IHRvcCA9XG4gICAgICAgIGdldE1hcmt1cFZhbHVlKHJlY3QueSwgc2l6ZSwgc2NhbGFyLCAnaGVpZ2h0JykgfHxcbiAgICAgICAgZ2V0TWFya3VwVmFsdWUocmVjdC50b3AsIHNpemUsIHNjYWxhciwgJ2hlaWdodCcpO1xuICAgIGxldCB3aWR0aCA9IGdldE1hcmt1cFZhbHVlKHJlY3Qud2lkdGgsIHNpemUsIHNjYWxhciwgJ3dpZHRoJyk7XG4gICAgbGV0IGhlaWdodCA9IGdldE1hcmt1cFZhbHVlKHJlY3QuaGVpZ2h0LCBzaXplLCBzY2FsYXIsICdoZWlnaHQnKTtcbiAgICBsZXQgcmlnaHQgPSBnZXRNYXJrdXBWYWx1ZShyZWN0LnJpZ2h0LCBzaXplLCBzY2FsYXIsICd3aWR0aCcpO1xuICAgIGxldCBib3R0b20gPSBnZXRNYXJrdXBWYWx1ZShyZWN0LmJvdHRvbSwgc2l6ZSwgc2NhbGFyLCAnaGVpZ2h0Jyk7XG5cbiAgICBpZiAoIWlzRGVmaW5lZCh0b3ApKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQoaGVpZ2h0KSAmJiBpc0RlZmluZWQoYm90dG9tKSkge1xuICAgICAgICAgICAgdG9wID0gc2l6ZS5oZWlnaHQgLSBoZWlnaHQgLSBib3R0b207XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b3AgPSBib3R0b207XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWlzRGVmaW5lZChsZWZ0KSkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHdpZHRoKSAmJiBpc0RlZmluZWQocmlnaHQpKSB7XG4gICAgICAgICAgICBsZWZ0ID0gc2l6ZS53aWR0aCAtIHdpZHRoIC0gcmlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZWZ0ID0gcmlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWlzRGVmaW5lZCh3aWR0aCkpIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChsZWZ0KSAmJiBpc0RlZmluZWQocmlnaHQpKSB7XG4gICAgICAgICAgICB3aWR0aCA9IHNpemUud2lkdGggLSBsZWZ0IC0gcmlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWlzRGVmaW5lZChoZWlnaHQpKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQodG9wKSAmJiBpc0RlZmluZWQoYm90dG9tKSkge1xuICAgICAgICAgICAgaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgLSB0b3AgLSBib3R0b207XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoZWlnaHQgPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogbGVmdCB8fCAwLFxuICAgICAgICB5OiB0b3AgfHwgMCxcbiAgICAgICAgd2lkdGg6IHdpZHRoIHx8IDAsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0IHx8IDAsXG4gICAgfTtcbn07XG5cbmNvbnN0IHBvaW50c1RvUGF0aFNoYXBlID0gcG9pbnRzID0+XG4gICAgcG9pbnRzLm1hcCgocG9pbnQsIGluZGV4KSA9PiBgJHtpbmRleCA9PT0gMCA/ICdNJyA6ICdMJ30gJHtwb2ludC54fSAke3BvaW50Lnl9YCkuam9pbignICcpO1xuXG5jb25zdCBzZXRBdHRyaWJ1dGVzID0gKGVsZW1lbnQsIGF0dHIpID0+XG4gICAgT2JqZWN0LmtleXMoYXR0cikuZm9yRWFjaChrZXkgPT4gZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyW2tleV0pKTtcblxuY29uc3QgbnMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuY29uc3Qgc3ZnID0gKHRhZywgYXR0cikgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZyk7XG4gICAgaWYgKGF0dHIpIHtcbiAgICAgICAgc2V0QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG5jb25zdCB1cGRhdGVSZWN0ID0gZWxlbWVudCA9PlxuICAgIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwge1xuICAgICAgICAuLi5lbGVtZW50LnJlY3QsXG4gICAgICAgIC4uLmVsZW1lbnQuc3R5bGVzLFxuICAgIH0pO1xuXG5jb25zdCB1cGRhdGVFbGxpcHNlID0gZWxlbWVudCA9PiB7XG4gICAgY29uc3QgY3ggPSBlbGVtZW50LnJlY3QueCArIGVsZW1lbnQucmVjdC53aWR0aCAqIDAuNTtcbiAgICBjb25zdCBjeSA9IGVsZW1lbnQucmVjdC55ICsgZWxlbWVudC5yZWN0LmhlaWdodCAqIDAuNTtcbiAgICBjb25zdCByeCA9IGVsZW1lbnQucmVjdC53aWR0aCAqIDAuNTtcbiAgICBjb25zdCByeSA9IGVsZW1lbnQucmVjdC5oZWlnaHQgKiAwLjU7XG4gICAgcmV0dXJuIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwge1xuICAgICAgICBjeCxcbiAgICAgICAgY3ksXG4gICAgICAgIHJ4LFxuICAgICAgICByeSxcbiAgICAgICAgLi4uZWxlbWVudC5zdHlsZXMsXG4gICAgfSk7XG59O1xuXG5jb25zdCBJTUFHRV9GSVRfU1RZTEUgPSB7XG4gICAgY29udGFpbjogJ3hNaWRZTWlkIG1lZXQnLFxuICAgIGNvdmVyOiAneE1pZFlNaWQgc2xpY2UnLFxufTtcblxuY29uc3QgdXBkYXRlSW1hZ2UgPSAoZWxlbWVudCwgbWFya3VwKSA9PiB7XG4gICAgc2V0QXR0cmlidXRlcyhlbGVtZW50LCB7XG4gICAgICAgIC4uLmVsZW1lbnQucmVjdCxcbiAgICAgICAgLi4uZWxlbWVudC5zdHlsZXMsXG4gICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IElNQUdFX0ZJVF9TVFlMRVttYXJrdXAuZml0XSB8fCAnbm9uZScsXG4gICAgfSk7XG59O1xuXG5jb25zdCBURVhUX0FOQ0hPUiA9IHtcbiAgICBsZWZ0OiAnc3RhcnQnLFxuICAgIGNlbnRlcjogJ21pZGRsZScsXG4gICAgcmlnaHQ6ICdlbmQnLFxufTtcblxuY29uc3QgdXBkYXRlVGV4dCA9IChlbGVtZW50LCBtYXJrdXAsIHNpemUsIHNjYWxlKSA9PiB7XG4gICAgY29uc3QgZm9udFNpemUgPSBnZXRNYXJrdXBWYWx1ZShtYXJrdXAuZm9udFNpemUsIHNpemUsIHNjYWxlKTtcbiAgICBjb25zdCBmb250RmFtaWx5ID0gbWFya3VwLmZvbnRGYW1pbHkgfHwgJ3NhbnMtc2VyaWYnO1xuICAgIGNvbnN0IGZvbnRXZWlnaHQgPSBtYXJrdXAuZm9udFdlaWdodCB8fCAnbm9ybWFsJztcbiAgICBjb25zdCB0ZXh0QWxpZ24gPSBURVhUX0FOQ0hPUlttYXJrdXAudGV4dEFsaWduXSB8fCAnc3RhcnQnO1xuXG4gICAgc2V0QXR0cmlidXRlcyhlbGVtZW50LCB7XG4gICAgICAgIC4uLmVsZW1lbnQucmVjdCxcbiAgICAgICAgLi4uZWxlbWVudC5zdHlsZXMsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiAwLFxuICAgICAgICAnZm9udC13ZWlnaHQnOiBmb250V2VpZ2h0LFxuICAgICAgICAnZm9udC1zaXplJzogZm9udFNpemUsXG4gICAgICAgICdmb250LWZhbWlseSc6IGZvbnRGYW1pbHksXG4gICAgICAgICd0ZXh0LWFuY2hvcic6IHRleHRBbGlnbixcbiAgICB9KTtcblxuICAgIC8vIHVwZGF0ZSB0ZXh0XG4gICAgaWYgKGVsZW1lbnQudGV4dCAhPT0gbWFya3VwLnRleHQpIHtcbiAgICAgICAgZWxlbWVudC50ZXh0ID0gbWFya3VwLnRleHQ7XG4gICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBtYXJrdXAudGV4dC5sZW5ndGggPyBtYXJrdXAudGV4dCA6ICcgJztcbiAgICB9XG59O1xuXG5jb25zdCB1cGRhdGVMaW5lID0gKGVsZW1lbnQsIG1hcmt1cCwgc2l6ZSwgc2NhbGUpID0+IHtcbiAgICBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIHtcbiAgICAgICAgLi4uZWxlbWVudC5yZWN0LFxuICAgICAgICAuLi5lbGVtZW50LnN0eWxlcyxcbiAgICAgICAgZmlsbDogJ25vbmUnLFxuICAgIH0pO1xuXG4gICAgY29uc3QgbGluZSA9IGVsZW1lbnQuY2hpbGROb2Rlc1swXTtcbiAgICBjb25zdCBiZWdpbiA9IGVsZW1lbnQuY2hpbGROb2Rlc1sxXTtcbiAgICBjb25zdCBlbmQgPSBlbGVtZW50LmNoaWxkTm9kZXNbMl07XG5cbiAgICBjb25zdCBvcmlnaW4gPSBlbGVtZW50LnJlY3Q7XG5cbiAgICBjb25zdCB0YXJnZXQgPSB7XG4gICAgICAgIHg6IGVsZW1lbnQucmVjdC54ICsgZWxlbWVudC5yZWN0LndpZHRoLFxuICAgICAgICB5OiBlbGVtZW50LnJlY3QueSArIGVsZW1lbnQucmVjdC5oZWlnaHQsXG4gICAgfTtcblxuICAgIHNldEF0dHJpYnV0ZXMobGluZSwge1xuICAgICAgICB4MTogb3JpZ2luLngsXG4gICAgICAgIHkxOiBvcmlnaW4ueSxcbiAgICAgICAgeDI6IHRhcmdldC54LFxuICAgICAgICB5MjogdGFyZ2V0LnksXG4gICAgfSk7XG5cbiAgICBpZiAoIW1hcmt1cC5saW5lRGVjb3JhdGlvbikgcmV0dXJuO1xuXG4gICAgYmVnaW4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBlbmQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgIGNvbnN0IHYgPSB2ZWN0b3JOb3JtYWxpemUoe1xuICAgICAgICB4OiB0YXJnZXQueCAtIG9yaWdpbi54LFxuICAgICAgICB5OiB0YXJnZXQueSAtIG9yaWdpbi55LFxuICAgIH0pO1xuXG4gICAgY29uc3QgbCA9IGdldE1hcmt1cFZhbHVlKDAuMDUsIHNpemUsIHNjYWxlKTtcblxuICAgIGlmIChtYXJrdXAubGluZURlY29yYXRpb24uaW5kZXhPZignYXJyb3ctYmVnaW4nKSAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgYXJyb3dCZWdpblJvdGF0aW9uUG9pbnQgPSB2ZWN0b3JNdWx0aXBseSh2LCBsKTtcbiAgICAgICAgY29uc3QgYXJyb3dCZWdpbkNlbnRlciA9IHZlY3RvckFkZChvcmlnaW4sIGFycm93QmVnaW5Sb3RhdGlvblBvaW50KTtcbiAgICAgICAgY29uc3QgYXJyb3dCZWdpbkEgPSB2ZWN0b3JSb3RhdGUob3JpZ2luLCAyLCBhcnJvd0JlZ2luQ2VudGVyKTtcbiAgICAgICAgY29uc3QgYXJyb3dCZWdpbkIgPSB2ZWN0b3JSb3RhdGUob3JpZ2luLCAtMiwgYXJyb3dCZWdpbkNlbnRlcik7XG5cbiAgICAgICAgc2V0QXR0cmlidXRlcyhiZWdpbiwge1xuICAgICAgICAgICAgc3R5bGU6ICdkaXNwbGF5OmJsb2NrOycsXG4gICAgICAgICAgICBkOiBgTSR7YXJyb3dCZWdpbkEueH0sJHthcnJvd0JlZ2luQS55fSBMJHtvcmlnaW4ueH0sJHtvcmlnaW4ueX0gTCR7YXJyb3dCZWdpbkIueH0sJHtcbiAgICAgICAgICAgICAgICBhcnJvd0JlZ2luQi55XG4gICAgICAgICAgICB9YCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG1hcmt1cC5saW5lRGVjb3JhdGlvbi5pbmRleE9mKCdhcnJvdy1lbmQnKSAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgYXJyb3dFbmRSb3RhdGlvblBvaW50ID0gdmVjdG9yTXVsdGlwbHkodiwgLWwpO1xuICAgICAgICBjb25zdCBhcnJvd0VuZENlbnRlciA9IHZlY3RvckFkZCh0YXJnZXQsIGFycm93RW5kUm90YXRpb25Qb2ludCk7XG4gICAgICAgIGNvbnN0IGFycm93RW5kQSA9IHZlY3RvclJvdGF0ZSh0YXJnZXQsIDIsIGFycm93RW5kQ2VudGVyKTtcbiAgICAgICAgY29uc3QgYXJyb3dFbmRCID0gdmVjdG9yUm90YXRlKHRhcmdldCwgLTIsIGFycm93RW5kQ2VudGVyKTtcblxuICAgICAgICBzZXRBdHRyaWJ1dGVzKGVuZCwge1xuICAgICAgICAgICAgc3R5bGU6ICdkaXNwbGF5OmJsb2NrOycsXG4gICAgICAgICAgICBkOiBgTSR7YXJyb3dFbmRBLnh9LCR7YXJyb3dFbmRBLnl9IEwke3RhcmdldC54fSwke3RhcmdldC55fSBMJHthcnJvd0VuZEIueH0sJHtcbiAgICAgICAgICAgICAgICBhcnJvd0VuZEIueVxuICAgICAgICAgICAgfWAsXG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbmNvbnN0IHVwZGF0ZVBhdGggPSAoZWxlbWVudCwgbWFya3VwLCBzaXplLCBzY2FsZSkgPT4ge1xuICAgIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwge1xuICAgICAgICAuLi5lbGVtZW50LnN0eWxlcyxcbiAgICAgICAgZmlsbDogJ25vbmUnLFxuICAgICAgICBkOiBwb2ludHNUb1BhdGhTaGFwZShcbiAgICAgICAgICAgIG1hcmt1cC5wb2ludHMubWFwKHBvaW50ID0+ICh7XG4gICAgICAgICAgICAgICAgeDogZ2V0TWFya3VwVmFsdWUocG9pbnQueCwgc2l6ZSwgc2NhbGUsICd3aWR0aCcpLFxuICAgICAgICAgICAgICAgIHk6IGdldE1hcmt1cFZhbHVlKHBvaW50LnksIHNpemUsIHNjYWxlLCAnaGVpZ2h0JyksXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgKSxcbiAgICB9KTtcbn07XG5cbmNvbnN0IGNyZWF0ZVNoYXBlID0gbm9kZSA9PiBtYXJrdXAgPT4gc3ZnKG5vZGUsIHsgaWQ6IG1hcmt1cC5pZCB9KTtcblxuY29uc3QgY3JlYXRlSW1hZ2UgPSBtYXJrdXAgPT4ge1xuICAgIGNvbnN0IHNoYXBlID0gc3ZnKCdpbWFnZScsIHtcbiAgICAgICAgaWQ6IG1hcmt1cC5pZCxcbiAgICAgICAgJ3N0cm9rZS1saW5lY2FwJzogJ3JvdW5kJyxcbiAgICAgICAgJ3N0cm9rZS1saW5lam9pbic6ICdyb3VuZCcsXG4gICAgICAgIG9wYWNpdHk6ICcwJyxcbiAgICB9KTtcbiAgICBzaGFwZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIHNoYXBlLnNldEF0dHJpYnV0ZSgnb3BhY2l0eScsIG1hcmt1cC5vcGFjaXR5IHx8IDEpO1xuICAgIH07XG4gICAgc2hhcGUuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCAneGxpbms6aHJlZicsIG1hcmt1cC5zcmMpO1xuICAgIHJldHVybiBzaGFwZTtcbn07XG5cbmNvbnN0IGNyZWF0ZUxpbmUgPSBtYXJrdXAgPT4ge1xuICAgIGNvbnN0IHNoYXBlID0gc3ZnKCdnJywge1xuICAgICAgICBpZDogbWFya3VwLmlkLFxuICAgICAgICAnc3Ryb2tlLWxpbmVjYXAnOiAncm91bmQnLFxuICAgICAgICAnc3Ryb2tlLWxpbmVqb2luJzogJ3JvdW5kJyxcbiAgICB9KTtcblxuICAgIGNvbnN0IGxpbmUgPSBzdmcoJ2xpbmUnKTtcbiAgICBzaGFwZS5hcHBlbmRDaGlsZChsaW5lKTtcblxuICAgIGNvbnN0IGJlZ2luID0gc3ZnKCdwYXRoJyk7XG4gICAgc2hhcGUuYXBwZW5kQ2hpbGQoYmVnaW4pO1xuXG4gICAgY29uc3QgZW5kID0gc3ZnKCdwYXRoJyk7XG4gICAgc2hhcGUuYXBwZW5kQ2hpbGQoZW5kKTtcblxuICAgIHJldHVybiBzaGFwZTtcbn07XG5cbmNvbnN0IENSRUFURV9UWVBFX1JPVVRFUyA9IHtcbiAgICBpbWFnZTogY3JlYXRlSW1hZ2UsXG4gICAgcmVjdDogY3JlYXRlU2hhcGUoJ3JlY3QnKSxcbiAgICBlbGxpcHNlOiBjcmVhdGVTaGFwZSgnZWxsaXBzZScpLFxuICAgIHRleHQ6IGNyZWF0ZVNoYXBlKCd0ZXh0JyksXG4gICAgcGF0aDogY3JlYXRlU2hhcGUoJ3BhdGgnKSxcbiAgICBsaW5lOiBjcmVhdGVMaW5lLFxufTtcblxuY29uc3QgVVBEQVRFX1RZUEVfUk9VVEVTID0ge1xuICAgIHJlY3Q6IHVwZGF0ZVJlY3QsXG4gICAgZWxsaXBzZTogdXBkYXRlRWxsaXBzZSxcbiAgICBpbWFnZTogdXBkYXRlSW1hZ2UsXG4gICAgdGV4dDogdXBkYXRlVGV4dCxcbiAgICBwYXRoOiB1cGRhdGVQYXRoLFxuICAgIGxpbmU6IHVwZGF0ZUxpbmUsXG59O1xuXG5jb25zdCBjcmVhdGVNYXJrdXBCeVR5cGUgPSAodHlwZSwgbWFya3VwKSA9PiBDUkVBVEVfVFlQRV9ST1VURVNbdHlwZV0obWFya3VwKTtcblxuY29uc3QgdXBkYXRlTWFya3VwQnlUeXBlID0gKGVsZW1lbnQsIHR5cGUsIG1hcmt1cCwgc2l6ZSwgc2NhbGUpID0+IHtcbiAgICBpZiAodHlwZSAhPT0gJ3BhdGgnKSB7XG4gICAgICAgIGVsZW1lbnQucmVjdCA9IGdldE1hcmt1cFJlY3QobWFya3VwLCBzaXplLCBzY2FsZSk7XG4gICAgfVxuICAgIGVsZW1lbnQuc3R5bGVzID0gZ2V0TWFya3VwU3R5bGVzKG1hcmt1cCwgc2l6ZSwgc2NhbGUpO1xuICAgIFVQREFURV9UWVBFX1JPVVRFU1t0eXBlXShlbGVtZW50LCBtYXJrdXAsIHNpemUsIHNjYWxlKTtcbn07XG5cbmNvbnN0IHNvcnRNYXJrdXBCeVpJbmRleCA9IChhLCBiKSA9PiB7XG4gICAgaWYgKGFbMV0uekluZGV4ID4gYlsxXS56SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGlmIChhWzFdLnpJbmRleCA8IGJbMV0uekluZGV4KSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG59O1xuXG5jb25zdCBjcm9wU1ZHID0gKGJsb2IsIGNyb3AgPSB7fSwgbWFya3VwLCBvcHRpb25zKSA9PlxuICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICBjb25zdCB7IGJhY2tncm91bmQgPSBudWxsIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIC8vIGxvYWQgYmxvYiBjb250ZW50cyBhbmQgd3JhcCBpbiBjcm9wIHN2Z1xuICAgICAgICBjb25zdCBmciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIGZyLm9ubG9hZGVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIGdldCBzdmcgdGV4dFxuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGZyLnJlc3VsdDtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIGVsZW1lbnQgd2l0aCBzdmcgYW5kIGdldCBzaXplXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgb3JpZ2luYWwuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjphYnNvbHV0ZTtwb2ludGVyLWV2ZW50czpub25lO3dpZHRoOjA7aGVpZ2h0OjA7dmlzaWJpbGl0eTpoaWRkZW47YDtcbiAgICAgICAgICAgIG9yaWdpbmFsLmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbE5vZGUgPSBvcmlnaW5hbC5xdWVyeVNlbGVjdG9yKCdzdmcnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3JpZ2luYWwpO1xuXG4gICAgICAgICAgICAvLyByZXF1ZXN0IGJvdW5kaW5nIGJveCBkaW1lbnNpb25zXG4gICAgICAgICAgICBjb25zdCBiQm94ID0gb3JpZ2luYWxOb2RlLmdldEJCb3goKTtcbiAgICAgICAgICAgIG9yaWdpbmFsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob3JpZ2luYWwpO1xuXG4gICAgICAgICAgICAvLyBnZXQgdGl0bGVcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlTm9kZSA9IG9yaWdpbmFsLnF1ZXJ5U2VsZWN0b3IoJ3RpdGxlJyk7XG5cbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBuZXcgaGVpZ2h0cyBhbmQgd2lkdGhzXG4gICAgICAgICAgICBjb25zdCB2aWV3Qm94QXR0cmlidXRlID0gb3JpZ2luYWxOb2RlLmdldEF0dHJpYnV0ZSgndmlld0JveCcpIHx8ICcnO1xuICAgICAgICAgICAgY29uc3Qgd2lkdGhBdHRyaWJ1dGUgPSBvcmlnaW5hbE5vZGUuZ2V0QXR0cmlidXRlKCd3aWR0aCcpIHx8ICcnO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0QXR0cmlidXRlID0gb3JpZ2luYWxOb2RlLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykgfHwgJyc7XG4gICAgICAgICAgICBsZXQgd2lkdGggPSBwYXJzZUZsb2F0KHdpZHRoQXR0cmlidXRlKSB8fCBudWxsO1xuICAgICAgICAgICAgbGV0IGhlaWdodCA9IHBhcnNlRmxvYXQoaGVpZ2h0QXR0cmlidXRlKSB8fCBudWxsO1xuICAgICAgICAgICAgY29uc3Qgd2lkdGhVbml0cyA9ICh3aWR0aEF0dHJpYnV0ZS5tYXRjaCgvW2Etel0rLykgfHwgW10pWzBdIHx8ICcnO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0VW5pdHMgPSAoaGVpZ2h0QXR0cmlidXRlLm1hdGNoKC9bYS16XSsvKSB8fCBbXSlbMF0gfHwgJyc7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgc2l6ZVxuICAgICAgICAgICAgY29uc3Qgdmlld0JveExpc3QgPSB2aWV3Qm94QXR0cmlidXRlLnNwbGl0KCcgJykubWFwKHBhcnNlRmxvYXQpO1xuICAgICAgICAgICAgY29uc3Qgdmlld0JveCA9IHZpZXdCb3hMaXN0Lmxlbmd0aFxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgIHg6IHZpZXdCb3hMaXN0WzBdLFxuICAgICAgICAgICAgICAgICAgICAgIHk6IHZpZXdCb3hMaXN0WzFdLFxuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB2aWV3Qm94TGlzdFsyXSxcbiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHZpZXdCb3hMaXN0WzNdLFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogYkJveDtcblxuICAgICAgICAgICAgbGV0IGltYWdlV2lkdGggPSB3aWR0aCAhPSBudWxsID8gd2lkdGggOiB2aWV3Qm94LndpZHRoO1xuICAgICAgICAgICAgbGV0IGltYWdlSGVpZ2h0ID0gaGVpZ2h0ICE9IG51bGwgPyBoZWlnaHQgOiB2aWV3Qm94LmhlaWdodDtcblxuICAgICAgICAgICAgb3JpZ2luYWxOb2RlLnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xuICAgICAgICAgICAgb3JpZ2luYWxOb2RlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBpbWFnZVdpZHRoKTtcbiAgICAgICAgICAgIG9yaWdpbmFsTm9kZS5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGltYWdlSGVpZ2h0KTtcblxuICAgICAgICAgICAgLy8gbWFya3VwXG4gICAgICAgICAgICBsZXQgbWFya3VwU1ZHID0gJyc7XG4gICAgICAgICAgICBpZiAobWFya3VwICYmIG1hcmt1cC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplID0ge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogaW1hZ2VXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBpbWFnZUhlaWdodCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG1hcmt1cFNWRyA9IG1hcmt1cC5zb3J0KHNvcnRNYXJrdXBCeVpJbmRleCkucmVkdWNlKChwcmV2LCBzaGFwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGNyZWF0ZU1hcmt1cEJ5VHlwZShzaGFwZVswXSwgc2hhcGVbMV0pO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVNYXJrdXBCeVR5cGUoZWwsIHNoYXBlWzBdLCBzaGFwZVsxXSwgc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLmdldEF0dHJpYnV0ZSgnb3BhY2l0eScpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ29wYWNpdHknKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldiArICdcXG4nICsgZWwub3V0ZXJIVE1MICsgJ1xcbic7XG4gICAgICAgICAgICAgICAgfSwgJycpO1xuICAgICAgICAgICAgICAgIG1hcmt1cFNWRyA9IGBcXG5cXG48Zz4ke21hcmt1cFNWRy5yZXBsYWNlKC8mbmJzcDsvZywgJyAnKX08L2c+XFxuXFxuYDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSBjcm9wLmFzcGVjdFJhdGlvIHx8IGltYWdlSGVpZ2h0IC8gaW1hZ2VXaWR0aDtcblxuICAgICAgICAgICAgY29uc3QgY2FudmFzV2lkdGggPSBpbWFnZVdpZHRoO1xuICAgICAgICAgICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gY2FudmFzV2lkdGggKiBhc3BlY3RSYXRpbztcblxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkTGltaXQgPSB0eXBlb2YgY3JvcC5zY2FsZVRvRml0ID09PSAndW5kZWZpbmVkJyB8fCBjcm9wLnNjYWxlVG9GaXQ7XG5cbiAgICAgICAgICAgIGNvbnN0IGNyb3BDZW50ZXJYID0gY3JvcC5jZW50ZXIgPyBjcm9wLmNlbnRlci54IDogMC41O1xuICAgICAgICAgICAgY29uc3QgY3JvcENlbnRlclkgPSBjcm9wLmNlbnRlciA/IGNyb3AuY2VudGVyLnkgOiAwLjU7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhbnZhc1pvb21GYWN0b3IgPSBnZXRJbWFnZVJlY3Rab29tRmFjdG9yKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGltYWdlV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogaW1hZ2VIZWlnaHQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRDZW50ZXJlZENyb3BSZWN0KFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogY2FudmFzV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNhbnZhc0hlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXNwZWN0UmF0aW9cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGNyb3Aucm90YXRpb24sXG4gICAgICAgICAgICAgICAgc2hvdWxkTGltaXRcbiAgICAgICAgICAgICAgICAgICAgPyB7IHg6IGNyb3BDZW50ZXJYLCB5OiBjcm9wQ2VudGVyWSB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB4OiAwLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHk6IDAuNSxcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IGNyb3Auem9vbSAqIGNhbnZhc1pvb21GYWN0b3I7XG5cbiAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uID0gY3JvcC5yb3RhdGlvbiAqICgxODAgLyBNYXRoLlBJKTtcblxuICAgICAgICAgICAgY29uc3QgY2FudmFzQ2VudGVyID0ge1xuICAgICAgICAgICAgICAgIHg6IGNhbnZhc1dpZHRoICogMC41LFxuICAgICAgICAgICAgICAgIHk6IGNhbnZhc0hlaWdodCAqIDAuNSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGltYWdlT2Zmc2V0ID0ge1xuICAgICAgICAgICAgICAgIHg6IGNhbnZhc0NlbnRlci54IC0gaW1hZ2VXaWR0aCAqIGNyb3BDZW50ZXJYLFxuICAgICAgICAgICAgICAgIHk6IGNhbnZhc0NlbnRlci55IC0gaW1hZ2VIZWlnaHQgKiBjcm9wQ2VudGVyWSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGNyb3BUcmFuc2Zvcm1zID0gW1xuICAgICAgICAgICAgICAgIC8vIHJvdGF0ZVxuICAgICAgICAgICAgICAgIGByb3RhdGUoJHtyb3RhdGlvbn0gJHtjYW52YXNDZW50ZXIueH0gJHtjYW52YXNDZW50ZXIueX0pYCxcblxuICAgICAgICAgICAgICAgIC8vIHNjYWxlXG4gICAgICAgICAgICAgICAgYHRyYW5zbGF0ZSgke2NhbnZhc0NlbnRlci54fSAke2NhbnZhc0NlbnRlci55fSlgLFxuICAgICAgICAgICAgICAgIGBzY2FsZSgke3NjYWxlfSlgLFxuICAgICAgICAgICAgICAgIGB0cmFuc2xhdGUoJHstY2FudmFzQ2VudGVyLnh9ICR7LWNhbnZhc0NlbnRlci55fSlgLFxuXG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0XG4gICAgICAgICAgICAgICAgYHRyYW5zbGF0ZSgke2ltYWdlT2Zmc2V0Lnh9ICR7aW1hZ2VPZmZzZXQueX0pYCxcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGNvbnN0IGNyb3BGbGlwSG9yaXpvbnRhbCA9IGNyb3AuZmxpcCAmJiBjcm9wLmZsaXAuaG9yaXpvbnRhbDtcbiAgICAgICAgICAgIGNvbnN0IGNyb3BGbGlwVmVydGljYWwgPSBjcm9wLmZsaXAgJiYgY3JvcC5mbGlwLnZlcnRpY2FsO1xuXG4gICAgICAgICAgICBjb25zdCBmbGlwVHJhbnNmb3JtcyA9IFtcbiAgICAgICAgICAgICAgICBgc2NhbGUoJHtjcm9wRmxpcEhvcml6b250YWwgPyAtMSA6IDF9ICR7Y3JvcEZsaXBWZXJ0aWNhbCA/IC0xIDogMX0pYCxcbiAgICAgICAgICAgICAgICBgdHJhbnNsYXRlKCR7Y3JvcEZsaXBIb3Jpem9udGFsID8gLWltYWdlV2lkdGggOiAwfSAke1xuICAgICAgICAgICAgICAgICAgICBjcm9wRmxpcFZlcnRpY2FsID8gLWltYWdlSGVpZ2h0IDogMFxuICAgICAgICAgICAgICAgIH0pYCxcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIC8vIGNyb3BcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkID0gYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxuPHN2ZyB3aWR0aD1cIiR7Y2FudmFzV2lkdGh9JHt3aWR0aFVuaXRzfVwiIGhlaWdodD1cIiR7Y2FudmFzSGVpZ2h0fSR7aGVpZ2h0VW5pdHN9XCIgXG52aWV3Qm94PVwiMCAwICR7Y2FudmFzV2lkdGh9ICR7Y2FudmFzSGVpZ2h0fVwiICR7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZCA/ICdzdHlsZT1cImJhY2tncm91bmQ6JyArIGJhY2tncm91bmQgKyAnXCIgJyA6ICcnXG4gICAgICAgICAgICB9XG5wcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pbllNaW5cIlxueG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbnhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbjwhLS0gR2VuZXJhdGVkIGJ5IFBRSU5BIC0gaHR0cHM6Ly9wcWluYS5ubC8gLS0+XG48dGl0bGU+JHt0aXRsZU5vZGUgPyB0aXRsZU5vZGUudGV4dENvbnRlbnQgOiAnJ308L3RpdGxlPlxuPGcgdHJhbnNmb3JtPVwiJHtjcm9wVHJhbnNmb3Jtcy5qb2luKCcgJyl9XCI+XG48ZyB0cmFuc2Zvcm09XCIke2ZsaXBUcmFuc2Zvcm1zLmpvaW4oJyAnKX1cIj5cbiR7b3JpZ2luYWxOb2RlLm91dGVySFRNTH0ke21hcmt1cFNWR31cbjwvZz5cbjwvZz5cbjwvc3ZnPmA7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgc3ZnIGZpbGVcbiAgICAgICAgICAgIHJlc29sdmUodHJhbnNmb3JtZWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZyLnJlYWRBc1RleHQoYmxvYik7XG4gICAgfSk7XG5cbmNvbnN0IG9iamVjdFRvSW1hZ2VEYXRhID0gb2JqID0+IHtcbiAgICBsZXQgaW1hZ2VEYXRhO1xuICAgIHRyeSB7XG4gICAgICAgIGltYWdlRGF0YSA9IG5ldyBJbWFnZURhdGEob2JqLndpZHRoLCBvYmouaGVpZ2h0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIElFICsgT2xkIEVER0UgKHRlc3RlZCBvbiAxMilcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGltYWdlRGF0YSA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmNyZWF0ZUltYWdlRGF0YShvYmoud2lkdGgsIG9iai5oZWlnaHQpO1xuICAgIH1cbiAgICBpbWFnZURhdGEuZGF0YS5zZXQob2JqLmRhdGEpO1xuICAgIHJldHVybiBpbWFnZURhdGE7XG59O1xuXG4vKiBqYXZhc2NyaXB0LW9iZnVzY2F0b3I6ZGlzYWJsZSAqL1xuY29uc3QgVHJhbnNmb3JtV29ya2VyID0gKCkgPT4ge1xuICAgIC8vIG1hcHMgdHJhbnNmb3JtIHR5cGVzIHRvIHRyYW5zZm9ybSBmdW5jdGlvbnNcbiAgICBjb25zdCBUUkFOU0ZPUk1TID0geyByZXNpemUsIGZpbHRlciB9O1xuXG4gICAgLy8gYXBwbGllcyBhbGwgaW1hZ2UgdHJhbnNmb3JtcyB0byB0aGUgaW1hZ2UgZGF0YSBhcnJheVxuICAgIGNvbnN0IGFwcGx5VHJhbnNmb3JtcyA9ICh0cmFuc2Zvcm1zLCBpbWFnZURhdGEpID0+IHtcbiAgICAgICAgdHJhbnNmb3Jtcy5mb3JFYWNoKHRyYW5zZm9ybSA9PiB7XG4gICAgICAgICAgICBpbWFnZURhdGEgPSBUUkFOU0ZPUk1TW3RyYW5zZm9ybS50eXBlXShpbWFnZURhdGEsIHRyYW5zZm9ybS5kYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpbWFnZURhdGE7XG4gICAgfTtcblxuICAgIC8vIHRyYW5zZm9ybSBpbWFnZSBodWJcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSAoZGF0YSwgY2IpID0+IHtcbiAgICAgICAgbGV0IHRyYW5zZm9ybXMgPSBkYXRhLnRyYW5zZm9ybXM7XG5cbiAgICAgICAgLy8gaWYgaGFzIGZpbHRlciBhbmQgaGFzIHJlc2l6ZSwgbW92ZSBmaWx0ZXIgdG8gcmVzaXplIG9wZXJhdGlvblxuICAgICAgICBsZXQgZmlsdGVyVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdHJhbnNmb3Jtcy5mb3JFYWNoKHRyYW5zZm9ybSA9PiB7XG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtLnR5cGUgPT09ICdmaWx0ZXInKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyVHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZpbHRlclRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gZmluZCByZXNpemVcbiAgICAgICAgICAgIGxldCByZXNpemVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICAgICAgdHJhbnNmb3Jtcy5mb3JFYWNoKHRyYW5zZm9ybSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybS50eXBlID09PSAncmVzaXplJykge1xuICAgICAgICAgICAgICAgICAgICByZXNpemVUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChyZXNpemVUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcmVzaXplIG9wZXJhdGlvblxuICAgICAgICAgICAgICAgIHJlc2l6ZVRyYW5zZm9ybS5kYXRhLm1hdHJpeCA9IGZpbHRlclRyYW5zZm9ybS5kYXRhO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGZpbHRlclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybXMgPSB0cmFuc2Zvcm1zLmZpbHRlcih0cmFuc2Zvcm0gPT4gdHJhbnNmb3JtLnR5cGUgIT09ICdmaWx0ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNiKGFwcGx5VHJhbnNmb3Jtcyh0cmFuc2Zvcm1zLCBkYXRhLmltYWdlRGF0YSkpO1xuICAgIH07XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gICAgc2VsZi5vbm1lc3NhZ2UgPSBlID0+IHtcbiAgICAgICAgdHJhbnNmb3JtKGUuZGF0YS5tZXNzYWdlLCByZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCwgbWVzc2FnZTogcmVzcG9uc2UgfSwgW3Jlc3BvbnNlLmRhdGEuYnVmZmVyXSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBiciA9IDEuMDtcbiAgICBjb25zdCBiZyA9IDEuMDtcbiAgICBjb25zdCBiYiA9IDEuMDtcbiAgICBmdW5jdGlvbiBhcHBseUZpbHRlck1hdHJpeChpbmRleCwgZGF0YSwgbSkge1xuICAgICAgICBjb25zdCBpciA9IGRhdGFbaW5kZXhdIC8gMjU1O1xuICAgICAgICBjb25zdCBpZyA9IGRhdGFbaW5kZXggKyAxXSAvIDI1NTtcbiAgICAgICAgY29uc3QgaWIgPSBkYXRhW2luZGV4ICsgMl0gLyAyNTU7XG4gICAgICAgIGNvbnN0IGlhID0gZGF0YVtpbmRleCArIDNdIC8gMjU1O1xuXG4gICAgICAgIGNvbnN0IG1yID0gaXIgKiBtWzBdICsgaWcgKiBtWzFdICsgaWIgKiBtWzJdICsgaWEgKiBtWzNdICsgbVs0XTtcbiAgICAgICAgY29uc3QgbWcgPSBpciAqIG1bNV0gKyBpZyAqIG1bNl0gKyBpYiAqIG1bN10gKyBpYSAqIG1bOF0gKyBtWzldO1xuICAgICAgICBjb25zdCBtYiA9IGlyICogbVsxMF0gKyBpZyAqIG1bMTFdICsgaWIgKiBtWzEyXSArIGlhICogbVsxM10gKyBtWzE0XTtcbiAgICAgICAgY29uc3QgbWEgPSBpciAqIG1bMTVdICsgaWcgKiBtWzE2XSArIGliICogbVsxN10gKyBpYSAqIG1bMThdICsgbVsxOV07XG5cbiAgICAgICAgY29uc3Qgb3IgPSBNYXRoLm1heCgwLCBtciAqIG1hKSArIGJyICogKDEuMCAtIG1hKTtcbiAgICAgICAgY29uc3Qgb2cgPSBNYXRoLm1heCgwLCBtZyAqIG1hKSArIGJnICogKDEuMCAtIG1hKTtcbiAgICAgICAgY29uc3Qgb2IgPSBNYXRoLm1heCgwLCBtYiAqIG1hKSArIGJiICogKDEuMCAtIG1hKTtcblxuICAgICAgICBkYXRhW2luZGV4XSA9IE1hdGgubWF4KDAuMCwgTWF0aC5taW4oMS4wLCBvcikpICogMjU1O1xuICAgICAgICBkYXRhW2luZGV4ICsgMV0gPSBNYXRoLm1heCgwLjAsIE1hdGgubWluKDEuMCwgb2cpKSAqIDI1NTtcbiAgICAgICAgZGF0YVtpbmRleCArIDJdID0gTWF0aC5tYXgoMC4wLCBNYXRoLm1pbigxLjAsIG9iKSkgKiAyNTU7XG4gICAgfVxuXG4gICAgY29uc3QgaWRlbnRpdHlNYXRyaXggPSBzZWxmLkpTT04uc3RyaW5naWZ5KFtcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICBdKTtcbiAgICBmdW5jdGlvbiBpc0lkZW50aXR5TWF0cml4KGZpbHRlcikge1xuICAgICAgICByZXR1cm4gc2VsZi5KU09OLnN0cmluZ2lmeShmaWx0ZXIgfHwgW10pID09PSBpZGVudGl0eU1hdHJpeDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaWx0ZXIoaW1hZ2VEYXRhLCBtYXRyaXgpIHtcbiAgICAgICAgaWYgKCFtYXRyaXggfHwgaXNJZGVudGl0eU1hdHJpeChtYXRyaXgpKSByZXR1cm4gaW1hZ2VEYXRhO1xuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcbiAgICAgICAgY29uc3QgbCA9IGRhdGEubGVuZ3RoO1xuXG4gICAgICAgIGNvbnN0IG0xMSA9IG1hdHJpeFswXTtcbiAgICAgICAgY29uc3QgbTEyID0gbWF0cml4WzFdO1xuICAgICAgICBjb25zdCBtMTMgPSBtYXRyaXhbMl07XG4gICAgICAgIGNvbnN0IG0xNCA9IG1hdHJpeFszXTtcbiAgICAgICAgY29uc3QgbTE1ID0gbWF0cml4WzRdO1xuXG4gICAgICAgIGNvbnN0IG0yMSA9IG1hdHJpeFs1XTtcbiAgICAgICAgY29uc3QgbTIyID0gbWF0cml4WzZdO1xuICAgICAgICBjb25zdCBtMjMgPSBtYXRyaXhbN107XG4gICAgICAgIGNvbnN0IG0yNCA9IG1hdHJpeFs4XTtcbiAgICAgICAgY29uc3QgbTI1ID0gbWF0cml4WzldO1xuXG4gICAgICAgIGNvbnN0IG0zMSA9IG1hdHJpeFsxMF07XG4gICAgICAgIGNvbnN0IG0zMiA9IG1hdHJpeFsxMV07XG4gICAgICAgIGNvbnN0IG0zMyA9IG1hdHJpeFsxMl07XG4gICAgICAgIGNvbnN0IG0zNCA9IG1hdHJpeFsxM107XG4gICAgICAgIGNvbnN0IG0zNSA9IG1hdHJpeFsxNF07XG5cbiAgICAgICAgY29uc3QgbTQxID0gbWF0cml4WzE1XTtcbiAgICAgICAgY29uc3QgbTQyID0gbWF0cml4WzE2XTtcbiAgICAgICAgY29uc3QgbTQzID0gbWF0cml4WzE3XTtcbiAgICAgICAgY29uc3QgbTQ0ID0gbWF0cml4WzE4XTtcbiAgICAgICAgY29uc3QgbTQ1ID0gbWF0cml4WzE5XTtcblxuICAgICAgICBsZXQgaW5kZXggPSAwLFxuICAgICAgICAgICAgciA9IDAuMCxcbiAgICAgICAgICAgIGcgPSAwLjAsXG4gICAgICAgICAgICBiID0gMC4wLFxuICAgICAgICAgICAgYSA9IDAuMCxcbiAgICAgICAgICAgIG1yID0gMC4wLFxuICAgICAgICAgICAgbWcgPSAwLjAsXG4gICAgICAgICAgICBtYiA9IDAuMCxcbiAgICAgICAgICAgIG1hID0gMC4wLFxuICAgICAgICAgICAgb3IgPSAwLjAsXG4gICAgICAgICAgICBvZyA9IDAuMCxcbiAgICAgICAgICAgIG9iID0gMC4wO1xuXG4gICAgICAgIGZvciAoOyBpbmRleCA8IGw7IGluZGV4ICs9IDQpIHtcbiAgICAgICAgICAgIHIgPSBkYXRhW2luZGV4XSAvIDI1NTtcbiAgICAgICAgICAgIGcgPSBkYXRhW2luZGV4ICsgMV0gLyAyNTU7XG4gICAgICAgICAgICBiID0gZGF0YVtpbmRleCArIDJdIC8gMjU1O1xuICAgICAgICAgICAgYSA9IGRhdGFbaW5kZXggKyAzXSAvIDI1NTtcblxuICAgICAgICAgICAgbXIgPSByICogbTExICsgZyAqIG0xMiArIGIgKiBtMTMgKyBhICogbTE0ICsgbTE1O1xuICAgICAgICAgICAgbWcgPSByICogbTIxICsgZyAqIG0yMiArIGIgKiBtMjMgKyBhICogbTI0ICsgbTI1O1xuICAgICAgICAgICAgbWIgPSByICogbTMxICsgZyAqIG0zMiArIGIgKiBtMzMgKyBhICogbTM0ICsgbTM1O1xuICAgICAgICAgICAgbWEgPSByICogbTQxICsgZyAqIG00MiArIGIgKiBtNDMgKyBhICogbTQ0ICsgbTQ1O1xuXG4gICAgICAgICAgICBvciA9IE1hdGgubWF4KDAsIG1yICogbWEpICsgYnIgKiAoMS4wIC0gbWEpO1xuICAgICAgICAgICAgb2cgPSBNYXRoLm1heCgwLCBtZyAqIG1hKSArIGJnICogKDEuMCAtIG1hKTtcbiAgICAgICAgICAgIG9iID0gTWF0aC5tYXgoMCwgbWIgKiBtYSkgKyBiYiAqICgxLjAgLSBtYSk7XG5cbiAgICAgICAgICAgIGRhdGFbaW5kZXhdID0gTWF0aC5tYXgoMC4wLCBNYXRoLm1pbigxLjAsIG9yKSkgKiAyNTU7XG4gICAgICAgICAgICBkYXRhW2luZGV4ICsgMV0gPSBNYXRoLm1heCgwLjAsIE1hdGgubWluKDEuMCwgb2cpKSAqIDI1NTtcbiAgICAgICAgICAgIGRhdGFbaW5kZXggKyAyXSA9IE1hdGgubWF4KDAuMCwgTWF0aC5taW4oMS4wLCBvYikpICogMjU1O1xuICAgICAgICAgICAgLy8gZG9uJ3QgdXBkYXRlIGFscGhhIHZhbHVlXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW1hZ2VEYXRhO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZShpbWFnZURhdGEsIGRhdGEpIHtcbiAgICAgICAgbGV0IHsgbW9kZSA9ICdjb250YWluJywgdXBzY2FsZSA9IGZhbHNlLCB3aWR0aCwgaGVpZ2h0LCBtYXRyaXggfSA9IGRhdGE7XG5cbiAgICAgICAgLy8gdGVzdCBpZiBpcyBpZGVudGl0eSBtYXRyaXhcbiAgICAgICAgbWF0cml4ID0gIW1hdHJpeCB8fCBpc0lkZW50aXR5TWF0cml4KG1hdHJpeCkgPyBudWxsIDogbWF0cml4O1xuXG4gICAgICAgIC8vIG5lZWQgYXQgbGVhc3QgYSB3aWR0aCBvciBhIGhlaWdodFxuICAgICAgICAvLyBhbHNvIDAgaXMgbm90IGEgdmFsaWQgd2lkdGggb3IgaGVpZ2h0XG4gICAgICAgIGlmICghd2lkdGggJiYgIWhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcihpbWFnZURhdGEsIG1hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIGJvdW5kcyBhcmUgc2V0XG4gICAgICAgIGlmICh3aWR0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgd2lkdGggPSBoZWlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaGVpZ2h0ID09PSBudWxsKSB7XG4gICAgICAgICAgICBoZWlnaHQgPSB3aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb2RlICE9PSAnZm9yY2UnKSB7XG4gICAgICAgICAgICBsZXQgc2NhbGFyV2lkdGggPSB3aWR0aCAvIGltYWdlRGF0YS53aWR0aDtcbiAgICAgICAgICAgIGxldCBzY2FsYXJIZWlnaHQgPSBoZWlnaHQgLyBpbWFnZURhdGEuaGVpZ2h0O1xuICAgICAgICAgICAgbGV0IHNjYWxhciA9IDE7XG5cbiAgICAgICAgICAgIGlmIChtb2RlID09PSAnY292ZXInKSB7XG4gICAgICAgICAgICAgICAgc2NhbGFyID0gTWF0aC5tYXgoc2NhbGFyV2lkdGgsIHNjYWxhckhlaWdodCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdjb250YWluJykge1xuICAgICAgICAgICAgICAgIHNjYWxhciA9IE1hdGgubWluKHNjYWxhcldpZHRoLCBzY2FsYXJIZWlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiBpbWFnZSBpcyB0b28gc21hbGwsIGV4aXQgaGVyZSB3aXRoIG9yaWdpbmFsIGltYWdlXG4gICAgICAgICAgICBpZiAoc2NhbGFyID4gMSAmJiB1cHNjYWxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXIoaW1hZ2VEYXRhLCBtYXRyaXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aWR0aCA9IGltYWdlRGF0YS53aWR0aCAqIHNjYWxhcjtcbiAgICAgICAgICAgIGhlaWdodCA9IGltYWdlRGF0YS5oZWlnaHQgKiBzY2FsYXI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvcmlnaW5XaWR0aCA9IGltYWdlRGF0YS53aWR0aDtcbiAgICAgICAgY29uc3Qgb3JpZ2luSGVpZ2h0ID0gaW1hZ2VEYXRhLmhlaWdodDtcbiAgICAgICAgY29uc3QgdGFyZ2V0V2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuICAgICAgICBjb25zdCBpbnB1dERhdGEgPSBpbWFnZURhdGEuZGF0YTtcbiAgICAgICAgY29uc3Qgb3V0cHV0RGF0YSA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh0YXJnZXRXaWR0aCAqIHRhcmdldEhlaWdodCAqIDQpO1xuICAgICAgICBjb25zdCByYXRpb1dpZHRoID0gb3JpZ2luV2lkdGggLyB0YXJnZXRXaWR0aDtcbiAgICAgICAgY29uc3QgcmF0aW9IZWlnaHQgPSBvcmlnaW5IZWlnaHQgLyB0YXJnZXRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHJhdGlvV2lkdGhIYWxmID0gTWF0aC5jZWlsKHJhdGlvV2lkdGggKiAwLjUpO1xuICAgICAgICBjb25zdCByYXRpb0hlaWdodEhhbGYgPSBNYXRoLmNlaWwocmF0aW9IZWlnaHQgKiAwLjUpO1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGFyZ2V0SGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0V2lkdGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCB4MiA9IChpICsgaiAqIHRhcmdldFdpZHRoKSAqIDQ7XG4gICAgICAgICAgICAgICAgbGV0IHdlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHdlaWdodHMgPSAwO1xuICAgICAgICAgICAgICAgIGxldCB3ZWlnaHRzQWxwaGEgPSAwO1xuICAgICAgICAgICAgICAgIGxldCByID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgZyA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IGIgPSAwO1xuICAgICAgICAgICAgICAgIGxldCBhID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgY2VudGVyWSA9IChqICsgMC41KSAqIHJhdGlvSGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeXkgPSBNYXRoLmZsb29yKGogKiByYXRpb0hlaWdodCk7IHl5IDwgKGogKyAxKSAqIHJhdGlvSGVpZ2h0OyB5eSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkeSA9IE1hdGguYWJzKGNlbnRlclkgLSAoeXkgKyAwLjUpKSAvIHJhdGlvSGVpZ2h0SGFsZjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbnRlclggPSAoaSArIDAuNSkgKiByYXRpb1dpZHRoO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdzAgPSBkeSAqIGR5O1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHh4ID0gTWF0aC5mbG9vcihpICogcmF0aW9XaWR0aCk7IHh4IDwgKGkgKyAxKSAqIHJhdGlvV2lkdGg7IHh4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkeCA9IE1hdGguYWJzKGNlbnRlclggLSAoeHggKyAwLjUpKSAvIHJhdGlvV2lkdGhIYWxmO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHcgPSBNYXRoLnNxcnQodzAgKyBkeCAqIGR4KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcgPj0gLTEgJiYgdyA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0ID0gMiAqIHcgKiB3ICogdyAtIDMgKiB3ICogdyArIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2VpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkeCA9IDQgKiAoeHggKyB5eSAqIG9yaWdpbldpZHRoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVmID0gaW5wdXREYXRhW2R4ICsgM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgKz0gd2VpZ2h0ICogcmVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHRzQWxwaGEgKz0gd2VpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWYgPCAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodCA9ICh3ZWlnaHQgKiByZWYpIC8gMjUwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciArPSB3ZWlnaHQgKiBpbnB1dERhdGFbZHhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnICs9IHdlaWdodCAqIGlucHV0RGF0YVtkeCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiICs9IHdlaWdodCAqIGlucHV0RGF0YVtkeCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHRzICs9IHdlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvdXRwdXREYXRhW3gyXSA9IHIgLyB3ZWlnaHRzO1xuICAgICAgICAgICAgICAgIG91dHB1dERhdGFbeDIgKyAxXSA9IGcgLyB3ZWlnaHRzO1xuICAgICAgICAgICAgICAgIG91dHB1dERhdGFbeDIgKyAyXSA9IGIgLyB3ZWlnaHRzO1xuICAgICAgICAgICAgICAgIG91dHB1dERhdGFbeDIgKyAzXSA9IGEgLyB3ZWlnaHRzQWxwaGE7XG5cbiAgICAgICAgICAgICAgICBtYXRyaXggJiYgYXBwbHlGaWx0ZXJNYXRyaXgoeDIsIG91dHB1dERhdGEsIG1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogb3V0cHV0RGF0YSxcbiAgICAgICAgICAgIHdpZHRoOiB0YXJnZXRXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGFyZ2V0SGVpZ2h0LFxuICAgICAgICB9O1xuICAgIH1cbn07XG4vKiBqYXZhc2NyaXB0LW9iZnVzY2F0b3I6ZW5hYmxlICovXG5cbmNvbnN0IGNvcnJlY3RPcmllbnRhdGlvbiA9ICh2aWV3LCBvZmZzZXQpID0+IHtcbiAgICAvLyBNaXNzaW5nIDB4NDU3ODY5NjYgTWFya2VyPyBObyBFeGlmIEhlYWRlciwgc3RvcCBoZXJlXG4gICAgaWYgKHZpZXcuZ2V0VWludDMyKG9mZnNldCArIDQsIGZhbHNlKSAhPT0gMHg0NTc4Njk2NikgcmV0dXJuO1xuXG4gICAgLy8gbmV4dCBieXRlIVxuICAgIG9mZnNldCArPSA0O1xuXG4gICAgLy8gRmlyc3QgMmJ5dGVzIGRlZmluZXMgYnl0ZSBhbGlnbiBvZiBUSUZGIGRhdGEuXG4gICAgLy8gSWYgaXQgaXMgMHg0OTQ5PVwiSSBJXCIsIGl0IG1lYW5zIFwiSW50ZWxcIiB0eXBlIGJ5dGUgYWxpZ25cbiAgICBjb25zdCBpbnRlbEJ5dGVBbGlnbmVkID0gdmlldy5nZXRVaW50MTYoKG9mZnNldCArPSA2KSwgZmFsc2UpID09PSAweDQ5NDk7XG4gICAgb2Zmc2V0ICs9IHZpZXcuZ2V0VWludDMyKG9mZnNldCArIDQsIGludGVsQnl0ZUFsaWduZWQpO1xuXG4gICAgY29uc3QgdGFncyA9IHZpZXcuZ2V0VWludDE2KG9mZnNldCwgaW50ZWxCeXRlQWxpZ25lZCk7XG4gICAgb2Zmc2V0ICs9IDI7XG5cbiAgICAvLyBmaW5kIE9yaWVudGF0aW9uIHRhZ1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFnczsgaSsrKSB7XG4gICAgICAgIGlmICh2aWV3LmdldFVpbnQxNihvZmZzZXQgKyBpICogMTIsIGludGVsQnl0ZUFsaWduZWQpID09PSAweDAxMTIpIHtcbiAgICAgICAgICAgIHZpZXcuc2V0VWludDE2KG9mZnNldCArIGkgKiAxMiArIDgsIDEsIGludGVsQnl0ZUFsaWduZWQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29uc3QgcmVhZERhdGEgPSBkYXRhID0+IHtcbiAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGRhdGEpO1xuXG4gICAgLy8gRXZlcnkgSlBFRyBmaWxlIHN0YXJ0cyBmcm9tIGJpbmFyeSB2YWx1ZSAnMHhGRkQ4J1xuICAgIC8vIElmIGl0J3Mgbm90IHByZXNlbnQsIGV4aXQgaGVyZVxuICAgIGlmICh2aWV3LmdldFVpbnQxNigwKSAhPT0gMHhmZmQ4KSByZXR1cm4gbnVsbDtcblxuICAgIGxldCBvZmZzZXQgPSAyOyAvLyBTdGFydCBhdCAyIGFzIHdlIHNraXBwZWQgdHdvIGJ5dGVzIChGRkQ4KVxuICAgIGxldCBtYXJrZXI7XG4gICAgbGV0IG1hcmtlckxlbmd0aDtcbiAgICBsZXQgb3JpZW50YXRpb25Db3JyZWN0ZWQgPSBmYWxzZTtcblxuICAgIHdoaWxlIChvZmZzZXQgPCB2aWV3LmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgbWFya2VyID0gdmlldy5nZXRVaW50MTYob2Zmc2V0LCBmYWxzZSk7XG4gICAgICAgIG1hcmtlckxlbmd0aCA9IHZpZXcuZ2V0VWludDE2KG9mZnNldCArIDIsIGZhbHNlKSArIDI7XG5cbiAgICAgICAgLy8gVGVzdCBpZiBpcyBBUFAgYW5kIENPTSBtYXJrZXJzXG4gICAgICAgIGNvbnN0IGlzRGF0YSA9IChtYXJrZXIgPj0gMHhmZmUwICYmIG1hcmtlciA8PSAweGZmZWYpIHx8IG1hcmtlciA9PT0gMHhmZmZlO1xuICAgICAgICBpZiAoIWlzRGF0YSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9yaWVudGF0aW9uQ29ycmVjdGVkKSB7XG4gICAgICAgICAgICBvcmllbnRhdGlvbkNvcnJlY3RlZCA9IGNvcnJlY3RPcmllbnRhdGlvbih2aWV3LCBvZmZzZXQsIG1hcmtlckxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob2Zmc2V0ICsgbWFya2VyTGVuZ3RoID4gdmlldy5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIG9mZnNldCArPSBtYXJrZXJMZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBkYXRhLnNsaWNlKDAsIG9mZnNldCk7XG59O1xuXG5jb25zdCBnZXRJbWFnZUhlYWQgPSBmaWxlID0+XG4gICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKHJlYWREYXRhKHJlYWRlci5yZXN1bHQpIHx8IG51bGwpO1xuICAgICAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZS5zbGljZSgwLCAyNTYgKiAxMDI0KSk7XG4gICAgfSk7XG5cbmNvbnN0IGdldEJsb2JCdWlsZGVyID0gKCkgPT4ge1xuICAgIHJldHVybiAod2luZG93LkJsb2JCdWlsZGVyID1cbiAgICAgICAgd2luZG93LkJsb2JCdWlsZGVyIHx8XG4gICAgICAgIHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlciB8fFxuICAgICAgICB3aW5kb3cuTW96QmxvYkJ1aWxkZXIgfHxcbiAgICAgICAgd2luZG93Lk1TQmxvYkJ1aWxkZXIpO1xufTtcblxuY29uc3QgY3JlYXRlQmxvYiA9IChhcnJheUJ1ZmZlciwgbWltZVR5cGUpID0+IHtcbiAgICBjb25zdCBCQiA9IGdldEJsb2JCdWlsZGVyKCk7XG5cbiAgICBpZiAoQkIpIHtcbiAgICAgICAgY29uc3QgYmIgPSBuZXcgQkIoKTtcbiAgICAgICAgYmIuYXBwZW5kKGFycmF5QnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIGJiLmdldEJsb2IobWltZVR5cGUpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQmxvYihbYXJyYXlCdWZmZXJdLCB7XG4gICAgICAgIHR5cGU6IG1pbWVUeXBlLFxuICAgIH0pO1xufTtcblxuY29uc3QgZ2V0VW5pcXVlSWQgPSAoKSA9PlxuICAgIE1hdGgucmFuZG9tKClcbiAgICAgICAgLnRvU3RyaW5nKDM2KVxuICAgICAgICAuc3Vic3RyKDIsIDkpO1xuXG5jb25zdCBjcmVhdGVXb3JrZXIgPSBmbiA9PiB7XG4gICAgY29uc3Qgd29ya2VyQmxvYiA9IG5ldyBCbG9iKFsnKCcsIGZuLnRvU3RyaW5nKCksICcpKCknXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vamF2YXNjcmlwdCcgfSk7XG4gICAgY29uc3Qgd29ya2VyVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh3b3JrZXJCbG9iKTtcbiAgICBjb25zdCB3b3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlclVSTCk7XG5cbiAgICBjb25zdCB0cmlwcyA9IFtdO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNmZXI6ICgpID0+IHt9LCAvLyAobWVzc2FnZSwgY2IpID0+IHt9XG4gICAgICAgIHBvc3Q6IChtZXNzYWdlLCBjYiwgdHJhbnNmZXJMaXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGdldFVuaXF1ZUlkKCk7XG4gICAgICAgICAgICB0cmlwc1tpZF0gPSBjYjtcblxuICAgICAgICAgICAgd29ya2VyLm9ubWVzc2FnZSA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNiID0gdHJpcHNbZS5kYXRhLmlkXTtcbiAgICAgICAgICAgICAgICBpZiAoIWNiKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY2IoZS5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0cmlwc1tlLmRhdGEuaWRdO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cmFuc2Zlckxpc3RcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIHRlcm1pbmF0ZTogKCkgPT4ge1xuICAgICAgICAgICAgd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh3b3JrZXJVUkwpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuXG5jb25zdCBsb2FkSW1hZ2UgPSB1cmwgPT5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgICB9O1xuICAgICAgICBpbWcub25lcnJvciA9IGUgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9O1xuICAgICAgICBpbWcuc3JjID0gdXJsO1xuICAgIH0pO1xuXG5jb25zdCBjaGFpbiA9IGZ1bmNzID0+XG4gICAgZnVuY3MucmVkdWNlKFxuICAgICAgICAocHJvbWlzZSwgZnVuYykgPT4gcHJvbWlzZS50aGVuKHJlc3VsdCA9PiBmdW5jKCkudGhlbihBcnJheS5wcm90b3R5cGUuY29uY2F0LmJpbmQocmVzdWx0KSkpLFxuICAgICAgICBQcm9taXNlLnJlc29sdmUoW10pXG4gICAgKTtcblxuY29uc3QgY2FudmFzQXBwbHlNYXJrdXAgPSAoY2FudmFzLCBtYXJrdXApID0+XG4gICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGNvbnN0IHNpemUgPSB7XG4gICAgICAgICAgICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0LFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIGNvbnN0IGRyYXdlcnMgPSBtYXJrdXAuc29ydChzb3J0TWFya3VwQnlaSW5kZXgpLm1hcChpdGVtID0+ICgpID0+XG4gICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBUWVBFX0RSQVdfUk9VVEVTW2l0ZW1bMF1dKGN0eCwgc2l6ZSwgaXRlbVsxXSwgcmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICBjaGFpbihkcmF3ZXJzKS50aGVuKCgpID0+IHJlc29sdmUoY2FudmFzKSk7XG4gICAgfSk7XG5cbmNvbnN0IGFwcGx5TWFya3VwU3R5bGVzID0gKGN0eCwgc3R5bGVzKSA9PiB7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5saW5lQ2FwID0gc3R5bGVzWydzdHJva2UtbGluZWNhcCddO1xuICAgIGN0eC5saW5lSm9pbiA9IHN0eWxlc1snc3Ryb2tlLWxpbmVqb2luJ107XG4gICAgY3R4LmxpbmVXaWR0aCA9IHN0eWxlc1snc3Ryb2tlLXdpZHRoJ107XG4gICAgaWYgKHN0eWxlc1snc3Ryb2tlLWRhc2hhcnJheSddLmxlbmd0aCkge1xuICAgICAgICBjdHguc2V0TGluZURhc2goc3R5bGVzWydzdHJva2UtZGFzaGFycmF5J10uc3BsaXQoJywnKSk7XG4gICAgfVxuICAgIGN0eC5maWxsU3R5bGUgPSBzdHlsZXNbJ2ZpbGwnXTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHlsZXNbJ3N0cm9rZSddO1xuICAgIGN0eC5nbG9iYWxBbHBoYSA9IHN0eWxlcy5vcGFjaXR5IHx8IDE7XG59O1xuXG5jb25zdCBkcmF3TWFya3VwU3R5bGVzID0gY3R4ID0+IHtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xufTtcblxuY29uc3QgZHJhd1JlY3QgPSAoY3R4LCBzaXplLCBtYXJrdXApID0+IHtcbiAgICBjb25zdCByZWN0ID0gZ2V0TWFya3VwUmVjdChtYXJrdXAsIHNpemUpO1xuICAgIGNvbnN0IHN0eWxlcyA9IGdldE1hcmt1cFN0eWxlcyhtYXJrdXAsIHNpemUpO1xuICAgIGFwcGx5TWFya3VwU3R5bGVzKGN0eCwgc3R5bGVzKTtcbiAgICBjdHgucmVjdChyZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpO1xuICAgIGRyYXdNYXJrdXBTdHlsZXMoY3R4LCBzdHlsZXMpO1xuICAgIHJldHVybiB0cnVlO1xufTtcblxuY29uc3QgZHJhd0VsbGlwc2UgPSAoY3R4LCBzaXplLCBtYXJrdXApID0+IHtcbiAgICBjb25zdCByZWN0ID0gZ2V0TWFya3VwUmVjdChtYXJrdXAsIHNpemUpO1xuICAgIGNvbnN0IHN0eWxlcyA9IGdldE1hcmt1cFN0eWxlcyhtYXJrdXAsIHNpemUpO1xuICAgIGFwcGx5TWFya3VwU3R5bGVzKGN0eCwgc3R5bGVzKTtcblxuICAgIGNvbnN0IHggPSByZWN0LngsXG4gICAgICAgIHkgPSByZWN0LnksXG4gICAgICAgIHcgPSByZWN0LndpZHRoLFxuICAgICAgICBoID0gcmVjdC5oZWlnaHQsXG4gICAgICAgIGthcHBhID0gMC41NTIyODQ4LFxuICAgICAgICBveCA9ICh3IC8gMikgKiBrYXBwYSxcbiAgICAgICAgb3kgPSAoaCAvIDIpICoga2FwcGEsXG4gICAgICAgIHhlID0geCArIHcsXG4gICAgICAgIHllID0geSArIGgsXG4gICAgICAgIHhtID0geCArIHcgLyAyLFxuICAgICAgICB5bSA9IHkgKyBoIC8gMjtcblxuICAgIGN0eC5tb3ZlVG8oeCwgeW0pO1xuICAgIGN0eC5iZXppZXJDdXJ2ZVRvKHgsIHltIC0gb3ksIHhtIC0gb3gsIHksIHhtLCB5KTtcbiAgICBjdHguYmV6aWVyQ3VydmVUbyh4bSArIG94LCB5LCB4ZSwgeW0gLSBveSwgeGUsIHltKTtcbiAgICBjdHguYmV6aWVyQ3VydmVUbyh4ZSwgeW0gKyBveSwgeG0gKyBveCwgeWUsIHhtLCB5ZSk7XG4gICAgY3R4LmJlemllckN1cnZlVG8oeG0gLSBveCwgeWUsIHgsIHltICsgb3ksIHgsIHltKTtcblxuICAgIGRyYXdNYXJrdXBTdHlsZXMoY3R4LCBzdHlsZXMpO1xuICAgIHJldHVybiB0cnVlO1xufTtcblxuY29uc3QgZHJhd0ltYWdlID0gKGN0eCwgc2l6ZSwgbWFya3VwLCBkb25lKSA9PiB7XG4gICAgY29uc3QgcmVjdCA9IGdldE1hcmt1cFJlY3QobWFya3VwLCBzaXplKTtcbiAgICBjb25zdCBzdHlsZXMgPSBnZXRNYXJrdXBTdHlsZXMobWFya3VwLCBzaXplKTtcbiAgICBhcHBseU1hcmt1cFN0eWxlcyhjdHgsIHN0eWxlcyk7XG5cbiAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgLy8gaWYgaXMgY3Jvc3Mgb3JpZ2luIGltYWdlIGFkZCBjcm9zcyBvcmlnaW4gYXR0cmlidXRlXG4gICAgY29uc3QgaXNDcm9zc09yaWdpbkltYWdlID1cbiAgICAgICAgbmV3IFVSTChtYXJrdXAuc3JjLCB3aW5kb3cubG9jYXRpb24uaHJlZikub3JpZ2luICE9PSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuICAgIGlmIChpc0Nyb3NzT3JpZ2luSW1hZ2UpIGltYWdlLmNyb3NzT3JpZ2luID0gJyc7XG5cbiAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChtYXJrdXAuZml0ID09PSAnY292ZXInKSB7XG4gICAgICAgICAgICBjb25zdCBhciA9IHJlY3Qud2lkdGggLyByZWN0LmhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gYXIgPiAxID8gaW1hZ2Uud2lkdGggOiBpbWFnZS5oZWlnaHQgKiBhcjtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGFyID4gMSA/IGltYWdlLndpZHRoIC8gYXIgOiBpbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCB4ID0gaW1hZ2Uud2lkdGggKiAwLjUgLSB3aWR0aCAqIDAuNTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBpbWFnZS5oZWlnaHQgKiAwLjUgLSBoZWlnaHQgKiAwLjU7XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCByZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpO1xuICAgICAgICB9IGVsc2UgaWYgKG1hcmt1cC5maXQgPT09ICdjb250YWluJykge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGFyID0gTWF0aC5taW4ocmVjdC53aWR0aCAvIGltYWdlLndpZHRoLCByZWN0LmhlaWdodCAvIGltYWdlLmhlaWdodCk7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHNjYWxhciAqIGltYWdlLndpZHRoO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gc2NhbGFyICogaW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgeCA9IHJlY3QueCArIHJlY3Qud2lkdGggKiAwLjUgLSB3aWR0aCAqIDAuNTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSByZWN0LnkgKyByZWN0LmhlaWdodCAqIDAuNSAtIGhlaWdodCAqIDAuNTtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShcbiAgICAgICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgaW1hZ2Uud2lkdGgsXG4gICAgICAgICAgICAgICAgaW1hZ2UuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHJlY3QueCxcbiAgICAgICAgICAgICAgICByZWN0LnksXG4gICAgICAgICAgICAgICAgcmVjdC53aWR0aCxcbiAgICAgICAgICAgICAgICByZWN0LmhlaWdodFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRyYXdNYXJrdXBTdHlsZXMoY3R4LCBzdHlsZXMpO1xuICAgICAgICBkb25lKCk7XG4gICAgfTtcbiAgICBpbWFnZS5zcmMgPSBtYXJrdXAuc3JjO1xufTtcblxuY29uc3QgZHJhd1RleHQgPSAoY3R4LCBzaXplLCBtYXJrdXApID0+IHtcbiAgICBjb25zdCByZWN0ID0gZ2V0TWFya3VwUmVjdChtYXJrdXAsIHNpemUpO1xuICAgIGNvbnN0IHN0eWxlcyA9IGdldE1hcmt1cFN0eWxlcyhtYXJrdXAsIHNpemUpO1xuICAgIGFwcGx5TWFya3VwU3R5bGVzKGN0eCwgc3R5bGVzKTtcblxuICAgIGNvbnN0IGZvbnRTaXplID0gZ2V0TWFya3VwVmFsdWUobWFya3VwLmZvbnRTaXplLCBzaXplKTtcbiAgICBjb25zdCBmb250RmFtaWx5ID0gbWFya3VwLmZvbnRGYW1pbHkgfHwgJ3NhbnMtc2VyaWYnO1xuICAgIGNvbnN0IGZvbnRXZWlnaHQgPSBtYXJrdXAuZm9udFdlaWdodCB8fCAnbm9ybWFsJztcbiAgICBjb25zdCB0ZXh0QWxpZ24gPSBtYXJrdXAudGV4dEFsaWduIHx8ICdsZWZ0JztcblxuICAgIGN0eC5mb250ID0gYCR7Zm9udFdlaWdodH0gJHtmb250U2l6ZX1weCAke2ZvbnRGYW1pbHl9YDtcbiAgICBjdHgudGV4dEFsaWduID0gdGV4dEFsaWduO1xuICAgIGN0eC5maWxsVGV4dChtYXJrdXAudGV4dCwgcmVjdC54LCByZWN0LnkpO1xuXG4gICAgZHJhd01hcmt1cFN0eWxlcyhjdHgsIHN0eWxlcyk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBkcmF3UGF0aCA9IChjdHgsIHNpemUsIG1hcmt1cCkgPT4ge1xuICAgIGNvbnN0IHN0eWxlcyA9IGdldE1hcmt1cFN0eWxlcyhtYXJrdXAsIHNpemUpO1xuICAgIGFwcGx5TWFya3VwU3R5bGVzKGN0eCwgc3R5bGVzKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICBjb25zdCBwb2ludHMgPSBtYXJrdXAucG9pbnRzLm1hcChwb2ludCA9PiAoe1xuICAgICAgICB4OiBnZXRNYXJrdXBWYWx1ZShwb2ludC54LCBzaXplLCAxLCAnd2lkdGgnKSxcbiAgICAgICAgeTogZ2V0TWFya3VwVmFsdWUocG9pbnQueSwgc2l6ZSwgMSwgJ2hlaWdodCcpLFxuICAgIH0pKTtcblxuICAgIGN0eC5tb3ZlVG8ocG9pbnRzWzBdLngsIHBvaW50c1swXS55KTtcbiAgICBjb25zdCBsID0gcG9pbnRzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGw7IGkrKykge1xuICAgICAgICBjdHgubGluZVRvKHBvaW50c1tpXS54LCBwb2ludHNbaV0ueSk7XG4gICAgfVxuXG4gICAgZHJhd01hcmt1cFN0eWxlcyhjdHgsIHN0eWxlcyk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBkcmF3TGluZSA9IChjdHgsIHNpemUsIG1hcmt1cCkgPT4ge1xuICAgIGNvbnN0IHJlY3QgPSBnZXRNYXJrdXBSZWN0KG1hcmt1cCwgc2l6ZSk7XG4gICAgY29uc3Qgc3R5bGVzID0gZ2V0TWFya3VwU3R5bGVzKG1hcmt1cCwgc2l6ZSk7XG4gICAgYXBwbHlNYXJrdXBTdHlsZXMoY3R4LCBzdHlsZXMpO1xuXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgY29uc3Qgb3JpZ2luID0ge1xuICAgICAgICB4OiByZWN0LngsXG4gICAgICAgIHk6IHJlY3QueSxcbiAgICB9O1xuXG4gICAgY29uc3QgdGFyZ2V0ID0ge1xuICAgICAgICB4OiByZWN0LnggKyByZWN0LndpZHRoLFxuICAgICAgICB5OiByZWN0LnkgKyByZWN0LmhlaWdodCxcbiAgICB9O1xuXG4gICAgY3R4Lm1vdmVUbyhvcmlnaW4ueCwgb3JpZ2luLnkpO1xuICAgIGN0eC5saW5lVG8odGFyZ2V0LngsIHRhcmdldC55KTtcblxuICAgIGNvbnN0IHYgPSB2ZWN0b3JOb3JtYWxpemUoe1xuICAgICAgICB4OiB0YXJnZXQueCAtIG9yaWdpbi54LFxuICAgICAgICB5OiB0YXJnZXQueSAtIG9yaWdpbi55LFxuICAgIH0pO1xuXG4gICAgY29uc3QgbCA9IDAuMDQgKiBNYXRoLm1pbihzaXplLndpZHRoLCBzaXplLmhlaWdodCk7XG5cbiAgICBpZiAobWFya3VwLmxpbmVEZWNvcmF0aW9uLmluZGV4T2YoJ2Fycm93LWJlZ2luJykgIT09IC0xKSB7XG4gICAgICAgIGNvbnN0IGFycm93QmVnaW5Sb3RhdGlvblBvaW50ID0gdmVjdG9yTXVsdGlwbHkodiwgbCk7XG4gICAgICAgIGNvbnN0IGFycm93QmVnaW5DZW50ZXIgPSB2ZWN0b3JBZGQob3JpZ2luLCBhcnJvd0JlZ2luUm90YXRpb25Qb2ludCk7XG4gICAgICAgIGNvbnN0IGFycm93QmVnaW5BID0gdmVjdG9yUm90YXRlKG9yaWdpbiwgMiwgYXJyb3dCZWdpbkNlbnRlcik7XG4gICAgICAgIGNvbnN0IGFycm93QmVnaW5CID0gdmVjdG9yUm90YXRlKG9yaWdpbiwgLTIsIGFycm93QmVnaW5DZW50ZXIpO1xuXG4gICAgICAgIGN0eC5tb3ZlVG8oYXJyb3dCZWdpbkEueCwgYXJyb3dCZWdpbkEueSk7XG4gICAgICAgIGN0eC5saW5lVG8ob3JpZ2luLngsIG9yaWdpbi55KTtcbiAgICAgICAgY3R4LmxpbmVUbyhhcnJvd0JlZ2luQi54LCBhcnJvd0JlZ2luQi55KTtcbiAgICB9XG4gICAgaWYgKG1hcmt1cC5saW5lRGVjb3JhdGlvbi5pbmRleE9mKCdhcnJvdy1lbmQnKSAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgYXJyb3dFbmRSb3RhdGlvblBvaW50ID0gdmVjdG9yTXVsdGlwbHkodiwgLWwpO1xuICAgICAgICBjb25zdCBhcnJvd0VuZENlbnRlciA9IHZlY3RvckFkZCh0YXJnZXQsIGFycm93RW5kUm90YXRpb25Qb2ludCk7XG4gICAgICAgIGNvbnN0IGFycm93RW5kQSA9IHZlY3RvclJvdGF0ZSh0YXJnZXQsIDIsIGFycm93RW5kQ2VudGVyKTtcbiAgICAgICAgY29uc3QgYXJyb3dFbmRCID0gdmVjdG9yUm90YXRlKHRhcmdldCwgLTIsIGFycm93RW5kQ2VudGVyKTtcblxuICAgICAgICBjdHgubW92ZVRvKGFycm93RW5kQS54LCBhcnJvd0VuZEEueSk7XG4gICAgICAgIGN0eC5saW5lVG8odGFyZ2V0LngsIHRhcmdldC55KTtcbiAgICAgICAgY3R4LmxpbmVUbyhhcnJvd0VuZEIueCwgYXJyb3dFbmRCLnkpO1xuICAgIH1cblxuICAgIGRyYXdNYXJrdXBTdHlsZXMoY3R4LCBzdHlsZXMpO1xuICAgIHJldHVybiB0cnVlO1xufTtcblxuY29uc3QgVFlQRV9EUkFXX1JPVVRFUyA9IHtcbiAgICByZWN0OiBkcmF3UmVjdCxcbiAgICBlbGxpcHNlOiBkcmF3RWxsaXBzZSxcbiAgICBpbWFnZTogZHJhd0ltYWdlLFxuICAgIHRleHQ6IGRyYXdUZXh0LFxuICAgIGxpbmU6IGRyYXdMaW5lLFxuICAgIHBhdGg6IGRyYXdQYXRoLFxufTtcblxuY29uc3QgaW1hZ2VEYXRhVG9DYW52YXMgPSBpbWFnZURhdGEgPT4ge1xuICAgIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgaW1hZ2Uud2lkdGggPSBpbWFnZURhdGEud2lkdGg7XG4gICAgaW1hZ2UuaGVpZ2h0ID0gaW1hZ2VEYXRhLmhlaWdodDtcbiAgICBjb25zdCBjdHggPSBpbWFnZS5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcbiAgICByZXR1cm4gaW1hZ2U7XG59O1xuXG5jb25zdCB0cmFuc2Zvcm1JbWFnZSA9IChmaWxlLCBpbnN0cnVjdGlvbnMsIG9wdGlvbnMgPSB7fSkgPT5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIGlmIHRoZSBmaWxlIGlzIG5vdCBhbiBpbWFnZSB3ZSBkbyBub3QgaGF2ZSBhbnkgYnVzaW5lc3MgdHJhbnNmb3JtaW5nIGl0XG4gICAgICAgIGlmICghZmlsZSB8fCAhaXNJbWFnZSQxKGZpbGUpKSByZXR1cm4gcmVqZWN0KHsgc3RhdHVzOiAnbm90IGFuIGltYWdlIGZpbGUnLCBmaWxlIH0pO1xuXG4gICAgICAgIC8vIGdldCBzZXBhcmF0ZSBvcHRpb25zIGZvciBlYXNpZXIgdXNlXG4gICAgICAgIGNvbnN0IHsgc3RyaXBJbWFnZUhlYWQsIGJlZm9yZUNyZWF0ZUJsb2IsIGFmdGVyQ3JlYXRlQmxvYiwgY2FudmFzTWVtb3J5TGltaXQgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgLy8gZ2V0IGNyb3BcbiAgICAgICAgY29uc3QgeyBjcm9wLCBzaXplLCBmaWx0ZXIsIG1hcmt1cCwgb3V0cHV0IH0gPSBpbnN0cnVjdGlvbnM7XG5cbiAgICAgICAgLy8gZ2V0IGV4aWYgb3JpZW50YXRpb25cbiAgICAgICAgY29uc3Qgb3JpZW50YXRpb24gPVxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zLmltYWdlICYmIGluc3RydWN0aW9ucy5pbWFnZS5vcmllbnRhdGlvblxuICAgICAgICAgICAgICAgID8gTWF0aC5tYXgoMSwgTWF0aC5taW4oOCwgaW5zdHJ1Y3Rpb25zLmltYWdlLm9yaWVudGF0aW9uKSlcbiAgICAgICAgICAgICAgICA6IG51bGw7XG5cbiAgICAgICAgLy8gY29tcHJlc3Npb24gcXVhbGl0eSAwID0+IDEwMFxuICAgICAgICBjb25zdCBxdWFsaXR5QXNQZXJjZW50YWdlID0gb3V0cHV0ICYmIG91dHB1dC5xdWFsaXR5O1xuICAgICAgICBjb25zdCBxdWFsaXR5ID0gcXVhbGl0eUFzUGVyY2VudGFnZSA9PT0gbnVsbCA/IG51bGwgOiBxdWFsaXR5QXNQZXJjZW50YWdlIC8gMTAwO1xuXG4gICAgICAgIC8vIG91dHB1dCBmb3JtYXRcbiAgICAgICAgY29uc3QgdHlwZSA9IChvdXRwdXQgJiYgb3V0cHV0LnR5cGUpIHx8IG51bGw7XG5cbiAgICAgICAgLy8gYmFja2dyb3VuZCBjb2xvclxuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gKG91dHB1dCAmJiBvdXRwdXQuYmFja2dyb3VuZCkgfHwgbnVsbDtcblxuICAgICAgICAvLyBnZXQgdHJhbnNmb3Jtc1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1zID0gW107XG5cbiAgICAgICAgLy8gYWRkIHJlc2l6ZSB0cmFuc2Zvcm1zIGlmIHNldFxuICAgICAgICBpZiAoc2l6ZSAmJiAodHlwZW9mIHNpemUud2lkdGggPT09ICdudW1iZXInIHx8IHR5cGVvZiBzaXplLmhlaWdodCA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1zLnB1c2goeyB0eXBlOiAncmVzaXplJywgZGF0YTogc2l6ZSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBmaWx0ZXJzXG4gICAgICAgIGlmIChmaWx0ZXIgJiYgZmlsdGVyLmxlbmd0aCA9PT0gMjApIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybXMucHVzaCh7IHR5cGU6ICdmaWx0ZXInLCBkYXRhOiBmaWx0ZXIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNvbHZlcyB3aXRoIHN1cHBsaWVkIGJsb2JcbiAgICAgICAgY29uc3QgcmVzb2x2ZVdpdGhCbG9iID0gYmxvYiA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlZEJsb2IgPSBhZnRlckNyZWF0ZUJsb2IgPyBhZnRlckNyZWF0ZUJsb2IoYmxvYikgOiBibG9iO1xuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHByb21pc2VkQmxvYikudGhlbihyZXNvbHZlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBkb25lXG4gICAgICAgIGNvbnN0IHRvQmxvYiA9IChpbWFnZURhdGEsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGltYWdlRGF0YVRvQ2FudmFzKGltYWdlRGF0YSk7XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlZENhbnZhcyA9IG1hcmt1cC5sZW5ndGggPyBjYW52YXNBcHBseU1hcmt1cChjYW52YXMsIG1hcmt1cCkgOiBjYW52YXM7XG4gICAgICAgICAgICBQcm9taXNlLnJlc29sdmUocHJvbWlzZWRDYW52YXMpLnRoZW4oY2FudmFzID0+IHtcbiAgICAgICAgICAgICAgICBjYW52YXNUb0Jsb2IoY2FudmFzLCBvcHRpb25zLCBiZWZvcmVDcmVhdGVCbG9iKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihibG9iID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvcmNlIHJlbGVhc2Ugb2YgY2FudmFzIG1lbW9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzUmVsZWFzZShjYW52YXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgaW1hZ2UgaGVhZCAoZGVmYXVsdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHJpcEltYWdlSGVhZCkgcmV0dXJuIHJlc29sdmVXaXRoQmxvYihibG9iKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHRvIGNvcHkgaW1hZ2UgaGVhZCBmcm9tIG9yaWdpbmFsIGZpbGUgdG8gZ2VuZXJhdGVkIGJsb2JcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEltYWdlSGVhZChmaWxlKS50aGVuKGltYWdlSGVhZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmUtaW5qZWN0IGltYWdlIGhlYWQgaW4gY2FzZSBvZiBKUEVHLCBhcyB0aGUgaW1hZ2UgaGVhZCBpcyByZW1vdmVkIGJ5IGNhbnZhcyBleHBvcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VIZWFkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2IgPSBuZXcgQmxvYihbaW1hZ2VIZWFkLCBibG9iLnNsaWNlKDIwKV0sIHsgdHlwZTogYmxvYi50eXBlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvbmUhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVdpdGhCbG9iKGJsb2IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhbiBzdmcgYW5kIHdlIHdhbnQgaXQgdG8gc3RheSBhbiBzdmdcbiAgICAgICAgaWYgKC9zdmcvLnRlc3QoZmlsZS50eXBlKSAmJiB0eXBlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JvcFNWRyhmaWxlLCBjcm9wLCBtYXJrdXAsIHsgYmFja2dyb3VuZCB9KS50aGVuKHRleHQgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoY3JlYXRlQmxvYih0ZXh0LCAnaW1hZ2Uvc3ZnK3htbCcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGZpbGUgdXJsXG4gICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG5cbiAgICAgICAgLy8gdHVybiB0aGUgZmlsZSBpbnRvIGFuIGltYWdlXG4gICAgICAgIGxvYWRJbWFnZSh1cmwpXG4gICAgICAgICAgICAudGhlbihpbWFnZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gdXJsIGlzIG5vIGxvbmdlciBuZWVkZWRcbiAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG5cbiAgICAgICAgICAgICAgICAvLyBkcmF3IHRvIGNhbnZhcyBhbmQgc3RhcnQgdHJhbnNmb3JtIGNoYWluXG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gaW1hZ2VUb0ltYWdlRGF0YShpbWFnZSwgb3JpZW50YXRpb24sIGNyb3AsIHtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzTWVtb3J5TGltaXQsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIGZvcm1hdCBvZiB0aGUgYmxvYiB0aGF0IHdlIHdpbGwgb3V0cHV0XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0Rm9ybWF0ID0ge1xuICAgICAgICAgICAgICAgICAgICBxdWFsaXR5LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlIHx8IGZpbGUudHlwZSxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gbm8gdHJhbnNmb3JtcyBuZWNlc3NhcnksIHdlIGRvbmUhXG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc2Zvcm1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9CbG9iKGltYWdlRGF0YSwgb3V0cHV0Rm9ybWF0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBzZW5kIHRvIHRoZSB0cmFuc2Zvcm0gd29ya2VyIHRvIHRyYW5zZm9ybSB0aGUgYmxvYiBvbiBhIHNlcGFyYXRlIHRocmVhZFxuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtlciA9IGNyZWF0ZVdvcmtlcihUcmFuc2Zvcm1Xb3JrZXIpO1xuICAgICAgICAgICAgICAgIHdvcmtlci5wb3N0KFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvQmxvYihvYmplY3RUb0ltYWdlRGF0YShyZXNwb25zZSksIG91dHB1dEZvcm1hdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0b3Agd29ya2VyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtpbWFnZURhdGEuZGF0YS5idWZmZXJdXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICB9KTtcblxuY29uc3QgTUFSS1VQX1JFQ1QgPSBbJ3gnLCAneScsICdsZWZ0JywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnd2lkdGgnLCAnaGVpZ2h0J107XG5cbmNvbnN0IHRvT3B0aW9uYWxGcmFjdGlvbiA9IHZhbHVlID0+XG4gICAgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAvJS8udGVzdCh2YWx1ZSkgPyBwYXJzZUZsb2F0KHZhbHVlKSAvIDEwMCA6IHZhbHVlO1xuXG4vLyBhZGRzIGRlZmF1bHQgbWFya3VwIHByb3BlcnRpZXMsIGNsb25lcyBtYXJrdXBcbmNvbnN0IHByZXBhcmVNYXJrdXAgPSBtYXJrdXAgPT4ge1xuICAgIGNvbnN0IFt0eXBlLCBwcm9wc10gPSBtYXJrdXA7XG5cbiAgICBjb25zdCByZWN0ID0gcHJvcHMucG9pbnRzXG4gICAgICAgID8ge31cbiAgICAgICAgOiBNQVJLVVBfUkVDVC5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICAgICAgICAgICAgcHJldltjdXJyXSA9IHRvT3B0aW9uYWxGcmFjdGlvbihwcm9wc1tjdXJyXSk7XG4gICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgIH0sIHt9KTtcblxuICAgIHJldHVybiBbXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHpJbmRleDogMCxcbiAgICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgICAgLi4ucmVjdCxcbiAgICAgICAgfSxcbiAgICBdO1xufTtcblxuY29uc3QgZ2V0SW1hZ2VTaXplID0gZmlsZSA9PlxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltYWdlRWxlbWVudC5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuXG4gICAgICAgIC8vIHN0YXJ0IHRlc3Rpbmcgc2l6ZVxuICAgICAgICBjb25zdCBtZWFzdXJlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBpbWFnZUVsZW1lbnQubmF0dXJhbFdpZHRoO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gaW1hZ2VFbGVtZW50Lm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBoYXNTaXplID0gd2lkdGggJiYgaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKCFoYXNTaXplKSByZXR1cm47XG5cbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoaW1hZ2VFbGVtZW50LnNyYyk7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7IHdpZHRoLCBoZWlnaHQgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW1hZ2VFbGVtZW50Lm9uZXJyb3IgPSBlcnIgPT4ge1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChpbWFnZUVsZW1lbnQuc3JjKTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwobWVhc3VyZSwgMSk7XG5cbiAgICAgICAgbWVhc3VyZSgpO1xuICAgIH0pO1xuXG4vKipcbiAqIFBvbHlmaWxsIEVkZ2UgYW5kIElFIHdoZW4gaW4gQnJvd3NlclxuICovXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAoIUhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZS50b0Jsb2IpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZSwgJ3RvQmxvYicsIHtcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihjYiwgdHlwZSwgcXVhbGl0eSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKHR5cGUsIHF1YWxpdHkpLnNwbGl0KCcsJylbMV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJpblN0ciA9IGF0b2IoZGF0YVVSTCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGJpblN0ci5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2luZGV4XSA9IGJpblN0ci5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYihuZXcgQmxvYihbZGF0YV0sIHsgdHlwZTogdHlwZSB8fCAnaW1hZ2UvcG5nJyB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmNvbnN0IGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuY29uc3QgaXNJT1MgPSBpc0Jyb3dzZXIgJiYgL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIXdpbmRvdy5NU1N0cmVhbTtcblxuLyoqXG4gKiBJbWFnZSBUcmFuc2Zvcm0gUGx1Z2luXG4gKi9cbmNvbnN0IHBsdWdpbiA9ICh7IGFkZEZpbHRlciwgdXRpbHMgfSkgPT4ge1xuICAgIGNvbnN0IHsgVHlwZSwgZm9yaW4sIGdldEZpbGVGcm9tQmxvYiwgaXNGaWxlIH0gPSB1dGlscztcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbnNcbiAgICAgKi9cblxuICAgIC8vIHZhbGlkIHRyYW5zZm9ybXMgKGluIGNvcnJlY3Qgb3JkZXIpXG4gICAgY29uc3QgVFJBTlNGT1JNX0xJU1QgPSBbJ2Nyb3AnLCAncmVzaXplJywgJ2ZpbHRlcicsICdtYXJrdXAnLCAnb3V0cHV0J107XG5cbiAgICBjb25zdCBjcmVhdGVWYXJpYW50Q3JlYXRvciA9IHVwZGF0ZU1ldGFkYXRhID0+ICh0cmFuc2Zvcm0sIGZpbGUsIG1ldGFkYXRhKSA9PlxuICAgICAgICB0cmFuc2Zvcm0oZmlsZSwgdXBkYXRlTWV0YWRhdGEgPyB1cGRhdGVNZXRhZGF0YShtZXRhZGF0YSkgOiBtZXRhZGF0YSk7XG5cbiAgICBjb25zdCBpc0RlZmF1bHRDcm9wID0gY3JvcCA9PlxuICAgICAgICBjcm9wLmFzcGVjdFJhdGlvID09PSBudWxsICYmXG4gICAgICAgIGNyb3Aucm90YXRpb24gPT09IDAgJiZcbiAgICAgICAgY3JvcC56b29tID09PSAxICYmXG4gICAgICAgIGNyb3AuY2VudGVyICYmXG4gICAgICAgIGNyb3AuY2VudGVyLnggPT09IDAuNSAmJlxuICAgICAgICBjcm9wLmNlbnRlci55ID09PSAwLjUgJiZcbiAgICAgICAgY3JvcC5mbGlwICYmXG4gICAgICAgIGNyb3AuZmxpcC5ob3Jpem9udGFsID09PSBmYWxzZSAmJlxuICAgICAgICBjcm9wLmZsaXAudmVydGljYWwgPT09IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyc1xuICAgICAqL1xuICAgIGFkZEZpbHRlcihcbiAgICAgICAgJ1NIT1VMRF9QUkVQQVJFX09VVFBVVCcsXG4gICAgICAgIChzaG91bGRQcmVwYXJlT3V0cHV0LCB7IHF1ZXJ5IH0pID0+XG4gICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICAvLyBJZiBpcyBub3QgYXN5bmMgc2hvdWxkIHByZXBhcmUgbm93XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSghcXVlcnkoJ0lTX0FTWU5DJykpO1xuICAgICAgICAgICAgfSlcbiAgICApO1xuXG4gICAgY29uc3Qgc2hvdWxkVHJhbnNmb3JtRmlsZSA9IChxdWVyeSwgZmlsZSwgaXRlbSkgPT5cbiAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIXF1ZXJ5KCdHRVRfQUxMT1dfSU1BR0VfVFJBTlNGT1JNJykgfHxcbiAgICAgICAgICAgICAgICBpdGVtLmFyY2hpdmVkIHx8XG4gICAgICAgICAgICAgICAgIWlzRmlsZShmaWxlKSB8fFxuICAgICAgICAgICAgICAgICFpc0ltYWdlKGZpbGUpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHNpemUgY2FuJ3QgYmUgcmVhZCB0aGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGltYWdlXG4gICAgICAgICAgICBnZXRJbWFnZVNpemUoZmlsZSlcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZuID0gcXVlcnkoJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fSU1BR0VfRklMVEVSJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyUmVzdWx0ID0gZm4oZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyUmVzdWx0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVSZXZlcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbHRlclJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmlsdGVyUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsdGVyUmVzdWx0LnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyUmVzdWx0LnRoZW4ocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgIGFkZEZpbHRlcignRElEX0NSRUFURV9JVEVNJywgKGl0ZW0sIHsgcXVlcnksIGRpc3BhdGNoIH0pID0+IHtcbiAgICAgICAgaWYgKCFxdWVyeSgnR0VUX0FMTE9XX0lNQUdFX1RSQU5TRk9STScpKSByZXR1cm47XG5cbiAgICAgICAgaXRlbS5leHRlbmQoXG4gICAgICAgICAgICAncmVxdWVzdFByZXBhcmUnLFxuICAgICAgICAgICAgKCkgPT5cbiAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1JFUVVFU1RfUFJFUEFSRV9PVVRQVVQnLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlOiByZWplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfSk7XG5cbiAgICAvLyBzdWJzY3JpYmUgdG8gZmlsZSB0cmFuc2Zvcm1hdGlvbnNcbiAgICBhZGRGaWx0ZXIoXG4gICAgICAgICdQUkVQQVJFX09VVFBVVCcsXG4gICAgICAgIChmaWxlLCB7IHF1ZXJ5LCBpdGVtIH0pID0+XG4gICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICBzaG91bGRUcmFuc2Zvcm1GaWxlKHF1ZXJ5LCBmaWxlLCBpdGVtKS50aGVuKHNob3VsZFRyYW5zZm9ybSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gdHJhbnNmb3JtLCBleGl0XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2hvdWxkVHJhbnNmb3JtKSByZXR1cm4gcmVzb2x2ZShmaWxlKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBnZXQgdmFyaWFudHNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFudHMgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgb3JpZ2luYWwgZmlsZVxuICAgICAgICAgICAgICAgICAgICBpZiAocXVlcnkoJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fVkFSSUFOVFNfSU5DTFVERV9PUklHSU5BTCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcXVlcnkoJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fVkFSSUFOVFNfT1JJR0lOQUxfTkFNRScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgZGVmYXVsdCBvdXRwdXQgdmVyc2lvbiBpZiBvdXRwdXQgZGVmYXVsdCBzZXQgdG8gdHJ1ZSBvciBpZiBubyB2YXJpYW50cyBkZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChxdWVyeSgnR0VUX0lNQUdFX1RSQU5TRk9STV9WQVJJQU5UU19JTkNMVURFX0RFRkFVTFQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudHMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodHJhbnNmb3JtLCBmaWxlLCBtZXRhZGF0YSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0oZmlsZSwgbWV0YWRhdGEpLnRoZW4oZmlsZSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBxdWVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdHRVRfSU1BR0VfVFJBTlNGT1JNX1ZBUklBTlRTX0RFRkFVTFRfTkFNRSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBnZXQgb3RoZXIgdmFyaWFudHNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFudHNEZWZpbml0aW9uID0gcXVlcnkoJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fVkFSSUFOVFMnKSB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgZm9yaW4odmFyaWFudHNEZWZpbml0aW9uLCAoa2V5LCBmbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3JlYXRlVmFyaWFudCA9IGNyZWF0ZVZhcmlhbnRDcmVhdG9yKGZuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRyYW5zZm9ybSwgZmlsZSwgbWV0YWRhdGEpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlVmFyaWFudCh0cmFuc2Zvcm0sIGZpbGUsIG1ldGFkYXRhKS50aGVuKGZpbGUgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgbmFtZToga2V5LCBmaWxlIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gb3V0cHV0IGZvcm1hdCAocXVhbGl0eSAwID0+IDEwMClcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVhbGl0eUFzUGVyY2VudGFnZSA9IHF1ZXJ5KCdHRVRfSU1BR0VfVFJBTlNGT1JNX09VVFBVVF9RVUFMSVRZJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1YWxpdHlNb2RlID0gcXVlcnkoJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fT1VUUFVUX1FVQUxJVFlfTU9ERScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWFsaXR5ID0gcXVhbGl0eUFzUGVyY2VudGFnZSA9PT0gbnVsbCA/IG51bGwgOiBxdWFsaXR5QXNQZXJjZW50YWdlIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gcXVlcnkoJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fT1VUUFVUX01JTUVfVFlQRScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRUcmFuc2Zvcm1zID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfSU1BR0VfVFJBTlNGT1JNX0NMSUVOVF9UUkFOU0ZPUk1TJykgfHwgVFJBTlNGT1JNX0xJU1Q7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRyYW5zZm9ybSBtZXRhZGF0YSBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zZXRNZXRhZGF0YShcbiAgICAgICAgICAgICAgICAgICAgICAgICdvdXRwdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQ6IGNsaWVudFRyYW5zZm9ybXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gYXBwbHkgdGhlIGZpbGUgdHJhbnNmb3JtYXRpb25zXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IChmaWxlLCBtZXRhZGF0YSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZE1ldGFkYXRhID0geyAuLi5tZXRhZGF0YSB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoZmlsdGVyZWRNZXRhZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihpbnN0cnVjdGlvbiA9PiBpbnN0cnVjdGlvbiAhPT0gJ2V4aWYnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChpbnN0cnVjdGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBub3QgaW4gbGlzdCwgcmVtb3ZlIGZyb20gb2JqZWN0LCB0aGUgaW5zdHJ1Y3Rpb24gd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRUcmFuc2Zvcm1zLmluZGV4T2YoaW5zdHJ1Y3Rpb24pID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmaWx0ZXJlZE1ldGFkYXRhW2luc3RydWN0aW9uXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHJlc2l6ZSwgZXhpZiwgb3V0cHV0LCBjcm9wLCBmaWx0ZXIsIG1hcmt1cCB9ID0gZmlsdGVyZWRNZXRhZGF0YTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiBleGlmID8gZXhpZi5vcmllbnRhdGlvbiA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG91dHB1dC50eXBlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG91dHB1dC5xdWFsaXR5ID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5iYWNrZ3JvdW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG91dHB1dC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBvdXRwdXQucXVhbGl0eSA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gb3V0cHV0LnF1YWxpdHkgKiAxMDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuYmFja2dyb3VuZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdHRVRfSU1BR0VfVFJBTlNGT1JNX0NBTlZBU19CQUNLR1JPVU5EX0NPTE9SJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNpemUgJiYgKHJlc2l6ZS5zaXplLndpZHRoIHx8IHJlc2l6ZS5zaXplLmhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiByZXNpemUubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHNjYWxlOiByZXNpemUudXBzY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5yZXNpemUuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JvcDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyb3AgJiYgIWlzRGVmYXVsdENyb3AoY3JvcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jcm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrdXA6IG1hcmt1cCAmJiBtYXJrdXAubGVuZ3RoID8gbWFya3VwLm1hcChwcmVwYXJlTWFya3VwKSA6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnN0cnVjdGlvbnMub3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSBpZiBmaWxlIHR5cGUgd2lsbCBjaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lsbENoYW5nZVR5cGUgPSBvdXRwdXQudHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAvLyB0eXBlIHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQudHlwZSAhPT0gZmlsZS50eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IC8vIHR5cGUgbm90IHNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5DaGFuZ2VRdWFsaXR5ID0gL1xcL2pwZT9nJC8udGVzdChmaWxlLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3aWxsQ2hhbmdlUXVhbGl0eSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucXVhbGl0eSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gLy8gcXVhbGl0eSBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkNoYW5nZVF1YWxpdHkgJiYgcXVhbGl0eU1vZGUgPT09ICdhbHdheXMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAvLyBxdWFsaXR5IG5vdCBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSBpZiBmaWxlIGRhdGEgd2lsbCBiZSBtb2RpZmllZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3aWxsTW9kaWZ5SW1hZ2VEYXRhID0gISEoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbnMuc2l6ZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zLmNyb3AgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9ucy5maWx0ZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbGxDaGFuZ2VUeXBlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWxsQ2hhbmdlUXVhbGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlJ3JlIG5vdCBtb2RpZnlpbmcgdGhlIGltYWdlIGRhdGEgdGhlbiB3ZSBkb24ndCBoYXZlIHRvIG1vZGlmeSB0aGUgb3V0cHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2lsbE1vZGlmeUltYWdlRGF0YSkgcmV0dXJuIHJlc29sdmUoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlQ3JlYXRlQmxvYjogcXVlcnkoJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fQkVGT1JFX0NSRUFURV9CTE9CJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyQ3JlYXRlQmxvYjogcXVlcnkoJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fQUZURVJfQ1JFQVRFX0JMT0InKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzTWVtb3J5TGltaXQ6IHF1ZXJ5KCdHRVRfSU1BR0VfVFJBTlNGT1JNX0NBTlZBU19NRU1PUllfTElNSVQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBJbWFnZUhlYWQ6IHF1ZXJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0dFVF9JTUFHRV9UUkFOU0ZPUk1fT1VUUFVUX1NUUklQX0lNQUdFX0hFQUQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybUltYWdlKGZpbGUsIGluc3RydWN0aW9ucywgb3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oYmxvYiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgZmlsZSBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dCA9IGdldEZpbGVGcm9tQmxvYihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9iLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbmFtZSB0aGUgb3JpZ2luYWwgZmlsZW5hbWUgdG8gbWF0Y2ggdGhlIG1pbWUgdHlwZSBvZiB0aGUgb3V0cHV0IGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuYW1lRmlsZVRvTWF0Y2hNaW1lVHlwZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRWYWxpZE91dHB1dE1pbWVUeXBlKGJsb2IudHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgY3JlYXRpbmcgdmFyaWFudHNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFudFByb21pc2VzID0gdmFyaWFudHMubWFwKGNyZWF0ZSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlKHRyYW5zZm9ybSwgZmlsZSwgaXRlbS5nZXRNZXRhZGF0YSgpKVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwodmFyaWFudFByb21pc2VzKS50aGVuKGZpbGVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHNpbmdsZSBmaWxlIG9iamVjdCBpbiBhcnJheSwgcmV0dXJuIHRoZSBzaW5nbGUgZmlsZSBvYmplY3QgZWxzZSwgcmV0dXJuIGFycmF5IG9mXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzLmxlbmd0aCA9PT0gMSAmJiBmaWxlc1swXS5uYW1lID09PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gLy8gcmV0dXJuIHRoZSBGaWxlIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzWzBdLmZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAvLyByZXR1cm4gYW4gYXJyYXkgb2YgZmlsZXMgeyBuYW1lOiduYW1lJywgZmlsZTpGaWxlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICk7XG5cbiAgICAvLyBFeHBvc2UgcGx1Z2luIG9wdGlvbnNcbiAgICByZXR1cm4ge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBhbGxvd0ltYWdlVHJhbnNmb3JtOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAgICAgLy8gZmlsdGVyIGltYWdlcyB0byB0cmFuc2Zvcm1cbiAgICAgICAgICAgIGltYWdlVHJhbnNmb3JtSW1hZ2VGaWx0ZXI6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcblxuICAgICAgICAgICAgLy8gbnVsbCwgJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvcG5nJ1xuICAgICAgICAgICAgaW1hZ2VUcmFuc2Zvcm1PdXRwdXRNaW1lVHlwZTogW251bGwsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICAgICAgLy8gbnVsbCwgMCAtIDEwMFxuICAgICAgICAgICAgaW1hZ2VUcmFuc2Zvcm1PdXRwdXRRdWFsaXR5OiBbbnVsbCwgVHlwZS5JTlRdLFxuXG4gICAgICAgICAgICAvLyBzZXQgdG8gZmFsc2UgdG8gY29weSBpbWFnZSBleGlmIGRhdGEgdG8gb3V0cHV0XG4gICAgICAgICAgICBpbWFnZVRyYW5zZm9ybU91dHB1dFN0cmlwSW1hZ2VIZWFkOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAgICAgLy8gb25seSBhcHBseSB0cmFuc2Zvcm1zIGluIHRoaXMgbGlzdFxuICAgICAgICAgICAgaW1hZ2VUcmFuc2Zvcm1DbGllbnRUcmFuc2Zvcm1zOiBbbnVsbCwgVHlwZS5BUlJBWV0sXG5cbiAgICAgICAgICAgIC8vIG9ubHkgYXBwbHkgb3V0cHV0IHF1YWxpdHkgd2hlbiBhIHRyYW5zZm9ybSBpcyByZXF1aXJlZFxuICAgICAgICAgICAgaW1hZ2VUcmFuc2Zvcm1PdXRwdXRRdWFsaXR5TW9kZTogWydhbHdheXMnLCBUeXBlLlNUUklOR10sXG4gICAgICAgICAgICAvLyAnYWx3YXlzJ1xuICAgICAgICAgICAgLy8gJ29wdGlvbmFsJ1xuICAgICAgICAgICAgLy8gJ21pc21hdGNoJyAoZnV0dXJlIGZlYXR1cmUsIG9ubHkgYXBwbGllZCBpZiBxdWFsaXR5IGRpZmZlcnMgZnJvbSBpbnB1dClcblxuICAgICAgICAgICAgLy8gZ2V0IGltYWdlIHRyYW5zZm9ybSB2YXJpYW50c1xuICAgICAgICAgICAgaW1hZ2VUcmFuc2Zvcm1WYXJpYW50czogW251bGwsIFR5cGUuT0JKRUNUXSxcblxuICAgICAgICAgICAgLy8gc2hvdWxkIHdlIHBvc3QgdGhlIGRlZmF1bHQgdHJhbnNmb3JtZWQgZmlsZVxuICAgICAgICAgICAgaW1hZ2VUcmFuc2Zvcm1WYXJpYW50c0luY2x1ZGVEZWZhdWx0OiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAgICAgLy8gd2hpY2ggbmFtZSB0byBwcmVmaXggdGhlIGRlZmF1bHQgdHJhbnNmb3JtZWQgZmlsZSB3aXRoXG4gICAgICAgICAgICBpbWFnZVRyYW5zZm9ybVZhcmlhbnRzRGVmYXVsdE5hbWU6IFtudWxsLCBUeXBlLlNUUklOR10sXG5cbiAgICAgICAgICAgIC8vIHNob3VsZCB3ZSBwb3N0IHRoZSBvcmlnaW5hbCBmaWxlXG4gICAgICAgICAgICBpbWFnZVRyYW5zZm9ybVZhcmlhbnRzSW5jbHVkZU9yaWdpbmFsOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgICAgICAgIC8vIHdoaWNoIG5hbWUgdG8gcHJlZml4IHRoZSBvcmlnaW5hbCBmaWxlIHdpdGhcbiAgICAgICAgICAgIGltYWdlVHJhbnNmb3JtVmFyaWFudHNPcmlnaW5hbE5hbWU6IFsnb3JpZ2luYWxfJywgVHlwZS5TVFJJTkddLFxuXG4gICAgICAgICAgICAvLyBjYWxsZWQgYmVmb3JlIGNyZWF0aW5nIHRoZSBibG9iLCByZWNlaXZlcyBjYW52YXMsIGV4cGVjdHMgcHJvbWlzZSByZXNvbHZlIHdpdGggY2FudmFzXG4gICAgICAgICAgICBpbWFnZVRyYW5zZm9ybUJlZm9yZUNyZWF0ZUJsb2I6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcblxuICAgICAgICAgICAgLy8gZXhwZWN0cyBwcm9taXNlIHJlc29sdmVkIHdpdGggYmxvYlxuICAgICAgICAgICAgaW1hZ2VUcmFuc2Zvcm1BZnRlckNyZWF0ZUJsb2I6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcblxuICAgICAgICAgICAgLy8gY2FudmFzIG1lbW9yeSBsaW1pdFxuICAgICAgICAgICAgaW1hZ2VUcmFuc2Zvcm1DYW52YXNNZW1vcnlMaW1pdDogW2lzQnJvd3NlciAmJiBpc0lPUyA/IDQwOTYgKiA0MDk2IDogbnVsbCwgVHlwZS5JTlRdLFxuXG4gICAgICAgICAgICAvLyBiYWNrZ3JvdW5kIGltYWdlIG9mIHRoZSBvdXRwdXQgY2FudmFzXG4gICAgICAgICAgICBpbWFnZVRyYW5zZm9ybUNhbnZhc0JhY2tncm91bmRDb2xvcjogW251bGwsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuLy8gZmlyZSBwbHVnaW5sb2FkZWQgZXZlbnQgaWYgcnVubmluZyBpbiBicm93c2VyLCB0aGlzIGFsbG93cyByZWdpc3RlcmluZyB0aGUgcGx1Z2luIHdoZW4gdXNpbmcgYXN5bmMgc2NyaXB0IHRhZ3NcbmlmIChpc0Jyb3dzZXIpIHtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnRmlsZVBvbmQ6cGx1Z2lubG9hZGVkJywgeyBkZXRhaWw6IHBsdWdpbiB9KSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpbjtcbiIsICIvKiFcbiAqIEZpbGVQb25kUGx1Z2luTWVkaWFQcmV2aWV3IDEuMC4xMVxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cbiAqIFBsZWFzZSB2aXNpdCB1bmRlZmluZWQgZm9yIGRldGFpbHMuXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgKi9cblxuY29uc3QgaXNQcmV2aWV3YWJsZVZpZGVvID0gKGZpbGUpID0+IC9edmlkZW8vLnRlc3QoZmlsZS50eXBlKTtcblxuY29uc3QgaXNQcmV2aWV3YWJsZUF1ZGlvID0gKGZpbGUpID0+IC9eYXVkaW8vLnRlc3QoZmlsZS50eXBlKTtcblxuKCd1c2Ugc3RyaWN0Jyk7XG5cbmNsYXNzIEF1ZGlvUGxheWVyIHtcbiAgY29uc3RydWN0b3IobWVkaWFFbCwgYXVkaW9FbGVtcykge1xuICAgIHRoaXMubWVkaWFFbCA9IG1lZGlhRWw7XG4gICAgdGhpcy5hdWRpb0VsZW1zID0gYXVkaW9FbGVtcztcbiAgICB0aGlzLm9ucGxheWhlYWQgPSBmYWxzZTtcbiAgICB0aGlzLmR1cmF0aW9uID0gMDtcbiAgICB0aGlzLnRpbWVsaW5lV2lkdGggPVxuICAgICAgdGhpcy5hdWRpb0VsZW1zLnRpbWVsaW5lLm9mZnNldFdpZHRoIC1cbiAgICAgIHRoaXMuYXVkaW9FbGVtcy5wbGF5aGVhZC5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLm1vdmVwbGF5aGVhZEZuID0gdGhpcy5tb3ZlcGxheWhlYWQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIHRoaXMubWVkaWFFbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ3RpbWV1cGRhdGUnLFxuICAgICAgdGhpcy50aW1lVXBkYXRlLmJpbmQodGhpcyksXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgdGhpcy5tZWRpYUVsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnY2FucGxheXRocm91Z2gnLFxuICAgICAgKCkgPT4gKHRoaXMuZHVyYXRpb24gPSB0aGlzLm1lZGlhRWwuZHVyYXRpb24pLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIHRoaXMuYXVkaW9FbGVtcy50aW1lbGluZS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgIHRoaXMudGltZWxpbmVDbGlja2VkLmJpbmQodGhpcyksXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgdGhpcy5hdWRpb0VsZW1zLmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucGxheS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmF1ZGlvRWxlbXMucGxheWhlYWQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdtb3VzZWRvd24nLFxuICAgICAgdGhpcy5tb3VzZURvd24uYmluZCh0aGlzKSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMubW91c2VVcC5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gIH1cblxuICBwbGF5KCkge1xuICAgIGlmICh0aGlzLm1lZGlhRWwucGF1c2VkKSB7XG4gICAgICB0aGlzLm1lZGlhRWwucGxheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1lZGlhRWwucGF1c2UoKTtcbiAgICB9XG4gICAgdGhpcy5hdWRpb0VsZW1zLmJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdwbGF5Jyk7XG4gICAgdGhpcy5hdWRpb0VsZW1zLmJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdwYXVzZScpO1xuICB9XG5cbiAgdGltZVVwZGF0ZSgpIHtcbiAgICBsZXQgcGxheVBlcmNlbnQgPSAodGhpcy5tZWRpYUVsLmN1cnJlbnRUaW1lIC8gdGhpcy5kdXJhdGlvbikgKiAxMDA7XG4gICAgdGhpcy5hdWRpb0VsZW1zLnBsYXloZWFkLnN0eWxlLm1hcmdpbkxlZnQgPSBwbGF5UGVyY2VudCArICclJztcbiAgICBpZiAodGhpcy5tZWRpYUVsLmN1cnJlbnRUaW1lID09PSB0aGlzLmR1cmF0aW9uKSB7XG4gICAgICB0aGlzLmF1ZGlvRWxlbXMuYnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ3BsYXknKTtcbiAgICAgIHRoaXMuYXVkaW9FbGVtcy5idXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgncGF1c2UnKTtcbiAgICB9XG4gIH1cblxuICBtb3ZlcGxheWhlYWQoZXZlbnQpIHtcbiAgICBsZXQgbmV3TWFyZ0xlZnQgPVxuICAgICAgZXZlbnQuY2xpZW50WCAtIHRoaXMuZ2V0UG9zaXRpb24odGhpcy5hdWRpb0VsZW1zLnRpbWVsaW5lKTtcbiAgICBpZiAobmV3TWFyZ0xlZnQgPj0gMCAmJiBuZXdNYXJnTGVmdCA8PSB0aGlzLnRpbWVsaW5lV2lkdGgpIHtcbiAgICAgIHRoaXMuYXVkaW9FbGVtcy5wbGF5aGVhZC5zdHlsZS5tYXJnaW5MZWZ0ID0gbmV3TWFyZ0xlZnQgKyAncHgnO1xuICAgIH1cbiAgICBpZiAobmV3TWFyZ0xlZnQgPCAwKSB7XG4gICAgICB0aGlzLmF1ZGlvRWxlbXMucGxheWhlYWQuc3R5bGUubWFyZ2luTGVmdCA9ICcwcHgnO1xuICAgIH1cbiAgICBpZiAobmV3TWFyZ0xlZnQgPiB0aGlzLnRpbWVsaW5lV2lkdGgpIHtcbiAgICAgIHRoaXMuYXVkaW9FbGVtcy5wbGF5aGVhZC5zdHlsZS5tYXJnaW5MZWZ0ID0gdGhpcy50aW1lbGluZVdpZHRoIC0gNCArICdweCc7XG4gICAgfVxuICB9XG5cbiAgdGltZWxpbmVDbGlja2VkKGV2ZW50KSB7XG4gICAgdGhpcy5tb3ZlcGxheWhlYWQoZXZlbnQpO1xuICAgIHRoaXMubWVkaWFFbC5jdXJyZW50VGltZSA9IHRoaXMuZHVyYXRpb24gKiB0aGlzLmNsaWNrUGVyY2VudChldmVudCk7XG4gIH1cblxuICBtb3VzZURvd24oKSB7XG4gICAgdGhpcy5vbnBsYXloZWFkID0gdHJ1ZTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5tb3ZlcGxheWhlYWRGbiwgdHJ1ZSk7XG4gICAgdGhpcy5tZWRpYUVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAndGltZXVwZGF0ZScsXG4gICAgICB0aGlzLnRpbWVVcGRhdGUuYmluZCh0aGlzKSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgfVxuXG4gIG1vdXNlVXAoZXZlbnQpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5tb3ZlcGxheWhlYWRGbiwgdHJ1ZSk7XG4gICAgaWYgKHRoaXMub25wbGF5aGVhZCA9PSB0cnVlKSB7XG4gICAgICB0aGlzLm1vdmVwbGF5aGVhZChldmVudCk7XG4gICAgICAvLyBjaGFuZ2UgY3VycmVudCB0aW1lXG4gICAgICB0aGlzLm1lZGlhRWwuY3VycmVudFRpbWUgPSB0aGlzLmR1cmF0aW9uICogdGhpcy5jbGlja1BlcmNlbnQoZXZlbnQpO1xuICAgICAgdGhpcy5tZWRpYUVsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICd0aW1ldXBkYXRlJyxcbiAgICAgICAgdGhpcy50aW1lVXBkYXRlLmJpbmQodGhpcyksXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLm9ucGxheWhlYWQgPSBmYWxzZTtcbiAgfVxuXG4gIGNsaWNrUGVyY2VudChldmVudCkge1xuICAgIHJldHVybiAoXG4gICAgICAoZXZlbnQuY2xpZW50WCAtIHRoaXMuZ2V0UG9zaXRpb24odGhpcy5hdWRpb0VsZW1zLnRpbWVsaW5lKSkgL1xuICAgICAgdGhpcy50aW1lbGluZVdpZHRoXG4gICAgKTtcbiAgfVxuXG4gIGdldFBvc2l0aW9uKGVsKSB7XG4gICAgcmV0dXJuIGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gIH1cbn1cblxuY29uc3QgY3JlYXRlTWVkaWFWaWV3ID0gKF8pID0+XG4gIF8udXRpbHMuY3JlYXRlVmlldyh7XG4gICAgbmFtZTogJ21lZGlhLXByZXZpZXcnLFxuICAgIHRhZzogJ2RpdicsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBjcmVhdGU6ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgaWQgfSA9IHByb3BzO1xuXG4gICAgICAvLyBnZXQgaXRlbVxuICAgICAgY29uc3QgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZDogcHJvcHMuaWQgfSk7XG4gICAgICBsZXQgdGFnTmFtZSA9IGlzUHJldmlld2FibGVBdWRpbyhpdGVtLmZpbGUpID8gJ2F1ZGlvJyA6ICd2aWRlbyc7XG5cbiAgICAgIHJvb3QucmVmLm1lZGlhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgICAgIHJvb3QucmVmLm1lZGlhLnNldEF0dHJpYnV0ZSgnY29udHJvbHMnLCB0cnVlKTtcbiAgICAgIHJvb3QuZWxlbWVudC5hcHBlbmRDaGlsZChyb290LnJlZi5tZWRpYSk7XG5cbiAgICAgIGlmIChpc1ByZXZpZXdhYmxlQXVkaW8oaXRlbS5maWxlKSkge1xuICAgICAgICBsZXQgZG9jZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgcm9vdC5yZWYuYXVkaW8gPSBbXTtcbiAgICAgICAgKHJvb3QucmVmLmF1ZGlvLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKSxcbiAgICAgICAgICAocm9vdC5yZWYuYXVkaW8uYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpKSxcbiAgICAgICAgICAocm9vdC5yZWYuYXVkaW8udGltZWxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSksXG4gICAgICAgICAgKHJvb3QucmVmLmF1ZGlvLnBsYXloZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xuXG4gICAgICAgIHJvb3QucmVmLmF1ZGlvLmNvbnRhaW5lci5jbGFzc05hbWUgPSAnYXVkaW9wbGF5ZXInO1xuICAgICAgICByb290LnJlZi5hdWRpby5idXR0b24uY2xhc3NOYW1lID0gJ3BsYXlwYXVzZWJ0biBwbGF5JztcbiAgICAgICAgcm9vdC5yZWYuYXVkaW8udGltZWxpbmUuY2xhc3NOYW1lID0gJ3RpbWVsaW5lJztcbiAgICAgICAgcm9vdC5yZWYuYXVkaW8ucGxheWhlYWQuY2xhc3NOYW1lID0gJ3BsYXloZWFkJztcblxuICAgICAgICByb290LnJlZi5hdWRpby50aW1lbGluZS5hcHBlbmRDaGlsZChyb290LnJlZi5hdWRpby5wbGF5aGVhZCk7XG4gICAgICAgIHJvb3QucmVmLmF1ZGlvLmNvbnRhaW5lci5hcHBlbmRDaGlsZChyb290LnJlZi5hdWRpby5idXR0b24pO1xuICAgICAgICByb290LnJlZi5hdWRpby5jb250YWluZXIuYXBwZW5kQ2hpbGQocm9vdC5yZWYuYXVkaW8udGltZWxpbmUpO1xuICAgICAgICBkb2NmcmFnLmFwcGVuZENoaWxkKHJvb3QucmVmLmF1ZGlvLmNvbnRhaW5lcik7XG5cbiAgICAgICAgcm9vdC5lbGVtZW50LmFwcGVuZENoaWxkKGRvY2ZyYWcpO1xuICAgICAgfVxuICAgIH0sXG4gICAgd3JpdGU6IF8udXRpbHMuY3JlYXRlUm91dGUoe1xuICAgICAgRElEX01FRElBX1BSRVZJRVdfTE9BRDogKHsgcm9vdCwgcHJvcHMgfSkgPT4ge1xuICAgICAgICBjb25zdCB7IGlkIH0gPSBwcm9wcztcblxuICAgICAgICAvLyBnZXQgaXRlbVxuICAgICAgICBjb25zdCBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCB7IGlkOiBwcm9wcy5pZCB9KTtcbiAgICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG5cbiAgICAgICAgbGV0IFVSTCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcbiAgICAgICAgbGV0IGJsb2IgPSBuZXcgQmxvYihbaXRlbS5maWxlXSwgeyB0eXBlOiBpdGVtLmZpbGUudHlwZSB9KTtcblxuICAgICAgICByb290LnJlZi5tZWRpYS50eXBlID0gaXRlbS5maWxlLnR5cGU7XG4gICAgICAgIHJvb3QucmVmLm1lZGlhLnNyYyA9XG4gICAgICAgICAgKGl0ZW0uZmlsZS5tb2NrICYmIGl0ZW0uZmlsZS51cmwpIHx8IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cbiAgICAgICAgLy8gY3JlYXRlIGF1ZGlvIHBsYXllciBpbiBjYXNlIG9mIGF1ZGlvIGZpbGVcbiAgICAgICAgaWYgKGlzUHJldmlld2FibGVBdWRpbyhpdGVtLmZpbGUpKSB7XG4gICAgICAgICAgbmV3IEF1ZGlvUGxheWVyKHJvb3QucmVmLm1lZGlhLCByb290LnJlZi5hdWRpbyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZXRlcm1pbmUgZGltZW5zaW9ucyBhbmQgdXBkYXRlIHBhbmVsIGFjY29yZGluZ2x5XG4gICAgICAgIHJvb3QucmVmLm1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgJ2xvYWRlZGRhdGEnLFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGxldCBoZWlnaHQgPSA3NTsgLy8gZGVmYXVsdCBoZWlnaHQgZm9yIGF1ZGlvIHBhbmVsXG4gICAgICAgICAgICBpZiAoaXNQcmV2aWV3YWJsZVZpZGVvKGl0ZW0uZmlsZSkpIHtcbiAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lcldpZHRoID0gcm9vdC5yZWYubWVkaWEub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICAgIGxldCBmYWN0b3IgPSByb290LnJlZi5tZWRpYS52aWRlb1dpZHRoIC8gY29udGFpbmVyV2lkdGg7XG4gICAgICAgICAgICAgIGhlaWdodCA9IHJvb3QucmVmLm1lZGlhLnZpZGVvSGVpZ2h0IC8gZmFjdG9yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfVVBEQVRFX1BBTkVMX0hFSUdIVCcsIHtcbiAgICAgICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgfSksXG4gIH0pO1xuXG5jb25zdCBjcmVhdGVNZWRpYVdyYXBwZXJWaWV3ID0gKF8pID0+IHtcbiAgLyoqXG4gICAqIFdyaXRlIGhhbmRsZXIgZm9yIHdoZW4gcHJldmlldyBjb250YWluZXIgaGFzIGJlZW4gY3JlYXRlZFxuICAgKi9cbiAgY29uc3QgZGlkQ3JlYXRlUHJldmlld0NvbnRhaW5lciA9ICh7IHJvb3QsIHByb3BzIH0pID0+IHtcbiAgICBjb25zdCB7IGlkIH0gPSBwcm9wcztcbiAgICBjb25zdCBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBpZCk7XG4gICAgaWYgKCFpdGVtKSByZXR1cm47XG5cbiAgICAvLyB0aGUgcHJldmlldyBpcyBub3cgcmVhZHkgdG8gYmUgZHJhd25cbiAgICByb290LmRpc3BhdGNoKCdESURfTUVESUFfUFJFVklFV19MT0FEJywge1xuICAgICAgaWQsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdCBjcmVhdGUgPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgY29uc3QgbWVkaWEgPSBjcmVhdGVNZWRpYVZpZXcoXyk7XG5cbiAgICAvLyBhcHBlbmQgbWVkaWEgcHJlc2VudGVyXG4gICAgcm9vdC5yZWYubWVkaWEgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KG1lZGlhLCB7XG4gICAgICAgIGlkOiBwcm9wcy5pZCxcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gXy51dGlscy5jcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnbWVkaWEtcHJldmlldy13cmFwcGVyJyxcbiAgICBjcmVhdGUsXG4gICAgd3JpdGU6IF8udXRpbHMuY3JlYXRlUm91dGUoe1xuICAgICAgLy8gbWVkaWEgcHJldmlldyBzdGF0ZWRcbiAgICAgIERJRF9NRURJQV9QUkVWSUVXX0NPTlRBSU5FUl9DUkVBVEU6IGRpZENyZWF0ZVByZXZpZXdDb250YWluZXIsXG4gICAgfSksXG4gIH0pO1xufTtcblxuLyoqXG4gKiBNZWRpYSBQcmV2aWV3IFBsdWdpblxuICovXG5jb25zdCBwbHVnaW4gPSAoZnBBUEkpID0+IHtcbiAgY29uc3QgeyBhZGRGaWx0ZXIsIHV0aWxzIH0gPSBmcEFQSTtcbiAgY29uc3QgeyBUeXBlLCBjcmVhdGVSb3V0ZSB9ID0gdXRpbHM7XG4gIGNvbnN0IG1lZGlhV3JhcHBlclZpZXcgPSBjcmVhdGVNZWRpYVdyYXBwZXJWaWV3KGZwQVBJKTtcblxuICAvLyBjYWxsZWQgZm9yIGVhY2ggdmlldyB0aGF0IGlzIGNyZWF0ZWQgcmlnaHQgYWZ0ZXIgdGhlICdjcmVhdGUnIG1ldGhvZFxuICBhZGRGaWx0ZXIoJ0NSRUFURV9WSUVXJywgKHZpZXdBUEkpID0+IHtcbiAgICAvLyBnZXQgcmVmZXJlbmNlIHRvIGNyZWF0ZWQgdmlld1xuICAgIGNvbnN0IHsgaXMsIHZpZXcsIHF1ZXJ5IH0gPSB2aWV3QVBJO1xuXG4gICAgLy8gb25seSBob29rIHVwIHRvIGl0ZW0gdmlld1xuICAgIGlmICghaXMoJ2ZpbGUnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSB0aGUgbWVkaWEgcHJldmlldyBwbHVnaW4sIGJ1dCBvbmx5IGRvIHNvIGlmIHRoZSBpdGVtIGlzIHZpZGVvIG9yIGF1ZGlvXG4gICAgY29uc3QgZGlkTG9hZEl0ZW0gPSAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICBjb25zdCB7IGlkIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IGl0ZW0gPSBxdWVyeSgnR0VUX0lURU0nLCBpZCk7XG4gICAgICBjb25zdCBhbGxvd1ZpZGVvUHJldmlldyA9IHF1ZXJ5KCdHRVRfQUxMT1dfVklERU9fUFJFVklFVycpO1xuICAgICAgY29uc3QgYWxsb3dBdWRpb1ByZXZpZXcgPSBxdWVyeSgnR0VUX0FMTE9XX0FVRElPX1BSRVZJRVcnKTtcblxuICAgICAgaWYgKFxuICAgICAgICAhaXRlbSB8fFxuICAgICAgICBpdGVtLmFyY2hpdmVkIHx8XG4gICAgICAgICgoIWlzUHJldmlld2FibGVWaWRlbyhpdGVtLmZpbGUpIHx8ICFhbGxvd1ZpZGVvUHJldmlldykgJiZcbiAgICAgICAgICAoIWlzUHJldmlld2FibGVBdWRpbyhpdGVtLmZpbGUpIHx8ICFhbGxvd0F1ZGlvUHJldmlldykpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgcHJldmlldyB2aWV3XG4gICAgICByb290LnJlZi5tZWRpYVByZXZpZXcgPSB2aWV3LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgdmlldy5jcmVhdGVDaGlsZFZpZXcobWVkaWFXcmFwcGVyVmlldywgeyBpZCB9KVxuICAgICAgKTtcblxuICAgICAgLy8gbm93IHJlYWR5XG4gICAgICByb290LmRpc3BhdGNoKCdESURfTUVESUFfUFJFVklFV19DT05UQUlORVJfQ1JFQVRFJywgeyBpZCB9KTtcbiAgICB9O1xuXG4gICAgLy8gc3RhcnQgd3JpdGluZ1xuICAgIHZpZXcucmVnaXN0ZXJXcml0ZXIoXG4gICAgICBjcmVhdGVSb3V0ZShcbiAgICAgICAge1xuICAgICAgICAgIERJRF9MT0FEX0lURU06IGRpZExvYWRJdGVtLFxuICAgICAgICB9LFxuICAgICAgICAoeyByb290LCBwcm9wcyB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBpZCB9ID0gcHJvcHM7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IHF1ZXJ5KCdHRVRfSVRFTScsIGlkKTtcbiAgICAgICAgICBjb25zdCBhbGxvd1ZpZGVvUHJldmlldyA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19WSURFT19QUkVWSUVXJyk7XG4gICAgICAgICAgY29uc3QgYWxsb3dBdWRpb1ByZXZpZXcgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfQVVESU9fUFJFVklFVycpO1xuXG4gICAgICAgICAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgd2hpbGUgbm90IGEgdmlkZW8gb3IgYXVkaW8gZmlsZSBvciBoaWRkZW5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXRlbSB8fFxuICAgICAgICAgICAgKCghaXNQcmV2aWV3YWJsZVZpZGVvKGl0ZW0uZmlsZSkgfHwgIWFsbG93VmlkZW9QcmV2aWV3KSAmJlxuICAgICAgICAgICAgICAoIWlzUHJldmlld2FibGVBdWRpbyhpdGVtLmZpbGUpIHx8ICFhbGxvd0F1ZGlvUHJldmlldykpIHx8XG4gICAgICAgICAgICByb290LnJlY3QuZWxlbWVudC5oaWRkZW5cbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcblxuICAvLyBleHBvc2UgcGx1Z2luXG4gIHJldHVybiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgYWxsb3dWaWRlb1ByZXZpZXc6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuICAgICAgYWxsb3dBdWRpb1ByZXZpZXc6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuICAgIH0sXG4gIH07XG59O1xuXG4vLyBmaXJlIHBsdWdpbmxvYWRlZCBldmVudCBpZiBydW5uaW5nIGluIGJyb3dzZXIsIHRoaXMgYWxsb3dzIHJlZ2lzdGVyaW5nIHRoZSBwbHVnaW4gd2hlbiB1c2luZyBhc3luYyBzY3JpcHQgdGFnc1xuY29uc3QgaXNCcm93c2VyID1cbiAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5pZiAoaXNCcm93c2VyKSB7XG4gIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgbmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDpwbHVnaW5sb2FkZWQnLCB7IGRldGFpbDogcGx1Z2luIH0pXG4gICk7XG59XG5cbmV4cG9ydCB7IHBsdWdpbiBhcyBkZWZhdWx0IH07XG4iLCAiZXhwb3J0IGRlZmF1bHQge1xuICAgIGxhYmVsSWRsZTogJ1x1MDYyN1x1MDYzM1x1MDYyRFx1MDYyOCBcdTA2NDggXHUwNjI3XHUwNjJGXHUwNjMxXHUwNjJDIFx1MDY0NVx1MDY0NFx1MDY0MVx1MDYyN1x1MDYyQVx1MDY0MyBcdTA2MjNcdTA2NDggPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IFx1MDYyQVx1MDYzNVx1MDY0MVx1MDYyRCA8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ1x1MDYyN1x1MDY0NFx1MDYyRFx1MDY0Mlx1MDY0NCBcdTA2NEFcdTA2MkRcdTA2MkFcdTA2NDhcdTA2NEEgXHUwNjM5XHUwNjQ0XHUwNjQ5IFx1MDY0NVx1MDY0NFx1MDY0MVx1MDYyN1x1MDYyQSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjM1XHUwNjI3XHUwNjQ0XHUwNjJEXHUwNjI5JyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ1x1MDYyOFx1MDYyN1x1MDY0Nlx1MDYyQVx1MDYzOFx1MDYyN1x1MDYzMSBcdTA2MjdcdTA2NDRcdTA2MkRcdTA2MkNcdTA2NDUnLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6ICdcdTA2MjdcdTA2NDRcdTA2MkRcdTA2MkNcdTA2NDUgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDYyQVx1MDYyN1x1MDYyRCcsXG4gICAgbGFiZWxGaWxlTG9hZGluZzogJ1x1MDYyOFx1MDYyN1x1MDY0NFx1MDYyNVx1MDY0Nlx1MDYyQVx1MDYzOFx1MDYyN1x1MDYzMScsXG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiAnXHUwNjJEXHUwNjJGXHUwNjJCIFx1MDYyRVx1MDYzN1x1MDYyMyBcdTA2MjNcdTA2MkJcdTA2NDZcdTA2MjdcdTA2MjEgXHUwNjI3XHUwNjQ0XHUwNjJBXHUwNjJEXHUwNjQ1XHUwNjRBXHUwNjQ0JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnXHUwNjRBXHUwNjJBXHUwNjQ1IFx1MDYyN1x1MDY0NFx1MDYzMVx1MDY0MVx1MDYzOScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnXHUwNjJBXHUwNjQ1IFx1MDYyN1x1MDY0NFx1MDYzMVx1MDY0MVx1MDYzOScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdcdTA2MkFcdTA2NDUgXHUwNjI1XHUwNjQ0XHUwNjNBXHUwNjI3XHUwNjIxIFx1MDYyN1x1MDY0NFx1MDYzMVx1MDY0MVx1MDYzOScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yOiAnXHUwNjJEXHUwNjJGXHUwNjJCIFx1MDYyRVx1MDYzN1x1MDYyMyBcdTA2MjNcdTA2MkJcdTA2NDZcdTA2MjdcdTA2MjEgXHUwNjI3XHUwNjQ0XHUwNjMxXHUwNjQxXHUwNjM5JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdcdTA2MkRcdTA2MkZcdTA2MkIgXHUwNjJFXHUwNjM3XHUwNjIzIFx1MDYyM1x1MDYyQlx1MDY0Nlx1MDYyN1x1MDYyMSBcdTA2MjdcdTA2NDRcdTA2MkFcdTA2MzFcdTA2MjdcdTA2MkNcdTA2MzknLFxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiAnXHUwNjJEXHUwNjJGXHUwNjJCIFx1MDYyRVx1MDYzN1x1MDYyMyBcdTA2MjNcdTA2MkJcdTA2NDZcdTA2MjdcdTA2MjEgXHUwNjI3XHUwNjQ0XHUwNjJEXHUwNjMwXHUwNjQxJyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAnXHUwNjI3XHUwNjQ2XHUwNjQyXHUwNjMxIFx1MDY0NFx1MDY0NFx1MDYyNVx1MDY0NFx1MDYzQVx1MDYyN1x1MDYyMScsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiAnXHUwNjI3XHUwNjQ2XHUwNjQyXHUwNjMxIFx1MDY0NFx1MDYyNVx1MDYzOVx1MDYyN1x1MDYyRlx1MDYyOSBcdTA2MjdcdTA2NDRcdTA2NDVcdTA2MkRcdTA2MjdcdTA2NDhcdTA2NDRcdTA2MjknLFxuICAgIGxhYmVsVGFwVG9VbmRvOiAnXHUwNjI3XHUwNjQ2XHUwNjQyXHUwNjMxIFx1MDY0NFx1MDY0NFx1MDYyQVx1MDYzMVx1MDYyN1x1MDYyQ1x1MDYzOScsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnXHUwNjQ1XHUwNjMzXHUwNjJEJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdcdTA2MjVcdTA2NDRcdTA2M0FcdTA2MjdcdTA2MjEnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1x1MDYyNVx1MDYzOVx1MDYyN1x1MDYyRlx1MDYyOScsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnXHUwNjI1XHUwNjQ0XHUwNjNBXHUwNjI3XHUwNjIxJyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ1x1MDYyQVx1MDYzMVx1MDYyN1x1MDYyQ1x1MDYzOScsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnXHUwNjI1XHUwNjM5XHUwNjI3XHUwNjJGXHUwNjI5JyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnXHUwNjMxXHUwNjQxXHUwNjM5JyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdcdTA2MjdcdTA2NDRcdTA2NDVcdTA2NDRcdTA2NDEgXHUwNjQzXHUwNjI4XHUwNjRBXHUwNjMxIFx1MDYyQ1x1MDYyRlx1MDYyNycsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZTogJ1x1MDYyRFx1MDYyQ1x1MDY0NSBcdTA2MjdcdTA2NDRcdTA2NDVcdTA2NDRcdTA2NDEgXHUwNjI3XHUwNjQ0XHUwNjIzXHUwNjQyXHUwNjM1XHUwNjQ5OiB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogJ1x1MDYyQVx1MDY0NSBcdTA2MkFcdTA2MkNcdTA2MjdcdTA2NDhcdTA2MzIgXHUwNjI3XHUwNjQ0XHUwNjJEXHUwNjJGIFx1MDYyN1x1MDY0NFx1MDYyM1x1MDY0Mlx1MDYzNVx1MDY0OSBcdTA2NDRcdTA2NDRcdTA2MkRcdTA2MkNcdTA2NDUgXHUwNjI3XHUwNjQ0XHUwNjI1XHUwNjJDXHUwNjQ1XHUwNjI3XHUwNjQ0XHUwNjRBJyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6ICdcdTA2MjdcdTA2NDRcdTA2MkRcdTA2MkYgXHUwNjI3XHUwNjQ0XHUwNjIzXHUwNjQyXHUwNjM1XHUwNjQ5IFx1MDY0NFx1MDYyRFx1MDYyQ1x1MDY0NSBcdTA2MjdcdTA2NDRcdTA2NDVcdTA2NDRcdTA2NDE6IHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnXHUwNjQ1XHUwNjQ0XHUwNjQxIFx1MDY0NVx1MDY0NiBcdTA2NDZcdTA2NDhcdTA2MzkgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDYzNVx1MDYyN1x1MDY0NFx1MDYyRCcsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ1x1MDYyQVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSB7YWxsQnV0TGFzdFR5cGV9IFx1MDY0NVx1MDY0NiB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdcdTA2NDZcdTA2NDhcdTA2MzkgXHUwNjI3XHUwNjQ0XHUwNjM1XHUwNjQ4XHUwNjMxXHUwNjI5IFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2MkZcdTA2MzlcdTA2NDhcdTA2NDUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ1x1MDYyN1x1MDY0NFx1MDYzNVx1MDY0OFx1MDYzMVx1MDYyOSBcdTA2MzVcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjJDXHUwNjJGXHUwNjI3JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnXHUwNjI3XHUwNjQ0XHUwNjM1XHUwNjQ4XHUwNjMxXHUwNjI5IFx1MDY0M1x1MDYyOFx1MDY0QVx1MDYzMVx1MDYyOSBcdTA2MkNcdTA2MkZcdTA2MjcnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdcdTA2MjdcdTA2NDRcdTA2MkRcdTA2MkYgXHUwNjI3XHUwNjQ0XHUwNjIzXHUwNjJGXHUwNjQ2XHUwNjQ5IFx1MDY0NFx1MDY0NFx1MDYyM1x1MDYyOFx1MDYzOVx1MDYyN1x1MDYyRiBcdTA2NDdcdTA2NDg6IHttaW5XaWR0aH0gXHUwMEQ3IHttaW5IZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhTaXplOiAnXHUwNjI3XHUwNjQ0XHUwNjJEXHUwNjJGIFx1MDYyN1x1MDY0NFx1MDYyM1x1MDY0Mlx1MDYzNVx1MDY0OSBcdTA2NDRcdTA2NDRcdTA2MjNcdTA2MjhcdTA2MzlcdTA2MjdcdTA2MkYgXHUwNjQ3XHUwNjQ4OiB7bWF4V2lkdGh9IFx1MDBENyB7bWF4SGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogJ1x1MDYyN1x1MDY0NFx1MDYyRlx1MDY0Mlx1MDYyOSBcdTA2MzZcdTA2MzlcdTA2NEFcdTA2NDFcdTA2MjkgXHUwNjJDXHUwNjJGXHUwNjI3JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ1x1MDYyN1x1MDY0NFx1MDYyRlx1MDY0Mlx1MDYyOSBcdTA2NDVcdTA2MzFcdTA2MkFcdTA2NDFcdTA2MzlcdTA2MjkgXHUwNjJDXHUwNjJGXHUwNjI3JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5SZXNvbHV0aW9uOiAnXHUwNjIzXHUwNjQyXHUwNjQ0IFx1MDYyRlx1MDY0Mlx1MDYyOToge21pblJlc29sdXRpb259JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhSZXNvbHV0aW9uOiAnXHUwNjIzXHUwNjQyXHUwNjM1XHUwNjQ5IFx1MDYyRlx1MDY0Mlx1MDYyOToge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnUFx1MDE1OWV0XHUwMEUxaG5cdTAxMUJ0ZSBzb3Vib3Igc2VtIChkcmFnJmRyb3ApIG5lYm8gPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IFZ5aGxlZGF0IDwvc3Bhbj4nLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiAnUG9sZSBvYnNhaHVqZSBjaHliblx1MDBFOSBzb3Vib3J5JyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ1pqaVx1MDE2MVx1MDE2NXVqZSBzZSB2ZWxpa29zdCcsXG4gICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogJ1ZlbGlrb3N0IG5lblx1MDBFRCB6blx1MDBFMW1cdTAwRTEnLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdQXHUwMTU5ZW5cdTAwRTFcdTAxNjFcdTAwRUQgc2UnLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ0NoeWJhIHBcdTAxNTlpIHBcdTAxNTllbm9zdScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogJ1Byb2JcdTAwRURoXHUwMEUxIHVwbG9hZCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnVXBsb2FkIGRva29uXHUwMTBEZW4nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiAnVXBsb2FkIHN0b3Jub3ZcdTAwRTFuJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6ICdDaHliYSBwXHUwMTU5aSB1cGxvYWR1JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdDaHliYSBwXHUwMTU5aSBvYm5vdlx1MDExQicsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdDaHliYSBwXHUwMTU5aSBvZHN0cmFuXHUwMTFCblx1MDBFRCcsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ2tsZXBuXHUwMTFCdGUgcHJvIHN0b3JubycsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiAna2xlcG5cdTAxMUJ0ZSBwcm8gb3Bha292XHUwMEUxblx1MDBFRCcsXG4gICAgbGFiZWxUYXBUb1VuZG86ICdrbGVwblx1MDExQnRlIHBybyB2clx1MDBFMWNlblx1MDBFRCcsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnT2RzdHJhbml0JyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdTdG9ybm8nLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ09wYWtvdmF0JyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdacFx1MDExQnQnLFxuICAgIGxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nOiAnVnJcdTAwRTF0aXQnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ09wYWtvdmF0JyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnVXBsb2FkJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdTb3Vib3IgamUgcFx1MDE1OVx1MDBFRGxpXHUwMTYxIHZlbGtcdTAwRkQnLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdOZWp2XHUwMTFCdFx1MDE2MVx1MDBFRCB2ZWxpa29zdCBzb3Vib3J1IGplIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiAnUFx1MDE1OWVrcm9cdTAxMERlbmEgbWF4aW1cdTAwRTFsblx1MDBFRCBjZWxrb3ZcdTAwRTEgdmVsaWtvc3Qgc291Ym9ydScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnTWF4aW1cdTAwRTFsblx1MDBFRCBjZWxrb3ZcdTAwRTEgdmVsaWtvc3Qgc291Ym9ydSBqZSB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogJ1NvdWJvciBqZSBuZXNwclx1MDBFMXZuXHUwMEU5aG8gdHlwdScsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ09cdTAxMERla1x1MDBFMXZcdTAwRTEgc2Uge2FsbEJ1dExhc3RUeXBlfSBuZWJvIHtsYXN0VHlwZX0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogJ09iclx1MDBFMXplayB0b2hvdG8gdHlwdSBuZW5cdTAwRUQgcG9kcG9yb3ZcdTAwRTFuJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdPYnJcdTAwRTF6ZWsgamUgcFx1MDE1OVx1MDBFRGxpXHUwMTYxIG1hbFx1MDBGRCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogJ09iclx1MDBFMXplayBqZSBwXHUwMTU5XHUwMEVEbGlcdTAxNjEgdmVsa1x1MDBGRCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ01pbmltXHUwMEUxbG5cdTAwRUQgcm96bVx1MDExQnIgamUge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdNYXhpbVx1MDBFMWxuXHUwMEVEIHJvem1cdTAxMUJyIGplIHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnUm96bGlcdTAxNjFlblx1MDBFRCBqZSBwXHUwMTU5XHUwMEVEbGlcdTAxNjEgbWFsXHUwMEU5JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ1JvemxpXHUwMTYxZW5cdTAwRUQgamUgcFx1MDE1OVx1MDBFRGxpXHUwMTYxIHZlbGtcdTAwRTknLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246ICdNaW5pbVx1MDBFMWxuXHUwMEVEIHJvemxpXHUwMTYxZW5cdTAwRUQgamUge21pblJlc29sdXRpb259JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhSZXNvbHV0aW9uOiAnTWF4aW1cdTAwRTFsblx1MDBFRCByb3psaVx1MDE2MWVuXHUwMEVEIGplIHttYXhSZXNvbHV0aW9ufSdcbn07XG4iLCAiZXhwb3J0IGRlZmF1bHQge1xuICAgIGxhYmVsSWRsZTpcbiAgICAgICAgJ1RyXHUwMEU2ayAmIHNsaXAgZmlsZXIgZWxsZXIgPHNwYW4gY2xhc3MgPSBcImZpbGVwb25kIC0gbGFiZWwtYWN0aW9uXCI+IEdlbm5lbXNlIDwvc3Bhbj4nLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiAnRmVsdCBpbmRlaG9sZGVyIHVneWxkaWdlIGZpbGVyJyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ1ZlbnRlciBwXHUwMEU1IHN0XHUwMEY4cnJlbHNlJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnU3RcdTAwRjhycmVsc2UgaWtrZSB0aWxnXHUwMEU2bmdlbGlnJyxcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiAnTG9hZGVyJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdMb2FkIGZlamxlZGUnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdVcGxvYWRlcicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnVXBsb2FkIGZcdTAwRTZyZGlnJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogJ1VwbG9hZCBhbm51bGxlcmV0JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6ICdVcGxvYWQgZmVqbGVkZScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiAnRm9ydHJ5ZCBmZWpsZWRlJyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ0ZqZXJuIGZlamxlZGUnLFxuICAgIGxhYmVsVGFwVG9DYW5jZWw6ICd0cnlrIGZvciBhdCBhbm51bGxlcmUnLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogJ3RyeWsgZm9yIGF0IHByXHUwMEY4dmUgaWdlbicsXG4gICAgbGFiZWxUYXBUb1VuZG86ICd0cnlrIGZvciBhdCBmb3J0cnlkZScsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnRmplcm4nLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ0FubnVsbGVyJyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbUxvYWQ6ICdGb3JzXHUwMEY4ZyBpZ2VuJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdBbm51bGxlcicsXG4gICAgbGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc6ICdGb3J0cnlkJyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6ICdQclx1MDBGOHYgaWdlbicsXG4gICAgbGFiZWxCdXR0b25Qcm9jZXNzSXRlbTogJ1VwbG9hZCcsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiAnRmlsZW4gZXIgZm9yIHN0b3InLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdNYWtzaW1hbCBmaWxzdFx1MDBGOHJyZWxzZSBlciB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogJ01ha3NpbWFsIHRvdGFsc3RcdTAwRjhycmVsc2Ugb3ZlcnNrcmVkZXQnLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogJ01ha3NpbWFsIHRvdGFsIGZpbHN0XHUwMEY4cnJlbHNlIGVyIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnVWd5bGRpZyBmaWx0eXBlJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnRm9ydmVudGVyIHthbGxCdXRMYXN0VHlwZX0gZWxsZXIge2xhc3RUeXBlfScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEZvcm1hdEVycm9yOiAnVWd5bGRpZ3QgZm9ybWF0JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdCaWxsZWRldCBlciBmb3IgbGlsbGUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6ICdCaWxsZWRldCBlciBmb3Igc3RvcnQnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdNaW5pbXVtIHN0XHUwMEY4cnJlbHNlIGVyIHttaW5CcmVkZGV9IFx1MDBENyB7bWluSFx1MDBGOGpkZX0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdNYWtzaW1hbCBzdFx1MDBGOHJyZWxzZSBlciB7bWF4V2lkdGh9IFx1MDBENyB7bWF4SGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogJ0ZvciBsYXYgb3BsXHUwMEY4c25pbmcnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnRm9yIGhcdTAwRjhqIG9wbFx1MDBGOHNuaW5nJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5SZXNvbHV0aW9uOiAnTWluaW11bSBvcGxcdTAwRjhzbmluZyBlciB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdNYWtzaW1hbCBvcGxcdTAwRjhzbmluZyBlciB7bWF4UmVzb2x1dGlvbn0nLFxufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnRGF0ZWllbiBhYmxlZ2VuIG9kZXIgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IGF1c3dcdTAwRTRobGVuIDwvc3Bhbj4nLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiAnRmVsZCBiZWluaGFsdGV0IHVuZ1x1MDBGQ2x0aWdlIERhdGVpZW4nLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiAnRGF0ZWlnclx1MDBGNlx1MDBERmUgYmVyZWNobmVuJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnRGF0ZWlnclx1MDBGNlx1MDBERmUgbmljaHQgdmVyZlx1MDBGQ2diYXInLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdMYWRlbicsXG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiAnRmVobGVyIGJlaW0gTGFkZW4nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdVcGxvYWQgbFx1MDBFNHVmdCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnVXBsb2FkIGFiZ2VzY2hsb3NzZW4nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiAnVXBsb2FkIGFiZ2Vicm9jaGVuJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6ICdGZWhsZXIgYmVpbSBVcGxvYWQnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogJ0ZlaGxlciBiZWltIFdpZWRlcmhlcnN0ZWxsZW4nLFxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiAnRmVobGVyIGJlaW0gTFx1MDBGNnNjaGVuJyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAnYWJicmVjaGVuJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICdlcm5ldXQgdmVyc3VjaGVuJyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ3JcdTAwRkNja2dcdTAwRTRuZ2lnJyxcbiAgICBsYWJlbEJ1dHRvblJlbW92ZUl0ZW06ICdFbnRmZXJuZW4nLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ1ZlcndlcmZlbicsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnRXJuZXV0IHZlcnN1Y2hlbicsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnQWJicmVjaGVuJyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ1JcdTAwRkNja2dcdTAwRTRuZ2lnJyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6ICdFcm5ldXQgdmVyc3VjaGVuJyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnVXBsb2FkJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdEYXRlaSBpc3QgenUgZ3JvXHUwMERGJyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnTWF4aW1hbGUgRGF0ZWlnclx1MDBGNlx1MDBERmU6IHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiAnTWF4aW1hbGUgZ2VzYW10ZSBEYXRlaWdyXHUwMEY2XHUwMERGZSBcdTAwRkNiZXJzY2hyaXR0ZW4nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogJ01heGltYWxlIGdlc2FtdGUgRGF0ZWlnclx1MDBGNlx1MDBERmU6IHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnRGF0ZWl0eXAgdW5nXHUwMEZDbHRpZycsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ0Vyd2FydGV0IHthbGxCdXRMYXN0VHlwZX0gb2RlciB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdCaWxkdHlwIG5pY2h0IHVudGVyc3RcdTAwRkN0enQnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ0JpbGQgaXN0IHp1IGtsZWluJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnQmlsZCBpc3QgenUgZ3JvXHUwMERGJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5TaXplOiAnTWluZGVzdGdyXHUwMEY2XHUwMERGZToge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdNYXhpbWFsZSBHclx1MDBGNlx1MDBERmU6IHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnQXVmbFx1MDBGNnN1bmcgaXN0IHp1IG5pZWRyaWcnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnQXVmbFx1MDBGNnN1bmcgaXN0IHp1IGhvY2gnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246ICdNaW5kZXN0YXVmbFx1MDBGNnN1bmc6IHttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ01heGltYWxlIEF1ZmxcdTAwRjZzdW5nOiB7bWF4UmVzb2x1dGlvbn0nXG4gIH07IiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdEcmFnICYgRHJvcCB5b3VyIGZpbGVzIG9yIDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBCcm93c2UgPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdGaWVsZCBjb250YWlucyBpbnZhbGlkIGZpbGVzJyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ1dhaXRpbmcgZm9yIHNpemUnLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6ICdTaXplIG5vdCBhdmFpbGFibGUnLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdMb2FkaW5nJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdFcnJvciBkdXJpbmcgbG9hZCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogJ1VwbG9hZGluZycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnVXBsb2FkIGNvbXBsZXRlJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogJ1VwbG9hZCBjYW5jZWxsZWQnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ0Vycm9yIGR1cmluZyB1cGxvYWQnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogJ0Vycm9yIGR1cmluZyByZXZlcnQnLFxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiAnRXJyb3IgZHVyaW5nIHJlbW92ZScsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ3RhcCB0byBjYW5jZWwnLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogJ3RhcCB0byByZXRyeScsXG4gICAgbGFiZWxUYXBUb1VuZG86ICd0YXAgdG8gdW5kbycsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnUmVtb3ZlJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdBYm9ydCcsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnUmV0cnknLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogJ0NhbmNlbCcsXG4gICAgbGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc6ICdVbmRvJyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6ICdSZXRyeScsXG4gICAgbGFiZWxCdXR0b25Qcm9jZXNzSXRlbTogJ1VwbG9hZCcsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiAnRmlsZSBpcyB0b28gbGFyZ2UnLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdNYXhpbXVtIGZpbGUgc2l6ZSBpcyB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogJ01heGltdW0gdG90YWwgc2l6ZSBleGNlZWRlZCcsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnTWF4aW11bSB0b3RhbCBmaWxlIHNpemUgaXMge2ZpbGVzaXplfScsXG4gICAgbGFiZWxGaWxlVHlwZU5vdEFsbG93ZWQ6ICdGaWxlIG9mIGludmFsaWQgdHlwZScsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ0V4cGVjdHMge2FsbEJ1dExhc3RUeXBlfSBvciB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdJbWFnZSB0eXBlIG5vdCBzdXBwb3J0ZWQnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ0ltYWdlIGlzIHRvbyBzbWFsbCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogJ0ltYWdlIGlzIHRvbyBiaWcnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdNaW5pbXVtIHNpemUgaXMge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdNYXhpbXVtIHNpemUgaXMge21heFdpZHRofSBcdTAwRDcge21heEhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29Mb3c6ICdSZXNvbHV0aW9uIGlzIHRvbyBsb3cnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnUmVzb2x1dGlvbiBpcyB0b28gaGlnaCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ01pbmltdW0gcmVzb2x1dGlvbiBpcyB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdNYXhpbXVtIHJlc29sdXRpb24gaXMge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnQXJyYXN0cmEgeSBzdWVsdGEgdHVzIGFyY2hpdm9zIG8gPHNwYW4gY2xhc3MgPSBcImZpbGVwb25kLS1sYWJlbC1hY3Rpb25cIj4gRXhhbWluYXIgPHNwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogXCJFbCBjYW1wbyBjb250aWVuZSBhcmNoaXZvcyBpbnZcdTAwRTFsaWRvc1wiLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiBcIkVzcGVyYW5kbyB0YW1hXHUwMEYxb1wiLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6IFwiVGFtYVx1MDBGMW8gbm8gZGlzcG9uaWJsZVwiLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6IFwiQ2FyZ2FuZG9cIixcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6IFwiRXJyb3IgZHVyYW50ZSBsYSBjYXJnYVwiLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6IFwiQ2FyZ2FuZG9cIixcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6IFwiQ2FyZ2EgY29tcGxldGFcIixcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogXCJDYXJnYSBjYW5jZWxhZGFcIixcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6IFwiRXJyb3IgZHVyYW50ZSBsYSBjYXJnYVwiLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogXCJFcnJvciBkdXJhbnRlIGxhIHJldmVyc2lcdTAwRjNuXCIsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6IFwiRXJyb3IgZHVyYW50ZSBsYSBlbGltaW5hY2lcdTAwRjNuXCIsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogXCJ0b2NhIHBhcmEgY2FuY2VsYXJcIixcbiAgICBsYWJlbFRhcFRvUmV0cnk6IFwidG9jYXIgcGFyYSB2b2x2ZXIgYSBpbnRlbnRhclwiLFxuICAgIGxhYmVsVGFwVG9VbmRvOiBcInRvY2FyIHBhcmEgZGVzaGFjZXJcIixcbiAgICBsYWJlbEJ1dHRvblJlbW92ZUl0ZW06IFwiRWxpbWluYXJcIixcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6IFwiQWJvcnRhclwiLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogXCJSZWludGVudGFyXCIsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiBcIkNhbmNlbGFyXCIsXG4gICAgbGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc6IFwiRGVzaGFjZXJcIixcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6IFwiUmVpbnRlbnRhclwiLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06IFwiQ2FyZ2FyXCIsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiBcIkVsIGFyY2hpdm8gZXMgZGVtYXNpYWRvIGdyYW5kZVwiLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6IFwiRWwgdGFtYVx1MDBGMW8gbVx1MDBFMXhpbW8gZGVsIGFyY2hpdm8gZXMge2ZpbGVzaXplfVwiLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiBcIlRhbWFcdTAwRjFvIHRvdGFsIG1cdTAwRTF4aW1vIGV4Y2VkaWRvXCIsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiBcIkVsIHRhbWFcdTAwRjFvIHRvdGFsIG1cdTAwRTF4aW1vIGRlbCBhcmNoaXZvIGVzIHtmaWxlc2l6ZX1cIixcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogXCJBcmNoaXZvIGRlIHRpcG8gbm8gdlx1MDBFMWxpZG9cIixcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiBcIkVzcGVyYSB7YWxsQnV0TGFzdFR5cGV9IG8ge2xhc3RUeXBlfVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogXCJUaXBvIGRlIGltYWdlbiBubyBjb21wYXRpYmxlXCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb1NtYWxsOiBcIkxhIGltYWdlbiBlcyBkZW1hc2lhZG8gcGVxdWVcdTAwRjFhXCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogXCJMYSBpbWFnZW4gZXMgZGVtYXNpYWRvIGdyYW5kZVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6IFwiRWwgdGFtYVx1MDBGMW8gbVx1MDBFRG5pbW8gZXMge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH1cIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhTaXplOiBcIkVsIHRhbWFcdTAwRjFvIG1cdTAwRTF4aW1vIGVzIHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9XCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogXCJMYSByZXNvbHVjaVx1MDBGM24gZXMgZGVtYXNpYWRvIGJhamFcIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogXCJMYSByZXNvbHVjaVx1MDBGM24gZXMgZGVtYXNpYWRvIGFsdGFcIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5SZXNvbHV0aW9uOiBcIkxhIHJlc29sdWNpXHUwMEYzbiBtXHUwMEVEbmltYSBlcyB7bWluUmVzb2x1dGlvbn1cIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhSZXNvbHV0aW9uOiBcIkxhIHJlc29sdWNpXHUwMEYzbiBtXHUwMEUxeGltYSBlcyB7bWF4UmVzb2x1dGlvbn1cIixcbn07IiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdcdTA2NDFcdTA2MjdcdTA2Q0NcdTA2NDQgXHUwNjMxXHUwNjI3IFx1MDYyN1x1MDZDQ1x1MDY0Nlx1MDYyQ1x1MDYyNyBcdTA2MjhcdTA2QTlcdTA2MzRcdTA2Q0NcdTA2MkYgXHUwNjQ4IFx1MDYzMVx1MDY0N1x1MDYyNyBcdTA2QTlcdTA2NDZcdTA2Q0NcdTA2MkZcdTA2MEMgXHUwNkNDXHUwNjI3IDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBcdTA2MkNcdTA2MzNcdTA2MkFcdTA2MkNcdTA2NDggXHUwNkE5XHUwNjQ2XHUwNkNDXHUwNjJGIDwvc3Bhbj4nLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiAnXHUwNjQxXHUwNkNDXHUwNjQ0XHUwNjJGIFx1MDYyRlx1MDYyN1x1MDYzMVx1MDYyN1x1MDZDQyBcdTA2NDFcdTA2MjdcdTA2Q0NcdTA2NDQgXHUwNjQ3XHUwNjI3XHUwNkNDIFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMSBcdTA2MjdcdTA2MzNcdTA2MkEnLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiAnV2FpdGluZyBmb3Igc2l6ZScsXG4gICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogJ1x1MDYyRFx1MDYyQ1x1MDY0NSBcdTA2NDFcdTA2MjdcdTA2Q0NcdTA2NDQgXHUwNjQ1XHUwNjJDXHUwNjI3XHUwNjMyIFx1MDY0Nlx1MDZDQ1x1MDYzM1x1MDYyQScsXG4gICAgbGFiZWxGaWxlTG9hZGluZzogJ1x1MDYyRlx1MDYzMVx1MDYyRFx1MDYyN1x1MDY0NCBcdTA2MjhcdTA2MjdcdTA2MzFcdTA2QUZcdTA2MzBcdTA2MjdcdTA2MzFcdTA2Q0MnLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ1x1MDYyRVx1MDYzN1x1MDYyNyBcdTA2MkZcdTA2MzEgXHUwNjMyXHUwNjQ1XHUwNjI3XHUwNjQ2IFx1MDYyN1x1MDYyQ1x1MDYzMVx1MDYyNycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogJ1x1MDYyRlx1MDYzMVx1MDYyRFx1MDYyN1x1MDY0NCBcdTA2MjhcdTA2MjdcdTA2MzFcdTA2QUZcdTA2MzBcdTA2MjdcdTA2MzFcdTA2Q0MnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogJ1x1MDYyOFx1MDYyN1x1MDYzMVx1MDZBRlx1MDYzMFx1MDYyN1x1MDYzMVx1MDZDQyBcdTA2QTlcdTA2MjdcdTA2NDVcdTA2NDQgXHUwNjM0XHUwNjJGJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogJ1x1MDYyOFx1MDYyN1x1MDYzMVx1MDZBRlx1MDYzMFx1MDYyN1x1MDYzMVx1MDZDQyBcdTA2NDRcdTA2M0FcdTA2NDggXHUwNjM0XHUwNjJGJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6ICdcdTA2MkVcdTA2MzdcdTA2MjcgXHUwNjJGXHUwNjMxIFx1MDYzMlx1MDY0NVx1MDYyN1x1MDY0NiBcdTA2MjhcdTA2MjdcdTA2MzFcdTA2QUZcdTA2MzBcdTA2MjdcdTA2MzFcdTA2Q0MnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogJ1x1MDYyRVx1MDYzN1x1MDYyNyBcdTA2MkZcdTA2MzEgXHUwNjMyXHUwNjQ1XHUwNjI3XHUwNjQ2IFx1MDYyRFx1MDYzMFx1MDY0MScsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdcdTA2MkVcdTA2MzdcdTA2MjcgXHUwNjJGXHUwNjMxIFx1MDYzMlx1MDY0NVx1MDYyN1x1MDY0NiBcdTA2MkRcdTA2MzBcdTA2NDEnLFxuICAgIGxhYmVsVGFwVG9DYW5jZWw6ICdcdTA2MjhcdTA2MzFcdTA2MjdcdTA2Q0MgXHUwNjQ0XHUwNjNBXHUwNjQ4IFx1MDYzNlx1MDYzMVx1MDYyOFx1MDY0NyBcdTA2MjhcdTA2MzJcdTA2NDZcdTA2Q0NcdTA2MkYnLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogJ1x1MDYyOFx1MDYzMVx1MDYyN1x1MDZDQyBcdTA2MkFcdTA2QTlcdTA2MzFcdTA2MjdcdTA2MzEgXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNkE5IFx1MDZBOVx1MDY0Nlx1MDZDQ1x1MDYyRicsXG4gICAgbGFiZWxUYXBUb1VuZG86ICdcdTA2MjhcdTA2MzFcdTA2MjdcdTA2Q0MgXHUwNjI4XHUwNjMxXHUwNkFGXHUwNjM0XHUwNjJBIFx1MDZBOVx1MDY0NFx1MDZDQ1x1MDZBOSBcdTA2QTlcdTA2NDZcdTA2Q0NcdTA2MkYnLFxuICAgIGxhYmVsQnV0dG9uUmVtb3ZlSXRlbTogJ1x1MDYyRFx1MDYzMFx1MDY0MScsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Mb2FkOiAnXHUwNjQ0XHUwNjNBXHUwNjQ4JyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbUxvYWQ6ICdcdTA2MkFcdTA2QTlcdTA2MzFcdTA2MjdcdTA2MzEnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogJ1x1MDY0NFx1MDYzQVx1MDY0OCcsXG4gICAgbGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc6ICdcdTA2MjhcdTA2MzFcdTA2QUZcdTA2MzRcdTA2MkEnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ1x1MDYyQVx1MDZBOVx1MDYzMVx1MDYyN1x1MDYzMScsXG4gICAgbGFiZWxCdXR0b25Qcm9jZXNzSXRlbTogJ1x1MDYyOFx1MDYyN1x1MDYzMVx1MDZBRlx1MDYzMFx1MDYyN1x1MDYzMVx1MDZDQycsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiAnXHUwNjQxXHUwNjI3XHUwNkNDXHUwNjQ0IFx1MDYyOFx1MDYzM1x1MDZDQ1x1MDYyN1x1MDYzMSBcdTA2MkRcdTA2MkNcdTA2Q0NcdTA2NDUgXHUwNjI3XHUwNjMzXHUwNjJBJyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnXHUwNjJEXHUwNjJGXHUwNjI3XHUwNkE5XHUwNjJCXHUwNjMxIFx1MDY0NVx1MDYyQ1x1MDYyN1x1MDYzMiBcdTA2NDFcdTA2MjdcdTA2Q0NcdTA2NDQge2ZpbGVzaXplfSBcdTA2MjdcdTA2MzNcdTA2MkEnLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiAnXHUwNjI3XHUwNjMyIFx1MDYyRFx1MDYyRlx1MDYyN1x1MDZBOVx1MDYyQlx1MDYzMSBcdTA2MkRcdTA2MkNcdTA2NDUgXHUwNjQxXHUwNjI3XHUwNkNDXHUwNjQ0IFx1MDYyOFx1MDZDQ1x1MDYzNFx1MDYyQVx1MDYzMSBcdTA2MzRcdTA2MkYnLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogJ1x1MDYyRFx1MDYyRlx1MDYyN1x1MDZBOVx1MDYyQlx1MDYzMSBcdTA2MkRcdTA2MkNcdTA2NDUgXHUwNjQxXHUwNjI3XHUwNkNDXHUwNjQ0IHtmaWxlc2l6ZX0gXHUwNjI3XHUwNjMzXHUwNjJBJyxcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogJ1x1MDY0Nlx1MDY0OFx1MDYzOSBcdTA2NDFcdTA2MjdcdTA2Q0NcdTA2NDQgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxIFx1MDYyN1x1MDYzM1x1MDYyQScsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ1x1MDYyRlx1MDYzMSBcdTA2MjdcdTA2NDZcdTA2MkFcdTA2MzhcdTA2MjdcdTA2MzEge2FsbEJ1dExhc3RUeXBlfSBcdTA2Q0NcdTA2Mjcge2xhc3RUeXBlfScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEZvcm1hdEVycm9yOiAnXHUwNjQxXHUwNjMxXHUwNjQ1XHUwNjJBIFx1MDYyQVx1MDYzNVx1MDY0OFx1MDZDQ1x1MDYzMSBcdTA2N0VcdTA2MzRcdTA2MkFcdTA2Q0NcdTA2MjhcdTA2MjdcdTA2NDZcdTA2Q0MgXHUwNjQ2XHUwNjQ1XHUwNkNDIFx1MDYzNFx1MDY0OFx1MDYyRicsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb1NtYWxsOiAnXHUwNjJBXHUwNjM1XHUwNjQ4XHUwNkNDXHUwNjMxIFx1MDYyOFx1MDYzM1x1MDZDQ1x1MDYyN1x1MDYzMSBcdTA2QTlcdTA2NDhcdTA2ODZcdTA2QTkgXHUwNjI3XHUwNjMzXHUwNjJBJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnXHUwNjJBXHUwNjM1XHUwNjQ4XHUwNkNDXHUwNjMxIFx1MDYyOFx1MDYzM1x1MDZDQ1x1MDYyN1x1MDYzMSBcdTA2MjhcdTA2MzJcdTA2MzFcdTA2QUYgXHUwNjI3XHUwNjMzXHUwNjJBJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5TaXplOiAnXHUwNjJEXHUwNjJGXHUwNjI3XHUwNjQyXHUwNjQ0IFx1MDYyN1x1MDY0Nlx1MDYyRlx1MDYyN1x1MDYzMlx1MDY0NyB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fSBcdTA2MjdcdTA2MzNcdTA2MkEnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdcdTA2MkRcdTA2MkZcdTA2MjdcdTA2QTlcdTA2MkJcdTA2MzEgXHUwNjI3XHUwNjQ2XHUwNjJGXHUwNjI3XHUwNjMyXHUwNjQ3IHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9IFx1MDYyN1x1MDYzM1x1MDYyQScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogJ1x1MDY0OFx1MDYzNlx1MDY0OFx1MDYyRCBcdTA2MkFcdTA2MzVcdTA2NDhcdTA2Q0NcdTA2MzEgXHUwNjI4XHUwNjMzXHUwNkNDXHUwNjI3XHUwNjMxIFx1MDZBOVx1MDY0NSBcdTA2MjdcdTA2MzNcdTA2MkEnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnXHUwNjQ4XHUwNjM2XHUwNjQ4XHUwNjM5IFx1MDYyQVx1MDYzNVx1MDY0OFx1MDZDQ1x1MDYzMSBcdTA2MjhcdTA2MzNcdTA2Q0NcdTA2MjdcdTA2MzEgXHUwNjMyXHUwNkNDXHUwNjI3XHUwNjJGIFx1MDYyN1x1MDYzM1x1MDYyQScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ1x1MDYyRFx1MDYyRlx1MDYyN1x1MDY0Mlx1MDY0NCBcdTA2NDhcdTA2MzZcdTA2NDhcdTA2MkQgXHUwNjJBXHUwNjM1XHUwNjQ4XHUwNkNDXHUwNjMxIHttaW5SZXNvbHV0aW9ufSBcdTA2MjdcdTA2MzNcdTA2MkEnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdcdTA2MkRcdTA2MkZcdTA2MjdcdTA2QTlcdTA2MkJcdTA2MzEgXHUwNjQ4XHUwNjM2XHUwNjQ4XHUwNjJEIFx1MDYyQVx1MDYzNVx1MDY0OFx1MDZDQ1x1MDYzMSB7bWF4UmVzb2x1dGlvbn0gXHUwNjI3XHUwNjMzXHUwNjJBJ1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnVmVkXHUwMEU0IGphIHB1ZG90YSB0aWVkb3N0b2phIHRhaSA8c3BhbiBjbGFzcz1cImZpbGVwb25kLS1sYWJlbC1hY3Rpb25cIj4gU2VsYWEgPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdLZW50XHUwMEU0c3NcdTAwRTQgb24gdmlyaGVlbGxpc2lcdTAwRTQgdGllZG9zdG9qYScsXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6ICdPZG90ZXRhYW4ga29rb2EnLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6ICdLb2tvYSBlaSBzYWF0YXZpbGxhJyxcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiAnTGFkYXRhYW4nLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ1ZpcmhlIGxhdGF1a3Nlc3NhJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnTFx1MDBFNGhldGV0XHUwMEU0XHUwMEU0bicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnTFx1MDBFNGhldHlzIHZhbG1pcycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdMXHUwMEU0aGV0eXMgcGVydXR0dScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yOiAnVmlyaGUgbFx1MDBFNGhldHlrc2Vzc1x1MDBFNCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiAnVmlyaGUgcGFsYXV0dWtzZXNzYScsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdWaXJoZSBwb2lzdGFtaXNlc3NhJyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAncGVydXV0YSBuYXBhdXR0YW1hbGxhJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICd5cml0XHUwMEU0IHV1ZGVsbGVlbiBuYXBhdXR0YW1hbGxhJyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ2t1bW9hIG5hcGF1dHRhbWFsbGEnLFxuICAgIGxhYmVsQnV0dG9uUmVtb3ZlSXRlbTogJ1BvaXN0YScsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Mb2FkOiAnS2Vza2V5dFx1MDBFNCcsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnWXJpdFx1MDBFNCB1dWRlbGxlZW4nLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogJ1BlcnV1dGEnLFxuICAgIGxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nOiAnS3Vtb2EnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ1lyaXRcdTAwRTQgdXVkZWxsZWVuJyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnTFx1MDBFNGhldFx1MDBFNCcsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiAnVGllZG9zdG9uIGtva28gb24gbGlpYW4gc3V1cmknLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdUaWVkb3N0b24gbWFrc2ltaWtva28gb24ge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdUaWVkb3N0b2plbiB5aGRpc3RldHR5IG1ha3NpbWlrb2tvIHlsaXRldHR5JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6ICdUaWVkb3N0b2plbiB5aGRpc3RldHR5IG1ha3NpbWlrb2tvIG9uIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnVGllZG9zdG90eXlwcGlcdTAwRTQgZWkgc2FsbGl0YScsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ1NhbGxpdGFhbiB7YWxsQnV0TGFzdFR5cGV9IHRhaSB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdLdXZhdHl5cHBpXHUwMEU0IGVpIHR1ZXRhJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdLdXZhIG9uIGxpaWFuIHBpZW5pJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnS3V2YSBvbiBsaWlhbiBzdXVyaScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ01pbmltaWtva28gb24ge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdNYWtzaW1pa29rbyBvbiB7bWF4V2lkdGh9IFx1MDBENyB7bWF4SGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogJ1Jlc29sdXV0aW8gb24gbGlpYW4gcGllbmknLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnUmVzb2x1dXRpbyBvbiBsaWlhbiBzdXVyaScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ01pbmltaXJlc29sdXV0aW8gb24ge21pblJlc29sdXRpb259JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhSZXNvbHV0aW9uOiAnTWFrc2ltaXJlc29sdXV0aW8gb24ge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnRmFpdGVzIGdsaXNzZXIgdm9zIGZpY2hpZXJzIG91IDxzcGFuIGNsYXNzID0gXCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IFBhcmNvdXJpciA8c3Bhbj4nLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiBcIkxlIGNoYW1wIGNvbnRpZW50IGRlcyBmaWNoaWVycyBpbnZhbGlkZXNcIixcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogXCJFbiBhdHRlbnRlIGRlIHRhaWxsZVwiLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6IFwiVGFpbGxlIG5vbiBkaXNwb25pYmxlXCIsXG4gICAgbGFiZWxGaWxlTG9hZGluZzogXCJDaGFyZ2VtZW50XCIsXG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiBcIkVycmV1ciBkdXJhbnQgbGUgY2hhcmdlbWVudFwiLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6IFwiVHJhaXRlbWVudFwiLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogXCJUcmFpdGVtZW50IGVmZmVjdHVcdTAwRTlcIixcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogXCJUcmFpdGVtZW50IGludGVycm9tcHVcIixcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6IFwiRXJyZXVyIGR1cmFudCBsZSB0cmFpdGVtZW50XCIsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiBcIkVycmV1ciBkdXJhbnQgbGEgcmVzdGF1cmF0aW9uXCIsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6IFwiRXJyZXVyIGR1cmFudCBsYSBzdXBwcmVzc2lvblwiLFxuICAgIGxhYmVsVGFwVG9DYW5jZWw6IFwiYXBwdXllciBwb3VyIGFubnVsZXJcIixcbiAgICBsYWJlbFRhcFRvUmV0cnk6IFwiYXBwdXllciBwb3VyIHJcdTAwRTllc3NheWVyXCIsXG4gICAgbGFiZWxUYXBUb1VuZG86IFwiYXBwdXllciBwb3VyIHJldmVuaXIgZW4gYXJyaVx1MDBFOHJlXCIsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiBcIlJldGlyZXJcIixcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6IFwiQW5udWxlclwiLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogXCJSZWNvbW1lbmNlclwiLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogXCJBbm51bGVyXCIsXG4gICAgbGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc6IFwiUmV2ZW5pciBlbiBhcnJpXHUwMEU4cmVcIixcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6IFwiUmVjb21tZW5jZXJcIixcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiBcIlRyYW5zZlx1MDBFOXJlclwiLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogXCJMZSBmaWNoaWVyIGVzdCB0cm9wIHZvbHVtaW5ldXhcIixcbiAgICBsYWJlbE1heEZpbGVTaXplOiBcIkxhIHRhaWxsZSBtYXhpbWFsZSBkZSBmaWNoaWVyIGVzdCB7ZmlsZXNpemV9XCIsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6IFwiVGFpbGxlIHRvdGFsZSBtYXhpbWFsZSBkXHUwMEU5cGFzc1x1MDBFOWVcIixcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6IFwiTGEgdGFpbGxlIHRvdGFsZSBtYXhpbWFsZSBkZXMgZmljaGllcnMgZXN0IHtmaWxlc2l6ZX1cIixcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogXCJGaWNoaWVyIG5vbiB2YWxpZGVcIixcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiBcIkF0dGVuZHUge2FsbEJ1dExhc3RUeXBlfSBvdSB7bGFzdFR5cGV9XCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEZvcm1hdEVycm9yOiBcIlR5cGUgZCdpbWFnZSBub24gcHJpcyBlbiBjaGFyZ2VcIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6IFwiTCdpbWFnZSBlc3QgdHJvcCBwZXRpdGVcIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiBcIkwnaW1hZ2UgZXN0IHRyb3AgZ3JhbmRlXCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogXCJMYSB0YWlsbGUgbWluaW1hbGUgZXN0IHttaW5XaWR0aH0gXHUwMEQ3IHttaW5IZWlnaHR9XCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogXCJMYSB0YWlsbGUgbWF4aW1hbGUgZXN0IHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9XCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogXCJMYSByXHUwMEU5c29sdXRpb24gZXN0IHRyb3AgZmFpYmxlXCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0hpZ2g6IFwiTGEgclx1MDBFOXNvbHV0aW9uIGVzdCB0cm9wIFx1MDBFOWxldlx1MDBFOWVcIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5SZXNvbHV0aW9uOiBcIkxhIHJcdTAwRTlzb2x1dGlvbiBtaW5pbWFsZSBlc3Qge21pblJlc29sdXRpb259XCIsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogXCJMYSByXHUwMEU5c29sdXRpb24gbWF4aW1hbGUgZXN0IHttYXhSZXNvbHV0aW9ufVwiLFxufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnTW96Z2FzZCBpZGUgYSBmXHUwMEUxamx0IGEgZmVsdFx1MDBGNmx0XHUwMEU5c2hleiwgdmFneSA8c3BhbiBjbGFzcz1cImZpbGVwb25kLS1sYWJlbC1hY3Rpb25cIj4gdGFsbFx1MDBGM3pcdTAwRTFzIDwvc3Bhbj4nLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiAnQSBtZXpcdTAxNTEgXHUwMEU5cnZcdTAwRTlueXRlbGVuIGZcdTAwRTFqbG9rYXQgdGFydGFsbWF6JyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ0ZcdTAwRTFsam1cdTAwRTlyZXQga2lzelx1MDBFMW1vbFx1MDBFMXNhJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnQSBmXHUwMEUxamxtXHUwMEU5cmV0IG5lbSBlbFx1MDBFOXJoZXRcdTAxNTEnLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdUXHUwMEY2bHRcdTAwRTlzJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdIaWJhIGEgYmV0XHUwMEY2bHRcdTAwRTlzIHNvclx1MDBFMW4nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdGZWx0XHUwMEY2bHRcdTAwRTlzJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6ICdTaWtlcmVzIGZlbHRcdTAwRjZsdFx1MDBFOXMnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiAnQSBmZWx0XHUwMEY2bHRcdTAwRTlzIG1lZ3N6YWtcdTAwRUR0dmEnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ0hpYmEgdFx1MDBGNnJ0XHUwMEU5bnQgYSBmZWx0XHUwMEY2bHRcdTAwRTlzIHNvclx1MDBFMW4nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogJ0hpYmEgYSB2aXNzemFcdTAwRTFsbFx1MDBFRHRcdTAwRTFzIHNvclx1MDBFMW4nLFxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiAnSGliYSB0XHUwMEY2cnRcdTAwRTludCBheiBlbHRcdTAwRTF2b2xcdTAwRUR0XHUwMEUxcyBzb3JcdTAwRTFuJyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAna29wcGludHMgYSB0XHUwMEY2cmxcdTAwRTlzaGV6JyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICdrb3BwaW50cyBheiBcdTAwRkFqcmFrZXpkXHUwMEU5c2hleicsXG4gICAgbGFiZWxUYXBUb1VuZG86ICdrb3BwaW50cyBhIHZpc3N6YXZvblx1MDBFMXNob3onLFxuICAgIGxhYmVsQnV0dG9uUmVtb3ZlSXRlbTogJ0VsdFx1MDBFMXZvbFx1MDBFRHRcdTAwRTFzJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdNZWdzemFrXHUwMEVEdFx1MDBFMXMnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1x1MDBEQWpyYXByXHUwMEYzYlx1MDBFMWxrb3pcdTAwRTFzJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdNZWdzemFrXHUwMEVEdFx1MDBFMXMnLFxuICAgIGxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nOiAnVmlzc3phdm9uXHUwMEUxcycsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnXHUwMERBanJhcHJcdTAwRjNiXHUwMEUxbGtvelx1MDBFMXMnLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06ICdGZWx0XHUwMEY2bHRcdTAwRTlzJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdBIGZcdTAwRTFqbCB0XHUwMEZBbGxcdTAwRTlwdGUgYSBtYXhpbVx1MDBFMWxpcyBtXHUwMEU5cmV0ZXQnLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdNYXhpbVx1MDBFMWxpcyBmXHUwMEUxamxtXHUwMEU5cmV0OiB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogJ1RcdTAwRkFsbFx1MDBFOXB0ZSBhIG1heGltXHUwMEUxbGlzIHRlbGplcyBtXHUwMEU5cmV0ZXQnLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogJ0EgbWF4aW1cdTAwRTFpcyB0ZWxqZXMgZlx1MDBFMWpsbVx1MDBFOXJldDoge2ZpbGVzaXplfScsXG4gICAgbGFiZWxGaWxlVHlwZU5vdEFsbG93ZWQ6ICdcdTAwQzlydlx1MDBFOW55dGVsZW4gdFx1MDBFRHB1c1x1MDBGQSBmXHUwMEUxamwnLFxuICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXM6ICdFbmdlZFx1MDBFOWx5ZXpldHQgdFx1MDBFRHB1c29rIHthbGxCdXRMYXN0VHlwZX0gdmFneSB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdBIGtcdTAwRTlwdFx1MDBFRHB1cyBuZW0gdFx1MDBFMW1vZ2F0b3R0JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdBIGtcdTAwRTlwIHRcdTAwRkFsIGtpY3NpJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnQSBrXHUwMEU5cCB0XHUwMEZBbCBuYWd5JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5TaXplOiAnTWluaW11bSBtXHUwMEU5cmV0OiB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ01heGltdW0gbVx1MDBFOXJldDoge21heFdpZHRofSBcdTAwRDcge21heEhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29Mb3c6ICdBIGZlbGJvbnRcdTAwRTFzIHRcdTAwRkFsIGFsYWNzb255JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ0EgZmVsYm9udFx1MDBFMXMgdFx1MDBGQWwgbWFnYXMnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246ICdNaW5pbVx1MDBFMWlzIGZlbGJvbnRcdTAwRTFzOiB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdNYXhpbVx1MDBFMWxpcyBmZWxib250XHUwMEUxczoge21heFJlc29sdXRpb259J1xuICB9OyIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnU2VyZXQgZGFuIEphdHVoa2FuIGZpbGUgQW5kYSBhdGF1IDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPkplbGFqYWhpPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdGaWVsZCBiZXJpc2kgZmlsZSB0aWRhayB2YWxpZCcsXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6ICdNZW51bmdndSB1a3VyYW4nLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6ICdVa3VyYW4gdGlkYWsgdGVyc2VkaWEnLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdNZW11YXQnLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ0tlc2FsYWhhbiBzYWF0IG1lbXVhdCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogJ01lbmd1bmdnYWgnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogJ1VuZ2dhaGFuIHNlbGVzYWknLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiAnVW5nZ2FoYW4gZGliYXRhbGthbicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yOiAnS2VzYWxhaGFuIHNhYXQgbWVuZ3VuZ2dhaCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiAnS2VzYWxhaGFuIHNhYXQgcGVuZ2VtYmFsaWFuJyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ0tlc2FsYWhhbiBzYWF0IG1lbmdoYXB1cycsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ2tldHVrIHVudHVrIG1lbWJhdGFsa2FuJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICdrZXR1ayB1bnR1ayBtZW5jb2JhIGxhZ2knLFxuICAgIGxhYmVsVGFwVG9VbmRvOiAna2V0dWsgdW50dWsgbWVuZ3VydW5na2FuJyxcbiAgICBsYWJlbEJ1dHRvblJlbW92ZUl0ZW06ICdIYXB1cycsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Mb2FkOiAnQmF0YWwnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ0NvYmEgS2VtYmFsaScsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnQmF0YWwnLFxuICAgIGxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nOiAnQmF0YWwnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ0NvYmEgS2VtYmFsaScsXG4gICAgbGFiZWxCdXR0b25Qcm9jZXNzSXRlbTogJ1VuZ2dhaCcsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiAnRmlsZSB0ZXJsYWx1IGJlc2FyJyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnVWt1cmFuIGZpbGUgbWFrc2ltdW0gYWRhbGFoIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiAnSnVtbGFoIGZpbGUgbWFrc2ltdW0gdGVybGFtcGF1aScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnSnVtbGFoIGZpbGUgbWFrc2ltdW0gYWRhbGFoIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnSmVuaXMgZmlsZSB0aWRhayB2YWxpZCcsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ01lbmdoYXJhcGthbiB7YWxsQnV0TGFzdFR5cGV9IGF0YXUge2xhc3RUeXBlfScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEZvcm1hdEVycm9yOiAnSmVuaXMgZ2FtYmFyIHRpZGFrIGRpZHVrdW5nJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdHYW1iYXIgdGVybGFsdSBrZWNpbCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogJ0dhbWJhciB0ZXJsYWx1IGJlc2FyJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5TaXplOiAnVWt1cmFuIG1pbmltdW0gYWRhbGFoIHttaW5XaWR0aH0gXHUwMEQ3IHttaW5IZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhTaXplOiAnVWt1cmFuIG1ha3NpbXVtIGFkYWxhaCB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogJ1Jlc29sdXNpIHRlcmxhbHUgcmVuZGFoJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ1Jlc29sdXNpIHRlcmxhbHUgdGluZ2dpJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5SZXNvbHV0aW9uOiAnUmVzb2x1c2kgbWluaW11bSBhZGFsYWgge21pblJlc29sdXRpb259JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhSZXNvbHV0aW9uOiAnUmVzb2x1c2kgbWFrc2ltdW0gYWRhbGFoIHttYXhSZXNvbHV0aW9ufSdcbiAgfTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnVHJhc2NpbmEgZSByaWxhc2NpYSBpIHR1b2kgZmlsZSBvcHB1cmUgPHNwYW4gY2xhc3MgPSBcImZpbGVwb25kLS1sYWJlbC1hY3Rpb25cIj4gQ2FyaWNhIDxzcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6IFwiSWwgY2FtcG8gY29udGllbmUgZGVpIGZpbGUgbm9uIHZhbGlkaVwiLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiBcIkFzcGV0dGFuZG8gbGUgZGltZW5zaW9uaVwiLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6IFwiRGltZW5zaW9uaSBub24gZGlzcG9uaWJpbGlcIixcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiBcIkNhcmljYW1lbnRvXCIsXG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiBcIkVycm9yZSBkdXJhbnRlIGlsIGNhcmljYW1lbnRvXCIsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogXCJDYXJpY2FtZW50b1wiLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogXCJDYXJpY2FtZW50byBjb21wbGV0YXRvXCIsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6IFwiQ2FyaWNhbWVudG8gY2FuY2VsbGF0b1wiLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogXCJFcnJvcmUgZHVyYW50ZSBpbCBjYXJpY2FtZW50b1wiLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogXCJFcnJvcmUgZHVyYW50ZSBpbCByaXByaXN0aW5vXCIsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6IFwiRXJyb3JlIGR1cmFudGUgbCdlbGltaW5hemlvbmVcIixcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiBcInRvY2NhIHBlciBjYW5jZWxsYXJlXCIsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiBcInRvY2NhIHBlciByaXByb3ZhcmVcIixcbiAgICBsYWJlbFRhcFRvVW5kbzogXCJ0b2NjYSBwZXIgcmlwcmlzdGluYXJlXCIsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiBcIkVsaW1pbmFcIixcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6IFwiQ2FuY2VsbGFcIixcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbUxvYWQ6IFwiUml0ZW50YVwiLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogXCJDYW1jZWxsYVwiLFxuICAgIGxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nOiBcIkluZGlldHJvXCIsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiBcIlJpdGVudGFcIixcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiBcIkNhcmljYVwiLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogXCJJbCBwZXNvIGRlbCBmaWxlIFx1MDBFOCBlY2Nlc3Npdm9cIixcbiAgICBsYWJlbE1heEZpbGVTaXplOiBcIklsIHBlc28gbWFzc2ltbyBkZWwgZmlsZSBcdTAwRTgge2ZpbGVzaXplfVwiLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiBcIkRpbWVuc2lvbmUgdG90YWxlIG1hc3NpbWEgc3VwZXJhdGFcIixcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6IFwiTGEgZGltZW5zaW9uZSBtYXNzaW1hIHRvdGFsZSBkZWwgZmlsZSBcdTAwRTgge2ZpbGVzaXplfVwiLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiBcIkZpbGUgbm9uIHN1cHBvcnRhdG9cIixcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiBcIkFzcGV0dGEge2FsbEJ1dExhc3RUeXBlfSBvIHtsYXN0VHlwZX1cIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6IFwiVGlwbyBkaSBpbW1hZ2luZSBub24gY29tcGF0aWJpbGVcIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6IFwiTCdpbW1hZ2luZSBcdTAwRTggdHJvcHBvIHBpY2NvbGFcIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiBcIkwnaW1tYWdpbmUgXHUwMEU4IHRyb3BwbyBncmFuZGVcIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5TaXplOiBcIkxhIGRpbWVuc2lvbmUgbWluaW1hIFx1MDBFOCB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6IFwiTGEgZGltZW5zaW9uZSBtYXNzaW1hIFx1MDBFOCB7bWF4V2lkdGh9IFx1MDBENyB7bWF4SGVpZ2h0fVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29Mb3c6IFwiTGEgcmlzb2x1emlvbmUgXHUwMEU4IHRyb3BwbyBiYXNzYVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiBcIkxhIHJpc29sdXppb25lIFx1MDBFOCB0cm9wcG8gYWx0YVwiLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246IFwiTGEgcmlzb2x1emlvbmUgbWluaW1hIFx1MDBFOCB7bWluUmVzb2x1dGlvbn1cIixcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhSZXNvbHV0aW9uOiBcIkxhIHJpc29sdXppb25lIG1hc3NpbWEgXHUwMEU4IHttYXhSZXNvbHV0aW9ufVwiLFxufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnRHJhZyAmIERyb3AgamUgYmVzdGFuZGVuIG9mIDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBCbGFkZXJlbiA8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ1ZlbGQgYmV2YXQgb25nZWxkaWdlIGJlc3RhbmRlbicsXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6ICdXYWNodGVuIG9wIGdyb290dGUnLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6ICdHcm9vdHRlIG5pZXQgYmVzY2hpa2JhYXInLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdMYWRlbicsXG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiAnRm91dCB0aWpkZW5zIGxhZGVuJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnVXBsb2FkZW4nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogJ1VwbG9hZCBhZmdlcm9uZCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdVcGxvYWQgZ2Vhbm51bGVlcmQnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ0ZvdXQgdGlqZGVucyB1cGxvYWQnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogJ0ZvdXQgYmlqIGhlcnN0ZWxsZW4nLFxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiAnRm91dCBiaWogdmVyd2lqZGVyZW4nLFxuICAgIGxhYmVsVGFwVG9DYW5jZWw6ICd0aWsgb20gdGUgYW5udWxlcmVuJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICd0aWsgb20gb3BuaWV1dyB0ZSBwcm9iZXJlbicsXG4gICAgbGFiZWxUYXBUb1VuZG86ICd0aWsgb20gb25nZWRhYW4gdGUgbWFrZW4nLFxuICAgIGxhYmVsQnV0dG9uUmVtb3ZlSXRlbTogJ1ZlcndpamRlcmVuJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdBZmJyZWtlbicsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnT3BuaWV1dyBwcm9iZXJlbicsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnQW5udWxlcmVuJyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ09uZ2VkYWFuIG1ha2VuJyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6ICdPcG5pZXV3IHByb2JlcmVuJyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnVXBsb2FkJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdCZXN0YW5kIGlzIHRlIGdyb290JyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnTWF4aW1hbGUgYmVzdGFuZHNncm9vdHRlIGlzIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiAnTWF4aW1hbGUgdG90YWxlIGdyb290dGUgb3ZlcnNjaHJlZGVuJyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6ICdNYXhpbWFsZSB0b3RhbGUgYmVzdGFuZHNncm9vdHRlIGlzIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnT25nZWxkaWcgYmVzdGFuZHN0eXBlJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnVmVyd2FjaHQge2FsbEJ1dExhc3RUeXBlfSBvZiB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdBZmJlZWxkaW5nc3R5cGUgbmlldCBvbmRlcnN0ZXVuZCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb1NtYWxsOiAnQWZiZWVsZGluZyBpcyB0ZSBrbGVpbicsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogJ0FmYmVlbGRpbmcgaXMgdGUgZ3Jvb3QnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdNaW5pbWFsZSBhZm1ldGluZyBpcyB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ01heGltYWxlIGFmbWV0aW5nIGlzIHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnUmVzb2x1dGllIGlzIHRlIGxhYWcnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnUmVzb2x1dGlvbiBpcyB0b28gaGlnaCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ01pbmltYWxlIHJlc29sdXRpZSBpcyB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdNYXhpbWFsZSByZXNvbHV0aWUgaXMge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnUHJ6ZWNpXHUwMTA1Z25paiBpIHVwdVx1MDE1Qlx1MDEwNyBsdWIgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+d3liaWVyejwvc3Bhbj4gcGxpa2knLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiAnTmllcHJhd2lkXHUwMTQyb3dlIHBsaWtpJyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ1BvYmllcmFuaWUgcm96bWlhcnUnLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6ICdOaWV6bmFueSByb3ptaWFyJyxcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiAnV2N6eXR5d2FuaWUnLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ0JcdTAxNDJcdTAxMDVkIHdjenl0eXdhbmlhJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnUHJ6ZXN5XHUwMTQyYW5pZScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnUHJ6ZXNcdTAxNDJhbm8nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiAnUHJ6ZXJ3YW5vJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6ICdQcnplc3lcdTAxNDJhbmllIG5pZSBwb3dpb2RcdTAxNDJvIHNpXHUwMTE5JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdDb1x1MDE1QiBwb3N6XHUwMTQybyBuaWUgdGFrJyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ05pZXVkYW5lIHVzdW5pXHUwMTE5Y2llJyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAnQW51bHVqJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICdQb25cdTAwRjN3JyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ0NvZm5paicsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnVXN1XHUwMTQ0JyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdQcnplcndpaicsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnUG9uXHUwMEYzdycsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnQW51bHVqJyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ0NvZm5paicsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnUG9uXHUwMEYzdycsXG4gICAgbGFiZWxCdXR0b25Qcm9jZXNzSXRlbTogJ1ByemVcdTAxNUJsaWonLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogJ1BsaWsgamVzdCB6Ynl0IGR1XHUwMTdDeScsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZTogJ0RvcHVzemN6YWxuYSB3aWVsa29cdTAxNUJcdTAxMDcgcGxpa3UgdG8ge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdQcnpla3JvY3pvbm8gXHUwMTQyXHUwMTA1Y3pueSByb3ptaWFyIHBsaWtcdTAwRjN3JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6ICdcdTAxNDFcdTAxMDVjem55IHJvem1pYXIgcGxpa1x1MDBGM3cgbmllIG1vXHUwMTdDZSBwcnpla3JvY3p5XHUwMTA3IHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnTmllZG96d29sb255IHJvZHphaiBwbGlrdScsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ09jemVraXdhbm8ge2FsbEJ1dExhc3RUeXBlfSBsdWIge2xhc3RUeXBlfScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEZvcm1hdEVycm9yOiAnTmllb2JzXHUwMTQydWdpd2FueSBmb3JtYXQgb2JyYXp1JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdPYnJheiBqZXN0IHpieXQgbWFcdTAxNDJ5JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnT2JyYXogamVzdCB6Ynl0IGR1XHUwMTdDeScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ01pbmltYWxuZSB3eW1pYXJ5IG9icmF6dSB0byB7bWluV2lkdGh9XHUwMEQ3e21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdNYWtzeW1hbG5hIHd5bWlhcnkgb2JyYXp1IHRvIHttYXhXaWR0aH1cdTAwRDd7bWF4SGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogJ1JvemR6aWVsY3pvXHUwMTVCXHUwMTA3IGplc3QgemJ5dCBuaXNrYScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0hpZ2g6ICdSb3pkemllbGN6b1x1MDE1Qlx1MDEwNyBqZXN0IHpieXQgd3lzb2thJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5SZXNvbHV0aW9uOiAnTWluaW1hbG5hIHJvemR6aWVsY3pvXHUwMTVCXHUwMTA3IHRvIHttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ01ha3N5bWFsbmEgcm96ZHppZWxjem9cdTAxNUJcdTAxMDcgdG8ge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnQXJyYXN0ZSBlIHNvbHRlIG9zIGFycXVpdm9zIG91IDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBDbGlxdWUgYXF1aSA8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ0FycXVpdm9zIGludlx1MDBFMWxpZG9zJyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ0NhbGN1bGFuZG8gbyB0YW1hbmhvIGRvIGFycXVpdm8nLFxuICAgIGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU6ICdUYW1hbmhvIGRvIGFycXVpdm8gaW5kaXNwb25cdTAwRUR2ZWwnLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdDYXJyZWdhbmRvJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdFcnJvIGR1cmFudGUgbyBjYXJyZWdhbWVudG8nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdFbnZpYW5kbycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnRW52aW8gZmluYWxpemFkbycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdFbnZpbyBjYW5jZWxhZG8nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ0Vycm8gZHVyYW50ZSBvIGVudmlvJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdFcnJvIGFvIHJldmVydGVyIG8gZW52aW8nLFxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiAnRXJybyBhbyByZW1vdmVyIG8gYXJxdWl2bycsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ2NsaXF1ZSBwYXJhIGNhbmNlbGFyJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICdjbGlxdWUgcGFyYSByZWVudmlhcicsXG4gICAgbGFiZWxUYXBUb1VuZG86ICdjbGlxdWUgcGFyYSBkZXNmYXplcicsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnUmVtb3ZlcicsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Mb2FkOiAnQWJvcnRhcicsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnUmVlbnZpYXInLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogJ0NhbmNlbGFyJyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ0Rlc2ZhemVyJyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6ICdSZWVudmlhcicsXG4gICAgbGFiZWxCdXR0b25Qcm9jZXNzSXRlbTogJ0VudmlhcicsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiAnQXJxdWl2byBcdTAwRTkgbXVpdG8gZ3JhbmRlJyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnTyB0YW1hbmhvIG1cdTAwRTF4aW1vIHBlcm1pdGlkbzoge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdUYW1hbmhvIHRvdGFsIGRvcyBhcnF1aXZvcyBleGNlZGlkbycsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnVGFtYW5obyB0b3RhbCBwZXJtaXRpZG86IHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnVGlwbyBkZSBhcnF1aXZvIGludlx1MDBFMWxpZG8nLFxuICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXM6ICdUaXBvcyBkZSBhcnF1aXZvIHN1cG9ydGFkb3Mgc1x1MDBFM28ge2FsbEJ1dExhc3RUeXBlfSBvdSB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdUaXBvIGRlIGltYWdlbSBpbnZcdTAwRTFsaWRhJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdJbWFnZW0gbXVpdG8gcGVxdWVuYScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogJ0ltYWdlbSBtdWl0byBncmFuZGUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdUYW1hbmhvIG1cdTAwRURuaW1vIHBlcm1pdGlkYToge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdUYW1hbmhvIG1cdTAwRTF4aW1vIHBlcm1pdGlkbzoge21heFdpZHRofSBcdTAwRDcge21heEhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29Mb3c6ICdSZXNvbHVcdTAwRTdcdTAwRTNvIG11aXRvIGJhaXhhJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ1Jlc29sdVx1MDBFN1x1MDBFM28gbXVpdG8gYWx0YScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ1Jlc29sdVx1MDBFN1x1MDBFM28gbVx1MDBFRG5pbWEgcGVybWl0aWRhOiB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdSZXNvbHVcdTAwRTdcdTAwRTNvIG1cdTAwRTF4aW1hIHBlcm1pdGlkYToge21heFJlc29sdXRpb259Jyxcbn07XG4iLCAiZXhwb3J0IGRlZmF1bHQge1xuICAgIGxhYmVsSWRsZTogJ1RyYWdlIFx1MDIxOWkgcGxhc2Vhelx1MDEwMyBmaVx1MDIxOWllcmUgc2F1IDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBDYXV0XHUwMTAzLWxlIDwvc3Bhbj4nLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiAnQ1x1MDBFMm1wdWwgY29uXHUwMjFCaW5lIGZpXHUwMjE5aWVyZSBjYXJlIG51IHN1bnQgdmFsaWRlJyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ1x1MDBDRW4gYVx1MDIxOXRlcHRhcmVhIGRpbWVuc2l1bmlpJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnRGltZW5zaXVuZWEgbnUgZXN0ZSBkaXBvbmliaWxcdTAxMDMnLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdTZSBcdTAwRUVuY2FyY1x1MDEwMycsXG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiAnRXJvYXJlIGxhIFx1MDBFRW5jXHUwMTAzcmNhcmUnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdTZSBcdTAwRUVuY2FyY1x1MDEwMycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnXHUwMENFbmNcdTAxMDNyY2FyZSBmaW5hbGl6YXRcdTAxMDMnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiAnXHUwMENFbmNcdTAxMDNyY2FyZSBhbnVsYXRcdTAxMDMnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ0Vyb2FyZSBsYSBcdTAwRUVuY1x1MDEwM3JjYXJlJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdFcm9hcmUgbGEgYW51bGFyZScsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdFcm9hcmUgbGEgXHUwMTVGdGVyZ2VyZScsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ2FwYXNcdTAxMDMgcGVudHJ1IGEgYW51bGEnLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogJ2FwYXNcdTAxMDMgcGVudHJ1IGEgcmVcdTAwRUVuY2VyY2EnLFxuICAgIGxhYmVsVGFwVG9VbmRvOiAnYXBhc1x1MDEwMyBwZW50cnUgYSBhbnVsYScsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnXHUwMTVFdGVyZ2UnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ0FudWxlYXpcdTAxMDMnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1JlXHUwMEVFbmNlYXJjXHUwMTAzJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdBbnVsZWF6XHUwMTAzJyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ0FudWxlYXpcdTAxMDMnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ1JlXHUwMEVFbmNlYXJjXHUwMTAzJyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnXHUwMENFbmNhcmNcdTAxMDMnLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogJ0ZpXHUwMjE5aWVydWwgZXN0ZSBwcmVhIG1hcmUnLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdEaW1lbnNpdW5lYSBtYXhpbVx1MDEwMyBhIHVudWkgZmlcdTAyMTlpZXIgZXN0ZSBkZSB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogJ0RpbWVuc2l1bmVhIHRvdGFsXHUwMTAzIG1heGltXHUwMTAzIGEgZm9zdCBkZXBcdTAxMDNcdTAyMTlpdFx1MDEwMycsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnRGltZW5zaXVuZWEgdG90YWxcdTAxMDMgbWF4aW1cdTAxMDMgYSBmaVx1MDIxOWllcmVsb3IgZXN0ZSBkZSB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogJ1RpcHVsIGZpXHUwMjE5aWVydWx1aSBudSBlc3RlIHZhbGlkJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnU2UgYVx1MDIxOXRlYXB0XHUwMTAzIHthbGxCdXRMYXN0VHlwZX0gc2F1IHtsYXN0VHlwZX0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogJ0Zvcm1hdHVsIGltYWdpbmlpIG51IGVzdGUgYWNjZXB0YXQnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ0ltYWdpbmVhIGVzdGUgcHJlYSBtaWNcdTAxMDMnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6ICdJbWFnaW5lYSBlc3RlIHByZWEgbWFyZScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ01cdTAxMDNyaW1lYSBtaW5pbVx1MDEwMyBlc3RlIGRlIHttYXhXaWR0aH0geCB7bWF4SGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ01cdTAxMDNyaW1lYSBtYXhpbVx1MDEwMyBlc3RlIGRlIHttYXhXaWR0aH0geCB7bWF4SGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0xvdzogJ1Jlem9sdVx1MDIxQmlhIGVzdGUgcHJlYSBtaWNcdTAxMDMnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnUmV6b2x1XHUwMjFCaWEgZXN0ZSBwcmVhIG1hcmUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246ICdSZXpvbHVcdTAyMUJpYSBtaW5pbVx1MDEwMyBlc3RlIGRlIHttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ1Jlem9sdVx1MDIxQmlhIG1heGltXHUwMTAzIGVzdGUgZGUge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnXHUwNDFGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDQyXHUwNDMwXHUwNDQ5XHUwNDM4XHUwNDQyXHUwNDM1IFx1MDQ0NFx1MDQzMFx1MDQzOVx1MDQzQlx1MDQ0QiBcdTA0MzhcdTA0M0JcdTA0MzggPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IFx1MDQzMlx1MDQ0Qlx1MDQzMVx1MDQzNVx1MDQ0MFx1MDQzOFx1MDQ0Mlx1MDQzNSA8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ1x1MDQxRlx1MDQzRVx1MDQzQlx1MDQzNSBcdTA0NDFcdTA0M0VcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0MzhcdTA0NDIgXHUwNDNEXHUwNDM1XHUwNDM0XHUwNDNFXHUwNDNGXHUwNDQzXHUwNDQxXHUwNDQyXHUwNDM4XHUwNDNDXHUwNDRCXHUwNDM1IFx1MDQ0NFx1MDQzMFx1MDQzOVx1MDQzQlx1MDQ0QicsXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6ICdcdTA0MjNcdTA0M0FcdTA0MzBcdTA0MzZcdTA0MzhcdTA0NDJcdTA0MzUgXHUwNDQwXHUwNDMwXHUwNDM3XHUwNDNDXHUwNDM1XHUwNDQwJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnXHUwNDIwXHUwNDMwXHUwNDM3XHUwNDNDXHUwNDM1XHUwNDQwIFx1MDQzRFx1MDQzNSBcdTA0M0ZcdTA0M0VcdTA0MzRcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0MzhcdTA0MzJcdTA0MzBcdTA0MzVcdTA0NDJcdTA0NDFcdTA0NEYnLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdcdTA0MUVcdTA0MzZcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0RcdTA0MzhcdTA0MzUnLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ1x1MDQxRVx1MDQ0OFx1MDQzOFx1MDQzMVx1MDQzQVx1MDQzMCBcdTA0M0ZcdTA0NDBcdTA0MzggXHUwNDNFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNEXHUwNDM4XHUwNDM4JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnXHUwNDE3XHUwNDMwXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDM3XHUwNDNBXHUwNDMwJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6ICdcdTA0MTdcdTA0MzBcdTA0MzNcdTA0NDBcdTA0NDNcdTA0MzdcdTA0M0FcdTA0MzAgXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDMwJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogJ1x1MDQxN1x1MDQzMFx1MDQzM1x1MDQ0MFx1MDQ0M1x1MDQzN1x1MDQzQVx1MDQzMCBcdTA0M0VcdTA0NDJcdTA0M0NcdTA0MzVcdTA0M0RcdTA0MzVcdTA0M0RcdTA0MzAnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ1x1MDQxRVx1MDQ0OFx1MDQzOFx1MDQzMVx1MDQzQVx1MDQzMCBcdTA0M0ZcdTA0NDBcdTA0MzggXHUwNDM3XHUwNDMwXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDM3XHUwNDNBXHUwNDM1JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdcdTA0MUVcdTA0NDhcdTA0MzhcdTA0MzFcdTA0M0FcdTA0MzAgXHUwNDNGXHUwNDQwXHUwNDM4IFx1MDQzMlx1MDQzRVx1MDQzN1x1MDQzMlx1MDQ0MFx1MDQzMFx1MDQ0Mlx1MDQzNScsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdcdTA0MUVcdTA0NDhcdTA0MzhcdTA0MzFcdTA0M0FcdTA0MzAgXHUwNDNGXHUwNDQwXHUwNDM4IFx1MDQ0M1x1MDQzNFx1MDQzMFx1MDQzQlx1MDQzNVx1MDQzRFx1MDQzOFx1MDQzOCcsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ1x1MDQzRFx1MDQzMFx1MDQzNlx1MDQzQ1x1MDQzOFx1MDQ0Mlx1MDQzNSBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDNFXHUwNDQyXHUwNDNDXHUwNDM1XHUwNDNEXHUwNDRCJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICdcdTA0M0RcdTA0MzBcdTA0MzZcdTA0M0NcdTA0MzhcdTA0NDJcdTA0MzUsIFx1MDQ0N1x1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0QiBcdTA0M0ZcdTA0M0VcdTA0MzJcdTA0NDJcdTA0M0VcdTA0NDBcdTA0MzhcdTA0NDJcdTA0NEMgXHUwNDNGXHUwNDNFXHUwNDNGXHUwNDRCXHUwNDQyXHUwNDNBXHUwNDQzJyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ1x1MDQzRFx1MDQzMFx1MDQzNlx1MDQzQ1x1MDQzOFx1MDQ0Mlx1MDQzNSBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDNFXHUwNDQyXHUwNDNDXHUwNDM1XHUwNDNEXHUwNDRCIFx1MDQzRlx1MDQzRVx1MDQ0MVx1MDQzQlx1MDQzNVx1MDQzNFx1MDQzRFx1MDQzNVx1MDQzM1x1MDQzRSBcdTA0MzRcdTA0MzVcdTA0MzlcdTA0NDFcdTA0NDJcdTA0MzJcdTA0MzhcdTA0NEYnLFxuICAgIGxhYmVsQnV0dG9uUmVtb3ZlSXRlbTogJ1x1MDQyM1x1MDQzNFx1MDQzMFx1MDQzQlx1MDQzOFx1MDQ0Mlx1MDQ0QycsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Mb2FkOiAnXHUwNDFGXHUwNDQwXHUwNDM1XHUwNDNBXHUwNDQwXHUwNDMwXHUwNDQ5XHUwNDM1XHUwNDNEXHUwNDNFJyxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbUxvYWQ6ICdcdTA0MUZcdTA0M0VcdTA0MzJcdTA0NDJcdTA0M0VcdTA0NDBcdTA0MzhcdTA0NDJcdTA0MzUgXHUwNDNGXHUwNDNFXHUwNDNGXHUwNDRCXHUwNDQyXHUwNDNBXHUwNDQzJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdcdTA0MUVcdTA0NDJcdTA0M0NcdTA0MzVcdTA0M0RcdTA0MzAnLFxuICAgIGxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nOiAnXHUwNDFFXHUwNDQyXHUwNDNDXHUwNDM1XHUwNDNEXHUwNDMwIFx1MDQzRlx1MDQzRVx1MDQ0MVx1MDQzQlx1MDQzNVx1MDQzNFx1MDQzRFx1MDQzNVx1MDQzM1x1MDQzRSBcdTA0MzRcdTA0MzVcdTA0MzlcdTA0NDFcdTA0NDJcdTA0MzJcdTA0MzhcdTA0NEYnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ1x1MDQxRlx1MDQzRVx1MDQzMlx1MDQ0Mlx1MDQzRVx1MDQ0MFx1MDQzOFx1MDQ0Mlx1MDQzNSBcdTA0M0ZcdTA0M0VcdTA0M0ZcdTA0NEJcdTA0NDJcdTA0M0FcdTA0NDMnLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06ICdcdTA0MTdcdTA0MzBcdTA0MzNcdTA0NDBcdTA0NDNcdTA0MzdcdTA0M0FcdTA0MzAnLFxuICAgIGxhYmVsTWF4RmlsZVNpemVFeGNlZWRlZDogJ1x1MDQyNFx1MDQzMFx1MDQzOVx1MDQzQiBcdTA0NDFcdTA0M0JcdTA0MzhcdTA0NDhcdTA0M0FcdTA0M0VcdTA0M0MgXHUwNDMxXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDQ4XHUwNDNFXHUwNDM5JyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnXHUwNDFDXHUwNDMwXHUwNDNBXHUwNDQxXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCXHUwNDM5IFx1MDQ0MFx1MDQzMFx1MDQzN1x1MDQzQ1x1MDQzNVx1MDQ0MCBcdTA0NDRcdTA0MzBcdTA0MzlcdTA0M0JcdTA0MzA6IHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiAnXHUwNDFGXHUwNDQwXHUwNDM1XHUwNDMyXHUwNDRCXHUwNDQ4XHUwNDM1XHUwNDNEIFx1MDQzQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0Qlx1MDQzOSBcdTA0NDBcdTA0MzBcdTA0MzdcdTA0M0NcdTA0MzVcdTA0NDAnLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogJ1x1MDQxQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0Qlx1MDQzOSBcdTA0NDBcdTA0MzBcdTA0MzdcdTA0M0NcdTA0MzVcdTA0NDAgXHUwNDQ0XHUwNDMwXHUwNDM5XHUwNDNCXHUwNDMwOiB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogJ1x1MDQyNFx1MDQzMFx1MDQzOVx1MDQzQiBcdTA0M0RcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0M0VcdTA0MzNcdTA0M0UgXHUwNDQyXHUwNDM4XHUwNDNGXHUwNDMwJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnXHUwNDFFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDM1XHUwNDQyXHUwNDQxXHUwNDRGIHthbGxCdXRMYXN0VHlwZX0gXHUwNDM4XHUwNDNCXHUwNDM4IHtsYXN0VHlwZX0nLCAgICBcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdcdTA0MjJcdTA0MzhcdTA0M0YgXHUwNDM4XHUwNDM3XHUwNDNFXHUwNDMxXHUwNDQwXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDRGIFx1MDQzRFx1MDQzNSBcdTA0M0ZcdTA0M0VcdTA0MzRcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0MzhcdTA0MzJcdTA0MzBcdTA0MzVcdTA0NDJcdTA0NDFcdTA0NEYnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ1x1MDQxOFx1MDQzN1x1MDQzRVx1MDQzMVx1MDQ0MFx1MDQzMFx1MDQzNlx1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNSBcdTA0NDFcdTA0M0JcdTA0MzhcdTA0NDhcdTA0M0FcdTA0M0VcdTA0M0MgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDM1XHUwNDNEXHUwNDRDXHUwNDNBXHUwNDNFXHUwNDM1JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnXHUwNDE4XHUwNDM3XHUwNDNFXHUwNDMxXHUwNDQwXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQ0MVx1MDQzQlx1MDQzOFx1MDQ0OFx1MDQzQVx1MDQzRVx1MDQzQyBcdTA0MzFcdTA0M0VcdTA0M0JcdTA0NENcdTA0NDhcdTA0M0VcdTA0MzUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdcdTA0MUNcdTA0MzhcdTA0M0RcdTA0MzhcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEJcdTA0MzkgXHUwNDQwXHUwNDMwXHUwNDM3XHUwNDNDXHUwNDM1XHUwNDQwOiB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ1x1MDQxQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0Qlx1MDQzOSBcdTA0NDBcdTA0MzBcdTA0MzdcdTA0M0NcdTA0MzVcdTA0NDA6IHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHUwNDIwXHUwNDMwXHUwNDM3XHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQ0MVx1MDQzQlx1MDQzOFx1MDQ0OFx1MDQzQVx1MDQzRVx1MDQzQyBcdTA0M0RcdTA0MzhcdTA0MzdcdTA0M0FcdTA0M0VcdTA0MzUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnXHUwNDIwXHUwNDMwXHUwNDM3XHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQ0MVx1MDQzQlx1MDQzOFx1MDQ0OFx1MDQzQVx1MDQzRVx1MDQzQyBcdTA0MzJcdTA0NEJcdTA0NDFcdTA0M0VcdTA0M0FcdTA0M0VcdTA0MzUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246ICdcdTA0MUNcdTA0MzhcdTA0M0RcdTA0MzhcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0M0VcdTA0MzUgXHUwNDQwXHUwNDMwXHUwNDM3XHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1OiB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdcdTA0MUNcdTA0MzBcdTA0M0FcdTA0NDFcdTA0MzhcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0M0VcdTA0MzUgXHUwNDQwXHUwNDMwXHUwNDM3XHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1OiB7bWF4UmVzb2x1dGlvbn0nXG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdEcmFnIG9jaCBzbFx1MDBFNHBwIGRpbmEgZmlsZXIgZWxsZXIgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IEJsXHUwMEU0ZGRyYSA8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ0ZcdTAwRTRsdGV0IGlubmVoXHUwMEU1bGxlciBmZWxha3RpZ2EgZmlsZXInLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiAnVlx1MDBFNG50YXIgcFx1MDBFNSBzdG9ybGVrJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnU3Rvcmxla2VuIGZpbm5zIGludGUgdGlsbGdcdTAwRTRuZ2xpZycsXG4gICAgbGFiZWxGaWxlTG9hZGluZzogJ0xhZGRhcicsXG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiAnRmVsIHVuZGVyIGxhZGRuaW5nJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnTGFkZGFyIHVwcCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnVXBwbGFkZG5pbmcga2xhcicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdVcHBsYWRkbmluZyBhdmJydXRlbicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yOiAnRmVsIHVuZGVyIHVwcGxhZGRuaW5nJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdGZWwgdW5kZXIgXHUwMEU1dGVyc3RcdTAwRTRsbG5pbmcnLFxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiAnRmVsIHVuZGVyIGJvcnR0YWduaW5nJyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAndHJ5Y2sgZlx1MDBGNnIgYXR0IGF2YnJ5dGEnLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogJ3RyeWNrIGZcdTAwRjZyIGF0dCBmXHUwMEY2cnNcdTAwRjZrYSBpZ2VuJyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ3RyeWNrIGZcdTAwRjZyIGF0dCBcdTAwRTVuZ3JhJyxcbiAgICBsYWJlbEJ1dHRvblJlbW92ZUl0ZW06ICdUYWJvcnQnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ0F2YnJ5dCcsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiAnRlx1MDBGNnJzXHUwMEY2ayBpZ2VuJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdBdmJyeXQnLFxuICAgIGxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nOiAnXHUwMEM1bmdyYScsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnRlx1MDBGNnJzXHUwMEY2ayBpZ2VuJyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnTGFkZGEgdXBwJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdGaWxlbiBcdTAwRTRyIGZcdTAwRjZyIHN0b3InLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdTdFx1MDBGNnJzdGEgdGlsbFx1MDBFNXRuYSBmaWxzdG9ybGVrIFx1MDBFNHIge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdNYXhpbWFsIHVwcGxhZGRuaW5nc3N0b3JsZWsgdXBwblx1MDBFNWQnLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogJ01heGltYWwgdXBwbGFkZG5pbmdzc3RvcmxlayBcdTAwRTRyIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnRmVsYWt0aWcgZmlsdHlwJyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnR29ka1x1MDBFNG5kYSBmaWx0eXBlciB7YWxsQnV0TGFzdFR5cGV9IGVsbGVyIHtsYXN0VHlwZX0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxGb3JtYXRFcnJvcjogJ0JpbGR0eXBlbiBzYWtuYXIgc3RcdTAwRjZkJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdCaWxkZW4gXHUwMEU0ciBmXHUwMEY2ciBsaXRlbicsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogJ0JpbGRlbiBcdTAwRTRyIGZcdTAwRjZyIHN0b3InLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdNaW5pbWFsIHN0b3JsZWsgXHUwMEU0ciB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ01heGltYWwgc3RvcmxlayBcdTAwRTRyIHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnVXBwbFx1MDBGNnNuaW5nZW4gXHUwMEU0ciBmXHUwMEY2ciBsXHUwMEU1ZycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlUmVzb2x1dGlvblRvb0hpZ2g6ICdVcHBsXHUwMEY2c25pbmdlbiBcdTAwRTRyIGZcdTAwRjZyIGhcdTAwRjZnJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNaW5SZXNvbHV0aW9uOiAnTWluc3RhIHRpbGxcdTAwRTV0bmEgdXBwbFx1MDBGNnNuaW5nIFx1MDBFNHIge21pblJlc29sdXRpb259JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRXhwZWN0ZWRNYXhSZXNvbHV0aW9uOiAnSFx1MDBGNmdzdGEgdGlsbFx1MDBFNXRuYSB1cHBsXHUwMEY2c25pbmcgXHUwMEU0ciB7bWF4UmVzb2x1dGlvbn0nXG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgICBsYWJlbElkbGU6ICdEb3N5YW5cdTAxMzF6XHUwMTMxIFNcdTAwRkNyXHUwMEZDa2xleWluICYgQlx1MDEzMXJha1x1MDEzMW4geWEgZGEgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IFNlXHUwMEU3aW4gPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdBbGFuIGdlXHUwMEU3ZXJzaXogZG9zeWFsYXIgaVx1MDBFN2VyaXlvcicsXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6ICdCb3l1dCBoZXNhcGxhblx1MDEzMXlvcicsXG4gICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogJ0JveXV0IG1ldmN1dCBkZVx1MDExRmlsJyxcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiAnWVx1MDBGQ2tsZW5peW9yJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdZXHUwMEZDa2xlbWUgc1x1MDEzMXJhc1x1MDEzMW5kYSBoYXRhIG9sdVx1MDE1RnR1JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnWVx1MDBGQ2tsZW5peW9yJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6ICdZXHUwMEZDa2xlbWUgdGFtYW1sYW5kXHUwMTMxJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogJ1lcdTAwRkNrbGVtZSBpcHRhbCBlZGlsZGknLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ1lcdTAwRkNrbGVya2VuIGhhdGEgb2x1XHUwMTVGdHUnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogJ0dlcmkgXHUwMEU3ZWtlcmtlbiBoYXRhIG9sdVx1MDE1RnR1JyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ0thbGRcdTAxMzFyXHUwMTMxcmtlbiBoYXRhIG9sdVx1MDE1RnR1JyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAnXHUwMTMwcHRhbCBldG1layBpXHUwMEU3aW4gdFx1MDEzMWtsYXlcdTAxMzFuJyxcbiAgICBsYWJlbFRhcFRvUmV0cnk6ICdUZWtyYXIgZGVuZW1layBpXHUwMEU3aW4gdFx1MDEzMWtsYXlcdTAxMzFuJyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ0dlcmkgYWxtYWsgaVx1MDBFN2luIHRcdTAxMzFrbGF5XHUwMTMxbicsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnS2FsZFx1MDEzMXInLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ1x1MDEzMHB0YWwgRXQnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1Rla3JhciBkZW5lJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdcdTAxMzBwdGFsIGV0JyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ0dlcmkgQWwnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogJ1Rla3JhciBkZW5lJyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnWVx1MDBGQ2tsZScsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiAnRG9zeWEgXHUwMEU3b2sgYlx1MDBGQ3lcdTAwRkNrJyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnRW4gZmF6bGEgZG9zeWEgYm95dXR1OiB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogJ01heGltdW0gYm95dXQgYVx1MDE1Rlx1MDEzMWxkXHUwMTMxJyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6ICdNYXhpbXVtIGRvc3lhIGJveXV0dSA6e2ZpbGVzaXplfScsXG4gICAgbGFiZWxGaWxlVHlwZU5vdEFsbG93ZWQ6ICdHZVx1MDBFN2Vyc2l6IGRvc3lhIHRpcGknLFxuICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXM6ICdcdTAxNUV1IHthbGxCdXRMYXN0VHlwZX0geWEgZGEgXHUwMTVGdSBkb3N5YSBvbG1hc1x1MDEzMSBnZXJla2lyOiB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdSZXNpbSB0aXBpIGRlc3Rla2xlbm1peW9yJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdSZXNpbSBcdTAwRTdvayBrXHUwMEZDXHUwMEU3XHUwMEZDaycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogJ1Jlc2ltIFx1MDBFN29rIGJcdTAwRkN5XHUwMEZDaycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ01pbmltdW0gYm95dXQge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdNYXhpbXVtIGJveXV0IHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHUwMEM3XHUwMEY2elx1MDBGQ25cdTAwRkNybFx1MDBGQ2sgXHUwMEU3b2sgZFx1MDBGQ1x1MDE1Rlx1MDBGQ2snLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVJlc29sdXRpb25Ub29IaWdoOiAnXHUwMEM3XHUwMEY2elx1MDBGQ25cdTAwRkNybFx1MDBGQ2sgXHUwMEU3b2sgeVx1MDBGQ2tzZWsnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblJlc29sdXRpb246ICdNaW5pbXVtIFx1MDBFN1x1MDBGNnpcdTAwRkNuXHUwMEZDcmxcdTAwRkNrIHttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ01heGltdW0gXHUwMEU3XHUwMEY2elx1MDBGQ25cdTAwRkNybFx1MDBGQ2sge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnXHUwNDFGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDQyXHUwNDRGXHUwNDMzXHUwNDNEXHUwNDU2XHUwNDQyXHUwNDRDIFx1MDQ0NFx1MDQzMFx1MDQzOVx1MDQzQlx1MDQzOCBcdTA0MzBcdTA0MzFcdTA0M0UgPHNwYW4gY2xhc3M9XCJmaWxlcG9uZC0tbGFiZWwtYWN0aW9uXCI+IFx1MDQzMlx1MDQzOFx1MDQzMVx1MDQzNVx1MDQ0MFx1MDQ1Nlx1MDQ0Mlx1MDQ0QyA8L3NwYW4+JyxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogJ1x1MDQxRlx1MDQzRVx1MDQzQlx1MDQzNSBcdTA0M0NcdTA0NTZcdTA0NDFcdTA0NDJcdTA0MzhcdTA0NDJcdTA0NEMgXHUwNDNEXHUwNDM1XHUwNDM0XHUwNDNFXHUwNDNGXHUwNDQzXHUwNDQxXHUwNDQyXHUwNDM4XHUwNDNDXHUwNDU2IFx1MDQ0NFx1MDQzMFx1MDQzOVx1MDQzQlx1MDQzOCcsXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6ICdcdTA0MTJcdTA0M0FcdTA0MzBcdTA0MzZcdTA0NTZcdTA0NDJcdTA0NEMgXHUwNDQwXHUwNDNFXHUwNDM3XHUwNDNDXHUwNDU2XHUwNDQwJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnXHUwNDIwXHUwNDNFXHUwNDM3XHUwNDNDXHUwNDU2XHUwNDQwIFx1MDQzRFx1MDQzNSBcdTA0MzRcdTA0M0VcdTA0NDFcdTA0NDJcdTA0NDNcdTA0M0ZcdTA0M0RcdTA0MzhcdTA0MzknLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdcdTA0MUVcdTA0NDdcdTA0NTZcdTA0M0FcdTA0NDNcdTA0MzJcdTA0MzBcdTA0M0RcdTA0M0RcdTA0NEYnLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ1x1MDQxRlx1MDQzRVx1MDQzQ1x1MDQzOFx1MDQzQlx1MDQzQVx1MDQzMCBcdTA0M0ZcdTA0NDBcdTA0MzggXHUwNDNFXHUwNDQ3XHUwNDU2XHUwNDNBXHUwNDQzXHUwNDMyXHUwNDMwXHUwNDNEXHUwNDNEXHUwNDU2JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nOiAnXHUwNDE3XHUwNDMwXHUwNDMyXHUwNDMwXHUwNDNEXHUwNDQyXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRGJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU6ICdcdTA0MTdcdTA0MzBcdTA0MzJcdTA0MzBcdTA0M0RcdTA0NDJcdTA0MzBcdTA0MzZcdTA0MzVcdTA0M0RcdTA0M0RcdTA0NEYgXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDQ4XHUwNDM1XHUwNDNEXHUwNDNFJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogJ1x1MDQxN1x1MDQzMFx1MDQzMlx1MDQzMFx1MDQzRFx1MDQ0Mlx1MDQzMFx1MDQzNlx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0RiBcdTA0NDFcdTA0M0FcdTA0MzBcdTA0NDFcdTA0M0VcdTA0MzJcdTA0MzBcdTA0M0RcdTA0M0UnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ1x1MDQxRlx1MDQzRVx1MDQzQ1x1MDQzOFx1MDQzQlx1MDQzQVx1MDQzMCBcdTA0M0ZcdTA0NDBcdTA0MzggXHUwNDM3XHUwNDMwXHUwNDMyXHUwNDMwXHUwNDNEXHUwNDQyXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDU2JyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6ICdcdTA0MUZcdTA0M0VcdTA0M0NcdTA0MzhcdTA0M0JcdTA0M0FcdTA0MzAgXHUwNDNGXHUwNDQwXHUwNDM4IFx1MDQzMlx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQzRVx1MDQzMlx1MDQzQlx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ1NicsXG4gICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6ICdcdTA0MUZcdTA0M0VcdTA0M0NcdTA0MzhcdTA0M0JcdTA0M0FcdTA0MzAgXHUwNDNGXHUwNDQwXHUwNDM4IFx1MDQzMlx1MDQzOFx1MDQzNFx1MDQzMFx1MDQzQlx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ1NicsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ1x1MDQxMlx1MDQ1Nlx1MDQzNFx1MDQzQ1x1MDQ1Nlx1MDQzRFx1MDQzOFx1MDQ0Mlx1MDQzOCcsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiAnXHUwNDFEXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDQxXHUwNDNEXHUwNDU2XHUwNDQyXHUwNDRDLCBcdTA0NDlcdTA0M0VcdTA0MzEgXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDQyXHUwNDNFXHUwNDQwXHUwNDM4XHUwNDQyXHUwNDM4IFx1MDQ0MVx1MDQzRlx1MDQ0MFx1MDQzRVx1MDQzMVx1MDQ0MycsXG4gICAgbGFiZWxUYXBUb1VuZG86ICdcdTA0MURcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0M0RcdTA0NTZcdTA0NDJcdTA0NEMsIFx1MDQ0OVx1MDQzRVx1MDQzMSBcdTA0MzJcdTA0NTZcdTA0MzRcdTA0M0NcdTA0NTZcdTA0M0RcdTA0MzhcdTA0NDJcdTA0MzggXHUwNDNFXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNEXHUwNDNEXHUwNDRFIFx1MDQzNFx1MDQ1Nlx1MDQ0RScsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnXHUwNDEyXHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNCXHUwNDM4XHUwNDQyXHUwNDM4JyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdcdTA0MTJcdTA0NTZcdTA0MzRcdTA0M0NcdTA0NTZcdTA0M0RcdTA0MzhcdTA0NDJcdTA0MzgnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1x1MDQxRlx1MDQzRVx1MDQzMlx1MDQ0Mlx1MDQzRVx1MDQ0MFx1MDQzOFx1MDQ0Mlx1MDQzOCBcdTA0NDFcdTA0M0ZcdTA0NDBcdTA0M0VcdTA0MzFcdTA0NDMnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogJ1x1MDQxMlx1MDQ1Nlx1MDQzNFx1MDQzQ1x1MDQ1Nlx1MDQzRFx1MDQzOFx1MDQ0Mlx1MDQzOCcsXG4gICAgbGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc6ICdcdTA0MTJcdTA0NTZcdTA0MzRcdTA0M0NcdTA0NTZcdTA0M0RcdTA0MzhcdTA0NDJcdTA0MzggXHUwNDNFXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNEXHUwNDNEXHUwNDRFIFx1MDQzNFx1MDQ1Nlx1MDQ0RScsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnXHUwNDFGXHUwNDNFXHUwNDMyXHUwNDQyXHUwNDNFXHUwNDQwXHUwNDM4XHUwNDQyXHUwNDM4IFx1MDQ0MVx1MDQzRlx1MDQ0MFx1MDQzRVx1MDQzMVx1MDQ0MycsXG4gICAgbGFiZWxCdXR0b25Qcm9jZXNzSXRlbTogJ1x1MDQxN1x1MDQzMFx1MDQzMlx1MDQzMFx1MDQzRFx1MDQ0Mlx1MDQzMFx1MDQzNlx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0RicsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiAnXHUwNDI0XHUwNDMwXHUwNDM5XHUwNDNCIFx1MDQzN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzRSBcdTA0MzJcdTA0MzVcdTA0M0JcdTA0MzhcdTA0M0FcdTA0MzhcdTA0MzknLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdcdTA0MUNcdTA0MzBcdTA0M0FcdTA0NDFcdTA0MzhcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDQwXHUwNDNFXHUwNDM3XHUwNDNDXHUwNDU2XHUwNDQwIFx1MDQ0NFx1MDQzMFx1MDQzOVx1MDQzQlx1MDQ0Mzoge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdcdTA0MUZcdTA0MzVcdTA0NDBcdTA0MzVcdTA0MzJcdTA0MzhcdTA0NDlcdTA0MzVcdTA0M0RcdTA0M0UgXHUwNDNDXHUwNDMwXHUwNDNBXHUwNDQxXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDM5IFx1MDQzN1x1MDQzMFx1MDQzM1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSBcdTA0NDBcdTA0M0VcdTA0MzdcdTA0M0NcdTA0NTZcdTA0NDAnLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZTogJ1x1MDQxQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSBcdTA0MzdcdTA0MzBcdTA0MzNcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDQwXHUwNDNFXHUwNDM3XHUwNDNDXHUwNDU2XHUwNDQwOiB7ZmlsZXNpemV9JyxcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogJ1x1MDQyNFx1MDQzRVx1MDQ0MFx1MDQzQ1x1MDQzMFx1MDQ0MiBcdTA0NDRcdTA0MzBcdTA0MzlcdTA0M0JcdTA0NDMgXHUwNDNEXHUwNDM1IFx1MDQzRlx1MDQ1Nlx1MDQzNFx1MDQ0Mlx1MDQ0MFx1MDQzOFx1MDQzQ1x1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RicsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ1x1MDQxRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiB7YWxsQnV0TGFzdFR5cGV9IFx1MDQzMFx1MDQzMVx1MDQzRSB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdcdTA0MjRcdTA0M0VcdTA0NDBcdTA0M0NcdTA0MzBcdTA0NDIgXHUwNDM3XHUwNDNFXHUwNDMxXHUwNDQwXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRGIFx1MDQzRFx1MDQzNSBcdTA0M0ZcdTA0NTZcdTA0MzRcdTA0NDJcdTA0NDBcdTA0MzhcdTA0M0NcdTA0NDNcdTA0NTRcdTA0NDJcdTA0NENcdTA0NDFcdTA0NEYnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ1x1MDQxN1x1MDQzRVx1MDQzMVx1MDQ0MFx1MDQzMFx1MDQzNlx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0RiBcdTA0MzdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0M0UgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDM1XHUwNDNEXHUwNDRDXHUwNDNBXHUwNDM1JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vQmlnOiAnXHUwNDE3XHUwNDNFXHUwNDMxXHUwNDQwXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRGIFx1MDQzN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzRSBcdTA0MzJcdTA0MzVcdTA0M0JcdTA0MzhcdTA0M0FcdTA0MzUnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdcdTA0MUNcdTA0NTZcdTA0M0RcdTA0NTZcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDQwXHUwNDNFXHUwNDM3XHUwNDNDXHUwNDU2XHUwNDQwOiB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ1x1MDQxQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSBcdTA0NDBcdTA0M0VcdTA0MzdcdTA0M0NcdTA0NTZcdTA0NDA6IHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHUwNDIwXHUwNDNFXHUwNDM3XHUwNDNDXHUwNDU2XHUwNDQwXHUwNDM4IFx1MDQzN1x1MDQzRVx1MDQzMVx1MDQ0MFx1MDQzMFx1MDQzNlx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0RiBcdTA0MzdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0M0UgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDM1XHUwNDNEXHUwNDRDXHUwNDNBXHUwNDU2JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ1x1MDQyMFx1MDQzRVx1MDQzN1x1MDQzQ1x1MDQ1Nlx1MDQ0MFx1MDQzOCBcdTA0MzdcdTA0M0VcdTA0MzFcdTA0NDBcdTA0MzBcdTA0MzZcdTA0MzVcdTA0M0RcdTA0M0RcdTA0NEYgXHUwNDM3XHUwNDMwXHUwNDNEXHUwNDMwXHUwNDM0XHUwNDQyXHUwNDNFIFx1MDQzMlx1MDQzNVx1MDQzQlx1MDQzOFx1MDQzQVx1MDQ1NicsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ1x1MDQxQ1x1MDQ1Nlx1MDQzRFx1MDQ1Nlx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ1NiBcdTA0NDBcdTA0M0VcdTA0MzdcdTA0M0NcdTA0NTZcdTA0NDBcdTA0Mzg6IHttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ1x1MDQxQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ1NiBcdTA0NDBcdTA0M0VcdTA0MzdcdTA0M0NcdTA0NTZcdTA0NDBcdTA0Mzg6IHttYXhSZXNvbHV0aW9ufSdcbn07XG4iLCAiZXhwb3J0IGRlZmF1bHQge1xuICAgIGxhYmVsSWRsZTogJ0tcdTAwRTlvIHRoXHUxRUEzIHRcdTFFQzdwIGNcdTFFRTdhIGJcdTFFQTFuIGhvXHUxRUI3YyA8c3BhbiBjbGFzcz1cImZpbGVwb25kLS1sYWJlbC1hY3Rpb25cIj4gVFx1MDBFQ20ga2lcdTFFQkZtIDwvc3Bhbj4nLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiAnVHJcdTAxQjBcdTFFRERuZyBjaFx1MUVFOWEgY1x1MDBFMWMgdFx1MUVDN3Aga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3JyxcbiAgICBsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZTogJ1x1MDExMGFuZyBjaFx1MUVERCBrXHUwMEVEY2ggdGhcdTAxQjBcdTFFREJjJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnS1x1MDBFRGNoIHRoXHUwMUIwXHUxRURCYyBraFx1MDBGNG5nIGNcdTAwRjMgc1x1MUVCNW4nLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6ICdcdTAxMTBhbmcgdFx1MUVBM2knLFxuICAgIGxhYmVsRmlsZUxvYWRFcnJvcjogJ0xcdTFFRDdpIGtoaSB0XHUxRUEzaScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogJ1x1MDExMGFuZyB0XHUxRUEzaSBsXHUwMEVBbicsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiAnVFx1MUVBM2kgbFx1MDBFQW4gdGhcdTAwRTBuaCBjXHUwMEY0bmcnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiAnXHUwMTEwXHUwMEUzIGh1XHUxRUY3IHRcdTFFQTNpIGxcdTAwRUFuJyxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6ICdMXHUxRUQ3aSBraGkgdFx1MUVBM2kgbFx1MDBFQW4nLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogJ0xcdTFFRDdpIGtoaSBob1x1MDBFMG4gbmd1eVx1MDBFQW4nLFxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiAnTFx1MUVEN2kga2hpIHhcdTAwRjNhJyxcbiAgICBsYWJlbFRhcFRvQ2FuY2VsOiAnbmhcdTFFQTVuIFx1MDExMVx1MUVDMyBoXHUxRUU3eScsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiAnbmhcdTFFQTVuIFx1MDExMVx1MUVDMyB0aFx1MUVFRCBsXHUxRUExaScsXG4gICAgbGFiZWxUYXBUb1VuZG86ICduaFx1MUVBNW4gXHUwMTExXHUxRUMzIGhvXHUwMEUwbiB0XHUwMEUxYycsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnWG9cdTAwRTEnLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogJ0h1XHUxRUY3IGJcdTFFQ0YnLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1RoXHUxRUVEIGxcdTFFQTFpJyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6ICdIXHUxRUU3eSBiXHUxRUNGJyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ0hvXHUwMEUwbiB0XHUwMEUxYycsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnVGhcdTFFRUQgbFx1MUVBMWknLFxuICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06ICdUXHUxRUEzaSBsXHUwMEVBbicsXG4gICAgbGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkOiAnVFx1MUVBRHAgdGluIHF1XHUwMEUxIGxcdTFFREJuJyxcbiAgICBsYWJlbE1heEZpbGVTaXplOiAnS1x1MDBFRGNoIHRoXHUwMUIwXHUxRURCYyB0XHUxRUM3cCB0XHUxRUQxaSBcdTAxMTFhIGxcdTAwRTAge2ZpbGVzaXplfScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplRXhjZWVkZWQ6ICdcdTAxMTBcdTAwRTMgdlx1MDFCMFx1MUVFM3QgcXVcdTAwRTEgdFx1MUVENW5nIGtcdTAwRURjaCB0aFx1MDFCMFx1MUVEQmMgdFx1MUVEMWkgXHUwMTExYScsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnVFx1MUVENW5nIGtcdTAwRURjaCB0aFx1MDFCMFx1MUVEQmMgdFx1MUVDN3AgdFx1MUVEMWkgXHUwMTExYSBsXHUwMEUwIHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsRmlsZVR5cGVOb3RBbGxvd2VkOiAnVFx1MUVDN3AgdGh1XHUxRUQ5YyBsb1x1MUVBMWkga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3JyxcbiAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiAnS2lcdTFFQzN1IHRcdTFFQzdwIGhcdTFFRTNwIGxcdTFFQzcgbFx1MDBFMCB7YWxsQnV0TGFzdFR5cGV9IGhvXHUxRUI3YyB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdMb1x1MUVBMWkgaFx1MDBFQ25oIFx1MUVBM25oIGtoXHUwMEY0bmcgXHUwMTExXHUwMUIwXHUxRUUzYyBoXHUxRUQ3IHRyXHUxRUUzJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdIXHUwMEVDbmggXHUxRUEzbmggcXVcdTAwRTEgbmhcdTFFQ0YnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6ICdIXHUwMEVDbmggXHUxRUEzbmggcXVcdTAwRTEgbFx1MUVEQm4nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdLXHUwMEVEY2ggdGhcdTAxQjBcdTFFREJjIHRcdTFFRDFpIHRoaVx1MUVDM3UgbFx1MDBFMCB7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ0tcdTAwRURjaCB0aFx1MDFCMFx1MUVEQmMgdFx1MUVEMWkgXHUwMTExYSBsXHUwMEUwIHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHUwMTEwXHUxRUQ5IHBoXHUwMEUybiBnaVx1MUVBM2kgcXVcdTAwRTEgdGhcdTFFQTVwJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ1x1MDExMFx1MUVEOSBwaFx1MDBFMm4gZ2lcdTFFQTNpIHF1XHUwMEUxIGNhbycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ1x1MDExMFx1MUVEOSBwaFx1MDBFMm4gZ2lcdTFFQTNpIHRcdTFFRDFpIHRoaVx1MUVDM3UgbFx1MDBFMCB7bWluUmVzb2x1dGlvbn0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFJlc29sdXRpb246ICdcdTAxMTBcdTFFRDkgcGhcdTAwRTJuIGdpXHUxRUEzaSB0XHUxRUQxaSBcdTAxMTFhIGxcdTAwRTAge21heFJlc29sdXRpb259J1xufTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnXHU2MkQ2XHU2NTNFXHU2NTg3XHU0RUY2XHVGRjBDXHU2MjE2XHU4MDA1IDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBcdTZENEZcdTg5QzggPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdcdTVCNTdcdTZCQjVcdTUzMDVcdTU0MkJcdTY1RTBcdTY1NDhcdTY1ODdcdTRFRjYnLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiAnXHU4QkExXHU3Qjk3XHU2NTg3XHU0RUY2XHU1OTI3XHU1QzBGJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnXHU2NTg3XHU0RUY2XHU1OTI3XHU1QzBGXHU0RTBEXHU1M0VGXHU3NTI4JyxcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiAnXHU1MkEwXHU4RjdEJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdcdTUyQTBcdThGN0RcdTk1MTlcdThCRUYnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdcdTRFMEFcdTRGMjAnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogJ1x1NURGMlx1NEUwQVx1NEYyMCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdcdTRFMEFcdTRGMjBcdTVERjJcdTUzRDZcdTZEODgnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ1x1NEUwQVx1NEYyMFx1NTFGQVx1OTUxOScsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiAnXHU4RkQ4XHU1MzlGXHU1MUZBXHU5NTE5JyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ1x1NTIyMFx1OTY2NFx1NTFGQVx1OTUxOScsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ1x1NzBCOVx1NTFGQlx1NTNENlx1NkQ4OCcsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiAnXHU3MEI5XHU1MUZCXHU5MUNEXHU4QkQ1JyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ1x1NzBCOVx1NTFGQlx1NjRBNFx1NkQ4OCcsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnXHU1MjIwXHU5NjY0JyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdcdTRFMkRcdTZCNjInLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1x1OTFDRFx1OEJENScsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnXHU1M0Q2XHU2RDg4JyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ1x1NjRBNFx1NkQ4OCcsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnXHU5MUNEXHU4QkQ1JyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnXHU0RTBBXHU0RjIwJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdcdTY1ODdcdTRFRjZcdTU5MkFcdTU5MjcnLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdcdTY3MDBcdTU5MjdcdTUwM0M6IHtmaWxlc2l6ZX0nLFxuICAgIGxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkOiAnXHU4RDg1XHU4RkM3XHU2NzAwXHU1OTI3XHU2NTg3XHU0RUY2XHU1OTI3XHU1QzBGJyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemU6ICdcdTY3MDBcdTU5MjdcdTY1ODdcdTRFRjZcdTU5MjdcdTVDMEZcdUZGMUF7ZmlsZXNpemV9JyxcbiAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogJ1x1NjU4N1x1NEVGNlx1N0M3Qlx1NTc4Qlx1NjVFMFx1NjU0OCcsXG4gICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlczogJ1x1NUU5NFx1NEUzQSB7YWxsQnV0TGFzdFR5cGV9IFx1NjIxNiB7bGFzdFR5cGV9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsRm9ybWF0RXJyb3I6ICdcdTRFMERcdTY1MkZcdTYzMDFcdTU2RkVcdTUwQ0ZcdTdDN0JcdTU3OEInLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29TbWFsbDogJ1x1NTZGRVx1NTBDRlx1NTkyQVx1NUMwRicsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEltYWdlU2l6ZVRvb0JpZzogJ1x1NTZGRVx1NTBDRlx1NTkyQVx1NTkyNycsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluU2l6ZTogJ1x1NjcwMFx1NUMwRlx1NTAzQzoge21pbldpZHRofSBcdTAwRDcge21pbkhlaWdodH0nLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1heFNpemU6ICdcdTY3MDBcdTU5MjdcdTUwM0M6IHttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHU1MjA2XHU4RkE4XHU3Mzg3XHU1OTJBXHU0RjRFJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ1x1NTIwNlx1OEZBOFx1NzM4N1x1NTkyQVx1OUFEOCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ1x1NjcwMFx1NUMwRlx1NTIwNlx1OEZBOFx1NzM4N1x1RkYxQXttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ1x1NjcwMFx1NTkyN1x1NTIwNlx1OEZBOFx1NzM4N1x1RkYxQXttYXhSZXNvbHV0aW9ufSdcbiAgfTtcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gICAgbGFiZWxJZGxlOiAnXHU2MkQ2XHU2NTNFXHU2QTk0XHU2ODQ4XHVGRjBDXHU2MjE2XHU4MDA1IDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPiBcdTcwMEZcdTg5QkQgPC9zcGFuPicsXG4gICAgbGFiZWxJbnZhbGlkRmllbGQ6ICdcdTRFMERcdTY1MkZcdTYzRjRcdTZCNjRcdTZBOTRcdTY4NDgnLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiAnXHU2QjYzXHU1NzI4XHU4QTA4XHU3Qjk3XHU2QTk0XHU2ODQ4XHU1OTI3XHU1QzBGJyxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiAnXHU2QTk0XHU2ODQ4XHU1OTI3XHU1QzBGXHU0RTBEXHU3QjI2JyxcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiAnXHU4QjgwXHU1M0Q2XHU0RTJEJyxcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6ICdcdThCODBcdTUzRDZcdTkzMkZcdThBQTQnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6ICdcdTRFMEFcdTUwQjMnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogJ1x1NURGMlx1NEUwQVx1NTBCMycsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6ICdcdTRFMEFcdTUwQjNcdTVERjJcdTUzRDZcdTZEODgnLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogJ1x1NEUwQVx1NTBCM1x1NzY3Q1x1NzUxRlx1OTMyRlx1OEFBNCcsXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yOiAnXHU5MDg0XHU1MzlGXHU5MzJGXHU4QUE0JyxcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogJ1x1NTIyQVx1OTY2NFx1OTMyRlx1OEFBNCcsXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogJ1x1OUVERVx1NjRDQVx1NTNENlx1NkQ4OCcsXG4gICAgbGFiZWxUYXBUb1JldHJ5OiAnXHU5RURFXHU2NENBXHU5MUNEXHU4QTY2JyxcbiAgICBsYWJlbFRhcFRvVW5kbzogJ1x1OUVERVx1NjRDQVx1OTA4NFx1NTM5RicsXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiAnXHU1MjJBXHU5NjY0JyxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6ICdcdTUwNUNcdTZCNjInLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZDogJ1x1OTFDRFx1OEE2NicsXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiAnXHU1M0Q2XHU2RDg4JyxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogJ1x1NTNENlx1NkQ4OCcsXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiAnXHU5MUNEXHU4QTY2JyxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiAnXHU0RTBBXHU1MEIzJyxcbiAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6ICdcdTZBOTRcdTY4NDhcdTkwNEVcdTU5MjcnLFxuICAgIGxhYmVsTWF4RmlsZVNpemU6ICdcdTY3MDBcdTU5MjdcdTUwM0NcdUZGMUF7ZmlsZXNpemV9JyxcbiAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogJ1x1OEQ4NVx1OTA0RVx1NjcwMFx1NTkyN1x1NTNFRlx1NEUwQVx1NTBCM1x1NTkyN1x1NUMwRicsXG4gICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiAnXHU2NzAwXHU1OTI3XHU1M0VGXHU0RTBBXHU1MEIzXHU1OTI3XHU1QzBGXHVGRjFBe2ZpbGVzaXplfScsXG4gICAgbGFiZWxGaWxlVHlwZU5vdEFsbG93ZWQ6ICdcdTRFMERcdTY1MkZcdTYzRjRcdTZCNjRcdTk4NUVcdTU3OEJcdTZBOTRcdTY4NDgnLFxuICAgIGZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXM6ICdcdTYxQzlcdTcwQkEge2FsbEJ1dExhc3RUeXBlfSBcdTYyMTYge2xhc3RUeXBlfScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEZvcm1hdEVycm9yOiAnXHU0RTBEXHU2NTJGXHU2MzAxXHU2QjY0XHU5ODVFXHU1NzE2XHU3MjQ3XHU5ODVFXHU1NzhCJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VTaXplVG9vU21hbGw6ICdcdTU3MTZcdTcyNDdcdTkwNEVcdTVDMEYnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxJbWFnZVNpemVUb29CaWc6ICdcdTU3MTZcdTcyNDdcdTkwNEVcdTU5MjcnLFxuICAgIGltYWdlVmFsaWRhdGVTaXplTGFiZWxFeHBlY3RlZE1pblNpemU6ICdcdTY3MDBcdTVDMEZcdTVDM0FcdTVCRjhcdUZGMUF7bWluV2lkdGh9IFx1MDBENyB7bWluSGVpZ2h0fScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4U2l6ZTogJ1x1NjcwMFx1NTkyN1x1NUMzQVx1NUJGOFx1RkYxQXttYXhXaWR0aH0gXHUwMEQ3IHttYXhIZWlnaHR9JyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vTG93OiAnXHU4OUUzXHU2NzkwXHU1RUE2XHU5MDRFXHU0RjRFJyxcbiAgICBpbWFnZVZhbGlkYXRlU2l6ZUxhYmVsSW1hZ2VSZXNvbHV0aW9uVG9vSGlnaDogJ1x1ODlFM1x1Njc5MFx1NUVBNlx1OTA0RVx1OUFEOCcsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWluUmVzb2x1dGlvbjogJ1x1NjcwMFx1NEY0RVx1ODlFM1x1Njc5MFx1NUVBNlx1RkYxQXttaW5SZXNvbHV0aW9ufScsXG4gICAgaW1hZ2VWYWxpZGF0ZVNpemVMYWJlbEV4cGVjdGVkTWF4UmVzb2x1dGlvbjogJ1x1NjcwMFx1OUFEOFx1ODlFM1x1Njc5MFx1NUVBNlx1RkYxQXttYXhSZXNvbHV0aW9ufSdcbiAgfTtcbiIsICJpbXBvcnQgKiBhcyBGaWxlUG9uZCBmcm9tICdmaWxlcG9uZCdcbmltcG9ydCBGaWxlUG9uZFBsdWdpbkZpbGVWYWxpZGF0ZVNpemUgZnJvbSAnZmlsZXBvbmQtcGx1Z2luLWZpbGUtdmFsaWRhdGUtc2l6ZSdcbmltcG9ydCBGaWxlUG9uZFBsdWdpbkZpbGVWYWxpZGF0ZVR5cGUgZnJvbSAnZmlsZXBvbmQtcGx1Z2luLWZpbGUtdmFsaWRhdGUtdHlwZSdcbmltcG9ydCBGaWxlUG9uZFBsdWdpbkltYWdlQ3JvcCBmcm9tICdmaWxlcG9uZC1wbHVnaW4taW1hZ2UtY3JvcCdcbmltcG9ydCBGaWxlUG9uZFBsdWdpbkltYWdlRXhpZk9yaWVudGF0aW9uIGZyb20gJ2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1leGlmLW9yaWVudGF0aW9uJ1xuaW1wb3J0IEZpbGVQb25kUGx1Z2luSW1hZ2VQcmV2aWV3IGZyb20gJ2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1wcmV2aWV3J1xuaW1wb3J0IEZpbGVQb25kUGx1Z2luSW1hZ2VSZXNpemUgZnJvbSAnZmlsZXBvbmQtcGx1Z2luLWltYWdlLXJlc2l6ZSdcbmltcG9ydCBGaWxlUG9uZFBsdWdpbkltYWdlVHJhbnNmb3JtIGZyb20gJ2ZpbGVwb25kLXBsdWdpbi1pbWFnZS10cmFuc2Zvcm0nXG5pbXBvcnQgRmlsZVBvbmRQbHVnaW5NZWRpYVByZXZpZXcgZnJvbSAnZmlsZXBvbmQtcGx1Z2luLW1lZGlhLXByZXZpZXcnXG5cbkZpbGVQb25kLnJlZ2lzdGVyUGx1Z2luKEZpbGVQb25kUGx1Z2luRmlsZVZhbGlkYXRlU2l6ZSlcbkZpbGVQb25kLnJlZ2lzdGVyUGx1Z2luKEZpbGVQb25kUGx1Z2luRmlsZVZhbGlkYXRlVHlwZSlcbkZpbGVQb25kLnJlZ2lzdGVyUGx1Z2luKEZpbGVQb25kUGx1Z2luSW1hZ2VDcm9wKVxuRmlsZVBvbmQucmVnaXN0ZXJQbHVnaW4oRmlsZVBvbmRQbHVnaW5JbWFnZUV4aWZPcmllbnRhdGlvbilcbkZpbGVQb25kLnJlZ2lzdGVyUGx1Z2luKEZpbGVQb25kUGx1Z2luSW1hZ2VQcmV2aWV3KVxuRmlsZVBvbmQucmVnaXN0ZXJQbHVnaW4oRmlsZVBvbmRQbHVnaW5JbWFnZVJlc2l6ZSlcbkZpbGVQb25kLnJlZ2lzdGVyUGx1Z2luKEZpbGVQb25kUGx1Z2luSW1hZ2VUcmFuc2Zvcm0pXG5GaWxlUG9uZC5yZWdpc3RlclBsdWdpbihGaWxlUG9uZFBsdWdpbk1lZGlhUHJldmlldylcblxud2luZG93LkZpbGVQb25kID0gRmlsZVBvbmRcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmlsZVVwbG9hZEZvcm1Db21wb25lbnQoe1xuICAgIGFjY2VwdGVkRmlsZVR5cGVzLFxuICAgIGRlbGV0ZVVwbG9hZGVkRmlsZVVzaW5nLFxuICAgIGdldFVwbG9hZGVkRmlsZXNVc2luZyxcbiAgICBpbWFnZUNyb3BBc3BlY3RSYXRpbyxcbiAgICBpbWFnZVByZXZpZXdIZWlnaHQsXG4gICAgaW1hZ2VSZXNpemVNb2RlLFxuICAgIGltYWdlUmVzaXplVGFyZ2V0SGVpZ2h0LFxuICAgIGltYWdlUmVzaXplVGFyZ2V0V2lkdGgsXG4gICAgaW1hZ2VSZXNpemVVcHNjYWxlLFxuICAgIGlzQXZhdGFyLFxuICAgIGlzRG93bmxvYWRhYmxlLFxuICAgIGlzT3BlbmFibGUsXG4gICAgaXNQcmV2aWV3YWJsZSxcbiAgICBpc1Jlb3JkZXJhYmxlLFxuICAgIGxvYWRpbmdJbmRpY2F0b3JQb3NpdGlvbixcbiAgICBsb2NhbGUsXG4gICAgcGFuZWxBc3BlY3RSYXRpbyxcbiAgICBwYW5lbExheW91dCxcbiAgICBwbGFjZWhvbGRlcixcbiAgICBtYXhTaXplLFxuICAgIG1pblNpemUsXG4gICAgcmVtb3ZlVXBsb2FkZWRGaWxlQnV0dG9uUG9zaXRpb24sXG4gICAgcmVtb3ZlVXBsb2FkZWRGaWxlVXNpbmcsXG4gICAgcmVvcmRlclVwbG9hZGVkRmlsZXNVc2luZyxcbiAgICBzaG91bGRBcHBlbmRGaWxlcyxcbiAgICBzaG91bGRPcmllbnRJbWFnZUZyb21FeGlmLFxuICAgIHNob3VsZFRyYW5zZm9ybUltYWdlLFxuICAgIHN0YXRlLFxuICAgIHVwbG9hZEJ1dHRvblBvc2l0aW9uLFxuICAgIHVwbG9hZFByb2dyZXNzSW5kaWNhdG9yUG9zaXRpb24sXG4gICAgdXBsb2FkVXNpbmcsXG59KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmlsZUtleUluZGV4OiB7fSxcblxuICAgICAgICBwb25kOiBudWxsLFxuXG4gICAgICAgIHNob3VsZFVwZGF0ZVN0YXRlOiB0cnVlLFxuXG4gICAgICAgIHN0YXRlLFxuXG4gICAgICAgIGxhc3RTdGF0ZTogbnVsbCxcblxuICAgICAgICB1cGxvYWRlZEZpbGVJbmRleDoge30sXG5cbiAgICAgICAgaW5pdDogYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgRmlsZVBvbmQuc2V0T3B0aW9ucyhsb2NhbGVzW2xvY2FsZV0gPz8gbG9jYWxlc1snZW4nXSlcblxuICAgICAgICAgICAgdGhpcy5wb25kID0gRmlsZVBvbmQuY3JlYXRlKHRoaXMuJHJlZnMuaW5wdXQsIHtcbiAgICAgICAgICAgICAgICBhY2NlcHRlZEZpbGVUeXBlcyxcbiAgICAgICAgICAgICAgICBhbGxvd0ltYWdlRXhpZk9yaWVudGF0aW9uOiBzaG91bGRPcmllbnRJbWFnZUZyb21FeGlmLFxuICAgICAgICAgICAgICAgIGFsbG93UGFzdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGFsbG93UmVvcmRlcjogaXNSZW9yZGVyYWJsZSxcbiAgICAgICAgICAgICAgICBhbGxvd0ltYWdlUHJldmlldzogaXNQcmV2aWV3YWJsZSxcbiAgICAgICAgICAgICAgICBhbGxvd1ZpZGVvUHJldmlldzogaXNQcmV2aWV3YWJsZSxcbiAgICAgICAgICAgICAgICBhbGxvd0F1ZGlvUHJldmlldzogaXNQcmV2aWV3YWJsZSxcbiAgICAgICAgICAgICAgICBhbGxvd0ltYWdlVHJhbnNmb3JtOiBzaG91bGRUcmFuc2Zvcm1JbWFnZSxcbiAgICAgICAgICAgICAgICBjcmVkaXRzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmaWxlczogYXdhaXQgdGhpcy5nZXRGaWxlcygpLFxuICAgICAgICAgICAgICAgIGltYWdlQ3JvcEFzcGVjdFJhdGlvLFxuICAgICAgICAgICAgICAgIGltYWdlUHJldmlld0hlaWdodCxcbiAgICAgICAgICAgICAgICBpbWFnZVJlc2l6ZVRhcmdldEhlaWdodCxcbiAgICAgICAgICAgICAgICBpbWFnZVJlc2l6ZVRhcmdldFdpZHRoLFxuICAgICAgICAgICAgICAgIGltYWdlUmVzaXplTW9kZSxcbiAgICAgICAgICAgICAgICBpbWFnZVJlc2l6ZVVwc2NhbGUsXG4gICAgICAgICAgICAgICAgaXRlbUluc2VydExvY2F0aW9uOiBzaG91bGRBcHBlbmRGaWxlcyA/ICdhZnRlcicgOiAnYmVmb3JlJyxcbiAgICAgICAgICAgICAgICAuLi4ocGxhY2Vob2xkZXIgJiYgeyBsYWJlbElkbGU6IHBsYWNlaG9sZGVyIH0pLFxuICAgICAgICAgICAgICAgIG1heEZpbGVTaXplOiBtYXhTaXplLFxuICAgICAgICAgICAgICAgIG1pbkZpbGVTaXplOiBtaW5TaXplLFxuICAgICAgICAgICAgICAgIHN0eWxlQnV0dG9uUHJvY2Vzc0l0ZW1Qb3NpdGlvbjogdXBsb2FkQnV0dG9uUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgc3R5bGVCdXR0b25SZW1vdmVJdGVtUG9zaXRpb246IHJlbW92ZVVwbG9hZGVkRmlsZUJ1dHRvblBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHN0eWxlTG9hZEluZGljYXRvclBvc2l0aW9uOiBsb2FkaW5nSW5kaWNhdG9yUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgc3R5bGVQYW5lbEFzcGVjdFJhdGlvOiBwYW5lbEFzcGVjdFJhdGlvLFxuICAgICAgICAgICAgICAgIHN0eWxlUGFuZWxMYXlvdXQ6IHBhbmVsTGF5b3V0LFxuICAgICAgICAgICAgICAgIHN0eWxlUHJvZ3Jlc3NJbmRpY2F0b3JQb3NpdGlvbjogdXBsb2FkUHJvZ3Jlc3NJbmRpY2F0b3JQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBzZXJ2ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogYXN5bmMgKHNvdXJjZSwgbG9hZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc291cmNlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6ICduby1zdG9yZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKClcblxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZChibG9iKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZVN0YXRlID0gZmFsc2VcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVLZXkgPSAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWzFlN10gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xZTMgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC00ZTMgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC04ZTMgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xZTExXG4gICAgICAgICAgICAgICAgICAgICAgICApLnJlcGxhY2UoL1swMThdL2csIChjKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyBeXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSAmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMTUgPj4gKGMgLyA0KSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50b1N0cmluZygxNiksXG4gICAgICAgICAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZFVzaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlsZUtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZVN0YXRlID0gdHJ1ZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQoZmlsZUtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZW1vdmU6IGFzeW5jIChzb3VyY2UsIGxvYWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWxlS2V5ID0gdGhpcy51cGxvYWRlZEZpbGVJbmRleFtzb3VyY2VdID8/IG51bGxcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGRlbGV0ZVVwbG9hZGVkRmlsZVVzaW5nKGZpbGVLZXkpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQoKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXZlcnQ6IGFzeW5jICh1bmlxdWVGaWxlSWQsIGxvYWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlbW92ZVVwbG9hZGVkRmlsZVVzaW5nKHVuaXF1ZUZpbGVJZClcblxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZCgpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRoaXMuJHdhdGNoKCdzdGF0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucG9uZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2hvdWxkVXBkYXRlU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBvdmVyd3JpdGUgdGhlIGZpbGVzIHRoYXQgYXJlIGFscmVhZHkgaW4gdGhlIGlucHV0LCBpZiB0aGV5IGhhdmVuJ3QgYmVlbiBzYXZlZCB5ZXQuXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5zdGF0ZSkuZmlsdGVyKChmaWxlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5zdGFydHNXaXRoKCdsaXZld2lyZS1maWxlOicpLFxuICAgICAgICAgICAgICAgICAgICApLmxlbmd0aFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RTdGF0ZSA9IG51bGxcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiB0aGUgc3RhdGUgaGFzbid0IGNoYW5nZWRcbiAgICAgICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZSkgPT09IHRoaXMubGFzdFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFN0YXRlID0gSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZSlcblxuICAgICAgICAgICAgICAgIHRoaXMucG9uZC5maWxlcyA9IGF3YWl0IHRoaXMuZ2V0RmlsZXMoKVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy5wb25kLm9uKCdyZW9yZGVyZmlsZXMnLCBhc3luYyAoZmlsZXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmRlcmVkRmlsZUtleXMgPSBmaWxlc1xuICAgICAgICAgICAgICAgICAgICAubWFwKChmaWxlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5zb3VyY2UgaW5zdGFuY2VvZiBGaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmaWxlLnNlcnZlcklkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnVwbG9hZGVkRmlsZUluZGV4W2ZpbGUuc291cmNlXSA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICApIC8vIGZpbGUuc2VydmVySWQgaXMgbnVsbCBmb3IgYSBmaWxlIHRoYXQgaXMgbm90IHlldCB1cGxvYWRlZFxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChmaWxlS2V5KSA9PiBmaWxlS2V5KVxuXG4gICAgICAgICAgICAgICAgYXdhaXQgcmVvcmRlclVwbG9hZGVkRmlsZXNVc2luZyhcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkQXBwZW5kRmlsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gb3JkZXJlZEZpbGVLZXlzXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG9yZGVyZWRGaWxlS2V5cy5yZXZlcnNlKCksXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy5wb25kLm9uKCdpbml0ZmlsZScsIGFzeW5jIChmaWxlSXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNEb3dubG9hZGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGlzQXZhdGFyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0RG93bmxvYWRMaW5rKGZpbGVJdGVtKVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy5wb25kLm9uKCdpbml0ZmlsZScsIGFzeW5jIChmaWxlSXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNPcGVuYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNBdmF0YXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRPcGVuTGluayhmaWxlSXRlbSlcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRoaXMucG9uZC5vbignYWRkZmlsZXN0YXJ0JywgYXN5bmMgKGZpbGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsZS5zdGF0dXMgIT09IEZpbGVQb25kLkZpbGVTdGF0dXMuUFJPQ0VTU0lOR19RVUVVRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEZvcm1FdmVudCgnZmlsZS11cGxvYWQtc3RhcnRlZCcpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVGaWxlUHJvY2Vzc2luZyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9uZFxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldEZpbGVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZpbGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUuc3RhdHVzID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZVBvbmQuRmlsZVN0YXR1cy5QUk9DRVNTSU5HIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUuc3RhdHVzID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZVBvbmQuRmlsZVN0YXR1cy5QUk9DRVNTSU5HX1FVRVVFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICkubGVuZ3RoXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hGb3JtRXZlbnQoJ2ZpbGUtdXBsb2FkLWZpbmlzaGVkJylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wb25kLm9uKCdwcm9jZXNzZmlsZScsIGhhbmRsZUZpbGVQcm9jZXNzaW5nKVxuXG4gICAgICAgICAgICB0aGlzLnBvbmQub24oJ3Byb2Nlc3NmaWxlYWJvcnQnLCBoYW5kbGVGaWxlUHJvY2Vzc2luZylcblxuICAgICAgICAgICAgdGhpcy5wb25kLm9uKCdwcm9jZXNzZmlsZXJldmVydCcsIGhhbmRsZUZpbGVQcm9jZXNzaW5nKVxuICAgICAgICB9LFxuXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIEZpbGVQb25kLmRlc3Ryb3kodGhpcy4kcmVmcy5pbnB1dClcbiAgICAgICAgICAgIHRoaXMucG9uZCA9IG51bGxcbiAgICAgICAgfSxcblxuICAgICAgICBkaXNwYXRjaEZvcm1FdmVudDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmNsb3Nlc3QoJ2Zvcm0nKT8uZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQobmFtZSwge1xuICAgICAgICAgICAgICAgICAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIClcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRVcGxvYWRlZEZpbGVzOiBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCB1cGxvYWRlZEZpbGVzID0gYXdhaXQgZ2V0VXBsb2FkZWRGaWxlc1VzaW5nKClcblxuICAgICAgICAgICAgdGhpcy5maWxlS2V5SW5kZXggPSB1cGxvYWRlZEZpbGVzID8/IHt9XG5cbiAgICAgICAgICAgIHRoaXMudXBsb2FkZWRGaWxlSW5kZXggPSBPYmplY3QuZW50cmllcyh0aGlzLmZpbGVLZXlJbmRleClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChba2V5LCB2YWx1ZV0pID0+IHZhbHVlPy51cmwpXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgob2JqLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW3ZhbHVlLnVybF0gPSBrZXlcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqXG4gICAgICAgICAgICAgICAgfSwge30pXG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0RmlsZXM6IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0VXBsb2FkZWRGaWxlcygpXG5cbiAgICAgICAgICAgIGxldCBmaWxlcyA9IFtdXG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBsb2FkZWRGaWxlIG9mIE9iamVjdC52YWx1ZXModGhpcy5maWxlS2V5SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1cGxvYWRlZEZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmaWxlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiB1cGxvYWRlZEZpbGUudXJsLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbG9jYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uKC9eaW1hZ2UvLnRlc3QodXBsb2FkZWRGaWxlLnR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXBsb2FkZWRGaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IHVwbG9hZGVkRmlsZS5zaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB1cGxvYWRlZEZpbGUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNob3VsZEFwcGVuZEZpbGVzID8gZmlsZXMgOiBmaWxlcy5yZXZlcnNlKClcbiAgICAgICAgfSxcblxuICAgICAgICBpbnNlcnREb3dubG9hZExpbms6IGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgICBpZiAoZmlsZS5vcmlnaW4gIT09IEZpbGVQb25kLkZpbGVPcmlnaW4uTE9DQUwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5nZXREb3dubG9hZExpbmsoZmlsZSlcblxuICAgICAgICAgICAgaWYgKCFhbmNob3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoYGZpbGVwb25kLS1pdGVtLSR7ZmlsZS5pZH1gKVxuICAgICAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZmlsZXBvbmQtLWZpbGUtaW5mby1tYWluJylcbiAgICAgICAgICAgICAgICAucHJlcGVuZChhbmNob3IpXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5zZXJ0T3Blbkxpbms6IGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgICBpZiAoZmlsZS5vcmlnaW4gIT09IEZpbGVQb25kLkZpbGVPcmlnaW4uTE9DQUwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5nZXRPcGVuTGluayhmaWxlKVxuXG4gICAgICAgICAgICBpZiAoIWFuY2hvcikge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkb2N1bWVudFxuICAgICAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChgZmlsZXBvbmQtLWl0ZW0tJHtmaWxlLmlkfWApXG4gICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5maWxlcG9uZC0tZmlsZS1pbmZvLW1haW4nKVxuICAgICAgICAgICAgICAgIC5wcmVwZW5kKGFuY2hvcilcbiAgICAgICAgfSxcblxuICAgICAgICBnZXREb3dubG9hZExpbms6IGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgICBsZXQgZmlsZVNvdXJjZSA9IGZpbGUuc291cmNlXG5cbiAgICAgICAgICAgIGlmICghZmlsZVNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcbiAgICAgICAgICAgIGFuY2hvci5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLWRvd25sb2FkLWljb24nXG4gICAgICAgICAgICBhbmNob3IuaHJlZiA9IGZpbGVTb3VyY2VcbiAgICAgICAgICAgIGFuY2hvci5kb3dubG9hZCA9IGZpbGUuZmlsZS5uYW1lXG5cbiAgICAgICAgICAgIHJldHVybiBhbmNob3JcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRPcGVuTGluazogZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgICAgIGxldCBmaWxlU291cmNlID0gZmlsZS5zb3VyY2VcblxuICAgICAgICAgICAgaWYgKCFmaWxlU291cmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxuICAgICAgICAgICAgYW5jaG9yLmNsYXNzTmFtZSA9ICdmaWxlcG9uZC0tb3Blbi1pY29uJ1xuICAgICAgICAgICAgYW5jaG9yLmhyZWYgPSBmaWxlU291cmNlXG4gICAgICAgICAgICBhbmNob3IudGFyZ2V0ID0gJ19ibGFuaydcblxuICAgICAgICAgICAgcmV0dXJuIGFuY2hvclxuICAgICAgICB9LFxuICAgIH1cbn1cblxuaW1wb3J0IGFyIGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9hci1hcidcbmltcG9ydCBjcyBmcm9tICdmaWxlcG9uZC9sb2NhbGUvY3MtY3onXG5pbXBvcnQgZGEgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL2RhLWRrJ1xuaW1wb3J0IGRlIGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9kZS1kZSdcbmltcG9ydCBlbiBmcm9tICdmaWxlcG9uZC9sb2NhbGUvZW4tZW4nXG5pbXBvcnQgZXMgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL2VzLWVzJ1xuaW1wb3J0IGZhIGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9mYV9pcidcbmltcG9ydCBmaSBmcm9tICdmaWxlcG9uZC9sb2NhbGUvZmktZmknXG5pbXBvcnQgZnIgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL2ZyLWZyJ1xuaW1wb3J0IGh1IGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9odS1odSdcbmltcG9ydCBpZCBmcm9tICdmaWxlcG9uZC9sb2NhbGUvaWQtaWQnXG5pbXBvcnQgaXQgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL2l0LWl0J1xuaW1wb3J0IG5sIGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9ubC1ubCdcbmltcG9ydCBwbCBmcm9tICdmaWxlcG9uZC9sb2NhbGUvcGwtcGwnXG5pbXBvcnQgcHRfQlIgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL3B0LWJyJ1xuaW1wb3J0IHB0X1BUIGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9wdC1icidcbmltcG9ydCBybyBmcm9tICdmaWxlcG9uZC9sb2NhbGUvcm8tcm8nXG5pbXBvcnQgcnUgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL3J1LXJ1J1xuaW1wb3J0IHN2IGZyb20gJ2ZpbGVwb25kL2xvY2FsZS9zdl9zZSdcbmltcG9ydCB0ciBmcm9tICdmaWxlcG9uZC9sb2NhbGUvdHItdHInXG5pbXBvcnQgdWsgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL3VrLXVhJ1xuaW1wb3J0IHZpIGZyb20gJ2ZpbGVwb25kL2xvY2FsZS92aS12aSdcbmltcG9ydCB6aF9DTiBmcm9tICdmaWxlcG9uZC9sb2NhbGUvemgtY24nXG5pbXBvcnQgemhfVFcgZnJvbSAnZmlsZXBvbmQvbG9jYWxlL3poLXR3J1xuXG5jb25zdCBsb2NhbGVzID0ge1xuICAgIGFyLFxuICAgIGNzLFxuICAgIGRhLFxuICAgIGRlLFxuICAgIGVuLFxuICAgIGVzLFxuICAgIGZhLFxuICAgIGZpLFxuICAgIGZyLFxuICAgIGh1LFxuICAgIGlkLFxuICAgIGl0LFxuICAgIG5sLFxuICAgIHBsLFxuICAgIHB0X0JSLFxuICAgIHB0X1BULFxuICAgIHJvLFxuICAgIHJ1LFxuICAgIHN2LFxuICAgIHRyLFxuICAgIHVrLFxuICAgIHZpLFxuICAgIHpoX0NOLFxuICAgIHpoX1RXLFxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBLElBQU0sU0FBUyxXQUFTLGlCQUFpQjtBQUV6QyxJQUFNLGNBQWMsQ0FBQyxjQUFjQSxXQUFVLENBQUMsR0FBR0MsV0FBVSxDQUFDLE1BQU07QUFFOUQsUUFBTUMsU0FBUTtBQUFBLElBQ1YsR0FBRztBQUFBLEVBQ1A7QUFHQSxRQUFNLGNBQWMsQ0FB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WUFBWTtBQUNiO0FBQUEsTUFDSjtBQUVBLFlBQU0sU0FBUyxTQUFTLGNBQWMsR0FBRztBQUN6QyxhQUFPLFlBQVk7QUFDbkIsYUFBTyxPQUFPO0FBQ2QsYUFBTyxTQUFTO0FBRWhCLGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUNKO0FBMkJBLElBQU0sVUFBVTtBQUFBLEVBQ1o7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUNKOyIsCiAgIm5hbWVzIjogWyJxdWVyaWVzIiwgImFjdGlvbnMiLCAic3RhdGUiLCAiZGF0YSIsICJxdWVyeSIsICJuYW1lIiwgIm5hbWUiLCAiYW5pbWF0aW9ucyIsICJhbmltYXRvciIsICJmbiIsICJ0cmFuc2Zvcm1zIiwgInN0eWxlcyIsICJ3cml0ZSIsICJjcmVhdGUiLCAiZGVzdHJveSIsICJhY3Rpb25zIiwgInN0YXRlIiwgInN0b3JlIiwgInByb3BzIiwgInJlYWQiLCAicm9vdCIsICJsaXN0ZW5lcnMiLCAiaXRlbSIsICJ2YWx1ZSIsICJlcnJvciIsICJvcHRpb24iLCAiYmxvYiIsICJmaWxlIiwgImRhdGEiLCAicmVzIiwgImhlYWRlcnMiLCAiY2h1bmsiLCAib25kYXRhIiwgIm9uZXJyb3IiLCAic2VydmVyRmlsZVJlZmVyZW5jZSIsICJrZXkiLCAicXVlcnkiLCAiZmV0Y2giLCAic3VjY2VzcyIsICJyZXN1bHQiLCAiZmFpbHVyZSIsICJoYW5kbGVSZXZlcnQiLCAic3ZnIiwgImlzQXN5bmMiLCAibWFwIiwgImFjdGlvbiIsICJlIiwgImRyb3AiLCAibG9jYXRpb24iLCAiY3VycmVudEluZGV4IiwgImRyYWdIZWlnaHQiLCAiaXRlbUhlaWdodCIsICJlbnRyeSIsICJsaXN0IiwgInBhbmVsIiwgImRlZmF1bHRPcHRpb25zIiwgInJvdXRlIiwgInNldE9wdGlvbnMiLCAiZ2V0RmlsZXMiLCAicXVlcmllcyIsICJwbHVnaW4iLCAiYXBwIiwgImFkZEZpbHRlciIsICJUeXBlIiwgInJlcGxhY2VJblN0cmluZyIsICJ0b05hdHVyYWxGaWxlU2l6ZSIsICJmaWxlIiwgIml0ZW0iLCAiaXNCcm93c2VyIiwgInBsdWdpbiIsICJhZGRGaWx0ZXIiLCAiVHlwZSIsICJpc1N0cmluZyIsICJyZXBsYWNlSW5TdHJpbmciLCAiZ3Vlc3N0aW1hdGVNaW1lVHlwZSIsICJnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUiLCAiZ2V0RmlsZW5hbWVGcm9tVVJMIiwgIml0ZW0iLCAibWFwIiwgImZpbGUiLCAiaXNCcm93c2VyIiwgImZpbGUiLCAicGx1Z2luIiwgImFkZEZpbHRlciIsICJUeXBlIiwgImlzRmlsZSIsICJnZXROdW1lcmljQXNwZWN0UmF0aW9Gcm9tU3RyaW5nIiwgIml0ZW0iLCAiaXNPYmplY3QiLCAiaXNOdW1iZXIiLCAiY2VudGVyIiwgImlzQnJvd3NlciIsICJmaWxlIiwgIklTX0JST1dTRVIiLCAiaXNCcm93c2VyIiwgInBsdWdpbiIsICJhZGRGaWx0ZXIiLCAiVHlwZSIsICJpc0ZpbGUiLCAiaXRlbSIsICJmaWxlIiwgImlzRGVmaW5lZCIsICJhdHRyIiwgIm5zIiwgInVwZGF0ZVJlY3QiLCAicm9vdCIsICJzaXplIiwgIm1hcmt1cCIsICJjZW50ZXIiLCAiZGF0YSIsICJsb2FkSW1hZ2UiLCAiY3JlYXRlV29ya2VyIiwgIml0ZW0iLCAidXBkYXRlSW1hZ2UiLCAiYXZlcmFnZUNvbG9yIiwgImNyZWF0ZSIsICJwbHVnaW4iLCAiYWRkRmlsdGVyIiwgIlR5cGUiLCAiY3JlYXRlUm91dGUiLCAiaXNGaWxlIiwgImRpZExvYWRJdGVtIiwgImlzQnJvd3NlciIsICJpc0ltYWdlIiwgImZpbGUiLCAiZ2V0SW1hZ2VTaXplIiwgInBsdWdpbiIsICJhZGRGaWx0ZXIiLCAiVHlwZSIsICJpdGVtIiwgImlzQnJvd3NlciIsICJpc0ltYWdlIiwgImZpbGUiLCAiZ2V0RmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uIiwgIm5hbWUiLCAiY3JlYXRlVmVjdG9yIiwgInZlY3RvckRvdCIsICJ2ZWN0b3JTdWJ0cmFjdCIsICJ2ZWN0b3JEaXN0YW5jZVNxdWFyZWQiLCAidmVjdG9yRGlzdGFuY2UiLCAiZ2V0T2Zmc2V0UG9pbnRPbkVkZ2UiLCAiZ2V0Um90YXRlZFJlY3RTaXplIiwgImdldEltYWdlUmVjdFpvb21GYWN0b3IiLCAiY2VudGVyIiwgImdldENlbnRlcmVkQ3JvcFJlY3QiLCAiY2FsY3VsYXRlQ2FudmFzU2l6ZSIsICJJU19CUk9XU0VSIiwgImNhbnZhcyIsICJ2ZWN0b3JNdWx0aXBseSIsICJjcmVhdGVWZWN0b3IkMSIsICJ2ZWN0b3JBZGQiLCAidmVjdG9yTm9ybWFsaXplIiwgInZlY3RvclJvdGF0ZSIsICJnZXRNYXJrdXBWYWx1ZSIsICJnZXRNYXJrdXBTdHlsZXMiLCAiaXNEZWZpbmVkIiwgImdldE1hcmt1cFJlY3QiLCAicG9pbnRzVG9QYXRoU2hhcGUiLCAic2V0QXR0cmlidXRlcyIsICJhdHRyIiwgIm5zIiwgInN2ZyIsICJ1cGRhdGVSZWN0IiwgInVwZGF0ZUVsbGlwc2UiLCAiSU1BR0VfRklUX1NUWUxFIiwgInVwZGF0ZUltYWdlIiwgIlRFWFRfQU5DSE9SIiwgInVwZGF0ZVRleHQiLCAidXBkYXRlTGluZSIsICJ1cGRhdGVQYXRoIiwgImNyZWF0ZVNoYXBlIiwgImNyZWF0ZUltYWdlIiwgImNyZWF0ZUxpbmUiLCAiQ1JFQVRFX1RZUEVfUk9VVEVTIiwgIlVQREFURV9UWVBFX1JPVVRFUyIsICJjcmVhdGVNYXJrdXBCeVR5cGUiLCAidXBkYXRlTWFya3VwQnlUeXBlIiwgInNvcnRNYXJrdXBCeVpJbmRleCIsICJibG9iIiwgInRleHQiLCAidHJhbnNmb3JtcyIsICJ0cmFuc2Zvcm0iLCAiZGF0YSIsICJmaWx0ZXIiLCAiZ2V0QmxvYkJ1aWxkZXIiLCAiY3JlYXRlQmxvYiIsICJnZXRVbmlxdWVJZCIsICJjcmVhdGVXb3JrZXIiLCAiZm4iLCAiY2IiLCAibG9hZEltYWdlIiwgIml0ZW0iLCAicmVzb2x2ZSIsICJzdHlsZXMiLCAib3B0aW9ucyIsICJNQVJLVVBfUkVDVCIsICJ0b09wdGlvbmFsRnJhY3Rpb24iLCAicHJlcGFyZU1hcmt1cCIsICJnZXRJbWFnZVNpemUiLCAiaXNCcm93c2VyIiwgInBsdWdpbiIsICJhZGRGaWx0ZXIiLCAiVHlwZSIsICJmb3JpbiIsICJnZXRGaWxlRnJvbUJsb2IiLCAiaXNGaWxlIiwgImNyZWF0ZSIsICJmaWxlIiwgInJvb3QiLCAiaXRlbSIsICJVUkwiLCAiYmxvYiIsICJjcmVhdGUiLCAicGx1Z2luIiwgImFkZEZpbHRlciIsICJUeXBlIiwgImNyZWF0ZVJvdXRlIiwgImRpZExvYWRJdGVtIiwgImlzQnJvd3NlciIsICJwbHVnaW4iLCAic3RhdGUiLCAiYmxvYiIsICJmaWxlIiwgImVycm9yIiwgImZpbGVLZXkiLCAibmFtZSJdCn0K
